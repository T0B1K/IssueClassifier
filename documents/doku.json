[{"labels":["docu"],"text":"**What would you like to be added**: Better documentation of the caveats for building a dual stack cluster\r\n\r\n**Why is this needed**:\r\n\r\nBased on the language at https://kubernetes.io/docs/concepts/services-networking/dual-stack/ dual stack sounds like an alpha, but functional, experience. There are a number of caveats to this, and I think in particular the \"Known Issues\" section needs to be updated. \r\n\r\nI recently set up a dual stack cluster to test the maturity of dual stack. This is a \"bare metal\" cluster of VMs set up using kubeadm with calico networking. I found that there are a number of issues.\r\n\r\nThe first thing that should be documented is that the service cluster cidr for IPv6 is limited to a /112 or fewer (kep reference https://github.com/kubernetes/enhancements/pull/1534). Since /64 is the standard prefix length for IPv6 this is surprising and while not a major problem should be documented because it causes the api server to throw an error and fail to start.\r\n\r\nNext it should be documented that dual stack is not fully functional on bare metal (ref https://github.com/kubernetes/kubernetes/issues/91940) unless you are willing to jump through some fairly major hoops (https://github.com/kubernetes/kubernetes/issues/42125#issuecomment-494669638). The docs should state that the current setup only works with a cloud provider that sets both IPv4 and IPv6 InternalIP addresses.\r\n\r\nFinally even after resolving those issues, the cluster which I am working with still has two major faults. ~~For one I am unable access the internet from pods, using both IPv4 and IPv6. I have no idea why, and I even added the appropriate GUA routes for the IPv6 network, I'm not convinced this is a dual stack issue yet.~~ (This was a Calico configuration problem see https://github.com/projectcalico/calico/issues/2954 or make sure your pod GUAs are routable)\r\n\r\nNext, I seem to be unable to create IPv4 services. Here is an example service definition:\r\n\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: ingress-nginx\r\n  namespace: ingress-nginx\r\nspec:\r\n  type: ClusterIP\r\n  ipFamily: IPv4\r\n  ports:\r\n  - name: http\r\n    port: 80\r\n    targetPort: 80\r\n    protocol: TCP\r\n  - name: https\r\n    port: 443\r\n    targetPort: 443\r\n    protocol: TCP\r\n  selector:\r\n    app.kubernetes.io/name: ingress-nginx\r\n```\r\nAnd here it is listed after creation: \r\n\r\n```\r\nNAMESPACE              NAME               TYPE           CLUSTER-IP                EXTERNAL-IP        PORT(S)\r\ningress-nginx          ingress-nginx      ClusterIP      2001:db8:245::23e6   <none>             80/TCP,443/TCP\r\n```\r\n\r\nAs you can see its address is IPv6 even though I explicitly requested the IPv4 ipFamily. My default service type is IPv6.\r\n\r\nHere is the kubeadm configuration I am using for reference:\r\n\r\n```\r\napiVersion: kubeadm.k8s.io/v1beta2\r\nkind: InitConfiguration\r\nbootstrapTokens:\r\n- groups:\r\n  - system:bootstrappers:kubeadm:default-node-token\r\n  token: yt289r.cls0m6w4mz5juvjz\r\n  ttl: 24h0m0s\r\n  usages:\r\n  - signing\r\n  - authentication\r\nlocalAPIEndpoint:\r\n  advertiseAddress: 2001:db8:100::10\r\n  bindPort: 6443\r\nnodeRegistration:\r\n  criSocket: /var/run/dockershim.sock\r\n  name: master_host\r\n  taints:\r\n  - effect: NoSchedule\r\n    key: node-role.kubernetes.io/master\r\n  kubeletExtraArgs:\r\n    cloud-provider: external\r\n---\r\napiVersion: kubeadm.k8s.io/v1beta2\r\nkind: ClusterConfiguration\r\nkubernetesVersion: v1.18.2\r\napiServer:\r\n  extraArgs:\r\n    authorization-mode: Node,RBAC\r\n  timeoutForControlPlane: 4m0s\r\ncertificatesDir: /etc/kubernetes/pki\r\nclusterName: test\r\ndns:\r\n  type: CoreDNS\r\netcd:\r\n  local:\r\n    dataDir: /var/lib/etcd\r\nimageRepository: k8s.gcr.io\r\nnetworking:\r\n  dnsDomain: cluster.local\r\n  podSubnet: 10.244.0.0/16,2001:db8:245::/64\r\n  serviceSubnet: 2001:db8:245::/112 ,10.245.0.0/16\r\nscheduler: {}\r\nfeatureGates:\r\n  IPv6DualStack: yes\r\n---\r\napiVersion: kubeproxy.config.k8s.io/v1alpha1\r\nkind: KubeProxyConfiguration\r\nmode: ipvs\r\n```\r\n\r\nNote that I replaced my GUA prefix with 2001:db8::/32 and redacted other sensitive information.\r\n\r\nLastly, it would be nice if that page linked to some sort of overall status document or to each of the individual issues/PRs related to dual stack work. Tracking down all of the various KEPs, issues, and PRs that I needed to piece this together was quite a task. It would be really convenient of there was a one stop place to track the progress of dual stack implementation and it seems like the public documentation for the feature would be a good place for it. "},{"labels":["documentation",null],"text":"Hello there. Sorry for not using the issue template, but I think it is not suitable in this situation.\r\n\r\nI want to ask if there exists detailed documentation about the \"@action\" decorator. It wasn't easy to find out which arguments I can pass in it. For example, I needed to pass a \"serializer_class\" inside but found out that I can do it only after searching for issues on Github."},{"labels":["documentation"],"text":"Was fixing a broken link and noticed that the referenced section no longer exists in the schemas docs. \r\n\r\nhttps://github.com/encode/django-rest-framework/blob/9850441e6f58d67f4d533ee144aeef54724ac661/docs/topics/documenting-your-api.md#L224-L225"},{"labels":["documentation"],"text":"https://www.django-rest-framework.org/api-guide/schemas/\r\n\r\nSpecifically the block that describes how to override \"AutoSchema\" references an undefined method \"get_link()\":\r\n\r\n\"\"\"\r\n    from rest_framework.views import APIView\r\n    from rest_framework.schemas.openapi import AutoSchema\r\n\r\n    class CustomSchema(AutoSchema):\r\n        def get_link(...):\r\n            # Implement custom introspection here (or in other sub-methods)\r\n\r\n    class CustomView(APIView):\r\n        \"\"\"APIView subclass with custom schema introspection.\"\"\"\r\n        schema = CustomSchema()\r\n\"\"\""},{"labels":["documentation"],"text":"https://www.django-rest-framework.org/api-guide/versioning/#urlpathversioning \r\n\r\n\"URLPathVersioning\" and \"NamespaceVersioning\" examples use [\"django.conf.urls\"](https://docs.djangoproject.com/en/2.2/ref/urls/#url) implicitly and this function is likely to be deprecated (based on the description in the docs).\r\n\r\nI'm opening this issue because I tried copy pasting the code and got an error and spend a couple minutes googling where to import the old style \"url\" function from. If we can't replace it with \"path\" we can at least replace it with \"re_path\". Let me know which one should I use and I'll open a PR. "},{"labels":["documentation"],"text":"Without using the X-CSRFToken HTTP header, swagger-ui will trigger CSRF error when sending post requests if Django session auth is being used.\r\nSomething like this worked for me, using \"requestInterceptor\":\r\n\r\n\"\"\"\r\n<body>\r\n\t<div id=\"swagger-ui\"></div>\r\n\t<script src=\"//unpkg.com/swagger-ui-dist@3/swagger-ui-bundle.js\"></script>\r\n\t<script>\r\n\t\tconst ui = SwaggerUIBundle({\r\n\t\t\turl: \"{% url 'schema_url' %}\",\r\n\t\t\tdom_id: '#swagger-ui',\r\n\t\t\tpresets: [\r\n\t\t\t\tSwaggerUIBundle.presets.apis,\r\n\t\t\t\tSwaggerUIBundle.SwaggerUIStandalonePreset\r\n\t\t\t],\r\n\t\t\tlayout: \"BaseLayout\",\r\n\t\t\trequestInterceptor: (req) => {\r\n\t\t\t\treq.headers['X-CSRFToken'] = \"{{csrf_token}}\"\r\n\t\t\t\treturn req;\r\n\t\t\t}\r\n\t\t});\r\n\t</script>\r\n</body>\r\n\"\"\""},{"labels":["documentation"],"text":"Jumping to a subsection via the sidenav will sometimes cause the page header to overlap the anchor point. When navigation is working correctly, there's a perceptible flicker/jump, so I'm guessing javascript is being used to calculate the offsets. Looking at mkdocs's docs, this isn't an issue. I'm wondering if this is something that will be fixed by upgrading mkdocs (#6623), or if it's a theme issue.\r\n\r\n![foo](https://user-images.githubusercontent.com/2370209/59729209-39d6c380-91f2-11e9-8871-bcb8d1584dc3.gif)"},{"labels":["documentation"],"text":"Cleaning up our third party packages/docs is something that has been on my mind for a while, and I'd be happy to take a stab at it. First, there are some simple issues that could be addressed:\r\n\r\n- Packages can be found in multiple places - the \"Third Party Packages\" doc (TPP doc), and a similarly named section for most of the API guides. Some packages are listed in both places, some only in one or the other. This is inconsistent and a little confusing - users may not think to check the other location for more potential packages. I'd propose moving all packages into the TPP doc. One doc is easier to maintain than ~15. The API guides could then link to their corresponding sections in the main TPP doc.\r\n- Inconsistent descriptions. The TPP doc itself is pretty consistent - most packages have a brief one to two line description. However, the descriptions in the individual API topics are not. Some are a line or two, some a paragraph, and some even contain basic (and unnecessary) installation/setup instructions. Aside from the inconsistency, descriptions that are significantly larger may come across as carrying an implicit recommendation when this may not be the case. We should cap descriptions at a couple of lines or a single, terse paragraph.\r\n\r\nBeyond that, I'd like to introduce a checklist/process that we can use to both approve new third party packages, as well as to (very occasionally) cull the list of recommended packages. I don't want to be too restrictive, but there are several packages that are no longer compatible, and I don't think it's helpful to point users to them. e.g., packages that haven't been updated in 5+ years<sup>[[1]](https://github.com/juanriaza/django-rest-framework-digestauth)</sup>, packages that have been archived<sup>[[2]](https://github.com/kevin-brown/drf-any-permissions)</sup>, and packages that don't have tests or CI <sup>[[3]](https://github.com/fredkingham/django_rest_model_hyperlink_serializers_project)</sup>. At a minimum, I think we should require that packages meet the following:\r\n- Must have tests & CI.\r\n- Maybe a baseline coverage metric (70-80%)?\r\n- Must be tested against at least one officially supported version of Django.\r\n- Must be tested against a relatively modern version of DRF (released within the last 2-3 years?). This might be implicitly covered by testing against modern Django versions.\r\n\r\nLastly, the [\"How to create a Third Party Package\"](https://www.django-rest-framework.org/community/third-party-packages/#how-to-create-a-third-party-package) section could use some love. The guide is somewhat outdated, but overall, I'd like to cut down on the amount of information present here. Most users are going to be more concerned with what packages are available rather than the process of creating a package. This information could be moved to a separate resource, and I'm thinking we could maintain our own cookiecutter that maintains this kind of tutorial information. "},{"labels":["documentation"],"text":"See https://github.com/encode/django-rest-framework/pull/5886#issuecomment-478789115\r\n\r\nJust opening this to make sure we don't lose track of it.\r\n\r\n\r\n> The docs recommend\r\n>\r\n> \"If you want the date field to be visible, but not editable by the user, then set read_only=True and additionally set a default=... argument.\"\r\n>\r\n> It then says:\r\n>\r\n> \"The field will not be writable to the user, but the default value **will still be passed through to the validated_data**.\"\r\n>\r\n> This is not true. It will **not** be passed through to the validated_data.\r\n\r\n"},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](https://www.django-rest-framework.org/community/third-party-packages/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\nWhat do you think about documenting internals of the DRF? I've spent quite a lot of time digging in the implementations of different fields/serializers classes to understand what's the information flow between different methods (this is barely covered in the current API documentation). At the end I was satisfied because I got better understanding how thing works under the hood, but it was really time-consuming. What would you think if started working on documenting the internals of DRF?"},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](https://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\n1. Open https://www.django-rest-framework.org/api-guide/filtering/\r\n2. Search for \"filter_fields\".\r\n\r\n## Expected behavior\r\nNothing found.\r\n\r\n## Actual behavior\r\nNo nothing found :)\r\n\r\n## More info\r\n[\"filter_fields\"][1] is deprecated in favor of [\"filterset_fields\"][2]. At least the following [file][3] is to be updated. It probably makes sense to change \"get_filter_fields\" method name as well.\r\n\r\n[1]: https://github.com/carltongibson/django-filter/blob/2.0.0/django_filters/views.py#L13-L17\r\n[2]: https://github.com/carltongibson/django-filter/blob/2.0.0/django_filters/rest_framework/backends.py#L52-L57\r\n[3]: https://github.com/encode/django-rest-framework/blob/3.9.1/docs/api-guide/filtering.md"},{"labels":["documentation"],"text":"It would be nice to have some minimal docs linting. e.g., ensure that we enforce tabs/spacing consistency. "},{"labels":["documentation",null,null],"text":"Hi, I just finished the Quickstart & Tutorial of this framework.  I would like to point out that I think the following phrase in Tutorial part 7 is incorrect:\r\n\r\n> If you visit the API root endpoint in a browser you should now see corejson representation become available as an option.\r\n\r\nWith the code you built up just before, corejson is not available on the [root endpoint](https://restframework.herokuapp.com/), but on the [/schema endpoint](https://restframework.herokuapp.com/schema/).\r\n\r\nI also find it unclear that in the Quickstart, the recommendation is to have an app in a subfolder of a Django root app - to avoid name conflicts, as you state - while in the Tutorial you start off with the app folder just being a subfolder of the Django project folder, as though the recommendation wasn't that important at all. I'm still confused, but suppose it then doesn't matter that much how we structure our folders. See also my [Stack Overflow question](https://stackoverflow.com/questions/48624307/must-a-django-rest-framework-app-really-be-a-subfolder-of-the-projects-root-app) about this for more info if this explanation was not very clear.\r\n\r\nCould you fix these issues in the Quickstart & Tutorial? People will have a better learning experience if you do, in my opinion.\r\n\r\nThanks! Kind regards."},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [X] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [X] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [X] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [X] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [X] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\n\r\nHere is a very minimal, vanilla app, \"test_simple\".\r\n\r\n\"\"\"\r\n# models.py\r\nimport uuid\r\nfrom django.db import models\r\nclass Entity(models.Model):\r\n    id = models.UUIDField(primary_key=True, default=uuid.uuid4)\r\n\r\n# serializers.py\r\nfrom rest_framework import serializers\r\nfrom test_simple import models\r\nclass EntitySerializer(serializers.ModelSerializer):\r\n    class Meta:\r\n        model = models.Entity\r\n        fields = ('id',)\r\n        extra_kwargs = {'id': {'read_only': True}}\r\n\r\n# views.py\r\nfrom rest_framework import viewsets\r\nfrom test_simple import models, serializers\r\nclass EntityViewSet(viewsets.ModelViewSet):\r\n    serializer_class = serializers.EntitySerializer\r\n    queryset = models.Entity.objects.all()\r\n    def perform_create(self, serializer):\r\n        # When it fails, it fails here\r\n        # With Postgres, it fails with \"django.db.utils.InterfaceError: connection already closed\"\r\n        # With MySQL, it fails with \"django.db.transaction.TransactionManagementError: An error occurred in the current transaction. You can't execute queries until the end of the 'atomic' block.\"\r\n        # With SQLite, it succeeds\r\n        return super().perform_create(serializer)\r\n\"\"\"\r\n\r\nHere are some very simple, vanilla tests on the app.\r\n\"\"\"\r\nfrom rest_framework.test import APITestCase, APIClient, RequestsClient\r\nclass Test(APITestCase):\r\n    def test_api_client(self):\r\n        client = APIClient()\r\n        response = client.post('/entities/')\r\n        self.assertEqual(response.status_code, 201)\r\n    def test_requests_client(self):\r\n        client = RequestsClient()\r\n        response = client.post('http://testserver/entities/')\r\n        self.assertEqual(response.status_code, 201)\r\n\"\"\"\r\n\r\nAside from using different databases as explained below, no settings have been modified -- no authentication, permissioning, etc.\r\n\r\n## Expected behavior\r\n\r\nI would expect both tests to pass regardless of the database being used.\r\n\r\n## Actual behavior\r\n\r\nWhen I use SQLite, as per below, both tests pass:\r\n\"\"\"\r\nDATABASES = {\r\n    'default': {\r\n        'ENGINE': 'django.db.backends.sqlite3',\r\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\r\n    }\r\n}\r\n\"\"\"\r\n\r\nHowever, when I use Postgres or MySQL as per below, the \"APIClient\" test passes but the test using \"RequestClient\" fails as noted in the inline comment under \"perform_create\" above:\r\n\"\"\"\r\nDATABASES = {\r\n    'default': {\r\n        'ENGINE': 'django.db.backends.mysql',\r\n        'NAME': 'test',\r\n        'USER': 'test_user',\r\n        'PASSWORD': 'XXXXX',\r\n        'HOST': '',\r\n        'PORT': '',\r\n        'OPTIONS': {\r\n           'init_command': 'SET default_storage_engine=INNODB',\r\n        }\r\n    }\r\n}\r\n\r\nDATABASES = {\r\n    'default': {\r\n        'ENGINE': 'django.db.backends.postgresql_psycopg2',\r\n        'NAME': 'test',\r\n        'USER': 'test_user',\r\n        'PASSWORD': 'XXXXX', \r\n        'HOST': '',\r\n        'PORT': '',\r\n    }\r\n}\r\n\"\"\"\r\nIn the failing cases, it does successfully connect to the database and build the tables -- and the \"APIClient\" test passes -- so it does not appear to be a connection problem.\r\n\r\nI don't believe it's user error, because both tests pass with SQLite.\r\n\r\n## Version Info\r\n\r\nTested with:\r\n- REST Framework 3.7.1 and 3.7.7\r\n- Windows 10, Version 1709\r\n- Django 1.11.6 and 1.11.9\r\n- Postgres 10.1\r\n- MySQL 5.7\r\n\r\n"},{"labels":["documentation"],"text":"## Checklist\r\n\r\nI have verified that that issue exists against the master branch of Django REST framework.\r\nI have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n\r\n## Steps to reproduce\r\n\r\nMissing details in API documentation: schemas\r\n\r\nhttps://github.com/encode/django-rest-framework/blob/master/docs/api-guide/schemas.md#get_manual_fieldsself-path-method\r\n\r\n\"\"\"\r\ndef get_manual_fields(self, path, method):\r\n    \"\"\"Example adding per-method fields.\"\"\"\r\n\r\n    extra_fields = []\r\n    if method=='GET':\r\n        extra_fields = # ... list of extra fields for GET ...\r\n    if method=='POST':\r\n        extra_fields = # ... list of extra fields for POST ...\r\n\r\n    manual_fields = super().get_manual_fields()\r\n    return manual_fields + extra_fields\r\n\"\"\"\r\n\r\nmanual_fields should be\r\n\"\"\"\r\nmanual_fields = super().get_manual_fields(path, method)\r\n\"\"\"\r\n\r\nThe problem seems to be only documentation related."},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [ ] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\n1. create a simple model \"models.py\"\r\n\"\"\"python\r\nfrom django.db import models\r\n\r\n\r\nclass TestModel(models.Model):\r\n    flag = models.BooleanField()\r\n    integer = models.IntegerField()\r\n\r\n\"\"\"\r\n2. create a simple serializer \"serializers.py\"\r\n\"\"\"python\r\nfrom rest_framework import serializers\r\nfrom .models import TestModel\r\n\r\n\r\nclass TestSerializer(serializers.ModelSerializer):\r\n\r\n    class Meta:\r\n        model = TestModel\r\n        fields = 'flag', 'integer'\r\n\"\"\"\r\n\r\n3. run these commands in django shell\r\n\"\"\"python\r\nfrom <app-name>.models import TestModel\r\nfrom <app-name>.serializers import TestSerializer\r\n\r\nserializer = TestSerializer()\r\nprint(repr(serializer))\r\n\"\"\"\r\nit shows:\r\n\"\"\"python\r\nTestSerializer():\r\n    flag = BooleanField(required=False)\r\n    integer = IntegerField()\r\n\"\"\"\r\n\r\n## Expected behavior\r\nI am expecting \"flag = BooleanField()\"\r\n\r\n## Actual behavior\r\n\"flag\" is set to \"required=False\"."},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\nWith new changes to django.core.urlresolvers (1.11.7) -> django.urls (2.0): as per [the instructions](http://www.django-rest-framework.org/api-guide/routers/#using-include-with-routers) :\r\nRegister a router\r\n\"router = DefaultRouter()\"\r\nRegister a viewset with the router\r\n\"router.register('foo', FooViewSet, base_name='foo')\"\r\nAdd the url patterns:\r\n\"urlpatterns += [ url('API/', include(router.urls, namespace='foo-api'), ]\"\r\n\r\n## Expected behavior\r\nurlpatterns now contains the foo API url patterns, accessible using the namespace if needing to get the url string with \"django.urls.reverse\"\r\n\r\n## Actual behavior\r\n\r\n> django.core.exceptions.ImproperlyConfigured: Specifying a namespace in include() without providing an app_name is not supported. Set the app_name attribute in the included module, or pass a 2-tuple containing the list of patterns and app_name instead.\r\n\r\nIs the router providing the \"app_name\"? If so, the documentation needs updating with the right syntax for including router url patterns. Otherwise, the router itself needs updating."},{"labels":["documentation"],"text":"Righty - I'm going to work this into a pull request shortly, but want to start getting it up for review quickly.\r\n\r\nWe need to draw up a post giving a retrospect of the impact that the MOSS award has had on the project. This is super important, as it will help Mozilla continue to make the business case for their award program, which has a huge knock-on effect on other open source projects.\r\n\r\nHere's what I've got so far. Will be working on this more over the rest of the day and weekend...\r\n\r\n---\r\n\r\n# Mozilla Award - A Retrospective.\r\n\r\n## Background\r\n\r\nIn summer 2016 the Django REST framework project [was awarded $50,000 from Mozilla](https://blog.mozilla.org/blog/2016/04/13/mozilla-open-source-support-moss-update-q1-2016/), through its ongoing MOSS program.\r\n\r\nThe project was already well-established, but the scope of the framework and the size of our userbase meant that it was becoming unsustainable to continue to push the project forward without a significant amount of funded time being made available.\r\n\r\nOur proposal included adding client libraries, improving support for API schema generation, and improved integration with WebSockets, for realtime API endpoints.\r\n\r\n## Work to date\r\n\r\nOver 2016 and 2017 the award has helped fund time from Tom Christie, Anna Ossowski, and Carlton Gibson. Together with the project's other contributors, we've been able to make a series of major releases from 3.4 through to 3.7.\r\n\r\nMajor functionality we've added in that period has included:\r\n\r\n* Python client library.\r\n* JavaScript client library.\r\n* Command line client.\r\n* Integrated schema support. (Swagger, RAML, CoreJSON)\r\n* New test client.\r\n* Interactive API documentation.\r\n\r\nThere has also been work not on REST framework itself, but in the surrounding ecosystem.\r\n\r\nTom has been able to help navigate the \"Simplified URL routing syntax\" feature into Django 2.0, alongside a number of other contributors.\r\n\r\nThere has been work around async and realtime, although not yet directly in REST framework itself. This has included developing [a new Python webserver, with an ASGI-like asyncio interface](https://github.com/encode/uvicorn), as well as significant exploratory work towards [a new API framework](https://github.com/encode/apistar).\r\n\r\nOver the last 18 months we've been closing incoming issues and pull requests at a sustained rate of [around 80 issues/month](https://github.com/encode/django-rest-framework/issues?utf8=%E2%9C%93&q=state%3Aclosed+created%3A%3E2016-06-01+).  \r\n\r\nWe've gone from standing at around 210 open issues and pull requests at the start of the period, to being at  around 110 to date.\r\n\r\n## Sustainability\r\n\r\nThe Mozilla Award has also been a foundational part of allowing us to launch an ongoing, sustainable business model behind the project. Having a significant amount of runway funding meant that Tom Christie was in a position to leave full-time employment, and launch a sponsorship model for funding REST framework.\r\n\r\nThe result of this is that although the MOSS funding is now exhausted, the project still has money in the bank, and a decent amount of monthly recurring revenue.\r\n\r\nWe're aiming to keep our finances transparent through our monthly reports.\r\n\r\nAs a rough guide we are currently at around £5,500 monthly recurring revenue. Against this Tom draws a salary of £60k/year. Together with short amounts of freelancing we've also been in a position to take on freelance work from both Anna Ossowski (Fundraising & Operations), and Carlton Gibson (Triage & Feature Work).\r\n\r\n## Impact\r\n\r\nThere are now around [100 third party packages](https://djangopackages.org/grids/g/django-rest-framework/) available for use with REST framework, and we've had over [700 contributors](https://github.com/encode/django-rest-framework/graphs/contributors) to date.\r\n\r\nWe'd currently estimate something like 100,000 monthly active developers working with the framework, supporting perhaps some tens of thousands of companies, and certainly impacting many millions of end-users.\r\n\r\nA project supporting this many developers and companies cannot realistically operate without dedicated working hours towards its support. We wouldn't be in such a strong position without the MOSS award giving us enough runway to be able to launch our sponsorship model.\r\n\r\n## What's next\r\n\r\n[TODO]\r\n\r\n[TODO - Call to action]"},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [ x ] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [ x ] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [ x ] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [ x ] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [ x ] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\nCreate a simple ViewSet with a detail route with method name \"dispatch\"\r\n\r\n\"\"\"\r\nclass TestViewSet(ModelViewSet):\r\n    queryset = Test.objects.all()\r\n    serializer_class = serializers.TestSerializer\r\n    filter_class = filters.TestFilter\r\n\r\n    @detail_route(url_path='dispatch', methods=['post'])\r\n    def dispatch(self, request, pk=None):\r\n\r\n        return Response(\"hello\", status=status.HTTP_200_ACCEPTED)\r\n\"\"\"\r\n\r\n## Expected behavior\r\nNot really sure here as it is colliding with the dispatch method under the hood of DFR\r\n\r\n## Actual behavior\r\nThe DRF router exhibits very odd behavior but does not function in any useful manor. It looks like the base path for the ViewSet is lost so all requests result in a 404.\r\n\r\nI am not entirely sure what is going on but I can speculate that the detail route method is overlapping with the detail route method of the base ViewSet class. After looking deeper into DRF I understand why this is probably happening and why it probably can't easily be fixed. However, I think it would be fair to document this to say that a detail route method name should _not_ be named \"dispatch\".\r\n"},{"labels":["documentation"],"text":"## Steps to reproduce\r\nIn django 1.10+, when coding the \"urls.py\" of the project file with the function \"format_suffix_patterns\", an exception may occurred when dealing with the urlpatterns in a particular order.\r\n\r\nthis is the code of urls.py\r\n\r\n\"\"\"\r\nurlpatterns = [\r\n    url(r'^admin/', admin.site.urls),\r\n    url(r'^zufang/', zufang_views.RentingRecords.as_view()),\r\n    url(r'^ershou/', ershou_views.UsedItems.as_view()),\r\n    url(r'^shunfengche/', include('shunfengche.urls', namespace='shunfengche')),\r\n    url(r'^yp/', include('yellowpage.urls', namespace='yellowpage')),\r\n    url(r'^bugs/', sfc_views.bugs), \r\n] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\r\n\r\n\r\nurlpatterns = format_suffix_patterns(urlpatterns)\r\nurlpatterns.append(url(r'^users/', include('users.urls')))\r\nurlpatterns.append(url(r'^courses/', include('courses.urls')))\r\nurlpatterns.append(url(r'^official/', include('official.urls')))\r\nurlpatterns.append(url(r'^', include('official.urls')))\r\n\"\"\"\r\nwhen moving the formatting function to the bottom, like this:\r\n\r\n\"\"\"\r\nurlpatterns.append(url(r'^users/', include('users.urls')))\r\nurlpatterns.append(url(r'^courses/', include('courses.urls')))\r\nurlpatterns.append(url(r'^official/', include('official.urls')))\r\nurlpatterns.append(url(r'^', include('official.urls')))\r\nurlpatterns = format_suffix_patterns(urlpatterns)\r\n\r\n\"\"\"\r\n## Expected behavior\r\nIt was expected to be the same or throw an exception that is not confusing \r\n## Actual behavior\r\ndjango throws two exceptions when performing the system checks\r\n\r\n>Django version 1.11.2, using settings 'app.settings'\r\nStarting development server at http://127.0.0.1:8000/\r\nQuit the server with CONTROL-C.\r\nPerforming system checks...\r\n\r\n>Unhandled exception in thread started by <function check_errors.<locals>.wrapper at 0x7f282956d0d0>\r\nTraceback (most recent call last):\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/urls/resolvers.py\", line 105, in _compile\r\n    return re.compile(regex, re.UNICODE)\r\n  File \"/root/pyenv/lib/python3.5/re.py\", line 224, in compile\r\n    return _compile(pattern, flags)\r\n  File \"/root/pyenv/lib/python3.5/re.py\", line 293, in _compile\r\n    p = sre_compile.compile(pattern, flags)\r\n  File \"/root/pyenv/lib/python3.5/sre_compile.py\", line 536, in compile\r\n    p = sre_parse.parse(p, flags)\r\n  File \"/root/pyenv/lib/python3.5/sre_parse.py\", line 829, in parse\r\n    p = _parse_sub(source, pattern, 0)\r\n  File \"/root/pyenv/lib/python3.5/sre_parse.py\", line 437, in _parse_sub\r\n    itemsappend(_parse(source, state))\r\n  File \"/root/pyenv/lib/python3.5/sre_parse.py\", line 774, in _parse\r\n    raise source.error(err.msg, len(name) + 1) from None\r\nsre_constants.error: redefinition of group name 'format' as group 2; was group 1 at position 32\r\n\r\n>During handling of the above exception, another exception occurred:\r\n\r\n>Traceback (most recent call last):\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/utils/autoreload.py\", line 227, in wrapper\r\n    fn(*args, **kwargs)\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/management/commands/runserver.py\", line 125, in inner_run\r\n    self.check(display_num_errors=True)\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/management/base.py\", line 359, in check\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/management/base.py\", line 346, in _run_checks\r\n    return checks.run_checks(**kwargs)\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/checks/registry.py\", line 81, in run_checks\r\n    new_errors = check(app_configs=app_configs)\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/checks/urls.py\", line 16, in check_url_config\r\n    return check_resolver(resolver)\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/checks/urls.py\", line 26, in check_resolver\r\n    return check_method()\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/urls/resolvers.py\", line 255, in check\r\n    warnings.extend(check_resolver(pattern))\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/checks/urls.py\", line 26, in check_resolver\r\n    return check_method()\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/urls/resolvers.py\", line 255, in check\r\n    warnings.extend(check_resolver(pattern))\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/core/checks/urls.py\", line 26, in check_resolver\r\n    return check_method()\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/urls/resolvers.py\", line 172, in check\r\n    warnings = self._check_pattern_startswith_slash()\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/urls/resolvers.py\", line 140, in _check_pattern_startswith_slash\r\n    regex_pattern = self.regex.pattern\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/urls/resolvers.py\", line 93, in __get__\r\n    instance.__dict__['regex'] = self._compile(instance._regex)\r\n  File \"/root/pyenv/lib/python3.5/site-packages/django/urls/resolvers.py\", line 109, in _compile\r\n    (regex, six.text_type(e))\r\ndjango.core.exceptions.ImproperlyConfigured: \"^\\.(?P<format>[a-z0-9]+)/?\\.(?P<format>[a-z0-9]+)/?$\" is not a valid regular expression: redefinition of group name 'format' as group 2; was group 1 at position 32"},{"labels":["documentation",null],"text":"In preparing #5448 I noted that \"documentation.py\" is essentially undocumented. There is a basic usage example for \"include_docs_urls\" in the Documenting your API topic page, but that's it. \r\n\r\nWe need documentation for the three functions: \r\n\r\n* \"include_docs_urls\"\r\n* \"get_schemajs_view\"\r\n* \"get_docs_view\"\r\n\r\nThis would help users wanting to customise the defaults here. "},{"labels":["documentation"],"text":"I would like to add a highlevel perspective in the quickstart.\r\n\r\nhttp://www.django-rest-framework.org/tutorial/quickstart/\r\n\r\nI would like to define terms and steps. I am not a native speaker, I guess this could get improved a lot.\r\n\r\n**GET Request**\r\n\r\n1. client sends a GET request to the DRF application\r\n1. A **Serializer** uses the Django ORM and transforms it to ?????? (here I am missing the matching term)\r\n1. A **Renderer** takes ?????? and converts it to a bytestring. This can be JSON, YAML, XML, Protocol Buffers, ...\r\n1. The bytestring gets send to the client as response\r\n\r\n**POST Request**\r\n\r\n1. client sends a POST request to the DRF application. The bytestring in the request can be JSON, YAML, ...\r\n1. A **Parser** takes the bytestring and transforms it to ??????. \r\n1. ?????? gets mapped to a Django Model using a **Deserizalizer**\r\n1. The data gets saved\r\n1. A response gets send to the client.\r\n\r\nMy goal is to speed up new developers and to make them  understand how DRF works quicker.\r\n\r\nWhat do you think?\r\n\r\nIt would be great if there are places in the docs where the terms Serializer, Renderer, Parser gets explained. \r\n\r\nI know, for you (the experts) it is all clear :-)\r\n"},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [X] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [X] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [X] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [X] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [X] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Short Version\r\n\r\nCan we please add the information in [3.0 Announcement](http://www.django-rest-framework.org/topics/3.0-announcement/#removal-of-transform_field_name) about the use of \"to_representation\" on serializers __classes__ (cf. _Removal of Transform Field_) to the docs to help better explain how to change the representation of fields in ModelSerializers?\r\n\r\n(Sorry about the non-standard format for the issue text, just made more sense this way given that it's a documentation suggestion (feature/functionality is great!)\r\n\r\nI can do up a pull request which just moves the information in the _3.0 Announcement_ into \"serializers.md\" (probably into [override-serialization-and-deserialization-behaviour](http://www.django-rest-framework.org/api-guide/serializers/#overriding-serialization-and-deserialization-behavior)) if that suits?\r\n## Long Version\r\n\r\nOutcome desired was to have a related field (i.e. \"ForeignKey\") on a \"ModelSerializer\" that was writable by passing the \"pk\", but returned a nested representation. For example:\r\n\r\n\"\"\"\r\nclass ExampleModel(models.Model):\r\n    user = models.ForeignKey(User)\r\n    ...\r\n\r\nclass ExampleUserSerializer(serializers.ModelSerializer):\r\n    class Meta:\r\n        model = User\r\n        fields = [\"username\", \"email\", ... ]\r\n\r\n\r\nclass TestSerializer(serializers.ModelSerializer):\r\n    class Meta:\r\n        model = ExampleModel\r\n        fields = [\"user\",]\"\r\n\"\"\"\r\n\r\nProblem I struggled with was changing the representation to use the nested \"ExampleUserSerializer\", but to accept write input to \"TestSerializer\" with just the User's \"pk\". For example, you could update the \"user\" on \"ExampleModel\" by sending a request with:\r\n    \r\n    {\"user\": 3}\r\n\r\nAnd get back the updated \"ExampleModel\" as:\r\n\r\n    {\"username\": \"myusername\", \"email\": \"me@world.com\", ...}\r\n\r\nWorked it out by adding a \"to_representation\" method on the \"TestSerializer\" (etc.) by referring to the bit about _\"Removal of Transform Field\"_ in [3.0 Announcement](http://www.django-rest-framework.org/topics/3.0-announcement/#removal-of-transform_field_name). Found _some_ information about this at [override-serialization-and-deserialization-behaviour](http://www.django-rest-framework.org/api-guide/serializers/#overriding-serialization-and-deserialization-behavior), but the example in the _3.0 Announcement_ just made it so much clearer."},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\nListField [signature in docs](http://www.django-rest-framework.org/api-guide/fields/#listfield) is misleading. It implies that \"child\" argument can be passed as positional arg. However \"ListField.__init__\" [pops \"child\" from kwargs](https://github.com/encode/django-rest-framework/blob/master/rest_framework/fields.py#L1525).\r\n\"\"\"\r\n>>> from rest_framework.fields import ListField, CharField\r\n>>> ListField(CharField()).child\r\n\"\"\"\r\n## Expected behavior\r\n\"\"\"\r\nCharField()\r\n\"\"\"\r\n## Actual behavior\r\n\"\"\"\r\n_UnvalidatedField()\r\n\"\"\""},{"labels":["documentation",null],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [] I have reduced the issue to the simplest possible case.\r\n- [] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\n1. create api viewset and try to access \"self.request\".\r\n2. integrate docs endpoint as described in [docs](http://www.django-rest-framework.org/topics/3.6-announcement/#interactive-api-documentation)\r\n3. hit the docs endpoint in browser\r\n## Expected behavior\r\nAPI docs page should render\r\n\r\n## Actual behavior\r\nError \"'NoneType' object has no attribute 'user'\"  \r\n[traceback](http://dpaste.com/1Y6MRAB)  \r\n\"self.request\" is \"None\"\r\n"},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [x] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\n1. Go to:  http://www.django-rest-framework.org/tutorial/1-serialization/\r\n2. See third paragraph that starts with:\r\nNote: The code for this tutorial is available in the tomchristie/rest-framework-tutorial repository on GitHub\r\n3. Click the link:   tomchristie/rest-framework-tutorial \r\n4. It tries to go to:  https://github.com/encode/rest-framework-tutorial and does, but gets a 404 error\r\n\r\n## Expected behavior\r\nExpect to be taken to the source code for the tutorial\r\n\r\n## Actual behavior\r\nGoes to GitHub at:  https://github.com/encode/rest-framework-tutorial and there is nothing there, so it shows 404 error screen."},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [ ] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [ ] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\n\r\nUse CursorPagination on a ModelViewSet, ordering by a FloatField.\r\n\r\nPrototype of a test here. (I'm not used to writing project-independent Django application tests, this will need a little tweaking before it runs.)\r\nhttps://gist.github.com/keturn/8bc88525a183fd41c73ffb729b8865be\r\n\r\n## Expected behavior\r\n\r\nExpect ViewSet to provide pages that iterate through all the results with no duplicates.\r\n\r\n## Actual behavior\r\n\r\nAfter following the \"next\" cursor to the next page, that second page begins with the last item on the first page.\r\n\r\nThis is because the cursor's representation of the floating-point position has been truncated, so the last item falls on the wrong side of the inequality test."},{"labels":["documentation",null],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\n\r\nFor me the only logical way to create an endpoint with nested data was to use a nested serializer on GET, but a flat serializer on POST/PATCH/PUT actions. This is easily achieved by doing (from http://stackoverflow.com/a/21325719/3849359 ):\r\n\"\"\"\r\nclass SwappableSerializerMixin(object):\r\n    def get_serializer_class(self):\r\n        try:\r\n            return self.serializer_classes[self.request.method]\r\n        except AttributeError as e:\r\n            logger.debug('%(cls)s does not have the required serializer_classes'\r\n                         'property' % {'cls': self.__class__.__name__})\r\n            raise AttributeError\r\n        except KeyError:\r\n            logger.debug('request method %(method)s is not listed'\r\n                         ' in %(cls)s serializer_classes' %\r\n                         {'cls': self.__class__.__name__,\r\n                          'method': self.request.method})\r\n            # required if you don't include all the methods (option, etc) in your serializer_class\r\n            return super(SwappableSerializerMixin, self).get_serializer_class()\r\n\"\"\"\r\n\r\nHowever, for the docs this obviously fails, as self.request is None.\r\n\r\n## Expected behavior\r\n\r\nDetermine the serializer based on other params for the docs.\r\n\r\n## Actual behavior\r\n\r\nAttributeError is raised, because self.request is None."},{"labels":["documentation"],"text":"As explained in this [Stack Overflow post](http://stackoverflow.com/questions/43771032/drf-3-6-how-to-document-input-parameters-in-apiview-for-automatic-doc-generati/43772601?noredirect=1#comment74594577_43772601), the current documentation does not explain how to specify input parameters for non generic API Views, in order to be provided in the new DRF 3.6 doc.\r\n\r\nI don't know if it's possible actually.\r\n"},{"labels":["documentation",null],"text":"I think we can now safely add:\r\n\r\n- include_docs_urls\r\n- get_docs_view\r\n- get_schemajs_view\r\n\r\nto the documentation.\r\nCan take care of it if there's no objections."},{"labels":["documentation"],"text":"The [release notes](https://github.com/tomchristie/django-rest-framework/blob/master/docs/topics/release-notes.md) page covers everything up to \"3.5.4\", but \"3.6.x\" seems to be missing completely.\r\n\r\nThere is the [3.6 announcement](https://github.com/tomchristie/django-rest-framework/blob/master/docs/topics/3.6-announcement.md), but It'd great if the release notes would be updated as well.\r\n\r\nThanks!\r\n\r\n"},{"labels":["documentation"],"text":"## Checklist\r\n\r\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\r\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\r\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\r\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\r\n- [x] I have reduced the issue to the simplest possible case.\r\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\r\n\r\n## Steps to reproduce\r\nRead docs at https://github.com/tomchristie/django-rest-framework/blob/master/docs/topics/3.0-announcement.md#date-and-time-objects-as-iso-8859-1-strings-in-serializer-data\r\n\r\n## Expected behavior\r\nDocs should state:\r\n> ### Date and time objects as ISO-8601 strings in serializer data.\r\n...\r\n> You can modify this behavior globally by settings the existing DATE_FORMAT, DATETIME_FORMAT and TIME_FORMAT settings keys. Setting these values to None instead of their default value of 'iso-8601' will result in native objects being returned in serializer data.\r\n\r\n## Actual behavior\r\nDocs state:\r\n> ### Date and time objects as ISO-8859-1 strings in serializer data.\r\n...\r\n> You can modify this behavior globally by settings the existing DATE_FORMAT, DATETIME_FORMAT and TIME_FORMAT settings keys. Setting these values to None instead of their default value of 'iso-8859-1' will result in native objects being returned in serializer data."},{"labels":["documentation"],"text":"http://www.django-rest-framework.org/api-guide/foo/ will generate a 404 page that is broken:\r\n\r\n* the links point to ./api-guide/ and ./tutorial/, so they will point to the wrong thing\r\n* the CSS and JS files are similarly linked to, so they won't work either.\r\n\r\nAs a side note, I think for api-guide/ stuff, stripping .html might be worthwile, as they used to have it, you can find links to http://www.django-rest-framework.org/api-guide/serializers.html that'd work just fine if you removed the .html."},{"labels":["documentation"],"text":"I was looking for a way to write  tests against live server. In DRF docs there's a page about live testing, but it appears the the section describing RequestsClient() and working with databases ends abruptly.\r\n\r\n## Steps to reproduce\r\nGo to http://www.django-rest-framework.org/api-guide/testing/#requestsclient-and-working-with-the-database\r\n\r\n## Expected behavior\r\nIt would be good see how the sentence and entire section ends\r\n\r\n## Actual behavior\r\nSection ends in the middle of sentence '...class is useful if'\r\nIt looks like something is missing from that section."},{"labels":["documentation"],"text":"The latest docs have an outdated chunk mentioning \r\n\r\n> A new interface for controlling this behavior is currently planned for REST framework 3.1.\r\n\r\nhttp://django-rest-framework.readthedocs.io/en/latest/api-guide/serializers/#customizing-the-default-fields \r\n\r\nSince we're well past 3.1, it should be updated to document the current interfaces. "},{"labels":["documentation",null],"text":"I'm struggling with a similar scenario of this issue #3373. I have a very specific service layer that gives a pretty well formed return and my views/viewsets have one job, call this service and serialize its result.\r\n\r\nThe thing is, I have two serializers, one to validate query parameters and another one to serialize service's raw return. None of them are used as \"required\" by DRF as \"serializer_class\" resulting that their fields won't be considered by SchemeGenerator\r\n\r\nI'm failing when trying to create custom documentation to each endpoint, since DRF is kind of model-oriented to generate its schemas (I could write down my own schema, but I would love if DRF generates it for me though), plus I'm using Swagger as interface.\r\n\r\nIn my opinion, it would be nice to permit create docstring to create coreapi.Documents by that it would be way more flexible. Any ideas how I could proceed for now?"},{"labels":["documentation"],"text":"Error when attempting to use the coreAPI tutorial code, mime type is not accepted.\n\n> $ http http://127.0.0.1:8000/schema/ Accept:application/vnd.coreapi+json\n> HTTP/1.0 406 Not Acceptable\n> Allow: GET, HEAD, OPTIONS\n> Content-Type: application/coreapi+json\n> Date: Fri, 21 Oct 2016 02:27:22 GMT\n> Server: WSGIServer/0.2 CPython/3.4.3\n> Vary: Accept\n> X-Frame-Options: SAMEORIGIN\n> \n> {\n>     \"detail\": \"Could not satisfy the request Accept header.\"\n> }\n\nthis however does work\n\n> $ http http://127.0.0.1:8000/schema/ \n> HTTP/1.0 200 OK\n> Allow: GET, HEAD, OPTIONS\n> Content-Type: application/coreapi+json\n> Date: Fri, 21 Oct 2016 02:28:36 GMT\n> Server: WSGIServer/0.2 CPython/3.4.3\n> Vary: Accept, Cookie\n> X-Frame-Options: SAMEORIGIN\n> \n> {\n>     \"_meta\": {\n>         \"title\": \"Pastern API\"\n> \n> \"\"\"\n> },\n> \"_type\": \"document\",\n> \"snippets\": {\n> \"\"\"\n> \n> ...\n\nI believe \n\"http http://127.0.0.1:8000/schema/ Accept:application/vnd.coreapi+json\"  \nshould be \n\"http http://127.0.0.1:8000/schema/ Accept:application/coreapi+json\"\n"},{"labels":["documentation"],"text":"## Checklist\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\n- [x] I have reduced the issue to the simplest possible case.\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\n## Steps to reproduce\n\nFollow tutorial up to the generic class-based views section of chapter 3. Attempt to access a snippet detail (e.g. in the browser at localhost:8000/snippets/1)\n## Expected behavior\n\nReturn the serialised snippet\n## Actual behavior\n\n> AssertionError: Expected view SnippetDetail to be called with a URL keyword argument named \"pk\"\n> ...\n\nThe problem is that until that point in the tutorial the views were written out in full and used a keyword argument \"id\". When changing to the class-based views, the expected argument is \"pk\". Either \"urls.py\" should be updated to capture the argument as \"pk\" or the SnippetDetail class needs to have a \"lookup_field\" option.\n"},{"labels":["documentation"],"text":"[CONTRIBUTING.md](https://github.com/tomchristie/django-rest-framework/blob/master/CONTRIBUTING.md) gives the following instructions:\n\n> To run the tests, clone the repository, and then:\n> \n> \"\"\"\n> # Setup the virtual environment\n> virtualenv env\n> source env/bin/activate\n> pip install -r requirements.txt\n> \n> # Run the tests\n> ./runtests.py\n> \"\"\"\n\nHowever doing these steps does not install Django, and it will result in the following error output:\n\n\"\"\"\nINTERNALERROR> Traceback (most recent call last):\nINTERNALERROR>   File \"/home/gpanther/greypanther/django-rest-framework/env/local/lib/python2.7/site-packages/_pytest/main.py\", line 90, in wrap_session\nINTERNALERROR>     config._do_configure()\nINTERNALERROR>   File \"/home/gpanther/greypanther/django-rest-framework/env/local/lib/python2.7/site-packages/_pytest/config.py\", line 839, in _do_configure\nINTERNALERROR>     self.hook.pytest_configure.call_historic(kwargs=dict(config=self))\nINTERNALERROR>   File \"/home/gpanther/greypanther/django-rest-framework/env/local/lib/python2.7/site-packages/_pytest/vendored_packages/pluggy.py\", line 729, in call_historic\nINTERNALERROR>     self._hookexec(self, self._nonwrappers + self._wrappers, kwargs)\nINTERNALERROR>   File \"/home/gpanther/greypanther/django-rest-framework/env/local/lib/python2.7/site-packages/_pytest/vendored_packages/pluggy.py\", line 338, in _hookexec\nINTERNALERROR>     return self._inner_hookexec(hook, methods, kwargs)\nINTERNALERROR>   File \"/home/gpanther/greypanther/django-rest-framework/env/local/lib/python2.7/site-packages/_pytest/vendored_packages/pluggy.py\", line 333, in <lambda>\nINTERNALERROR>     _MultiCall(methods, kwargs, hook.spec_opts).execute()\nINTERNALERROR>   File \"/home/gpanther/greypanther/django-rest-framework/env/local/lib/python2.7/site-packages/_pytest/vendored_packages/pluggy.py\", line 596, in execute\nINTERNALERROR>     res = hook_impl.function(*args)\nINTERNALERROR>   File \"/home/gpanther/greypanther/django-rest-framework/tests/conftest.py\", line 2, in pytest_configure\nINTERNALERROR>     from django.conf import settings\nINTERNALERROR> ImportError: No module named django.conf\n\"\"\"\n\nEither the file should mention that Django needs to be pip installed-ed, or Django needs to be added into one of the requirements file.\n"},{"labels":["documentation"],"text":"## Checklist\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\n- [x] I have reduced the issue to the simplest possible case.\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\n\nHello, first thanks for this great piece code.\nI am referring to the issue  ##1725 because it still seems like a bug to me even in version 3.x.\n## Steps to reproduce\n\nIf a partial update is performed and a field marked as required is passed with a an empty value (even null if allow_null is set to true) the validation passes.\n## Expected behavior\n\nIn my humble opinion, required fields should be checked and validated as such even in partial update, if they are passed in the payload.\n## Actual behavior\n\nThe required fields are saved with the passed value even if empty and even null if allow_null is set to true.\n"},{"labels":["documentation"],"text":"## Checklist\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\n- [x] I have reduced the issue to the simplest possible case.\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\n## Issue\n\nThe docstring of \"Field.get_default\" says:\n\n> If a default has not been set for this field then this will simply\n>         return \"empty\", indicating that no value should be set in the\n>         validated data for this field.\n\nBut if default has not been set the method raises \"SkipField\" instead.\n\n\"\"\" python\nif self.default is empty or getattr(self.root, 'partial', False):\n    # No default, or this is a partial update.\n    raise SkipField()\n\"\"\"\n\nI suggest either to change the documentation to reflect the actual behaviour or change the code to reflect the doc.\n\nhttps://github.com/tomchristie/django-rest-framework/blob/master/rest_framework/fields.py#L434\n"},{"labels":["documentation"],"text":"Include OpenAPI/Swagger in the tutorial, and in the schema generation guide.\n\nRefs #4179\n"},{"labels":["documentation"],"text":"I see the API Guide on the site is sorted by most important (?).\nSeeing as this is the primary way to peruse the docs I'd suggest sorting the items alphabetically.\n<img width=\"227\" alt=\"screen shot 2016-06-23 at 3 37 18 pm\" src=\"https://cloud.githubusercontent.com/assets/587438/16317378/dce6f55e-3958-11e6-923d-6032f837b1e6.png\">\n\nUnless there is another place the api is documented.\n"},{"labels":["documentation"],"text":"## Steps to reproduce\n\n\"\"\"\nclass MyViewSet(viewsets.ModelViewSet):\n    queryset = MyModel.objects.all()\n    serializer_class = MySerializer\n    authentication_classes = (MyAuth, )\n    permission_classes = (MyPermissions, )\n\n    @detail_route(methods=[\"GET\", ])\n    def custom(self, request, pk=None):\n        return Response('whatever')\n\nfrom rest_framework import routers\nrouter = routers.SimpleRouter() \nrouter.register('mymodel', MyViewSet)\nurlpatterns = [\n    url(r'^api/', include(router.urls)),\n]\n\"\"\"\n\nmake a GET request to /api/mymodel/123/custom/\n## Expected behavior\n\nhas_object_permission() should be called with \"MyModel.objects.get(pk=123)\" as object.\n## Actual behavior\n\nrequest to the custom route in the form of /api/mymodel/123/custom/ will call has_permission() in MyPermissions, but not has_object_permission() even though it is a detail route.  \n"},{"labels":["documentation"],"text":"The ObtainAuthToken class starts as follows:\n\n\"\"\"\nclass ObtainAuthToken(APIView):\n    throttle_classes = ()\n\"\"\"\n\nThis prevents it from using throttling if configured project-wide. I believe this is not a good practice. Throttling the authentication system is essential to prevent brute-force attacks. \n\nI know I could create a new class that extends that one and use it for my specific purposes, but i believe that removing the \"throttle_classes\" parameter from the class would be a more intuitive solution and benefit the project.\n\nAlso aligned with my argument, I couldn't find nothing in the documentation stating that \"ObtainAuthToken\" doesn't comply with the project-wide throttling configurations.\n"},{"labels":["documentation"],"text":"## Checklist\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\n- [x] I have reduced the issue to the simplest possible case.\n- [x] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\n## Steps to reproduce\n\nThe website for the DRF 2.x docs is down, which should be here: http://www.tomchristie.com/rest-framework-2-docs/\n\nThe site was working fine about 1-2 weeks ago. Perhaps the registrar was recently changed, and/or DNS records need to be updated?\n\nSome links to the broken site can be found here: http://www.django-rest-framework.org/, and at the top of the README for this repo. At the very least, it would be nice to remove these links, or explain why the site no longer exists.\n## Expected behavior\n\nThe site should take us to the docs for DRF version 2.x\n## Actual behavior\n\nThe site is down.\n## Note:\n\nI am in the process of upgrading from DRF 2.3 to DRF 3.x, so the DRF version 2 docs are helpful in this process. Hopefully I won't need them much longer! But I imagine others may need the link to the version 2.x docs as well, so it would be nice to keep them around.\n"},{"labels":["documentation"],"text":"In \"docs/api-guide/authentication.md\", section \"API Reference\" / \"TokenAuthentication\" / \"Schema migrations\", a migration requirement is mentioned if a custom user model is being used. However, it is explained how to do that only for South and not when using its official successor (Django migrations).\n\n> You can do so by inserting a needed_by attribute in your user migration\n> ...\n> For more details, see the south documentation on dependencies.\n\nIt seems replacing \"needed_by\" with \"run_before\" is enough but I'm not sure.\n## Checklist\n- [x] I have verified that that issue exists against the \"master\" branch of Django REST framework.\n- [x] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\n- [x] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\n- [x] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\n- [x] I have reduced the issue to the simplest possible case.\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\n## Steps to reproduce\n\nN/A\n## Expected behavior\n\nN/A\n## Actual behavior\n\nN/A\n"},{"labels":["documentation"],"text":"## Checklist\n- [X] I have verified that that issue exists against the \"master\" branch of Django REST framework.\n- [X] I have searched for similar issues in both open and closed tickets and cannot find a duplicate.\n- [X] This is not a usage question. (Those should be directed to the [discussion group](https://groups.google.com/forum/#!forum/django-rest-framework) instead.)\n- [X] This cannot be dealt with as a third party library. (We prefer new functionality to be [in the form of third party libraries](http://www.django-rest-framework.org/topics/third-party-resources/#about-third-party-packages) where possible.)\n- [X] I have reduced the issue to the simplest possible case.\n- [ ] I have included a failing test as a pull request. (If you are unable to do so we can still accept the issue.)\n\nAs referenced in\nhttps://github.com/tomchristie/django-rest-framework/pull/2575\nhttps://github.com/miki725/django-rest-framework-bulk/issues/30\n\nListSerializer attempts to apply unique together validation on the queryset passed to it, but some part of the code is passed the full queryset, where it attempts to look up attributes on what it expects to be individual instances.\n## Steps to reproduce\n\nI've modified a test case found in the above links, and run them against master. I'm not sure what the file should be named, and if it follows your quality standards, so I have not submitted  a PR with it.\n\n\"\"\" python\nfrom django.db import models\nfrom django.test import TestCase\n\nfrom rest_framework import serializers\n\n\nclass ManyUniqueTogetherModel(models.Model):\n    foo = models.IntegerField()\n    bar = models.IntegerField()\n    class Meta:\n        unique_together = (\"foo\", \"bar\")\n\n\nclass ManyUniqueTogetherSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = ManyUniqueTogetherModel\n\n\nclass ManyUniqueTogetherTestCase(TestCase):\n\n    def test_partial_false(self):\n        obj = ManyUniqueTogetherModel.objects.create(foo=1, bar=2)\n        serializer = ManyUniqueTogetherSerializer(\n            instance=ManyUniqueTogetherModel.objects.all(),\n            data=[{\n                \"id\": obj.pk,\n                \"foo\": 5,\n                \"bar\": 6,\n            }],\n            many=True\n        )\n        self.assertTrue(serializer.is_valid())\n\n    def test_partial_true(self):\n        obj = ManyUniqueTogetherModel.objects.create(foo=1, bar=2)\n        serializer = ManyUniqueTogetherSerializer(\n            instance=ManyUniqueTogetherModel.objects.all(),\n            data=[{\n                \"id\": obj.pk,\n                \"foo\": 5,\n            }],\n            partial=True,\n            many=True\n        )\n        self.assertTrue(serializer.is_valid())\n\"\"\"\n## Expected behavior\n\nThe code path looks up properties on individual instances in the queryset, is_valid() returns either True or False depending on the actual data, the tests pass.\n## Actual behavior\n\n\"\"\"\n====================================================================== FAILURES ======================================================================\n___________________________________________________ ManyUniqueTogetherTestCase.test_partial_false ____________________________________________________\ntests/test_unique_together.py:35: in test_partial_false\n    self.assertTrue(serializer.is_valid())\nrest_framework/serializers.py:213: in is_valid\n    self._validated_data = self.run_validation(self.initial_data)\nrest_framework/serializers.py:557: in run_validation\n    value = self.to_internal_value(data)\nrest_framework/serializers.py:593: in to_internal_value\n    validated = self.child.run_validation(item)\nrest_framework/serializers.py:409: in run_validation\n    self.run_validators(value)\nrest_framework/fields.py:499: in run_validators\n    validator(value)\nrest_framework/validators.py:142: in __call__\n    queryset = self.exclude_current_instance(attrs, queryset)\nrest_framework/validators.py:135: in exclude_current_instance\n    return queryset.exclude(pk=self.instance.pk)\nE   AttributeError: 'QuerySet' object has no attribute 'pk'\n____________________________________________________ ManyUniqueTogetherTestCase.test_partial_true ____________________________________________________\ntests/test_unique_together.py:50: in test_partial_true\n    self.assertTrue(serializer.is_valid())\nrest_framework/serializers.py:213: in is_valid\n    self._validated_data = self.run_validation(self.initial_data)\nrest_framework/serializers.py:557: in run_validation\n    value = self.to_internal_value(data)\nrest_framework/serializers.py:593: in to_internal_value\n    validated = self.child.run_validation(item)\nrest_framework/serializers.py:409: in run_validation\n    self.run_validators(value)\nrest_framework/fields.py:499: in run_validators\n    validator(value)\nrest_framework/validators.py:141: in __call__\n    queryset = self.filter_queryset(attrs, queryset)\nrest_framework/validators.py:120: in filter_queryset\n    attrs[field_name] = getattr(self.instance, field_name)\nE   AttributeError: 'QuerySet' object has no attribute 'bar'\n\"\"\"\n"},{"labels":["documentation"],"text":"Something is going wrong with how this line (299 in the md file)\n\n   https://github.com/tomchristie/django-rest-framework/blame/master/docs/api-guide/fields.md#L299\n\nis being rendered when output as HTML here\n\n   http://www.django-rest-framework.org/api-guide/fields/#date-and-time-fields\n\nThat header has become mangled. Not sure about the nature of the problem since the markdown seems to render fine when viewed via Github.\n"},{"labels":["documentation"],"text":"\"Serializing objects\" section in the \"Serializers\" documentation page does not matches the real behaviour in a python shell.\n\nDocumentation shows:\n\n\"\"\"\n{'email': u'leila@example.com', 'content': u'foo bar', 'created': datetime.datetime(2012, 8, 22, 16, 20, 9, 822774)}\n\"\"\"\n\nas the expected result for\n\n\"\"\"\nserializer.data\n\"\"\"\n\nwhen running the code in the shell it will give:\n\n\"\"\"\n{'content': u'foo bar', 'email': u'leila@example.com', 'created': '2016-01-27T19:00:52.355728'}\n\"\"\"\n\nI'm not sure but I suspect this is due some change from DRF 2 to 3.\n"},{"labels":["documentation"],"text":"Hi,\n\nI have an issue when trying to serialize data from instances. My serializers have a lot of non-required fields, some of which have default values. My  instance objects do not have _all_ attributes defined on the serializer, but they do have all _mandatory_ attributes defined there. I see a difference in behavior between these two types of non-required fields:\n\nA non-required field is simply skipped from serialization:\n\n\"\"\" python\nclass Ser1(Serializer):\n  field = CharField(required=False)\n\ninstance = object()\nassert Ser1(instance).data == {}\n\"\"\"\n\nA non-required field with a default value however throws an error\n\n\"\"\" python\nclass Ser2(Serializer):\n  field = CharField(default='value1')\n\ninstance = object()\nassert Ser2(instance).data == {'field': 'value1'} # throws AttributeError\n\"\"\"\n\nI would expect the latest assertion to be true. At least this is how _deserialization_ works:\n\n\"\"\" python\nclass Ser3(Ser1, Ser2): pass\n\ns = Ser3(data={})\ns.is_valid()\nassert s.data == {'field': 'value1'}\n\"\"\"\n\nIs there a reason why serialization between these two field types is implemented differently and in contrast to its deserialization counterpart?\n"},{"labels":["documentation"],"text":"In the [Writable nested representations](http://www.django-rest-framework.org/api-guide/serializers/#writable-nested-representations) the link to \"this blogpost on using model and manager classes\" is broken.\n"},{"labels":["documentation"],"text":"The docs at http://www.django-rest-framework.org/topics/browsable-api/#customizing describe that one should create an api.html template to customize the browseable api. However, when using the AdminRenderer the template admin.html needs to be used/customized. This is missing from the docs.\n"},{"labels":["documentation"],"text":"Hi,\n\nIn docs (http://www.django-rest-framework.org/api-guide/validators/) is not clear that you can write a custom validator by naming your validator function as: validate_'serializer_field_name'.\n\nI think that many users would find that information useful.\n\nRegards.\n"},{"labels":["documentation",null],"text":"Typo in code example for HTML and Forms.\n\nhttp://www.django-rest-framework.org/topics/html-and-forms/\n\nIn the following code on the page there is a single quote \"'\" before the second \"%\" which should not be there (removed below)\n\n\"\"\"\n{% load rest_framework %}\n\n<html><body>\n\n<h1>Profile - {{ profile.name }}</h1>\n\n<form action=\"{% url 'profile-detail' pk=profile.pk %}\" method=\"POST\">\n    {% csrf_token %}\n    {% render_form serializer %}\n    <input type=\"submit\" value=\"Save\">\n</form>\n\n</body></html>\n\"\"\"\n\nSolution does not work out of the box in testing and wondering if there is extra code required such as what the valid urls.py should be.  Assumption is the following would be the urls.py\n\n\"\"\"\nurlpatterns = [\n    url(r'^profiles/$', views.ProfileList.as_view(), name='profile-list'),\n    url(r'^profiles/(?P<pk>[0-9]+)/$', views.ProfileDetail.as_view(), name='profile-detail'),\n]\n\"\"\"\n\nWhich does not seem to address the problem.  Relevant stackoverflow here - \n\nhttp://stackoverflow.com/questions/33979468/drf-reverse-for-widget-detail-with-arguments-and-keyword-arguments-u/33981162#33981162\n"},{"labels":["documentation"],"text":"Following [the documentation](http://www.django-rest-framework.org/api-guide/fields/#listfield) of ListField, a user may expect that it is to be declared as:\n\n\"\"\" python\nfield_name = ListField(NestedField())\n\"\"\"\n\nThis looks quite natural and in consistency with former [drf-compound-fields](https://github.com/estebistec/drf-compound-fields).\n\nHowever, [the implementation](https://github.com/tomchristie/django-rest-framework/blob/master/rest_framework/fields.py#L1431) expects the \"child\" to be specified in kwargs rather then args. This prevents a child to be specified as first arg and requires declaration to be:\n\n\"\"\" python\nfield_name = ListField(child=SubField())\n\"\"\"\n\nWhich is a bit confusing.\n\nTe same applies to DictField.\n"},{"labels":["documentation"],"text":"The current docs for [Generic views](http://www.django-rest-framework.org/api-guide/generic-views/) has examples using \"get_paginate_by()\" but this method no longer exists (since 3.0.5?).\n"},{"labels":["documentation"],"text":"Version: 3.3.1\n\nThe documentation for \"versioning.URLPathVersioning\" (both the docstring and the [API guide](http://www.django-rest-framework.org/api-guide/versioning/#urlpathversioning)) provides the following example for the URL regex: \"r'^(?P<version>[v1|v2]+)/bookings/$'\". Unless I am misunderstanding, I think that \"[v1|v2]\" is supposed to be \"(v1|v2)\", and that the \"+\" should be removed. Also, I am not sure whether it is customary to add a mandatory trailing slash or not.\n\n(From git blame I see the regex was changed to the above in pull request #3037).\n"},{"labels":["documentation"],"text":"http://djangorestframework.readthedocs.org/en/latest/api-guide/pagination/ says\n\n> Note that using a paginate_by value of None will turn off pagination for the view.\n\nBut correct way for current version seems \"paginator = None\"\n"},{"labels":["documentation"],"text":"The documentation for writing a custom ListSerializer uses book.id to determine matches between instances and validated data. It appears that the validation of ListSerializers calls the child Serializers' validation methods. This validation by default removes non-writable values from data, including any id information, making it impossible to match instances and validated data.\n\nThis is preventable by making the ID not read_only in the child serializer, but that is not documented or even included in the example (though it would have saved me a lot of time).\n"},{"labels":["documentation"],"text":"### Problem\n\nWhen a site is using DRF without the need for authentication they will likely end up with a Django + 3rd party app list similar to this:\n\n\"\"\"\n(\n    'django.contrib.staticfiles',\n    'rest_framework',\n)\n\"\"\"\n\nNow the problem is that any request to a URL using DRF will produce deprecation warnings from the use of ContentType, Permission, Group and User models from contrib.auth and contrib.contenttypes. Each warning looks similar to the following.\n\n\"\"\"\n(snip).models.ContentType doesn't declare an explicit app_label and either isn't in an application in INSTALLED_APPS or else was imported before its application was loaded. This will no longer be supported in Django 1.9.\n  class ContentType(models.Model):\n\"\"\"\n\nI have confirmed that if Django 1.9a1 is used this warning turns into a runtime error:\n\n\"\"\"\nException Type:     RuntimeError\nException Value:    \nModel class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and either isn't in an application in INSTALLED_APPS or else was imported before its application was loaded. \n\"\"\"\n### Workaround\n\nUse this \"REST_FRAMEWORK\" setting to disable the referencing of AnonymousUser\n\n\"\"\" python\nREST_FRAMEWORK = {\n    'UNAUTHENTICATED_USER': None,\n}\n\"\"\"\n"},{"labels":["documentation"],"text":"The documentation topic, [documenting your api](https://github.com/tomchristie/django-rest-framework/blob/3.2.4/docs/topics/documenting-your-api.md) describes overriding the \"metadata\" view method as described in the [version 3.0 updates notes](https://github.com/tomchristie/django-rest-framework/blob/3.2.4/docs/topics/3.0-announcement.md). However since commit f4b1dcb167be0bbdaae2cc2a92f651536896dc16 I think this method has been changed to \"options\".\n\nHere is a patch:\n\n\"\"\"\n--- documenting-your-api.md.orig    2015-10-12 14:52:15.036110300 -0700\n+++ documenting-your-api.md 2015-10-12 14:52:45.168944300 -0700\n@@ -81,11 +81,11 @@\n\n You can modify the response behavior to \"OPTIONS\" requests by overriding the \"metadata\" view method.  For example:\n\n-    def metadata(self, request):\n+    def options(self, request):\n         \"\"\"\n         Don't include the view description in OPTIONS responses.\n         \"\"\"\n-        data = super(ExampleView, self).metadata(request)\n+        data = super(ExampleView, self).options(request)\n         data.pop('description')\n         return data\n\"\"\"\n"},{"labels":["documentation"],"text":"Problem described in #760 takes some hours to be investigated. May it be possible to describe in drf docs the difference between django/drf auth scheme used? Due to my poor english i can't do it myself, sorry.\n"},{"labels":["documentation"],"text":"## env\n\n\"\"\"\n>>> import rest_framework,sys,django\n>>> rest_framework.__version__\n'3.2.3'\n>>> sys.version_info\nsys.version_info(major=2, minor=7, micro=9, releaselevel='final', serial=0)\n>>> django.get_version()\n'1.8.4'\n\"\"\"\n## Issue\n\n**location** /docs/tutorial/1-serialization.md\n**section**\n\n\"\"\"\n serializer = SnippetSerializer(Snippet.objects.all(), many=True)\n serializer.data\n # [{'pk': 1, 'title': u'', 'code': u'foo = \"bar\"\\n', 'linenos': False, 'language': u'python', 'style': u'friendly'}, {'pk': 2, 'title': u'', 'code': u'print \"hello, world\"\\n', 'linenos': False, 'language': u'python', 'style': u'friendly'}]\n\"\"\"\n### should be\n\n\"\"\"\n>>> serializer = SnippetSerializer(Snippet.objects.all(), many=True)\n>>> serializer.data\n#[OrderedDict([('pk', 1), ('title', u''), ('code', u'foo = \"bar\"\\n'), ('linenos', False), ('language', 'python'), ('style', 'friendly')]), OrderedDict([('pk', 2), ('title', u''), ('code', u'print \"hello, world\"\\n'), ('linenos', False), ('language', 'python'), ('style', 'friendly')]), OrderedDict([('pk', 3), ('title', u''), ('code', u'print \"hello, world\"'), ('linenos', False), ('language', 'python'), ('style', 'friendly')])]\n>>>\n\"\"\"\n"},{"labels":["documentation"],"text":"serpy is now compatible with REST framework generic views as a serialization-only alternative.\n\nhttps://github.com/clarkduvall/serpy\n"},{"labels":["documentation"],"text":"1. [The docs](http://www.django-rest-framework.org/api-guide/renderers/) show a confusing \".\" as the prefix for the format. For example:\n\n> .format: \"'.html'\"\n\nwhereas the class has:\n\n\"\"\" python\nclass TemplateHTMLRenderer(BaseRenderer):\n...\n    format = 'html'\n\"\"\"\n1. The docs don't give a suggestion as to what should \"format\" be set to when the \"media_type = 'image/*'\" or \"*/*\".\n"},{"labels":["documentation"],"text":"I'm using Django REST Framework for an API integration project (i.e. presenting a unified API that abstracts a subset of the APIs for multiple backend services), and aiming to keep the abstraction layer as stateless as possible.\n\nI think it's excellent for this purpose, but the regular ViewSet examples in the documentation all assume the use of local model objects, and so have required a bit reverse engineering to figure out the key patterns needed to implement my own custom ViewSet classes that work correctly with the rest of the framework (including the browsable API). So far I've figured out that the bare minimum is:\n- define a \"Serializer\" subclass, and set that as \"serializer_class\" on the custom ViewSet (this is needed to get the submission forms to appear correctly on the browsable API)\n- return \"Response(self.serializer_class(data, many=True).data)\" from list methods\n- return \"Response(self.serializer_class(data).data)\" from retrieve methods\n- to pass along an unstructured JSON blob retrieved from another API without parsing it locally, use a field definition like \"raw_data = serializers.DictField(read_only=True)\"\n\nI'm still figuring out the right implementation patterns for create, update, partial update, and destroy...\n\nAs far as where this could go in the documentation, it seems to me that the current \"Marking extra extractions for routing\" section in http://www.django-rest-framework.org/api-guide/viewsets/ could be broken up to have a preceding section on \"Integrating with Routers and the Browsable API\" that covers the default methods the routers look for, and how the browsable API generates the default forms.\n\nIf this seems reasonable, I'd be happy to work on a PR for it. \n"},{"labels":["documentation"],"text":"In the [Generic Relationships](http://www.django-rest-framework.org/api-guide/relations/#generic-relationships) section of the documentation, \"self.tag\" might need to be replaced with \"self.tag_name\". See below:\n\n![django_rest_generic_relationships](https://cloud.githubusercontent.com/assets/3136908/9634149/3caa7134-5145-11e5-956a-7216a2008f93.jpg)\n\nWith \"self.tag\", an AttributeError would be raised. See below:\n\n![tagged_item_object_no_tag_attribute](https://cloud.githubusercontent.com/assets/3136908/9634556/1ed4b65e-5147-11e5-9948-36b9d3e5af37.jpg)\n\n\"self.tag_name\" returns the expected admin\n"},{"labels":["documentation"],"text":"Feedback: Per your request for feedback, one thing that I still do is try to click a red text code item in the docs to navigate to the API for it. For example, it would be nice for the **APIView** to link to the details.\n\n![screen shot 2015-08-24 at 9 36 22 am](https://cloud.githubusercontent.com/assets/5033139/9441452/255f05c4-4a44-11e5-8ef0-98d8b0a04156.png)\n"},{"labels":["documentation"],"text":"<blockquote class=\"twitter-tweet\" lang=\"en\"><p lang=\"en\" dir=\"ltr\"><a href=\"https://twitter.com/_tomchristie\">@_tomchristie</a> maybe - certainly a quick glossary of key terms + a little detail on each might help too</p>&mdash; Steve Jalim (@stevejalim) <a href=\"https://twitter.com/stevejalim/status/634362634784088069\">August 20, 2015</a></blockquote>\n\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n"},{"labels":["documentation"],"text":"Requires support in MkDocs\n"},{"labels":["documentation"],"text":"If you field name \"title\" is defined so that it's not required\n\n\"\"\" python\ntitle = serializers.CharField(required=False)\n\"\"\"\n\nand you have \n\n\"\"\" python\ndef validate_title(self, title):\n  pass\n\"\"\"\n\nthen validate_title is never to be called on request:\n\n\"\"\" js\n{\n  \"something_but_not_title\": \"value\"\n}\n\"\"\"\n\nCause there will be a SkipField exception https://github.com/tomchristie/django-rest-framework/blob/master/rest_framework/fields.py#L436.\nIt may seem to be a correct behaviour and it's not documented http://www.django-rest-framework.org/api-guide/serializers/#validation.\nBut may be it's not correct. What do you think?\n"},{"labels":["documentation"],"text":"As per https://twitter.com/pydanny/status/633129209045479424\n"},{"labels":["documentation"],"text":"Apparently, there is no way to use has_object_permission with function based views that use the @api_view decorator.\n\nIdeally, there should be a way to do this, but if that won't be provided, then the docs should be reflected to indicate that CBVs and FBVs are not functionally equal in this regard.\n"},{"labels":["documentation"],"text":"As of 3.2 we now require Django 1.5 minimum - we should call this out in the release announcement.\n"},{"labels":["documentation"],"text":"I am not sure if this is a bug, or just a documentation issue, but in the quickstart guide it states:\n\n> For trivial cases you can simply set a model attribute on the ViewSet class and the serializer and queryset will be automatically generated for you. Setting the queryset and/or serializer_class attributes gives you more explicit control of the API behaviour, and is the recommended style for most applications.\n\nWhen I tried this using 3.1.0 however I get the following error:\n\n\"\"\"\nAssertionError: \"base_name\" argument not specified, and could not automatically determine the name from the viewset, as it does not have a \".queryset\" attribute.\n\"\"\"\n\nI had another project which is still using 2.3.8 and when I tried it there it worked fine.\n\nIn order to verify I didn't do anything wrong, I took the users examples from the [quickstart](http://www.django-rest-framework.org/tutorial/quickstart/#views) and turned it into a \"trivial\" example:\n\n\"\"\"\nclass UserViewSet(viewsets.ModelViewSet):\n    \"\"\"\n    API endpoint that allows users to be viewed or edited.\n    \"\"\"\n    model = User\n    # queryset = User.objects.all()\n    # serializer_class = UserSerializer\n\"\"\"\n\nThe error is very informative so kudos for that. Additionally the fix is pretty easy.  Since this works on 2.3.8 I wonder if that quote is left over from the older version, or if it should be refined to explain that in those simple cases you'll need a basename on the router entry?\n\nI don't consider this to be a major issue at all (especially given the ease of a fix given the very useful error message), but I thought I'd open this to help clarify the quickstart guide a little.\n"},{"labels":["documentation"],"text":"I quite often want to link to the \"perform_create\", \"perform_update\" and \"perform_destroy\" hooks in the [generic views documentation](http://www.django-rest-framework.org/api-guide/generic-views/#genericapiview), but the closest anchor above is \"#genericapiview\", which is a lot of scrolling away. The \"#mixins\" anchor is closer, but requires scrolling up.\n"},{"labels":["documentation"],"text":"The [documentation](http://www.django-rest-framework.org/api-guide/fields/#ipaddressfield) states that the IPAddressField takes \"unpack_ipv4\" as an argument, which is False by default and can only be used when protocol is 'both' (which is in line with Django's GenericIPAddressField).\n\nWhen I try to use this option, I get an exception: \n\n> TypeError: **init**() got an unexpected keyword argument 'unpack_ipv4'\n\nIt looks like \"IPAddressField.__init__\" sets unpack_ipv4 to True if the protocol is 'both' (which is contrary to the docs): https://github.com/tomchristie/django-rest-framework/blob/dee5fb56479edc05cd0dcc827607696e58710eda/rest_framework/fields.py#L683\n"},{"labels":["documentation"],"text":"The current design of rest framework doesn't seem to support object-level validations on partial updates. \n\nQuick example:\n\n\"\"\" python\nfrom rest_framework import serializers\n\nclass ItemInListSerializer(serializers.Serializer):\n    options=serializers.ListField()\n    item=serializers.CharField()\n\n    def validate(self, attrs):\n        options = attrs.get('options')\n        item = attrs.get('item')\n\n       if item not in options:\n            raise serializers.ValidationError('Item is not a valid option!')\n\n    def update(self, instance, validated_data):\n        instance.attributes = validated_data\n        return instance\n\n    def create(self, validated_data):\n        # create some object\n\"\"\"\n\nThis is just a toy example, but the issue should be pretty clear: if you're creating an object with the serializer, then \"attrs\" contains both \"options\" and \"item\", and the validations pass and the object is created. If you attempt a partial update to set \"item\" (for example), the \"validate\" method will always run before \"update\", and will always fail, because \"options\" does not exist.\n\nIs there any standard solution to this scenario? I could certainly write validations before anything gets to the serializer, or push them down into models, but it seems like (and correct me if I'm wrong) DRF is attempting to be that validation layer and, in theory, these validations should and could live on the serializer.\n\nAlso just to note, I'm not the only person with this problem, I found this on SO: http://stackoverflow.com/questions/28646454/django-rest-framework-partial-update-and-validation\n\nAny help would be appreciated! Thanks!\n"},{"labels":["documentation"],"text":"See #3049 for the initial motivation behind this.\n\nNeed to explain how this interacts with non-\"read_only\" fields, and describe why a dictionary is expected from \"to_internal_value\" in that case.\n"},{"labels":["documentation"],"text":"I've been wrestling with how to encode my ManyToManyField for a couple days.  One thing that makes it very difficult is the lack of any example in the documentation.  It's also frustrating that all the documentation on relations uses the same, reverse relation example: tracks.  So it's not even clear to me how to code up a forward relation and get the nested lists like the tracks lists.  Could someone add\n\na) a forward relation example?\nb) a ManyToMany example?\nc) more clarification to the ManyToMany section about the implications of setting the read_only flag and some hint about whether it is possible to get write behavior on ManyToMany fields with custom classes and some hint about how to go about that?\n\nNote that I'm about to give up on any nested representation of ManyToMany slugs and use a custom serializer to code up the list as a flat string.  I am also finding little documentation on how to create a custom field class, though.\n"},{"labels":["documentation"],"text":"It's taken me quite a bit of reading of the DRF documentation to get some idea what the read_only flag is supposed to do.  I think somewhere (but not in the section about the read_only flag) it says that read_only fields will not be treated as fields in model objects and will be ignored when creating or updating these objects.  Is that the essence?  Could the documentation be updated to explain what it does when you set it?\n"},{"labels":["documentation"],"text":"Was wondering why I couldn't see \"Exceptions\" under the API Guide section dropdown.\n\n![screen shot 2015-06-11 at 3 54 32 pm](https://cloud.githubusercontent.com/assets/83319/8116824/5a1a7e96-1052-11e5-8f18-67c687076407.png)\n\nWe could set it a height for it.\n![screen shot 2015-06-11 at 3 57 27 pm](https://cloud.githubusercontent.com/assets/83319/8116861/972df2fe-1052-11e5-93fb-27f55ad76448.png)\n\nAny better ideas?\n"},{"labels":["documentation"],"text":"I noticed that it is hard to find out which is the **current release version** (3.1.3 currently) when I visit [the website](http://www.django-rest-framework.org). I like to suggest that you add the most recent version to the **start page** so people do not have to search or go to this GitHub account.\n\n![website](https://cloud.githubusercontent.com/assets/144518/8078593/12499b36-0f5f-11e5-9b2a-4969c0bec97b.png)\n\nAlso the screenshot of the contains version \"2.0.0\" which might be misleading to a few users.\n"},{"labels":["documentation"],"text":"[django-rest-framework](http://www.django-rest-framework.org/api-guide/generic-views/)\n i read about method _get_filter_backends_, but in code i see that this module not exist  \n\n\"\"\" python\n    def filter_queryset(self, queryset):\n        for backend in list(self.filter_backends):\n                queryset = backend().filter_queryset(self.request, queryset, self)\n        return queryset \n\"\"\"\n\nis it norm?\n"},{"labels":["documentation"],"text":"If you have a nested serializer which model does have a unique constraint on a field you're not able to reference an existing instance.\n\n\"\"\"\nclass Task(serializers.ModelSerializer):\n    class Meta:\n        model = models.Task\n        fields = ('id', 'name')\n\n\nclass Category(serializers.ModelSerializer):\n    tasks = Task(many=True)\n    class Meta:\n        model = models.Category\n        fields = ('id', 'name', 'tasks')\n\"\"\"\n\nLet's say I created a category & task which I'm updating with the very same data they already have:\n\n\"\"\"\nc = Category(data={\"id\": 1, \"name\": \"Django\", \"tasks\": [{\"id\": 1, \"name\": \"Demo\", \"owner\": \"admin\"}]})\nc.is_valid()  # Returns False\nc.errors  # Returns {'tasks': [{'name': ['This field must be unique.']}]}\n\"\"\"\n\nThe point is, \"name\" remains unique because it matches its own \"id\" \n"},{"labels":["documentation"],"text":"Currently, the documentation site of django rest framework is not versioned. It caused much inconvenience to me, especially when I was reading a book whose code snippets use an older version of django rest framework. It would be great if drf's doc can be versioned (with links in every pages linking to different versions), just as how Python's official documentation and Django's documentation do it.\n"},{"labels":["documentation"],"text":"Many people have posted questions about the best way to hook into API views to add logging, e.g., https://groups.google.com/forum/#!topic/django-rest-framework/n7iZK2l4VB0. I've done this myself in a couple projects now, so I made a reusable app that implements the recommended strategy and saves the data to a db model:\n\nhttps://github.com/aschn/drf-tracking\n\nIf this package would be useful to others, it could be added to the docs somewhere. Not sure where would be best, though.. maybe [here](http://www.django-rest-framework.org/api-guide/views/#dispatch-methods)? \n"},{"labels":["documentation"],"text":"the doc for\n\n\"\"\"\ndef exception_handler(exc, context):\n\"\"\"\n\nsays:\n\n\"\"\"\nBy default we handle the REST framework \"APIException\", and also\nDjango's built-in \"ValidationError\", \"Http404\" and \"PermissionDenied\"\nexceptions.\n\"\"\"\n\nbut the part for ValidationError is missing\n"},{"labels":["documentation"],"text":"The view.action property on viewsets is useful for introducing dynamic behavior (eg modify serializer class depending on the action being invoked.)\n\nIt should be documented on the ViewSets page with an example of it's usage... http://www.django-rest-framework.org/api-guide/viewsets/\n"},{"labels":["documentation"],"text":"http://www.django-rest-framework.org/api-guide/relations/#nested-relationships\n\nThe docs have a great explanation for how to create nested relationships between serializers, but no explanation (that I can find) for how to use them.\n\nAs per the example above, lets say I have two querysets, one called 'album', and one called 'tracks'. How do I serialize these querysets into a single python object?\n\nI get that if they weren't nested you could just do:\n\nAlbumSerializer(album).data\nTrackSerializer(tracks, many=True).data\n\nBut how do you do this when they're nested and get back a single python object?\n"},{"labels":["documentation"],"text":"The class \"class MultipleOf:\" doesn't inherit from object. \nThis is a little confusing to people new to python. I think it would be worth documenting the syntax for inheriting from \"old-style\" python classes.\n\n\"\"\" python\nMultipleOf.__init__(self, *args, **kwargs)\n\"\"\"\n\ninstead of\n\n\"\"\" python\nsuper(<ClassName>, self).__init__(*args, **kwargs)\n\"\"\"\n"},{"labels":["documentation"],"text":"From the docs on generic views under [examples](https://github.com/tomchristie/django-rest-framework/blob/master/docs/api-guide/generic-views.md#examples), there is mention of support for passing a model keyword arg to \"as_view()\" like:\n\n\"\"\" Python\nurl(r'^/users/', ListCreateAPIView.as_view(model=User), name='user-list')\n\"\"\"\n\nHowever, that situation results in:\n\n\"\"\"\nListCreateAPIView() received an invalid keyword 'model'. as_view only accepts arguments that are already attributes of the class\n\"\"\"\n\nIs this behavior still supported on 3.x or is a doc fix needed here?\n"},{"labels":["documentation"],"text":"The documentation for [GenericAPIView](http://www.django-rest-framework.org/api-guide/generic-views/#genericapiview) shows that the function signature for \"get_serializer\" is \"get_serializer(self, instance=None, data=None, files=None, many=False, partial=False, allow_add_remove=False)\".\n\nThis implies that it should be possible to do something like this:\n\n\"\"\" python\nclass TestViewSet(viewsets.ModelViewSet):\n    serializer_class = TestModelSerializer\n    def get_serializer(self, instance=None, data=None, files=None, many=False,  \n                       partial=False, allow_add_remove=False):                     \n        # Do custom stuff here                                                     \n        return super(TestViewSet, self).get_serializer(instance=instance, data=data,\n                                                       files=files, many=many, partial=partial,\n                                                       allow_add_remove=allow_add_remove)\n\"\"\"\n\nHowever, this fails with \"TypeError: __init__() got an unexpected keyword argument 'files'\" (and the same message for \"allow_add_remove\" if \"files\" is removed).\n\nIf those two parameters are removed, list and detail endpoints fail with \"AssertionError: When a serializer is passed a\"data\"keyword argument you must call\".is_valid()\"before attempting to access the serialized\".data\"representation.\" This is because the ListModelMixin and RetrieveModelMixin calls \"self.get_serializer(instance)\" rather than \"self.get_serializer(instance=instance)\".\n\nI'm not exactly sure what the best resolution for this is; I expect that \"allow_add_remove\" and \"files\" may be used in other places such that removing them from the documentation would be inappropriate. However, it seems that the \"GenericAPIView\" should allow subclasses to call e.g. \"serializer = self.get_serializer(files=files)\" without raising errors, which doesn't appear to be the case currently.\n\nSimilarly, the AssertionError above is surprising since there is no indication in the documentation that \"get_serializer\" will be called with an object instance as an argument rather than a keyword argument.\n"},{"labels":["documentation"],"text":"Hello,\n\nI'm having some trouble clearing a \"ManyToMany\" field in a multipart PATCH request. \n\nIn a JSON request, I would clear my \"ManyToMany\" field, \"'many_to_many_field'\" by PATCHing something like:\n\n\"\"\" json\n{\"many_to_many_field\": []}\n\"\"\"\n\nHowever, in a multipart PATCH request, sending values including \"'[]'\", \"''\", \"'null'\", \"'None'\",  etc all yield the following error:\n\n\"\"\" python\n[\"Incorrect type. Expected pk value, received unicode.\"]\n\"\"\"\n\nIt seems that [\"ManyRelatedField.get_value()\"](https://github.com/tomchristie/django-rest-framework/blob/master/rest_framework/relations.py#L344-L354) does not recognize any of those options as special indicators of \"empty\".\n"},{"labels":["documentation"],"text":"Unlike the documentation suggests, the function \"exception_handler\" does not actually handle Django's built-in ValidationError.\n\nhttps://github.com/tomchristie/django-rest-framework/blob/master/rest_framework/views.py#L52\n"},{"labels":["documentation"],"text":"When checkbox is checked, field is passed to validated_data, but when checkbox is unchecked, field is omitted.\n"},{"labels":["documentation"],"text":"It seems that the methods get_paginated_response and get_pagination_serializer are the same yet the real method that is implemented is get_paginated_response and get_pagination_serializer is referred to a number of times in the docs:\n\nhttp://www.django-rest-framework.org/api-guide/viewsets/#marking-extra-actions-for-routing\nhttp://www.django-rest-framework.org/api-guide/generic-views/#genericapiview\n"},{"labels":["documentation"],"text":"You should mention in the docs that it is possible to raise ValidationError in \"perform_create\" and \"perform_update\" to cancel the save if it can't succeed.  \nFor exemple :  \nWe have a \"OneToOneField\" linking a model and an user. If the model already exists we can't do \"serializer.save(user=self.request.user)\"\n"},{"labels":["documentation"],"text":"A 500 occurs when I try to use this renderer and I do not have permissions to the view\n\nException Type: AttributeError\nException Value:    'dict' object has no attribute 'serializer'\n\nIn the render method it looks for the serializer that is normally attached to the data (https://github.com/tomchristie/django-rest-framework/blob/master/rest_framework/renderers.py#L333), but cannot find it when a permission or nonauthenticated exception is raised.\n"},{"labels":["documentation"],"text":"Clicking the [\"please see the version 2.x documentation\"](http://www.django-rest-framework.org/topics/release-notes/) link on the bottom of the release notes page returns 404.\n"},{"labels":["documentation"],"text":"I think the documentation would be improved by more information on the benefits of each feature, rather than just how to implement it.\n\nBefore getting into examples, I'll briefly describe my personal use case for some context:\n\nI got into DRF mainly because we wanted JWT auth for Django. We are building an API for our angular front end, but it's not going to be a public API (at first), so we don't necessarily get a ton of benefit from being able to serialize into formats other than JSON. We are using Django's ORM, but on some of our endpoints we're doing some complex validation and transformation of data coming from the client before we can store it.\n\nSpecific examples:\n\n1) Serializers - there are dozens of pages of documentation on serializers, but only a couple paragraphs about the actual benefits. I'm trying trying to figure out the best practices on:\n- When to use vs. not use serializers.\n- More information on the benefits that serializers provide.\n- Best practices and examples of endpoints that use DRF without serializers.\n\n2) \"Most of the time you're dealing with validation in REST framework you'll simply be relying on the default field validation, or writing explicit validation methods on serializer or field classes.\"\n\nThis could really be expanded into a paragraph or two. E.g. when should you rely on default field validation, vs. writing explicit validation methods. \n\n3) How do serializer relationships correspond with model relationships? E.g. if I have two models with a relationship, do my serializers need to reflect that relationship? Can I have extra relationships between serializers that aren't in my models? If so, what are the benefits as opposed to having the relationship in the models.\n\nMost of the docs and tutorial material assume that you're going to be on the 'happy path' of having a model and turning some of the fields on that model into an endpoint. And even if that's true for most of your endpoints, inevitably most apps are going to have some endpoints where you're going to need to do things that don't fit into this model. More guidance here on best practices would be super useful.\n"},{"labels":["documentation"],"text":"Time to remove the 'docs for 3.0' banners from API guide pages, and only continue including on the homepage and GitHub README.\n\nThe text for those should also change, now that we're on 3.1.\n\n![screen shot 2015-03-06 at 23 15 30](https://cloud.githubusercontent.com/assets/647359/6538178/d206a76a-c456-11e4-82a7-4782deba66fd.png)\n"},{"labels":["documentation"],"text":"Saw the announcement and looks like some great improvements. Thanks!\n\nhttp://www.django-rest-framework.org/api-guide/serializers/\n\nhttps://github.com/tomchristie/django-rest-framework/blob/master/docs/api-guide/serializers.md :1017\n\n\"Customizing the default fields\"\nMakes reference to a part of the 3.0 which has now been updated in 3.1.\n"},{"labels":["documentation"],"text":"As per a previous conversation with @tomchristie, we're wondering if we should be recommending [djangorestframework-jwt](http://getblimp.github.io/django-rest-framework-jwt/) as a preferred package for _proper_ token authentication.\n"},{"labels":["documentation"],"text":"The \"rest_framework.views.exception_handler\" method is defined as [1]:\n\n\"\"\"\ndef exception_handler(exc, context):\n    ...\n\"\"\"\n\nWhich requires a context parameter that is never used in the method itself.  I would suggest either removing the context param, or adding **kwargs instead so no context has to be passed.\n\nOr add documentation as to why it would be needed there or what it even is.\n\n[1] https://github.com/tomchristie/django-rest-framework/blob/4248a8d3fc725d9ae3fe7aaaad7ee12479ab07ab/rest_framework/views.py#L52\n"},{"labels":["documentation"],"text":"Link at \"http://www.django-rest-framework.org/api-guide/testing/#apiclient\" is dead.\nThe one at \"Extends Django's existing Client class.\". It should point to \"https://docs.djangoproject.com/en/dev/topics/testing/tools/#the-test-client\"\n\nAlso \"The APIClient class supports the same request interface as APIRequestFactory.\" should have been \"The APIClient class supports the same request interface as Client.\"?\n"},{"labels":["documentation"],"text":"https://github.com/tomchristie/django-rest-framework/blob/master/docs/tutorial/1-serialization.md#creating-a-serializer-class\n\nThe section on creating a serializer class has a line saying \n\n\"The {'base_template': 'textarea.html'} flag above is equivelent to using widget=widgets.Textarea ....\"\nThe example actually however has \n\"code = serializers.CharField(style={'type': 'textarea'})\"\n"},{"labels":["documentation"],"text":"As stated [here](http://www.django-rest-framework.org/api-guide/exceptions/), all error responses based on \"APIException\" should include a \"detail\" key in the response body.\n\nBecause of the special handling of \"list\" and \"dict\" in \"exception_handler(exc)\" (see [here](https://github.com/tomchristie/django-rest-framework/blob/master/rest_framework/views.py#L67)) this is not the case for ValidationErrors.\n\nI think the behavior should be changed, such that \"dict\" and \"list\" details are also wrapped in a \"detail\" key.\n"},{"labels":["documentation"],"text":"See: https://github.com/tomchristie/django-rest-framework/blob/master/docs_theme/404.html#L64\n\nPossibly also see https://github.com/tomchristie/mkdocs/issues/77 may not be as simple as adding the nav in.\n"},{"labels":["documentation"],"text":"I just realized the nested section should be extended. There are some questions about it and it isn't that documented (#2309 for example).\n"},{"labels":["documentation"],"text":"In the /tutorial/1-serialization/ documentation it says to do the following.\n\n\"\"\" python\n# This import will use either \"StringIO.StringIO\" or \"io.BytesIO\"\n# as appropriate, depending on if we're running Python 2 or Python 3.\nfrom rest_framework.compat import BytesIO\n\nstream = BytesIO(content)\ndata = JSONParser().parse(stream)\n\"\"\"\n\nHowever I'm getting this ...\n\n\"\"\" console\n>>> from rest_framework.compat import BytesIO\nTraceback (most recent call last):\n  File \"<console>\", line 1, in <module>\nImportError: cannot import name BytesIO\n>>> import rest_framework\n>>> print(rest_framework.VERSION)\n3.0.1\n\"\"\"\n"},{"labels":["documentation"],"text":"Hello,  \nI just found something confusing while reading the docs about generic relations in the serializer relations section :  \n![rest_typo](https://cloud.githubusercontent.com/assets/5165169/5446969/169bf774-84c7-11e4-901b-d8814df2b4c5.png)\n\nThe sentence mentions the \".to_native()\" method while the example code shows \"def to_representation()\".\n\nBtw, thank you for your wonderful work !\n"},{"labels":["documentation"],"text":"Using [i18n_patterns](https://docs.djangoproject.com/en/dev/topics/i18n/translation/#django.conf.urls.i18n.i18n_patterns) as the following:\n\n\"\"\" python\nurlpatterns = i18n_patterns('',\n    url('news', 'myviews.news', name='news')\n)\nurlpatterns = format_suffix_patterns(urlpatterns)\n\"\"\"\n\nBreaks the [LocaleMiddleware](https://docs.djangoproject.com/en/dev/ref/middleware/#django.middleware.locale.LocaleMiddleware)'s assumption that localized urls are resolved using the \"LocaleRegexURLResolver\" class resulting in:\n\n\"\"\" python\n>>> from django.core.urlresolvers import reverse\n>>> from django.utils.translation import activate\n>>> reverse('news')\n'/en-us/news/'\n>>> activate('ja')\n>>> reverse('news')\n'/en-us/news/' # The returned value should be /ja/news/\n\"\"\"\n\nRemoving the call to \"format_suffix_patterns\" causes the reverse method to resolve the URLs correctly.\n\n\"\"\" python\nurlpatterns = i18n_patterns('',\n    url('news', 'myviews.news', name='news')\n)\n\"\"\"\n\n\"\"\" python\n>>> from django.core.urlresolvers import reverse\n>>> from django.utils.translation import activate\n>>> reverse('news')\n'/en-us/news/'\n>>> activate('ja')\n>>> reverse('news')\n'/ja/news/'\n\"\"\"\n\nCould this be fixed and backported to 2.4?\n"},{"labels":["documentation"],"text":"If the API requires a hyperlinked relationship that does not have a single \"lookup_field\" then the user will need to create a custom relationship in order to handle this. We should document an example of how to do this.\n"},{"labels":["documentation"],"text":"We should outline our project managment processes.\n- To help contributors see what they need to do to become maintainers.\n- In order to help current and future maintainers.\n- In order to codify everything and ensure transparency.\n- In order to demonstrate  the increasing bus-factor of the project and show that we've moving towards long-term stability.\n\nIn particular we should document our policy on selecting and renewing the maintenance team, see #2190. And our release process, see #2233.\n"},{"labels":["documentation"],"text":"Opening this pre-emptively so that we don't forget.\n- \"README.md\"\n- \"docs/index.md\"\n- \"rest_framework/__init__.py\"\n"},{"labels":["documentation"],"text":"There is almost no documentation about what \"has_permission\" is for. The permission documentation page directly jumps to \"Object level permissions\"\n"},{"labels":["documentation"],"text":"As for this morning, the tutorial code is broken on master.\nIdeally we should find a way to have some tests against it.\n"},{"labels":["documentation"],"text":"We should add .validated_data here. Opening the issue as I've not had time to check what it would return, but wanted to make sure we track this...\n\n\"\"\"\nserializer = SnippetSerializer(data=data)\nserializer.is_valid()\n# True\nserializer.save()\n# <Snippet: Snippet object>\n\"\"\"\n"},{"labels":["documentation"],"text":"Working through [Django Rest Framework Tutorial - Serialization](http://www.django-rest-framework.org/tutorial/1-serialization/)\n\nIn \"SnippetSerializer(serializers.Serializer)\":\n\n\"\"\" python\ntitle = serializers.CharField(required=False, max_length=100)\n\"\"\"\n\nGives an error: \"('title': ['This field may not be blank.'])\"\n\nModel:\n\n\"\"\" python\n# Added null=True to see if that had any effect which it did not.\ntitle = models.CharField(max_length=100, blank=True, null=True, default='') \n\"\"\"\n\n\"\"\" python\nPython 3.4.2 (default, Nov 20 2014, 15:46:21) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.54)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n(InteractiveConsole)\n>>> from snippets.models import Snippet\n>>> from snippets.serializers import SnippetSerializer\n>>> from rest_framework.renderers import JSONRenderer\n>>> from rest_framework.parsers import JSONParser\n>>> snippet = Snippet(code='foo = \"bar\"\\n')\n>>> snippet.save()\n>>> snippet = Snippet(code='print \"hello, world\"\\n')\n>>> snippet.save()\n>>> serializer = SnippetSerializer(snippet)\n>>> serializer.data\nReturnDict([('pk', 5), ('title', ''), ('code', 'print \"hello, world\"\\n'), ('linenos', False), ('language', 'python'), ('style', 'friendly')])\n>>> content = JSONRenderer().render(serializer.data)\n>>> content\nb'{\"pk\":5,\"title\":\"\",\"code\":\"print \\\\\"hello, world\\\\\"\\\\n\",\"linenos\":false,\"language\":\"python\",\"style\":\"friendly\"}'\n>>> from rest_framework.compat import BytesIO\n>>> stream = BytesIO(content)\n>>> data = JSONParser().parse(stream)\n>>> serializer = SnippetSerializer(data=data)\n>>> serializer.is_valid()\nFalse\n>>> serializer.errors\nReturnDict([('title', ['This field may not be blank.'])])\n>>> \n\"\"\"\n"},{"labels":["documentation"],"text":"The search button on the old docs archive returns results from the new 3.0 docs.\n"},{"labels":["documentation"],"text":"Problem:\nIt seems as though the code listed under the .update() method for nested serializers in /docs/api-guide/serializers.md might be potentially incorrect. The variable 'user' does not exist in the method's context, and looking at the internals for the .update() method on the ModelSerializer class - it seems as though 'user' might really want to be 'instance'. I _think_ the flow is that instance is the model object that you are potentially updating, and the validated data is what your going to potentially update the model object 'instance' with in the scope of the function. The earlier documentation on that page also seems to suggest that you want to be using 'instance' inside the nested .update() function. \n\nCurrent Documentation:\nHere's an example for an update() method on our previous UserSerializer class.\n\n\"\"\"\ndef update(self, instance, validated_data):\n    profile_data = validated_data.pop('profile')\n    # Unless the application properly enforces that this field is\n    # always set, the follow could raise a \"DoesNotExist\", which\n    # would need to be handled.\n    profile = instance.profile\n\n    user.username = validated_data.get('username', instance.username)\n    user.email = validated_data.get('email', instance.email)\n    user.save()\n\n    profile.is_premium_member = profile_data.get(\n        'is_premium_member',\n        profile.is_premium_member\n    )\n    profile.has_support_contract = profile_data.get(\n        'has_support_contract',\n        profile.has_support_contract\n     )\n    profile.save()\n\n    return user\n\"\"\"\n\nBecause the behavior of nested creates and updates can be ambiguous, and may require complex dependancies between related models, REST framework 3 requires you to always write these methods explicitly. The default ModelSerializer .create() and .update() methods do not include support for writable nested representations.\n\nPotential Rework:\n\n\"\"\"\ndef update(self, instance, validated_data):\n    profile_data = validated_data.pop('profile')\n    # Unless the application properly enforces that this field is\n    # always set, the follow could raise a \"DoesNotExist\", which\n    # would need to be handled.\n    profile = instance.profile\n\n    instance.username = validated_data.get('username', instance.username)\n    instance.email = validated_data.get('email', instance.email)\n    instance.save()\n\n    profile.is_premium_member = profile_data.get(\n        'is_premium_member',\n        profile.is_premium_member\n    )\n    profile.has_support_contract = profile_data.get(\n        'has_support_contract',\n        profile.has_support_contract\n     )\n    profile.save()\n\n    return instance\n\"\"\"\n"},{"labels":["documentation"],"text":"Opened issued to not forget it.\n\nFrom IRC:\n\n\"\"\"\ntomchristie > Maybe worth raising an issue on https://github.com/jpadilla/django-rest-framewo... that it should also point to OAuth toolkit as an alternative on the README.me and index.md?\nmaryokhin > wouldn't it be a bit confusing to go to that package and then find you're supposed to use the other one? \nmaybe just point in DRF docs that recommended now is oauth-toolkit, \nbut here's the thingy we moved out of core for those that don't want to stir up life too much? \ntomchristie > That's exactly how we should describe it, yes ^\n\"\"\"\n"},{"labels":["documentation"],"text":"Imports are missing in various places in the documentations and is frustrating for beginners. Update documentation in one of two ways:\n- have imports in every example\n  _OR_\n- have general import indications at the beginning of each topic, e.g. at validators topic something like \"Validators can be imported from rest_framework.validators\"\n"},{"labels":["documentation"],"text":"I create a barebones \"ModelSerializer\" for a model with a required \"ForeignKey\" to \"User\". Intending to set the relation in \"perform_create\" I add the field to the \"read_only_fields\" Meta attribute. \n\nIf I do nothing else I get an AssertionError as the auto generated field is:\n\n\"\"\"\nPrimaryKeyRelatedField(read_only=True, required=True)\n\"\"\"\n\nOK. Rightly this doesn't make sense. \n\nBut I here need to declare the \"PrimaryKeyRelatedField\" in order to set \"required=False\" manually. Better would be that setting \"read_only=True\" makes \"required=False\".\n\nNo problem at all putting a test together for this. I haven't looked re a fix.\n"},{"labels":["documentation"],"text":"It's a useful pattern for raising \"serializers.ValidationError\" with a message take from the \"error_messages\" dictionary. We should promote it to public API.\n"},{"labels":["documentation"],"text":"Including, but not necessarily limited to:\n- Textarea vs input for string inputs.\n- Radio vs select for choices, and for relations.\n- Ensure boolean fields support choice styles.\n\nPrimarily documentation, but may also include some development work on finalizing the API.\n"},{"labels":["documentation"],"text":"Hi there so my question is probably about best practices when organizing ViewSets and the corresponding Routers in Django Rest Framework.\n\nAccording to the official documentation, the routers should be stored in the urls.py and the viewsets should be stored in views.py.\n\nMy idea of an approach would be having the viewsets in a separate file like for example viewsets.py so that we don't end up mixing the normal Django views and the DRF Viewsets in the same file, improving readability.\n\nThe same would go for the routers where we would creaate a file called routers inside each app and register then with the main Default router instance.\n\nThese are my thoughts, but i am not sure how to:\n\n1º Do this the proper way (the registering of the viewsets routers and all, should i place DefaultROuter in the **init**.py ?)\n\n2º Is there a better approach?\n\nBasically i want to separate the logic per app and inside each app separate by django views and DRf viewsets\n"},{"labels":["documentation"],"text":"It's probably time for a refresh of the homepage.\n\nGiven that REST framework is being used by folks like Mozilla, Eventbrite, Heroku, Sentry, Disqus, Ansible we really should make the best of highlighting this.\n\nWe could also consider if we need a simpler \"@api_view\" type example or if we need to refresh the example in any way.\n\nDrop the twitter badge in favor of a PyPI version badge.\n"},{"labels":["documentation"],"text":"I've found myself digging through the source code of rest_framework a lot to really get a grasp on how DRF processes a requests; sometimes I'm unsure of who calls what.\n\nTasty pie has an [excellent writeup on the its general flow from request to response flow for a simple GET request](http://django-tastypie.readthedocs.org/en/latest/resources.html#flow-through-the-request-response-cycle):\n\n> - The Resource.urls are checked by Django’s url resolvers.\n> - On a match for the list view, Resource.wrap_view('dispatch_list') is called. wrap_view provides basic error handling & allows for returning serialized errors.\n> - Because dispatch_list was passed to wrap_view, Resource.dispatch_list is called next. This is a thin wrapper around Resource.dispatch.\n> - dispatch does a bunch of heavy lifting. It ensures:\n>   - the requested HTTP method is in allowed_methods (method_check),\n\nDRF has excellent documentation for many of its individual components; it would be tremendously helpful if DRF had a page that outlined, generally, how the package works.  What is the general flow of the innards--how does DRF process a typical request --> response?\n\nThanks @tomchristie for such an excellent package!\n"},{"labels":["documentation"],"text":"In 2.x save_object was documented as follows:\n\n> You can override the default save behaviour by overriding the .save_object(obj) method on the serializer class.\n\nsave_object is no longer available in 3.x. Whilst it's not a big issue to override save, create or update depending on your need, it might be worth mentioning in the release notes to ease migration?\n"},{"labels":["documentation"],"text":"Nicer and more usable than curl.\n\nhttps://github.com/jakubroztocil/httpie\n"},{"labels":["documentation"],"text":"We don't currently document that we support translatable error messages or detail how a client or the developer can select the language. We should also ensure that we are wrapping everything in proper translation strings consistently.\n"},{"labels":["documentation"],"text":"Include some examples of dealing with nested serialization, including demonstrations of cases when automatic behaviors would be ambiguous.\n\nRelated to this: consider if and how we support something similar to allow_add_remove.\n"},{"labels":["documentation"],"text":"Typically I would consider this sort of thing as out of scope, but given the large ecosystem we're encouraging I think this would actually be worth the effort/reward.\n- Document writing and publishing third party packages.\n- Include cookiecutter with sane \"setup.py\", \"runtests.py\", \"MAINFEST.in\", \"tox.ini\", \".travis.yml\" etc. etc. to make it super easy for package authors to push a new package.\n\nRight now the barrier to new packages is simply too high. If we could bring that down we could encourage more folks to publish their own base classes, and have a better story when asking tickets for built-in functionality to be closed in favour of a more distributed ecosystem.\n"},{"labels":["documentation"],"text":"Right now the docs for the special value just say:\n\n> The value source='*' has a special meaning, and is used to indicate that the entire object should be passed through to the field. This can be useful for creating nested representations. (See the implementation of the PaginationSerializer class for an example.)\n\nAnd as far as the \"PaginationSerializer\", the entire [implementation is just this](https://github.com/tomchristie/django-rest-framework/blob/b106ebd2c0a19107f12d5b87cfbe0083aaaa60b9/rest_framework/pagination.py#L77).\n\nWhat exactly does the \"*\" do and what would happen in the case of \"PaginationSerializer\" if it were omitted? \n"},{"labels":["documentation"],"text":"See discussion in #1994.\n\nReiterating my comment there...\n\nStrongly in favour of documenting something like this...\n\n\"\"\"\ndef obj_to_representation(self, obj):\n      return dict([(f.field_name, f.to_representation(getattr(obj, f.field_name)))\n                        for f in self.fields.values()])\n\"\"\"\n\nNot sure about pulling the source into the package tho - rather call it out very explicitly as an example, but _force_ folks to deal with any of the subtleties of the limitations it introduces themselves. Pulling it into core we'd almost certainly get 'but it doesn't work in XYZ case' etc...\n\nThis would also be a good conversation to have around where we introduce \"BaseSerializer\"...\n\nhttps://github.com/tomchristie/django-rest-framework/blob/version-3.0/docs/topics/3.0-announcement.md#the-baseserializer-class\n\nNoting that you  don't always need to be using \"BaseSerializer\" in order to get big performance improvements.\n"},{"labels":["documentation"],"text":"The project maintainers should be properly called out in the documentation.\nThat could either be in the credits, in the README/homepage, or in the contributing section.\n(Or most likely several of the above places)\n\nWe also need to codify the privileges, responsibilities and processes of maintainership in the documentation, so that it's transparent and to reduce bus-factor.\n"},{"labels":["documentation"],"text":"Currently relationships do not automatically apply the same set of permissions and filtering that are applied to views. If you need permissions or filter on relationships you need to deal with it explicitly.\n\nPersonally I don't see any good ways of dealing with this automatically, but it's obviously something that we could at least do with documenting better.\n\nRight now my opinion is that we should try to come up with a simple example case and document how you'd deal with that explicitly. Any automatic code for dealing with this should be left for third party package authors to handle. This allows other contributors to explore the problem and see if they can come up with any good solutions that could potentially be included in core.\n\nIn the future this issue might get promoted from 'Documentation' to 'Enhancement', but unless there's any concrete proposals that are backed up by a third part package then it'll stay in this state.\n"},{"labels":["documentation"],"text":"In both the generic view and serializer sections we need to make sure we're pointing out appropriate usage of \"select_related\"/\"prefetch_related\".  (To review: is there anything in there at the moment?)\n\nAlso see #1976.\n"},{"labels":["documentation"],"text":"General style & usage tips etc. Including:\n- Good API style.\n- querysets and \"select_related\", \"prefetch_related\", \"only\".\n- DB indexes, particularly wrt filters, relationships, view lookups.\n- Model encapsulation.\n- Thin serializers, thick models.\n- Avoid mixins where possible.\n- Don't set instance attributes on views.\n"},{"labels":["documentation"],"text":"I get this error:\n\n\"\"\"\nTraceback (most recent call last):\n  File \"./mkdocs.py\", line 149, in <module>\n    main_title = main_title + ' - Django REST framework'\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\n\"\"\"\n"},{"labels":["documentation"],"text":"If I run \"tox\" — to test everything — followed by \"runtests.py\" — to test what I'm working on more quickly — I get a \"ValueError\" (or lots of them) as \"pytest\" tries to collect tests. \n\n\"\"\"\n../../../.pyenv/versions/drf2.7/lib/python2.7/site-packages/py/_path/local.py:642: in pyimport\n    __import__(modname)\n../../../.pyenv/versions/drf2.7/lib/python2.7/site-packages/_pytest/assertion/rewrite.py:134: in find_module\n    co = _read_pyc(fn_pypath, pyc)\n../../../.pyenv/versions/drf2.7/lib/python2.7/site-packages/_pytest/assertion/rewrite.py:311: in _read_pyc\n    co = marshal.load(fp)\nE   ValueError: bad marshal data (unknown type code)\n\"\"\"\n\nNoting the \"in _read_pyc\" I resolve the issue simply: \n\n\"\"\"\n $ find . -name '*.pyc' -delete\n\"\"\"\n\nI'm just wondering if this would be handy as part of \"runtests.py\"? (Anyone else bumping into this?)\n\nIf so I'm happy to make the pull request. If not do close. \n"},{"labels":["documentation"],"text":"Hi,\nI'm building an API that needs Hyperlinked Relations and some Object Permissions which are handled well by Django Guardian. While I was doing some tests, I saw that Rest Framework doesn't check if I have the permissions to update an object posted as related.\n\nLet's say I got these two models in Django : \n\n\"\"\" python\nclass Identity(models.Model):\n    name = models.CharField(_('name'), max_length=250, blank=False, null=False)\n\nclass Contact(models.Model):\n    identity = models.ForeignKey(Identity, null=False, related_name='contact_methods')\n    value = models.CharField(_('value'), max_length=250, blank=False)\n\"\"\"\n\nand these serializers : \n\n\"\"\" python\nclass IdentitySerializer(HyperlinkedModelSerializer):\n\n    class Meta:\n        model = Identity\n        fields = ('url',\n                  'name',)\n\nclass ContactSerializer(HyperlinkedModelSerializer):\n\n    class Meta:\n        modal = Contact\n        fields = ('url',\n                  'value',\n                  'identity',)\n\"\"\"\n\nNow let's imagine that in my App there are a lot of identities, but I can only access mine thanks to Django Guardian. Let's say that the URL of my identity is : \nhttp://api.example.com/identities/1\nI'm supposed to have the permission to update only this identity.\nNow if I make a POST request of a Contact object with this URL as 'identity' field, this should work: \n\n\"\"\" bash\ncurl -X POST\n    -L http://api.example.com/contacts/\n    -H 'Authorization: Token 78087744a51bd55c5145ea6110422f053dd31a6e'\n    -H 'ContentType: application/json'\n    --data '{\"value\": \"555-555-555\", \"identity\": \"http://api.example.com/identities/1\"}'\n\"\"\"\n\nand we expect this one to fail because we don't have the permissions on the identity 46747\n\n\"\"\" bash\ncurl -X POST\n    -L http://api.example.com/contacts/\n    -H 'Authorization: Token 78087744a51bd55c5145ea6110422f053dd31a6e'\n    -H 'ContentType: application/json'\n    --data '{\"value\": \"555-555-555\", \"identity\": \"http://api.example.com/identities/46747\"}'\n\"\"\"\n\nBut the two requests succeed, and the second object gets updated without having permission on it.\nI looked up into the Rest Framework code to know where exactly the problem is, and I came up on this method in **relations.py** : \n\n\"\"\" python\n    def get_object(self, queryset, view_name, view_args, view_kwargs):\n        \"\"\"\n        Return the object corresponding to a matched URL.\n\n        Takes the matched URL conf arguments, and the queryset, and should\n        return an object instance, or raise an \"ObjectDoesNotExist\" exception.\n        \"\"\"\n        lookup = view_kwargs.get(self.lookup_field, None)\n        pk = view_kwargs.get(self.pk_url_kwarg, None)\n        slug = view_kwargs.get(self.slug_url_kwarg, None)\n\n        if lookup is not None:\n            filter_kwargs = {self.lookup_field: lookup}\n        elif pk is not None:\n            filter_kwargs = {'pk': pk}\n        elif slug is not None:\n            filter_kwargs = {self.slug_field: slug}\n        else:\n            raise ObjectDoesNotExist()\n\n        return queryset.get(**filter_kwargs)\n\"\"\"\n\nThere isn't any implementation of permissions checking here. The framework just checks if the object exists on a given URL and that's all.\n\nFor the moment I made a little patch on my App by rewriting the create methods of my ContactViewSet and manually checking if the user has the permission by getting the object myself and performing a \"user.has_perm(obj, 'can_update_object')\" on it but I think this isn't clean at all. \nDo you have any other suggestions to fix this ?\n\nFor the long term, is there any implementation of permission checking on related objects planned ?\n"},{"labels":["documentation"],"text":"URL confs do not use \"url\" in 1.7+\nWe should update the tutorial and include an explicit note that it is against 1.7.\n"},{"labels":["documentation"],"text":"At some point in the past we stopped being consistent in adding contributers [to the credits](http://www.django-rest-framework.org/topics/credits), and eventually gave up on adding anyone at all, due to:\n- Wasn't clear if we should add folks for single-character docs fixes.\n- Not clear if we add someone if they did some work, that got rolled into a subsequant PR from someone else.\n- We simply had too many ! :) new contributions and it was awkward updating that page all the time.\n\nWe need to decide what to do with this page.\nGitHub's [list of contributors](https://github.com/tomchristie/django-rest-framework/graphs/contributors) only includes 100 people of 291. Can we get everyone through the GitHub API. Do we want to try to update that page all the time or is it too difficult? What process do we use for updating the page if we do want to? Perhaps just include text on that page saying something along the lines of \"If you've made a contribution to Django REST framework please feel free to make a pull request adding yourself to this list\" etc.etc.\n\nFor context:\n\n![screen shot 2014-09-05 at 13 05 54](https://cloud.githubusercontent.com/assets/647359/4164475/168510e4-34f5-11e4-99f1-8868795d8034.png)\n...[continues]\n"},{"labels":["documentation"],"text":"Docs say rest_framework.authtoken has Django 1.7-compatible migrations, but this is only true for Github. The canonical version on PyPi does not. Either the docs should be reverted, or a new release should be pushed.\n"},{"labels":["documentation"],"text":"Currently the documentation is built using the \"mkdocs.py\" script in the repo.\nThis is pretty hacky. It's awkward to add new sections and easy to miss something when you do add a new section. We should move to using [MkDocs](http://mkdocs.org), for the documentation, as be a better supported, cleaner version of the current script.\n\nUsing MkDocs will also allow us to use richer interlinking, once it properly supports nicer topic links, and will make it easier for us to notice when links are broken or missing etc...\n\nWe could either use the MkDocs default theme, or stick with the existing style, as a custom MkDocs theme.\n\nTo do (for anyone): Build the current docs with \"MkDocs\", figure out what features we're still missing, which parts of the docs will need work etc...\n"},{"labels":["documentation"],"text":"1)\nI believe that \"data\" is a list here so if there is an exception, then this assignment will fail:\n\n\"\"\"\n    def resolve_context(self, data, request, response):\n        if response.exception:\n            data['status_code'] = response.status_code\n        return RequestContext(request, data)\n\"\"\"\n\n2) These dict reads use \"[ ]\" rather than \"get\" so will fail if \"renderer_context\" is null or empty when passed in even with the \"or\":\n\n\"\"\"\n        renderer_context = renderer_context or {}\n        view = renderer_context['view']\n        request = renderer_context['request']\n        response = renderer_context['response']\n\"\"\"\n\n3) There is no documentation on how to write a template that works with this renderer. Specifically it is not clear what gets set in the context. \n\n4) I actually think that nothing gets set in the context and this render should be fixed as (at least for Listing):\n\n\"\"\"\nclass TemplateHTMLRenderer2(TemplateHTMLRenderer):\n    def context_object_name(self, renderer_context):\n        renderer_context = renderer_context or {}\n        view = renderer_context['view']\n\n        if hasattr(view, 'get_context_object_name'):\n            return view.get_context_object_name()\n        elif hasattr(view, 'context_object_name'):\n            return view.context_object_name\n\n    def render(self, data, accepted_media_type=None, renderer_context=None):\n        data = {self.context_object_name(renderer_context): data}\n        return super(TemplateHTMLRenderer2, self).render(data, accepted_media_type, renderer_context)\n\"\"\"\n"},{"labels":["documentation"],"text":"I find that, particularly when it comes to POST methods, that I often need a different serializer for input than for output. E.g., for a a particular model I may need only two or three input values, but the server will calculate/retrieve/whatever some additional values for fields on the model, and all those values need to get back to the client.\n\nSo far, my method has been to override \"get_serializer_class()\" to specify a separate input serializer for the request, and then override \"create()\" to use a different serializer for my output. That pattern works, but it took me some time to figure it out because the docs don't  really suggest that option; the assumption that the generic APIViews are built around is that you specify one serializer and that is used for both input and output. I agree this generally works in the common case, but using my method breaks a little bit of the CBV magic. In particular, it can be difficult to troubleshoot if you make a mistake specifying a custom output serializer.\n\nI propose two solutions:\n1. Build a consistent way to optionally specify different input and output serializers, or\n2. Add some additional documentation explaining the presumption that one serializer is intended for input _and_ output, and best practices for overriding that in the case that the default behavior doesn't suit your use case.\n"},{"labels":["documentation"],"text":"Hello all,\n\nI don't know it is a bug or a documentation omission.\n\nWe can notice in the documentation:\n\"Note that using a paginate_by value of None will turn off pagination for the view.\"\n\nBut if we use in settings \"PAGINAGE_BY\" and \"PAGINGATE_BY_PARAM\", for example:\n\n\"\"\"\n'PAGINATE_BY': 25,\n'PAGINATE_BY_PARAM': 'limit'\n\"\"\"\n\nand if we have the following view:\n\n\"\"\"\nclass MyList(generics.ListAPIView):\n    # turn off pagination\n    paginate_by = None\n    queryset = MyEntity.objects.all()\n    serializer_class = MySerializer\n\"\"\"\n\ndue to this code:\n(from generics.py):\n\n\"\"\"\ndef get_paginate_by(self, queryset=None):\n    ....\n    if self.paginate_by_param:\n        try:\n            return strict_positive_int(\n                self.request.QUERY_PARAMS[self.paginate_by_param],\n                cutoff=self.max_paginate_by\n            )\n        except (KeyError, ValueError):\n            pass\n    return self.paginate_by\n\"\"\"\n\nIf we make request to this view with param limit (it's specified as PAGINATE_BY_PARAM), the pagination would work.\n\n\"\"\"\nGET /myentity/ pagination doesn't work. (GOOD)\nGET /myentity/?limit=10 pagination works (BAD. Even though we set paginate_by=None in the view pagination works)\n\"\"\"\n\nIn order to achieve turning off pagination for all requests, we also have to set paginate_by_param = None:\n\n\"\"\"\nclass MyList(generics.ListAPIView):\n    # turn off pagination\n    paginate_by = None\n    paginate_by_param = None  # added to turn off pagination for requests that contain paginate_by_param\n    queryset = MyEntity.objects.all()\n    serializer_class = MySerializer\n\"\"\"\n\nOr of course, we can achieve it by changing the code in generics.py\n"},{"labels":["documentation"],"text":"I (and maybe others) will have a bit of time during December/January for DRF related matters.\n\nThe main difficulty is staying on top of where we're at. It would be **really good** if @tomchristie could find an hour or so before then to review the Roadmap. (This hasn't been edited in 7 months, and a lot has happened since then.)\n\nI like seeing what's been crossed off but what's pressing now? And where's the latest discussion on that? What are the goals for 2014?\n"},{"labels":["documentation"],"text":"I'm a new user to django-rest-framework and ran into several issues, so I thought I'd post them here to see if any pieces of the quickstart docs should be updated to help others avoid the same.\n\n1) A quick first backwards-incompatible django change to consider updating for a new-users focused quickstart:\n\nOn django 1.6 the first line of the home page example blows up:\n\nfrom django.conf.urls.defaults import url, patterns, include\n\nneeds to be:\n\nfrom django.conf.urls import url, patterns, include\n\n2) The framework doesn't seem to work with django-admin.  \n\nI took the basic poll site with django 1.6 (I also tried 1.5.5 and ran into the same issues) with py3.3.2 and pip installed the framework, updated the settings.py as per home page, and completely overrode the urls.py with what was on the home page of django-rest-framework.\n\nAt first, everything didn't work due to:\n\nIn template /home/taras/Envs/django1/lib/python3.3/site-packages/rest_framework/templates/rest_framework/form.html, error at line 9\n\nCould not resolve URL for hyperlinked relationship using view name \"permission-detail\". You may have failed to include the related model in your API, or incorrectly configured the \"lookup_field\" attribute on this field.\n\nI tested in another browser where I was not logged into django-admin as an admin beforehand, and that worked perfectly.\n\nI also tried this on another site, leaving the main urls.py file with /admin/ urls intact and had the same issue.\n\nI tried changing the default permissions thinking that might be somehow related to:\n\n'DEFAULT_PERMISSION_CLASSES': ('rest_framework.permissions.IsAdminUser',),\n\n and the non-logged browers got a correct json message saying credentials were not provided, and still a stack trace on the other.\n\nAny help with #2 would be great, and let me know if you need additional info.  Thanks!\n"},{"labels":["documentation"],"text":"http://django-rest-framework.org/api-guide/relations.html#hyperlinkedrelatedfield\n\nif I have already defined the viewset and added it to the router for a target related field, isnt the view and its name defined already by DRF somewhere? Seems redundant to define a view by hand for the default case.. thanks in advance.. \n"},{"labels":["documentation"],"text":"Dot character \".\" is valid non special character of URL path, but it can not be used by framework is router is set up with trailing slash disabled.\n\nThis causes a bug which is hard to locate because this is undocumented side-effect.\n"},{"labels":["documentation"],"text":"http://django-rest-framework.org/api-guide/viewsets.html#modelviewset\n\nIt says:\n\n> Because ModelViewSet extends GenericAPIView, you'll normally need to provide at least the queryset and serializer_class attributes.\n\nBut I can also use the model attribute and create a ModelViewSet that does not need a serializer:\n\n\"\"\" python\nfrom app1.models import Dish\n\nclass DishViewSet(viewsets.ModelViewSet):\n    model = Dish\n\"\"\"\n\nI consider that even less than providing \"at least the queryset and serializer_class attributes\".\n"},{"labels":["documentation"],"text":"First of all, I am quite new to Django and installed your framework today. I love to dive into new things, rather than study them beforehand. Learning by doing.\n\nHaving this said, I found it quite difficult to understand the content of the [installation example](http://django-rest-framework.org/) (IE) and the [quickstart](http://django-rest-framework.org/tutorial/quickstart.html) (QS).\n\nThe IE uses the very basic way to provide a working API. I used this to implement your framework. Later I dived into the QS, which let me quite confused because the approach is very different. (This is related to #1127.)\n\nFrom a beginners point-of-view I would suggest to quickly take up the IE code and explain that you can enhance it to have more control over the way the framework handles models. State that the serialiser is used to hide certain fields. Explain the differences of the view sets. Also state that for simple things, the IE code is fine. (It works for most of my purposes and it's nice to keep it slim.)\n\nI would even dare to propose to have both in the quickstart and make two chapters: _basic_ or _simple_ and something like _quickstart with more control_.\n\nJust throwing this thought out in the open. I believe it could help beginners like me to dive into your framework.\n"},{"labels":["documentation"],"text":"I propose to change the [serializer part](https://github.com/tomchristie/django-rest-framework/blob/master/docs/tutorial/quickstart.md) and explain, that it is only necessary if you need more control and that, in the case of the quickstart guide, it is used to only display certain fields (and hide fields like \"date_joined\" and \"last_logon\").\n\nIt's not necessarly required for easy models, e. g. like:\n\n\"\"\" python\nclass Dish(models.Model):\n    name = models.TextField()\n\n    def __unicode__(self):\n        return self.name\n\"\"\"\n\nCurrently it looks like it is required and I find that confusing. That might clear up things.\n"},{"labels":["documentation"],"text":"Let's look at the section on testing: http://django-rest-framework.org/api-guide/testing.html\n\nI'm told to use \"APIRequestFactory\". Okay then, what now?\n1. The import location, \"rest_framework.tests.APIRequestFactory\" is located after numerous code examples, approximately 75% inside. \n2. On the same page, \"encode_multipart\" is called but there is no import or source provided.\n## Solution\n\nFor core Django, I suggested that the first time any object is used on a page, an import is made. This turns even topical documentation into really useful reference documentation. I submit that django-rest-framework do the same.\n"},{"labels":["documentation"],"text":"I'm on verssion 2.3.7 and documentation states:\n\n\"\"\"\nNote: In versions 2.0 and 2.1, the signature for the permission checks always included an optional obj parameter, like so: .has_permission(self, request, view, obj=None). The method would be called twice, first for the global permission checks, with no object supplied, and second for the object-level check when required.\n\nAs of version 2.2 this signature has now been replaced with two separate method calls, which is more explicit and obvious. The old style signature continues to work, but its use will result in a PendingDeprecationWarning, which is silent by default. In 2.3 this will be escalated to a DeprecationWarning, and in 2.4 the old-style signature will be removed.\n\"\"\"\n\nBut when i try to use \".has_object_permission(self, request, view, obj)\" the method is not runned. The only way to get my custom permission working properly is using \"has_permission(self, request, view, obj=None)\" witch is supposed to throw a DeprecationWarning but is actually throwing PendingDeprecationWarning.\n"},{"labels":["documentation"],"text":"I've created sub-class of DefaultRouter and [as the API Guide says is possible](http://django-rest-framework.org/api-guide/routers.html#example), I tried to override the \"routes\" attribute:\n\n\"\"\"\nclass LocationRouter(DefaultRouter):\n    routes = [\n        (r'^{prefix}$', {'get': 'list'}, '{basename}-list'),\n        (r'^{prefix}/{lookup}$', {'get': 'retrieve'}, '{basename}-detail')\n    ]\n\n    def get_default_base_name(self, viewset):\n        return 'location-api'\n\"\"\"\n\nBut it returns this error:\n\n\"\"\"\n'tuple' object has no attribute 'name'\n\"\"\"\n\nThe problem line is in \"rest_framework.routers.py\" in the \"get_api_root_view\" method:\n\n\"\"\"\nlist_name = self.routes[0].name  # line 216\n\"\"\"\n\n**I'm using version 2.3.2 of the framework. Maybe this is fixed in a newer version?**\n\nI noticed there's a named tuple, \"rest_framework.routers.Route\", which is what's used elsewhere in the code, not sure if that's what the docs should be suggesting that developers use instead of a plain old tuple.\n"},{"labels":["documentation"],"text":"When attempting to use \"@action\" to override \"permission_classes\" on a per-method basis (as the documentation [suggests](http://django-rest-framework.org/api-guide/viewsets.html#marking-extra-methods-for-routing) is possible), it appears that the additional keyword arguments are lost. \n\nTest case:\n\n\"\"\"\nclass BookViewSet(mixins.RetrieveModelMixin, mixins.UpdateModelMixin,\n                  viewsets.GenericViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n    permission_classes = []\n\n    @action(permission_classes=[AuthorBookset])\n    def update(self, request, *args, **kwargs):\n        return super(BookViewSet, self). update(request, *args, **kwargs)\n\"\"\"\n\nThis happens because \"APIView.get_permissions()\" uses \"self.permission_classes\" when creating permission instances. \"@action\" decorates a method on a subclass of \"APIView\", and [assigns](https://github.com/tomchristie/django-rest-framework/blob/ae2887ffc41b1e05d6706f51b00266efccad7a58/rest_framework/decorators.py#L127) those additional keyword arguments as a property of the decorated method. Since they are applied to the method and not used to update the class, \"APIView.get_permissions()\" never sees them and they are lost.\n"},{"labels":["documentation"],"text":"On the page \"Tutorial 4: Authentication & Permissions\" in the \"Updating our serializer\" chapter: Right after instructing the student to add an \"owner\" field to the serializer, it says:\n\n\"\"\"\nNote: Make sure you also add 'owner', to the list of fields in the inner Meta class.\n\"\"\"\n\nHowever, in the previous tutorial pages, a meta class for the serializer was never defined and the code for the serializer on the 1st page of the tutorial does not contain a meta class either.\n\nI assume that this meta class here should be added to the serializer (and explained) on the 1st tutorial page:\n\n\"\"\"\nclass Meta:\n    model = Snippet\n    fields = ('pk', 'title', 'code', 'linenos', 'language', 'style')\n\"\"\"\n\nThen, on page 4, we can say that the 'owner' field should be added \"to the Serializer's meta class\".\n"},{"labels":["documentation"],"text":"Why the csrf not checked when user is not authenticated even if the SessionAuthentification used and the post request was done.\nAnd if use restframework for login views ( i use it) - this will lead to  login CSRF attacks.\n"},{"labels":["documentation"],"text":"I'm a bit spoiled by Sphinx docs. Are there any plans to make the docs searchable directly on the doc site? I can back out to Google and limit by site, but it'd sure be nice to be able to just search right there.\n"},{"labels":["documentation"],"text":"The documentation should specify if the failure behavior is for both DEBUG=True and DEBUG=False or that DEBUG=True changes the behavior.\n\nRelevant quote:\n\n> HTML error views\n> Typically a renderer will behave the same regardless of if it's dealing with a regular response, or with a response caused by an exception being raised, such as an Http404 or PermissionDenied exception, or a subclass of APIException.\n> \n> If you're using either the TemplateHTMLRenderer or the StaticHTMLRenderer and an exception is raised, the behavior is slightly different, and mirrors Django's default handling of error views.\n> \n> Exceptions raised and handled by an HTML renderer will attempt to render using one of the following methods, by order of precedence.\n> \n> Load and render a template named {status_code}.html.\n> Load and render a template named api_exception.html.\n> Render the HTTP status code and text, for example \"404 Not Found\".\n> Templates will render with a RequestContext which includes the status_code and details keys.\n"},{"labels":["documentation"],"text":"Not setting the content-type of a request is a really easy mistake to make, and it's not  immediately obvious why things aren't working if it's not being set.\n\nWe should probably note in the parsers documentation that clients should make sure to set the right content type.\n\nSee also: #586\n"},{"labels":["documentation"],"text":"I'm using django-rest-framework version 2.1.15. If I have a serializer with this field:\n\nuser = serializers.HyperlinkedIdentityField(view_name='user-detail')\n\nAnd this in my urls.py:\n\nurl(r'^user/(?P&lt;id&gt;\\d+)?/$', views.UserDetail.as_view(), name='user-detail')\n\nNote that I'm calling the id captured from the URL **id** and not **pk**.\n\nThen I get this error when my serializer tries to create the user-detail URL:\n\n<pre>\nTraceback (most recent call last):\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/django/core/handlers/base.py\", line 111, in get_response\n    response = callback(request, *callback_args, **callback_kwargs)\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/django/views/generic/base.py\", line 48, in view\n    return self.dispatch(request, *args, **kwargs)\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/django/views/decorators/csrf.py\", line 77, in wrapped_view\n    return view_func(*args, **kwargs)\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/rest_framework/views.py\", line 363, in dispatch\n    response = self.handle_exception(exc)\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/rest_framework/views.py\", line 360, in dispatch\n    response = handler(request, *args, **kwargs)\n  File \"/home/diamond/emergensee-server/emergensee/api/decorators.py\", line 20, in _checklogin\n    return view_func(view_obj, request, *args, **kwargs)\n  File \"/home/diamond/emergensee-server/emergensee/api/views.py\", line 87, in get\n    return Response(serializer.data)\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/rest_framework/serializers.py\", line 333, in data\n    self._data = self.to_native(self.object)\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/rest_framework/serializers.py\", line 270, in to_native\n    return [self.convert_object(item) for item in obj]\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/rest_framework/serializers.py\", line 200, in convert_object\n    value = field.field_to_native(obj, field_name)\n  File \"/home/diamond/.virtualenv/emc/lib/python2.7/site-packages/rest_framework/relations.py\", line 446, in field_to_native\n    raise ValidationError('Could not resolve URL for field using view name \"%s\"' % view_name)\nValidationError: [u'Could not resolve URL for field using view name \"user-detail\"']\n</pre>\n\n\nHowever, if I change my urls.py so to use **pk** instead of **id**, everything works as expected. That is, this works correctly in urls.py:\n\nurl(r'^user/(?P&lt;pk&gt;\\d+)?/$', views.UserDetail.as_view(), name='user-detail')\n\nYou might want to document this, particularly for people inclined to follow the django docs convention of using id. Otherwise, the error is very confusing.\n"},{"labels":["documentation"],"text":"**EDIT by @tomchristie: Updated title from \"Authorization doesn't work when using Apache/mod_wsgi by default\"**\n\n\"mod_wsgi\" normally doesn't [pass through the Authorization header](http://code.google.com/p/modwsgi/wiki/AccessControlMechanisms):\n\n> Unlike other HTTP headers, the authorisation header is not passed through to a WSGI application by default. This is the case as doing so could leak information about passwords through to a WSGI application which should not be able to see them when Apache is performing authentication...\n> \n> If it is desired that the WSGI application be responsible for handling user authentication, then it is necessary to explicitly configure mod_wsgi to pass the required headers through to the application. This can be done by specifying the WSGIPassAuthorization directive in the appropriate context and setting it to 'On'.\n\nThus Token authentication for example does not work unless you add the following to your Apache config:\n\n\"\"\"\nWSGIPassAuthorization on\n\"\"\"\n\nThis is very confusing as the same application on the same server works fine when run using \"runserver\", but fails in Apache. Please could you document this in the relevant Authorization chapters?\n"},{"labels":["documentation"],"text":"As requested by @tomchristie. \"django-rest-framework\" can use Djangos internal caching mechanism to cache API responses. Document how it can be enabled for DRF (basically it works just like it would in a vanilla Django view, but it might be worth letting people know that DRF supports it).\n"},{"labels":["documentation"],"text":"The HTML anchors in the documentation aren't working when there is a forward slash in the anchor name.  An example of this is the \"PrimaryKeyRelatedField / ManyPrimaryKeyRelatedField\" section in the serializer fields page.  This is certainly a problem in Chrome and I expect it will be in other browsers as well.\n\nFixing this is probably a case of chaining another replace into mkdocs.py but since I can't get the docs to build I don't want to commit this blind and break something.\n"},{"labels":["documentation"],"text":"Hi there,\n\nI've setup a class to do custom authentication, like so:\n\n\"\"\"\nclass TokenAuthentication(BaseAuthentication):\n    model = ClientApplication\n\n    def authenticate(self, request):\n        auth = request.META.get('HTTP_AUTHORIZATION', '').split()\n\n        if len(auth) == 2 and auth[0].lower() == 'token':\n            key = auth[1]\n            try:\n                token = self.model.objects.get(api_key=token)\n            except self.model.DoesNotExist:\n                return None\n            return (token, token.api_key)\n\"\"\"\n\nI've set this in my settings and have \"rest_framework.authtoken\" in \"INSTALLED_APPS\"\n\n\"\"\"\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'core.permissions.TokenAuthentication',\n    ),\n}\n\"\"\"\n\nHowever, when I curl a view I made, the authentication is never hit. Why?\n\nCurl is simply: \"curl -H \"Authorization: Token abc123\" http://localhost:8000/api/agent/999/\"\n\nMy view is as follows:\n\n\"\"\"\nclass AgentDetail(APIView):\n    def get(self, request, agent_code):\n       # removed for brevity\n       # ...\n       return Response(context)\n\"\"\"\n\nAny ideas? I did a little looking around and tracing in the Request, and although \"self.authenticators\" is populated in the \"Request\" class it never seems to take use of them.\n\nThanks!\n"},{"labels":["documentation"],"text":"Write an example custom authentication that checks for a fixed given secret, and authenticates as a given user.\n"},{"labels":["documentation"],"text":"Write a global throttle as an example of custom throttles\n"},{"labels":["documentation"],"text":"- Write an example custom permission that only allows a single given user.\n- Write an example custom object permission \"IsOwnerOrReadOnly\" to demonstrate object level permissions.\n"},{"labels":[null,"documentation"],"text":"The official documentation for web3 v0.x, which used to be [here](https://github.com/ethereum/wiki/wiki/JavaScript-API#web3js-api-reference), is no longer viable.\r\n\r\nThis version is still used by many, as far as I'm aware of.\r\nSpecifically, by anyone using truffle v4.x, which relies on it.\r\nI believe that this is also the case for many dapps out there.\r\n\r\nThanks"},{"labels":[null,"documentation"],"text":"#### Expected behavior\r\nRemove 'genesis' and keep 'earliest'\r\n\r\n#### Actual behavior\r\n'Genesis' is still referenced in the docs.\r\n\r\n#### Steps to reproduce the behavior\r\n\r\nYou can go to version 1.2.9 getPastEvents and still see referenced 'genesis'\r\n\r\nError can be reproduced:\r\n\r\ntruffle(develop)> await instance.getPastEvents('Transfer',{fromBlock:'genesis', toBlock:'latest'}).then(function(ev){console.log(ev)})\r\nThrown:\r\nError: Given input \"genesis\" is not a number.\r\n"},{"labels":[null,"documentation",null],"text":"In #1354 @naddison36 reports that the types and documentation for part of the WebsocketProvider client config that enables a long running connection to Infura are incorrect.\r\n\r\n[copied comment][1] \r\n\r\n[1]: https://github.com/ethereum/web3.js/issues/1354#issuecomment-638098138\r\n\r\n------\r\n\r\nFor future devs looking for a solution to keeping a WebSocket connection to Infura alive, this worked for me\r\n\"\"\"ts\r\nconst provider = new Web3.providers.WebsocketProvider(\r\n            config.PROVIDER_WS,\r\n            {\r\n                // @ts-ignore\r\n                clientConfig: {\r\n                    keepalive: true,\r\n                    keepaliveInterval: 60000\r\n                }\r\n            }\r\n        );\r\n\"\"\"\r\n\r\n\"@ts-ignore\" is required for TypeScript as the Web3js typings is expecting a \"string\" for the \"clientConfig\" option which is wrong. The doco for the \"WebSocketClient\" used by \"Web3js\" also does not properly cover the keepalive config. https://github.com/theturtle32/WebSocket-Node/blob/master/docs/WebSocketClient.md#client-config-options\r\n\r\nThe \"WebSocketConnection\" code with the keepalive config is at https://github.com/theturtle32/WebSocket-Node/blob/574b703ca978709832c6c2f67d6c1de376d432b5/lib/WebSocketConnection.js#L111"},{"labels":[null,"documentation"],"text":"As discussed w/ @ryanio, it would be helpful to have a good description of *what* tests we have, what their design intent is, and how they're supposed to behave. \r\n "},{"labels":[null,null,null,"documentation"],"text":"I want to translate the Web3.js document into Korean. (We have confirmed that the translated document does not exist so far.)\r\n\r\nMay I take charge of this work?\r\n\r\nAnd if possible, I would like to know if there is a guideline in the translation.\r\n\r\nI'm going to use ReadTheDocs, and I'm thinking about whether it's better to PR in the Web3.js Repo or make a separate repo.\r\n\r\nIf any of you who are looking at this issue knows Korean, it would be good to translate documents with me. :)"},{"labels":[null,null,"documentation"],"text":"Hi!\r\n\r\nThe docs link to this discord channel: https://discord.gg/NR42fy\r\nBut the invite seems to be expired.\r\n\r\nIs the discord channel still active? Can you please update the link?"},{"labels":[null,"documentation"],"text":"<!---\r\n\r\nSteps before creating an issue: \r\n\r\n1. I've read the documentation.\r\n2. I was looking for an solution on stackoverflow or something else.\r\n3. I was looking for an identical issue.\r\n\r\n-->\r\n\r\n#### Expected behavior\r\nfetch block information\r\n\r\n#### Actual behavior\r\nError with message like \r\n![image](https://user-images.githubusercontent.com/5516480/75116518-8beab580-56ac-11ea-830e-12773db383f0.png)\r\n\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n1. create new web3 object with WebsocketProvider\r\n2. call getBlock function like below\r\n   web3.eth.getBlock(599275, true);\r\n\r\n#### Logs\r\n\r\n#### Versions\r\nnodejs : v10.16.3\r\nnpm : v6.13.2\r\nweb3 : v1.2.6\r\nos : ubuntu 16.04\r\n\r\n\r\n\r\n"},{"labels":[null,null,null,"documentation"],"text":"## Description\r\n\r\nA well-described code of conduct is required to have the technical discussions here as polite as possible.\r\n\r\n- [Etherem JS Code Of Conduct](https://ethereumjs.readthedocs.io/en/latest/code_of_conduct.html#code-of-conduct)\r\n\r\nThe web3.js code of conduct should be compatible with the EthereumJS code of conduct and added to the contribution guidelines."},{"labels":[null,"documentation"],"text":"#### Expected behavior\r\n\r\nWhen I use the web3.js documentation for version 1.2.5.\r\nIf I try this [example](https://web3js.readthedocs.io/en/v1.2.5/web3-net.html#id3) for \"isListening\", I expect it to tell me to call \"web3.eth.net.isListening().then(console.log);\" instead of \"web3.eth.isListening().then(console.log);\" (i.e. \".net\" is missing).\r\nAlso, I expect this [example](https://web3js.readthedocs.io/en/v1.2.5/web3-net.html#id6) for \"getPeerCount()\" to tell me to call \"web3.eth.net.getPeerCount().then(console.log);\" instead of \"web3.eth.getPeerCount().then(console.log);\" (i.e. also missing \".net\")\r\n\r\n#### Actual behavior\r\n\r\nThe above examples are missing \".net\" in the call, so when a user copies the example they get an error like \"TypeError: web3.eth.isListening is not a function\", since it should be \"web3.eth.net isListening\" instead\r\n\r\n#### Steps to reproduce the behavior\r\n\r\nView the docs at https://web3js.readthedocs.io/en/v1.2.5/web3-net.html, and try and implement an example.\r\n\r\n#### Logs\r\n\r\n#### Versions\r\n\r\nWeb3.js 1.2.5\r\nNode 12.7.0\r\nmacOS\r\n"},{"labels":[null,null,null,"documentation"],"text":"This artifact is now about 1MB compressed. It is so large that projects are working around it and creating their own slim versions.\r\n\r\nCould the scope of this project (what should be included and what should not) please be added to the main README? This will help stop scope creep and set a reasonable project goal that we can all work towards."},{"labels":[null,null,null,"documentation"],"text":"From [the official documentation](https://web3js.readthedocs.io/en/v1.2.4/web3-eth.html#sendsignedtransaction) of \"web3.eth.sendSignedTransaction\":\r\n\r\nFirst, there is this description of the \"callback\" parameter:\r\n> Optional callback, returns an error object as first parameter and the result as second.\r\n\r\nThen, there is this coding example:\r\n\"\"\"\r\nweb3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex'))\r\n.on('receipt', console.log);\r\n\"\"\"\r\n\r\nFirst of all, this coding \"shortcut\" yields a poor example for the given function (as I have previously explain in [this similar issue](https://github.com/ethereum/web3.js/issues/2724)).\r\nIt is simply unclear how exactly the input parameters of the callback function are \"embedded\" here.\r\n\r\nSecond, from this coding example, it seems that the callback function takes only one parameter (which is passed directly to \"console.log\").\r\n\r\nIf my second observation is correct, then not only is this a poor coding example, but also the initial description of the callback function (at the top of this post) is wrong.\r\n\r\nThanks\r\n\r\nUpdate:\r\n\r\nPerhaps I was wrong in thinking that the callback function is used here to begin with, in which case, there is no coding example for how to pass this function as input to \"web3.eth.sendSignedTransaction\".\r\n\r\nIn any case, I still think that the \".on('receipt', console.log)\" syntax doesn't achieve the purpose of a good coding example.\r\n\r\nThanks 2 :)"},{"labels":[null,null,"documentation"],"text":"_An actionable issue for GitCoin for https://github.com/ethereum/web3.js/issues/1271_\r\n\r\nVersion 1.0.0 beta of web3.js introduces many changes from version 0.2.x that most projects have deployed. This task is to create a migration guide for the documentation that will be cross posted to the forthcoming kauri.io JavaScript community as a blog post.\r\n\r\n## Guidelines\r\n- This is for a technical audience, you can go into details, and use code examples\r\n- Use simple technical English and as little passive voice and future tense as possible."},{"labels":[null,"documentation"],"text":"### Description\r\nSome information is missing on the[ sign() documentation ](https://web3js.readthedocs.io/en/v1.2.1/web3-eth-accounts.html#sign).\r\n\r\nFor example:\r\n##### Parameters\r\n\"\"\"\r\ndata - String: The data to sign. If its a string it will be\r\n\"\"\"\r\nbe what?\r\n\r\n##### Returns\r\n\"\"\"\r\n... or if **returnSignature** is true the signature values as follows ...\r\n\"\"\"\r\nWhere is this \"returnSignature\" and what is it? It pops out from nowhere."},{"labels":[null,"documentation"],"text":"<!---------------------------------------------------------------------------------------\r\n\r\nWelcome to the Web3.js Issue Template!\r\n\r\nIf you're new around here, reading this will make sure you're helped ASAP.\r\nThe more details you include, the better the community will be able to help you!\r\n\r\n---------------------------------------------------------------------------------------->\r\n\r\n### Description <!-- In plain words, what happened -->\r\n\r\nDocumenting the existing web3.js providers with their interfaces and options. \r\n\r\n- [ ] HttpProvider\r\n  + [ ] Configuration\r\n  + [ ] Interface\r\n  + [ ] Special behaviours \r\n- [ ] WebsocketProvider\r\n  + [ ] Configuration\r\n  + [ ] Interface\r\n  + [ ] Special behaviours \r\n- [ ] IpcProvider\r\n  + [ ] Configuration\r\n  + [ ] Interface\r\n  + [ ] Special behaviours \r\n\r\n### Versions \r\n* web3.js: 1.x\r\n\r\n<!---------------------------------------------------------------------\r\n                    Thanks for your cooperation!\r\n----------------------------------------------------------------------->\r\n"},{"labels":[null,null,"documentation"],"text":"### Description \r\nAs i needed to use some method to verify ( recover? ) a signed message, i did a lot of research and what came out of it is that apparently a lot of people ( mostly stackexchange ) reffer to a method that is rather complicated AKA : web3.eth.accounts.recover(signatureObject);\r\n\r\nAs i am working with Ethereum technologies since a long time, i know that it is really easy to implement.\r\n\r\nBy checking through the different help topics i even found a guy advising to use a smart contract to do this, which is a total overkill and useless waste of time.\r\n\r\nNB: i am not frustrated, i just prefer when things are clear. http://threevirtues.com/ virtue n1\r\n\r\n#### Expected behavior\r\n\r\nThe parameter description should be clear, especially in the OR part.\r\n\r\n#### Actual behavior\r\n\r\nMiss guiding description who leads a real burden and useless waste of time.\r\nThe paramater can be of 2 different types while only 1 is explicitly verbosed.\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n1- Think as a newbie, or someone with a limited tech knowledge\r\n2- check pages like : \r\nhttps://ethereum.stackexchange.com/questions/13652/how-do-you-sign-an-verify-a-message-in-javascript-proving-you-own-an-ethereum-ad?newreg=bc39e02bca304017bbc18739638894d0\r\n\r\nor \r\n\r\nuse these keywords in google ( preferably in private mode ) : ethereum verify signed message js\r\n3- look at this : https://web3js.readthedocs.io/en/v1.2.0/web3-eth-accounts.html#recover\r\nFirst thing you will see is the red text, for sure. And as the other docs to point to a comre complicated parameters setup you jump straight to it.\r\n\r\n#### Error Logs \r\n\r\nMyBrainIsBurning.log\r\n\r\n#### Gists\r\n\r\nObviously not required for this issue.\r\n\r\n### Versions \r\n* web3.js: n/a\r\n* nodejs: n/a\r\n* browser: Firefox@latest\r\n* ethereum node: n/a"},{"labels":["documentation"],"text":"### Description\r\nhttps://web3js.readthedocs.io/en/v1.2.0/web3-net.html\r\n\r\nisListening and getPeerCount examples have mistakes.\r\n\r\n\r\n#### Expected behavior\r\nweb3.eth.net.isListening()\r\n.then(console.log);\r\n> true\r\n\r\nweb3.eth.net.getPeerCount()\r\n.then(console.log);\r\n> 25\r\n\r\n#### Actual behavior\r\nweb3.eth.isListening()\r\n.then(console.log);\r\n>TypeError: web3.eth.getListening is not a function\r\n\r\nweb3.eth.getPeerCount()\r\n.then(console.log);\r\n> TypeError: web3.eth.getPeerCount is not a function\r\n\r\n#### Steps to solve the behavior\r\nJust add **net** to example.\r\n\r\nweb3.eth.**net**.isListening()\r\n.then(console.log);\r\n\r\nweb3.eth.**net**.getPeerCount()\r\n.then(console.log);"},{"labels":[null,null,"documentation"],"text":"<!---------------------------------------------------------------------------------------\r\n\r\nWelcome to the Web3.js Issue Template!\r\n\r\nIf you're new around here, reading this will make sure you're helped ASAP.\r\nThe more details you include, the better the community will be able to help you!\r\n\r\n---------------------------------------------------------------------------------------->\r\n\r\n### Description <!-- In plain words, what happened -->\r\nIn [current documentation (v1.0)](https://web3js.readthedocs.io/en/1.0/web3-utils.html#soliditysha3) of \"Web3.utils.soliditySha3\", it says:\r\n\r\n> Will calculate the sha3 of given input parameters in the same way solidity would. This means arguments will be ABI converted and tightly packed before being hashed.\r\n\r\nHowever, there are two breaking changes of semantics and syntactics about the hash function in Solidity v0.5.x, which makes this API \"Web3.utils.soliditySha3\" not mimic the latest Solidity any more, or not even have a counterpart \"sha3()\" in latest Solidity. These two changes are:\r\n* > [\"sha3\" is now disallowed (in favor of \"keccak256\").](https://solidity.readthedocs.io/en/v0.5.7/050-breaking-changes.html#functions)\r\n* Even for \"keccak256\", it only accepts a single bytes now and doesn't pack the parameters anymore, see [docs here](https://solidity.readthedocs.io/en/v0.5.7/050-breaking-changes.html#functions). Also, packing parameters before hash actually is not safe, [see the Warnings in Solidity's documentation](https://solidity.readthedocs.io/en/v0.5.7/abi-spec.html#non-standard-packed-mode).\r\n\r\nSo I think the current documentation about \"Web3.utils.soliditySha3\" is confusing for users. If the web3.js team wants to keep this API to support old Solidity versions, I think at least we need to specify that this API is for Solidity v0.4.x's behaviors and not applicable for Solidity v0.5.x.\r\n\r\n\r\n<!---------------------------------------------------------------------\r\n#### Expected behavior\r\n    Example:\r\n    Calling \"await web3.eth.getAccounts()\" should return an array.\r\n----------------------------------------------------------------------->\r\n\r\n\r\n\r\n<!---------------------------------------------------------------------\r\n#### Actual behavior\r\n    Example:\r\n    Calling \"await web3.eth.getAccounts()\" returns \"monkey\".\r\n----------------------------------------------------------------------->\r\n\r\n\r\n\r\n<!---------------------------------------------------------------------\r\n#### Steps to reproduce the behavior\r\n    Example:\r\n    1. Import \"web3\"\r\n    2. Set the provider to \"localhost\"\r\n    3. Fetch latest block\r\n\r\n    Please use the code blocks Markdown does provide:\r\n\r\n    \"\"\"js\r\n      \r\n        console.log('Pretty syntax!');\r\n    \r\n    \"\"\"\r\n----------------------------------------------------------------------->\r\n\r\n\r\n<!--- #### Error Logs  ----->\r\n\r\n\r\n\r\n<!---------------------------------------------------------------------\r\n#### Gists\r\n    Including links to gists with:\r\n    * ABI JSON,\r\n    * working Solidity code, etc.\r\n\r\n    gist tutorial: https://help.github.com/en/articles/creating-gists\r\n----------------------------------------------------------------------->\r\n\r\n\r\n### Versions \r\n* web3.js: 1.0.0-beta.37\r\n* nodejs: v11.13.0\r\n* ethereum node: Ganache CLI v6.4.2 (ganache-core: 2.5.4)\r\n\r\n\r\n<!---------------------------------------------------------------------\r\n                    Thanks for your cooperation!\r\n----------------------------------------------------------------------->\r\n"},{"labels":[null,"documentation"],"text":"### Description\r\n\r\nHere is the [coding example](https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#id21) in the official documentation:\r\n\"\"\"\r\n.on('error', console.error); // If there's an out of gas error the second parameter is the receipt.\r\n\"\"\"\r\nThis example makes the parameters passed to the error handler rather unclear.\r\n\r\nI believe that instead of plugging in a known function, you should plug in your own function, thus explicitly stating the parameters passed to it (in a manner similar to the one used for all the other handlers, i.e. the \"transactionHash\" handler, the \"confirmation\" handler and the \"receipt\" handler).\r\n\r\n### Versions \r\n* web3.js: 1.x\r\n* nodejs: not relevant\r\n* browser: not relevant\r\n* ethereum node: not relevant\r\n"},{"labels":[null,null,"documentation",null],"text":"I was thinking that we should create some sort of document so that contributors can update typing modules as per said instructions. This will save much time when reviewing any PR.\r\nAs, When to use \"any\" and If some type got used in many places then, it should be added to web3-core.\r\nAlso, someone should not create any unnecessary dependency, when updating typings.\r\n\r\nWe can add this in contributors sections.\r\n\r\nWhat do you say @joshstevens19 and @nivida?"},{"labels":[null,null,"documentation"],"text":"<!---------------------------------------------------------------------------------------\r\n\r\nWelcome to the Web3.js Issue Template!\r\n\r\nIf you're new around here, reading this will make sure you're helped ASAP.\r\nThe more details you include, the better the community will be able to help you!\r\n\r\n---------------------------------------------------------------------------------------->\r\n\r\n### Description <!-- In plain words, what happened -->\r\n\r\nThe current explanation in the readme is to abstract and should be extended.\r\n\r\n"},{"labels":["documentation"],"text":"### Description \r\nWhen I am deploying smart contract using web3 function deploy, it doesn't trigger the event .on('receipt', (receipt)).\r\n\r\n#### Expected behavior\r\n   \"\"\"\r\n    myContract.deploy({\r\n         data: '0x' + bytecode,\r\n         arguments: []\r\n    }).send({\r\n          from: walletAddress,\r\n          gas: 21000\r\n    }).on('receipt', (receipt) => {\r\n          console.log(receipt.contractAddress)\r\n    };\r\n\"\"\"\r\nShould return contract address.\r\n\r\n\r\n#### Actual behavior\r\nCalling the above function doesn't return contractAddress and doesn't compile .on('receipt). It got stuck.\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n1. Import web3 in nodejs code\r\n\r\n1. Contract deploy using web3 (myContract.deploy())\r\n\r\n1. Add an event .on('receipt') with web3.deploy.\r\n\r\n#### Code Block:\r\n   \"\"\"\r\nlet myContract = new web3.eth.Contract(abi);\r\n\r\n   myContract.deploy({\r\n         data: '0x' + bytecode,\r\n         arguments: []\r\n    }).send({\r\n          from: walletAddress,\r\n          gas: 21000\r\n    }).on('receipt', (receipt) => {\r\n          console.log(receipt.contractAddress)\r\n    };\r\n\"\"\"\r\n\r\n### Versions \r\n* web3.js: 1.0.0-beta.50\r\n* nodejs: 10.13.0\r\n* browser: Chrome, Firefox\r\n* ethereum node: 1.8.23-stable\r\n\r\n"},{"labels":["documentation"],"text":"<!---------------------------------------------------------------------------------------\r\n\r\nWelcome to the Web3.js Issue Template!\r\n\r\nIf you're new around here, reading this will make sure you're helped ASAP.\r\nThe more details you include, the better the community will be able to help you!\r\n\r\n---------------------------------------------------------------------------------------->\r\n\r\n### Description <!-- In plain words, what happened -->\r\n\r\nThe documentation for the JSON-RPC method \"\"eth_chainId\"\" on the Eth module is missing. \r\n\r\nEdit: \r\nDon't forget to update the types too.\r\n\r\n#### Expected behavior\r\n\r\nThe Web3.js documentation does contain the method \"\"web3.eth.getChainId()\"\".\r\n\r\n\r\n#### Actual behavior\r\n\r\nThe Web3.js documentation does not contain the method \"\"web3.eth.getChainId()\"\".\r\n\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n1. Check the Eth module documentation\r\n\r\n#### Error Logs \r\n-\r\n\r\n\r\n### Versions \r\n-\r\n\r\n\r\n<!---------------------------------------------------------------------\r\n                    Thanks for your cooperation!\r\n----------------------------------------------------------------------->\r\n"},{"labels":["documentation"],"text":"<!---------------------------------------------------------------------------------------\r\n\r\nWelcome to the Web3.js Issue Template!\r\n\r\nIf you're new around here, reading this will make sure you're helped ASAP.\r\nThe more details you include, the better the community will be able to help you!\r\n\r\n---------------------------------------------------------------------------------------->\r\n\r\n### Description <!-- In plain words, what happened -->\r\nAfter updating from  \"web3\": \"0.20.3\" to 1.0.0-beta34 i can't find anymore a method to get the type of the node that i am connected to\r\n\r\n\r\n#### Expected behavior\r\n<!---------------------------------------------------------------------\r\n    Example:\r\n    Calling \"await web3.eth.getAccounts()\" should return an array.\r\n----------------------------------------------------------------------->\r\n    Calling \"await web3.version.getNode()\" should return info about the node that you are connected to.\r\n\r\n#### Actual behavior\r\n<!---------------------------------------------------------------------\r\n    Example:\r\n    Calling \"await web3.eth.getAccounts()\" returns \"monkey\".\r\n----------------------------------------------------------------------->\r\n    The method can't be found anymore\r\n\r\n\r\n\r\n\r\n#### Error Logs \r\n\r\n\r\n#### Gists\r\n<!---------------------------------------------------------------------\r\n    Including links to gists with:\r\n    * ABI JSON,\r\n    * working Solidity code, etc.\r\n\r\n    gist tutorial: https://help.github.com/en/articles/creating-gists\r\n----------------------------------------------------------------------->\r\n\r\n\r\n### Versions \r\n* web3.js: 1.0.0-beta34\r\n* nodejs: v10.15.3\r\n* browser: not related\r\n* ethereum node: not related\r\n\r\n\r\n<!---------------------------------------------------------------------\r\n                    Thanks for your cooperation!\r\n----------------------------------------------------------------------->\r\n"},{"labels":["documentation"],"text":"### Description\r\n\r\nThere's no JSON interface when I'm accessing the contract instance options.\r\n\r\n#### Source code\r\n\r\n\"\"\"js\r\n// The contract ABI and address are defined correctly,\r\n// the web3 object is initialized correctly too\r\nconst contractInstance = new web3.eth.Contract(abi, address);\r\nconsole.log(JSON.stringify(contractInstance.options));\r\n\"\"\"\r\n\r\n#### Expected behavior\r\n\r\nThe above code should output all the contract options, including the JSON interface (ABI).\r\n\r\n#### Actual behavior\r\n\r\nThe above code output is next:\r\n\r\n\"\"\"js\r\n> {\"transactionSigner\":{\"utils\":{},\"formatters\":{}},\"address\":\"0x58bFaAb4fe3D8CE06Eeb3d0A565aBF25c53db0Ce\"}\r\n\"\"\"\r\n\r\nAs you can see, there's no \"jsonInterface\" in the logged options.\r\n\r\n> Also, when I'm trying to access the JSON interface in code\r\n> \"\"\"js\r\n> contractInstance.options.jsonInterface.forEach(console.log);\r\n> \"\"\"\r\n> It throws a \"TypeError: Cannot read property 'forEach' of undefined\"\r\n\r\n#### Steps to reproduce the behavior\r\n\r\nThis behavior is reproducible with any created contract instance, just try to access the \"contractInstance.options.jsonInterface\".\r\n\r\n### Versions \r\n\r\n* web3.js: \"1.0.0-beta.48\"\r\n* Node.js: \"10.15.1\"\r\n* Brave Browser: \"0.60.48\"\r\n* Chromium: \"72.0.3626.121\" (Official Build) (64-bit)\r\n* MetaMask: \"6.2.2\""},{"labels":["documentation"],"text":"web3-1.0.0-beta.48:\r\n\r\nhttps://web3js.readthedocs.io/en/1.0/web3.html\r\n\r\nThe examples are missing the \"net\" parameter before \"options\" on web3 constructor... it took me some time and I had to look at the source code to understand why my customizations were not being applied :sob:"},{"labels":[null,"documentation"],"text":"Because Web3 has habitual breaking changes to its function calls, please be sure to update each and every ethereum stackexchange answer that doesn't use the modern syntax, also use the \"Google Search Console\" to remove all the outdated syntaxes\r\n\r\nI have no idea if you think this is your responsibility or not, but consider that the way things are now, this library probably does more harm than good for the Ethereum community, due to all the breaking changes"},{"labels":["documentation"],"text":"#### Expected behavior\r\nweb3.eth.signTransaction(transactionObject [, address] [, callback])\r\n\r\nShould be the signature according to the docs.\r\nhttps://web3js.readthedocs.io/en/1.0/web3-eth.html#signtransaction\r\n\r\n#### Actual behavior\r\n\r\nCalling signTransaction(transactionObject, null) throws \"The latest parameter should be a function otherwise it can't be used as callback\".\r\n\r\nInspecting the source for web3.js/packages/web3-core-method/src/methods/transaction/SignTransactionMethod.js, it appears to only support one parameter.\r\n\r\nEither the documentation is wrong, something else is wrong, or I'm confused.\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n1. Run eth.signTransaction(transactionObject, null)\r\n2. Observe error\r\n\r\n#### Error Logs\r\n\r\n#### Versions\r\nNode\r\n"},{"labels":["documentation"],"text":"#### Expected behavior\r\n\r\nEither give web3.min.js or update the docs on how to work without it.\r\n\r\n#### Actual behavior\r\nThe docs right away teach how to do it using web3.min.js.\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n1. do to docs > adding web3\r\n2. it asks to link web3.min.js\r\n3. there is no web3.min.js\r\n\r\n#### Versions\r\nweb3.js 1.0\r\n"},{"labels":["documentation"],"text":"Up to beta 34 (almost) every beta release of web3.js was published for use in Meteor. Since beta 34, however, no new versions got published there. Is that a deliberate decision or my mistake?\r\n\r\n#### Expected behavior\r\n\r\nDepending on the most recent beta release (as of today Beta 43) of web3.js through Meteor should be possible by executing\r\n\"meteor add ethereum:web3@=1.0.0-beta.43\"\r\n\r\n#### Actual behavior\r\n\r\nDepending on Beta 43 fails\r\n\"\"\"\r\n$ meteor add ethereum:web3@=1.0.0-beta.43\r\n => Errors while parsing arguments:           \r\n                                              \r\nWhile adding package ethereum:web3@=1.0.0-beta.43:\r\nerror: no such version ethereum:web3@1.0.0-beta.43\r\n\r\n\"\"\"\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n\"\"\"\r\n$ meteor create --bare \"test\"\r\n$ cd test\r\n$ meteor add ethereum:web3@=1.0.0-beta.43\r\n => Errors while parsing arguments:           \r\n                                              \r\nWhile adding package ethereum:web3@=1.0.0-beta.43:\r\nerror: no such version ethereum:web3@1.0.0-beta.43\r\n\"\"\"\r\n\r\nAlternatively listing all versions of \"ethereum:web3\" yields beta versions up to beta 34:\r\n\r\n<details><summary>\r\n<code>$ meteor show --show-all ethereum:web3</code>\r\n</summary>\r\n\r\n\"\"\"\r\nPackage: ethereum:web3@0.20.5                 \r\nMaintainers: ethereum                         \r\nGit: https://github.com/ethereum/ethereum.js  \r\nExports: BigNumber (server, web.browser, web.cordova), Web3 (server, web.browser, web.cordova)\r\n                                              \r\nweb3.js version 0.14.0 supports [multiple instances of web3](https://github.com/ethereum/web3.js/issues/297) object.\r\nTo migrate to this version, please follow the guide:\r\n\r\ndiff\r\n-var web3 = require('web3');\r\n+var Web3 = require('web3');\r\n+var web3 = new Web3();\r\n                                              \r\nVersions:                                     \r\n  0.2.8          April 16th, 2015             \r\n  0.3.0          April 22nd, 2015\r\n  0.3.1          April 23rd, 2015\r\n  0.3.3          April 27th, 2015\r\n  0.3.4          April 29th, 2015\r\n  0.3.5          May 6th, 2015\r\n  0.4.0          May 12th, 2015\r\n  0.4.2          May 15th, 2015\r\n  0.5.0          June 1st, 2015\r\n  0.6.0          June 12th, 2015\r\n  0.7.0          June 26th, 2015\r\n  0.7.1          June 30th, 2015\r\n  0.8.0          July 7th, 2015\r\n  0.8.1          July 8th, 2015\r\n  0.9.0          July 20th, 2015\r\n  0.9.1          July 21st, 2015\r\n  0.9.2          July 27th, 2015\r\n  0.10.0         August 4th, 2015\r\n  0.12.1         August 10th, 2015\r\n  0.12.2         August 12th, 2015\r\n  0.13.0         September 15th, 2015\r\n  0.14.0         October 19th, 2015\r\n  0.14.1         October 19th, 2015\r\n  0.15.0         October 30th, 2015\r\n  0.15.1         October 30th, 2015\r\n  0.15.2         February 12th, 2016\r\n  0.15.3         February 29th, 2016\r\n  0.17.0-alpha   May 30th, 2016\r\n  0.18.0         January 6th, 2017\r\n  0.18.1         January 12th, 2017\r\n  0.18.2         January 13th, 2017\r\n  0.18.3         January 19th, 2017\r\n  0.18.4         March 29th, 2017\r\n  0.19.0-a       June 21st, 2017\r\n  0.19.0-b       June 21st, 2017\r\n  0.19.0         May 9th, 2017\r\n  0.19.1         June 24th, 2017\r\n  0.19.11        June 24th, 2017\r\n  0.20.0         July 17th, 2017\r\n  0.20.1         July 17th, 2017\r\n  0.20.2         September 15th, 2017  installed\r\n  0.20.5         February 13th, 2018   installed\r\n  1.0.0-beta.3   July 20th, 2017\r\n  1.0.0-beta.5   July 21st, 2017\r\n  1.0.0-beta.6   July 22nd, 2017\r\n  1.0.0-beta.7   July 22nd, 2017\r\n  1.0.0-beta.11  July 24th, 2017\r\n  1.0.0-beta.12  July 26th, 2017\r\n  1.0.0-beta.14  August 2nd, 2017\r\n  1.0.0-beta.15  August 3rd, 2017\r\n  1.0.0-beta.17  August 8th, 2017\r\n  1.0.0-beta.18  August 9th, 2017\r\n  1.0.0-beta.20  September 15th, 2017\r\n  1.0.0-beta.21  September 20th, 2017\r\n  1.0.0-beta.22  September 25th, 2017\r\n  1.0.0-beta.23  October 10th, 2017\r\n  1.0.0-beta.24  October 19th, 2017\r\n  1.0.0-beta.27  December 21st, 2017\r\n  1.0.0-beta.29  January 26th, 2018\r\n  1.0.0-beta.30  February 13th, 2018\r\n  1.0.0-beta.31  March 13th, 2018\r\n  1.0.0-beta.33  March 23rd, 2018      installed\r\n  1.0.0-beta.34  April 13th, 2018\r\n  1.0.0-beta1    July 20th, 2017       installed\r\n\"\"\"\r\n</details>"},{"labels":["documentation"],"text":"Hi, thank you for maintaining web3js!\r\nThe following is an issue related to the documentation that might mislead users.\r\n\r\n#### Expected behavior\r\n\r\nThe documentation of [\"eth.personal.sign\"](https://web3js.readthedocs.io/en/1.0/web3-eth-personal.html#sign ) should detail the hash schema used.\r\n\r\n#### Actual behavior\r\n\r\nThe current documentation does not indicate that the message to be signed is prefixed with: \r\n\"\"\"\r\n\"\\x19Ethereum Signed Message:\\n\" + message.length\r\n\"\"\"\r\n\r\nThis might lead to the incorrect usage of the library. \r\n\r\nNote that the documentation of [\"eth.accounts.sign\"](https://web3js.readthedocs.io/en/1.0/web3-eth-accounts.html#sign) does mention the prefix: \r\n\r\n![image](https://user-images.githubusercontent.com/13798342/52163646-ddf51d80-26dc-11e9-9f63-af94a086372a.png)\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n#### Error Logs\r\n\r\n#### Versions\r\nhttps://github.com/ethereum/web3.js/tree/7ff00822966aef2bd0588a5b39ff2f3eba6acfd1 \r\n"},{"labels":["documentation",null],"text":"Right now there are no preview links for the docs in the PRs, right? This can be quickly achieved with netlify."},{"labels":["documentation",null],"text":"As far as I can tell the docs are built with \"npm run docs\". This will then build a bunch of PDF files. Is this really the dev cycle? Is there not some \"watch mode\" which rebuilds on file change?"},{"labels":[null,"documentation",null],"text":"https://web3js.readthedocs.io/en/latest/ is empty yet continues to show up in search engines and in the docs' navigation bar under \"Versions\". It also happens to be what you get redirected to when you go to https://web3js.readthedocs.io.\r\n\r\nThe \"Edit on GitHub\" button links to https://github.com/ethereum/web3.js/blob/master/index.rst which doesn't exist.\r\n"},{"labels":[null,null,null,null,"documentation"],"text":"## Documentation Feature Request:\r\nCurrently, many developers have trouble to understand how to interact with the ethereum blockchain over Web3.js/JSON-RPC. The documentation is not bad but if you just started to build a Dapp it's hard to do the first steps. \r\n\r\nThat's why I would like to have live examples with JsFiddle.\r\n\r\n#### ToDo's: \r\n- [ ] Check if ethereum-js really works otherwise have a look at eWASM.\r\n- [ ] Create simple example on JsFiddle.\r\n- [ ] Check if there is a nice way to provide these examples with readthedocs.\r\n- [ ] This examples could be placed in a separate repository. \r\n        (tag me and I will create a repository and give you access)\r\n\r\n##### Resources \r\nhttps://github.com/ethereumjs/browser-builds/tree/master/dist/ethereumjs-vm\r\nhttps://docs.jsfiddle.net/github-integration/untitled-1\r\n\r\n> Thanks Melonport for this idea ;-)"},{"labels":["documentation"],"text":"I use web3 1.0.0-beta.36 to connect to the parity JSON RPC interface.\r\n\r\nAccording to the docs, blocks can be identified by the number or by one of the strings \"\"genesis\"\", \"\"latest\"\", \"\"pending\"\".\r\nIt seems that \"\"genesis\"\" is not working:\r\n\"\"\"\r\n\r\n> web3.eth.getBlock(\"genesis\").then(console.log);\r\nError: Given input \"genesis\" is not a number.\r\n    at Object.numberToHex (/home/ethereum/extract/node_modules/web3-utils/src/utils.js:264:15)\r\n    at Method.inputBlockNumberFormatter (/home/ethereum/extract/node_modules/web3-core-helpers/src/formatters.js:62:125)\r\n    at /home/ethereum/extract/node_modules/web3-core-method/src/index.js:144:38\r\n    at Array.map (<anonymous>)\r\n    at Method.formatInput (/home/ethereum/extract/node_modules/web3-core-method/src/index.js:142:32)\r\n    at Method.toPayload (/home/ethereum/extract/node_modules/web3-core-method/src/index.js:177:23)\r\n    at Eth.send [as getBlock] (/home/ethereum/extract/node_modules/web3-core-method/src/index.js:467:30)\r\n> \r\n\"\"\"\r\nUsing \"\"latest\"\" or \"\"pending\"\" instead of \"\"genesis\"\" works, however."},{"labels":[null,"documentation"],"text":"See https://web3js.readthedocs.io/en/1.0/web3-shh.html?highlight=generateSymKeyFromPassword#id61\r\n\r\nThe return type is either a \"Promise<string>\" iff no \"callback\" argument is given or \"undefined\" if a \"callback\" argument is given."},{"labels":[null,"documentation"],"text":"1. \"web3.utils.toWei\" [doesn't take numbers](https://github.com/ethereum/web3.js/blob/1.0/packages/web3-utils/src/index.js#L234) as arguments, while the documentation [says](https://github.com/ethereum/web3.js/blob/1.0/docs/web3-utils.rst#parameters-22) it does:\r\n\"\"\"js\r\nconsole.log(web3.utils.toWei(1000000000, \"shannon\"));\r\n\"\"\"\r\n[throws](https://github.com/ethereum/web3.js/blob/1.0/packages/web3-utils/src/index.js#L235) with \"Please pass numbers as strings or BigNumber objects to avoid precision errors.\"\r\n\r\nWhich is also wrong, it doesn't take \"BigNumber\" objects either as web3.js 1.0 moved to \"BN.js\".\r\n\r\n2. \"web3.utils.fromWei\" never returns a BN.js instance, as opposed to what [documentation says](https://github.com/ethereum/web3.js/blob/1.0/docs/web3-utils.rst#returns-23):\r\n\"\"\"js\r\nconsole.log(typeof web3.utils.fromWei(new web3.utils.BN(1000000000), \"shannon\"));\r\n\"\"\"\r\nreturns \"string\" (which equals to \"1\").\r\n\r\nThe code [here](https://github.com/ethereum/web3.js/blob/1.0/packages/web3-utils/src/index.js#L238) calls ethjs-unit, in documentation of which [it's said](https://github.com/ethjs/ethjs-unit#about) that\r\n>Note, the toWei returns a BN instance while fromWei always returns a string number.\r\n\r\nAnd so the \"toString(10)\" method does nothing, it's already a string."},{"labels":["documentation"],"text":"I Read The Doc About [subscribe(\"newBlockHeaders\")](https://web3js.readthedocs.io/en/1.0/web3-eth-subscribe.html#subscribe-newblockheaders) And Found The Returns Value \"receiptRoot\" May Be \"receiptsRoot\". Missing A \"s\" In The Middle. "},{"labels":["documentation"],"text":"Top most example in web3.eth.subscribe\r\n\r\n**old code :** \r\nvar subscription = web3.eth.subscribe('logs', {\r\n    address: '0x468b4f26e9294ae914fb24f32cc5dd5373032447'\r\n}, function(error, result){\r\n    if (!error)\r\n        console.log(log);\r\n});\r\n\r\n// the log in console.log() should be replaced by result."},{"labels":["documentation"],"text":"Misspelled \"successful\" as \"susccessfull\" [here](https://web3js.readthedocs.io/en/1.0/web3-eth.html?highlight=susccessfull#eth-gettransactionreceipt-return)."},{"labels":[null,null,"documentation"],"text":"Your description for \"new web3.eth.Contract(jsonInterface[, address][, options])\" [here](https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html?highlight=deploy#new-contract), states the following about the \"address\" (second) argument passed to this constructor function:\r\n\r\n> The address of the smart contract to call, can be added later using \"myContract.options.address = '0x1234..'\"\r\n\r\nThis statement is somewhat misleading, because adding this field by itself will not have any real impact on the contract instance (except for... well... this additional field).\r\n\r\nFor example, the \"methods\" field of the contract instance will still remain empty, so the contract instance is not going to become any \"more usable\" than it was before adding this field.\r\n\r\nWhen creating a new contract, the address field should be omitted **if and only if** the new contract is to be deployed (that by itself should probably be emphasized in the documentation).\r\n\r\nAfter that, if one wants to create a **usable** contract instance, then they should recreate a contract instance, but this time, in addition to the \"jsonInterface\" argument, the should also provide the \"address\" argument (which should be available after signing and sending the contract-deployment transaction)."},{"labels":["documentation"],"text":"Function \"myContract.methods.myMethod\" returns a transaction object as output, according to [the docs](https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#id13).\r\n\r\nFunction \"web3.eth.accounts.signTransaction\" takes a transaction object as input, according to [the docs](https://web3js.readthedocs.io/en/1.0/web3-eth-accounts.html#id4).\r\n\r\nThese two transaction objects are significantly different from each other.\r\n\r\nMoreover, the value of \"obj2.data\" is typically set to the value returned from \"obj1.encodeABI()\".\r\n\r\nSo the two objects are likely to be used in conjunction with each other.\r\n\r\nI suggest finding a better name for the second object, perhaps \"options\" or something similar."},{"labels":[null,"documentation"],"text":"I wrote a contract to open payment channels in solidity. After running into a bug of balances not being equal, despite the updated balances showing up in Ganache, I realized that, in order to calculate the total amount of wei that was used on a transaction - that would be \"gasUsed * gasPrice\". \r\n\r\nThe description in the documentation doesn't explicitly make this connection very clear. There should be a note somewhere, just mentioning that \"gasPrice\" is the wei per unit of gas, and in order to find the total amount spent on gas, it should be the product of gasPrice and the amount of gas used. "},{"labels":["documentation"],"text":"Is the link on \"npm\" indicative of the link posted here? https://www.npmjs.com/package/web3\r\n\r\nThe github repository which links to it (https://github.com/ethereum/web3.js/tree/master/packages/web3) is an invalid link. \r\n"},{"labels":[null,"documentation"],"text":"Hey @frozeman, just a heads up that I'm seeing a fair amount of web3 1.0 questions on stackexchange - npm installs 1.0 by default even though according to the documentation it's not ready for release yet. \r\n\r\nAs such you may want to give a stronger warning in the docs, possibly advising people to downgrade to \r\n0.20.6 if they're looking for a stable and well-documented version? Just thinking out loud. "},{"labels":[null,"documentation"],"text":"From [documentation](https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#getpastevents)\r\n\r\n\"\"\"\r\nfromBlock - Number (optional): The block number from which to get events on.\r\ntoBlock - Number (optional): The block number to get events up to (Defaults to \"latest\").\r\n\"\"\"\r\n\r\nThis is ambiguous, when dealing with indices, it should be made 100% clear what the functionality entails. I'm trying to debug something, and finding it difficult to confirm the functionality.\r\n\r\nThe language above could technically mean any of the following.\r\n* result > fromBlock && result < toBlock\r\n* result > fromBlock && results <= toBlock\r\n* result >= fromBlock && results < toBlock\r\n* result >= fromBlock && results <= toBlock (what I assume documentation means, but the uncertainty is unsettling) \r\n\r\nPlease confirm, and consider using gte/lte/lt/gt terminology in the docs for these types of methods.\r\n\r\nCheers\r\n"},{"labels":["documentation"],"text":"On the [page](https://web3js.readthedocs.io/en/1.0/web3-utils.html#unitmap) for unitmap the side bar will show an incorrect spelling of \"Return Value\" instead saying \"Retrun value\".   This also doesn't fit with the standard for the docs of \"Returns\".\r\n\r\nI didn't want to fork and submit a pull request for something so simple especially considering the difference in format may make the spelling error irrelevant in favor of \"Returns\"."},{"labels":["documentation"],"text":"How do I get the \"receiptsRoot\" ?\r\n\r\n> Tries in Ethereum  \r\n> All of the merkle tries in Ethereum use a Merkle Patricia Trie.  \r\n> From a block header there are 3 roots from 3 of these tries.  \r\n> 1 stateRoot\r\n> 2 transactionsRoot\r\n> 3 receiptsRoot\r\n> [...]\r\n> Receipts Trie  \r\n> Every block has its own Receipts trie. A path here is: rlp(transactionIndex).  \r\n> transactionIndex is its index within the block it's mined.  \r\n> Never updates.  \r\n\r\nSee [tries-in-ethereum](https://github.com/ethereum/wiki/wiki/Patricia-Tree#tries-in-ethereum).\r\n\r\nI would expect \"getBlock\" to answer my question, but it doesn't.\r\n\r\nThe [example](https://github.com/ethereum/wiki/wiki/JavaScript-API#web3ethgetblock) answer is:\r\n\r\n\"\"\"\r\n{\r\n  \"number\": 3,\r\n  \"hash\": \"0xef95f2f1ed3ca60b048b4bf67cde2195961e0bba6f70bcbea9a2c4e133e34b46\",\r\n  \"parentHash\": \"0x2302e1c0b972d00932deb5dab9eb2982f570597d9d42504c05d9c2147eaf9c88\",\r\n  \"nonce\": \"0xfb6e1a62d119228b\",\r\n  \"sha3Uncles\": \"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\r\n  \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"transactionsRoot\": \"0x3a1b03875115b79539e5bd33fb00d8f7b7cd61929d5a3c574f507b8acf415bee\",\r\n  \"stateRoot\": \"0xf1133199d44695dfa8fd1bcfe424d82854b5cebef75bddd7e40ea94cda515bcb\",\r\n  \"miner\": \"0x8888f1f195afa192cfee860698584c030f4c9db1\",\r\n  \"difficulty\": BigNumber,\r\n  \"totalDifficulty\": BigNumber,\r\n  \"size\": 616,\r\n  \"extraData\": \"0x\",\r\n  \"gasLimit\": 3141592,\r\n  \"gasUsed\": 21662,\r\n  \"timestamp\": 1429287689,\r\n  \"transactions\": [\r\n    \"0x9fc76417374aa880d4449a1f7f31ec597f00b1f6f3dd2d66f4c9c6c445836d8b\"\r\n  ],\r\n  \"uncles\": []\r\n}\r\n\"\"\"\r\n--> contains \"transactionsRoot\" & \"stateRoot\", but not \"receiptsRoot\" !\r\n\r\nThe [yellow paper](https://ethereum.github.io/yellowpaper/paper.pdf) page 5 says on the left side:\r\n\r\n> receiptsRoot: The Keccak 256-bit hash of the root node of the trie structure populated with the receipts of each transaction in the transactions list portion of the block; formally He.\r\n"},{"labels":["documentation"],"text":"Hi,\r\nI guess I could modify this myself but I'm a newbe on github. On [this](https://web3js.readthedocs.io/en/1.0/web3-eth-subscribe.html#subscribe-newblockheaders) page, there is a mistake in the example.\r\n\r\nThe example say : \r\n\"\"\"\r\nvar subscription = web3.eth.subscribe('newBlockHeaders', function(error, result){\r\n    if (!error)\r\n        console.log(error);\r\n})\r\n.on(\"data\", function(blockHeader){\r\n});\r\n\"\"\"\r\n\r\nIt means that if you have NO error your print the error. It's silly but weird to let it there."},{"labels":[null,"documentation"],"text":"Someone please update the docs in the Ethereum Wiki on web3.js and json-rpc as people are complaining that nobody is maintaining them in the Ethereum Wiki issues, or there are just a lot of open issues for these topics.\r\n\r\nhttps://github.com/ethereum/wiki/search?utf8=✓&q=web3&type="},{"labels":["documentation"],"text":"From the 1.0 documentation it looks as if you can't specify the block number when calling contract methods querying state, ie. \"myContract.myMethod().call({defaultBlock: 'latest' })\". Is this a feature that will be added, since it was in web3 <1.0: https://github.com/ethereum/wiki/wiki/JavaScript-API#contract-methods (third parameter)"},{"labels":[null,"documentation"],"text":"Excuse me! Is there any guide for migration from 0.2x to 1.0.0 beta? Can I use the beta version in production now? "},{"labels":[null,"documentation"],"text":"Which Web3.js version?: 1.0.0-beta.27\r\nWhich operating system?: Windows / Chrome\r\nHow installed?: NPM\r\nUsing it with Angular-CLI project\r\n\r\n# actual behavior\r\nAn account generated by web3.accounts.create() is creating an account with public/private key. Which is desired behavior, But when i try to access the account using the private key on myetherwallet.com, it displayes a different public key than the one given by web3.\r\n\r\n# expected behavior\r\nThe public key should be same.\r\n\r\n# steps to reproduce\r\ninitialize web3 and create a new account. I created 10 accounts and 8 out of them had the issue."},{"labels":[null,"documentation"],"text":"\"\"\"\r\nweb3.js:3126 Uncaught Error: The method eth_compileSolidity does not exist/is not available\r\n    at Object.InvalidResponse (web3.js:3126)\r\n    at RequestManager.send (web3.js:6337)\r\n    at Object.send [as solidity] (web3.js:5071)\r\n    at contract.html:21\r\nInvalidResponse @ web3.js:3126\r\nRequestManager.send @ web3.js:6337\r\nsend @ web3.js:5071\r\n(anonymous) @ contract.html:21\r\nweb3.js:2813 Uncaught TypeError: Cannot read property 'filter' of undefined\r\n    at encodeConstructorParams (web3.js:2813)\r\n    at ContractFactory.new (web3.js:2984)\r\n    at createExampleContract (contract.html:38)\r\n    at HTMLButtonElement.onclick (contract.html:70)\r\nencodeConstructorParams @ web3.js:2813\r\nContractFactory.new @ web3.js:2984\r\ncreateExampleContract @ contract.html:38\r\nonclick @ contract.html:70\r\n\"\"\""},{"labels":["documentation"],"text":"Calling this command\r\nvar Web3 = require('web3');\r\nvar host = '<PATH TO IPC FILE>';\r\nvar net = require('net');\r\nvar web3 = new Web3(new Web3.providers.IpcProvider(host, net)); \r\nvar account = web3.eth.accounts.create(web3.utils.randomHex(32));\r\n\r\nwill give a result like this\r\n\r\n{ address: '0x27DC662FE77BCD3c8D083bA5a6FD047eAC3885D1',\r\n  privateKey: '0x9deab8fb8b8a58fd9fa59757fc2062ed0f43657d574e3af72d4131636f46738d',\r\n  signTransaction: [Function: signTransaction],\r\n  sign: [Function: sign],\r\n  encrypt: [Function: encrypt] }\r\n\r\nBut when I run web3.eth.getAccounts, it does not display the new account.\r\n\r\nI also checked by attaching Mist to the local dev node, also not showing the new account.\r\n\r\nGoing through web3-ipc and using newAccount is fine.\r\n\r\nIs it creating them but not saving them?\r\n\r\n\r\n"},{"labels":["documentation"],"text":"**web3.js** \r\nversion: 1.0.0-beta.24\r\n\r\n**nodejs** \r\nversion: v8.4.0\r\n\r\n**Geth**\r\nVersion: 1.7.0-stable\r\nGit Commit: 6c6c7b2af3efdad4d2f64f70f3a724af434bbcd2\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.8.3\r\nOperating System: linux\r\n\r\n**tl;dr**\r\n\r\nsubscription returns transaction hash instead of transaction receipt\r\n\r\n**Full story short**\r\n\r\nHere is my code\r\n\"\"\"\r\nvar Web3 = require('web3');\r\nglobal.web3 = new Web3(\"ws://127.0.0.1:8585\");\r\n\r\nweb3.eth.subscribe('pendingTransactions', function(error, result){\r\n  if (!error) {\r\n    console.log(\"Transactions matching 1\");\r\n    console.log(result);\r\n  }\r\n})\r\n.on(\"data\", function(trxData){\r\n  console.log(\"Transactions matching 2\");\r\n  console.log(trxData);\r\n});\r\n\"\"\"\r\n\r\nHere is log I am getting\r\n\r\n\"\"\"\r\n$ nodejs runner.js \r\nTransactions matching 2\r\n0xfd7ad0fd246eb775347b0b5ae6899d605d0acc20e13a50f01425301d1e28d655\r\nTransactions matching 1\r\n0xfd7ad0fd246eb775347b0b5ae6899d605d0acc20e13a50f01425301d1e28d655\r\nTransactions matching 2\r\n0x0ff8dbb3a2fae70ca97022591e1a9f62cd0b812c482c0050bf4d6b48ad190c3f\r\nTransactions matching 1\r\n0x0ff8dbb3a2fae70ca97022591e1a9f62cd0b812c482c0050bf4d6b48ad190c3f\r\nTransactions matching 2\r\n0x06e747d323cd4d8bfc6c207f5eddd16c71266bdd94e0e558cef64d59d2de7dac\r\nTransactions matching 1\r\n0x06e747d323cd4d8bfc6c207f5eddd16c71266bdd94e0e558cef64d59d2de7dac\r\n\"\"\"\r\n\r\nHere is web3.js documentation - \r\nhttp://web3js.readthedocs.io/en/1.0/web3-eth-subscribe.html#subscribe-pendingtransactions\r\n\r\nIt says\r\n\r\n\"\"\"\r\nReturns\r\n\r\nEventEmitter: An subscription instance as an event emitter with the following events:\r\n\r\n\"data\" returns Object: Fires on each incoming pending transaction.\r\n\"error\" returns Object: Fires when an error in the subscription occours.\r\nFor the structure of the returned object see web3.eth.getTransaction() return values.\r\n\"\"\"\r\n\r\n**Am I getting something wrong? Is that is  bug or that is intended behavior?**"},{"labels":["Docs","Feature"],"text":"While it makes sense to exclude third party libraries in subtrees from doxygen, is there any reason to also exclude the fuzz and unit tests?\r\n\r\nThey both have frameworks and utility functions that I need to look up repeatedly.\r\n\r\nDoxygen is meant to be developer documentation and not Bitcoin Core user documentation, so I see no downside of enabling the test directory in doxygen. Am I missing something?"},{"labels":["Docs"],"text":"The \"ALLOW_HOST_PACKAGES\" dependency option is not documented in this repo at all, including https://github.com/bitcoin/bitcoin/blob/master/depends/README.md"},{"labels":["Docs","P2P","good first issue"],"text":"Version : Bitcoin Core 0.19.1\r\n\r\nDescription : i tried \"bitcoin-cli verifychain 4 630000\" but after some time ( 1201s ) bitcioind log debug.info says \"socket sending timeout: 1201s\". Will it stop \"verifychain\" command?"},{"labels":["Bug","Docs","good first issue"],"text":"> The HTTP request and response are both handled entirely in-memory, thus making maximum memory usage at least 2.66MB (1 MB max block, plus hex encoding) per request.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b470c758470fd97ccb42d0348a32942afa2a3ec8/doc/REST-interface.md#L33\r\n\r\nNow with SegWit up to 4 MB, is it 10.66 MB?"},{"labels":["Docs"],"text":"**Is your feature request related to a problem? Please describe.**\r\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\r\nAs a new contributor, I was confused thinking that the build_msvc folder was the only source of build setup instructions.\r\n\r\n**Describe the solution you'd like**\r\n<!-- A clear and concise description of what you want to happen. -->\r\nI think that moving the build_msvc README.md and related file set to the doc folder would make the setup process much clearer with all the options in one place.\r\n\r\n**Describe alternatives you've considered**\r\n<!-- A clear and concise description of any alternative solutions or features you've considered. -->\r\nInstead of moving build_msvc, retitling the doc folder to make it visually explicit that it contains build instructions would also be effective. \r\n\r\n**Additional context**\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n"},{"labels":["Docs","good first issue"],"text":"The RPC docs are now enforced to specify the json type of the args and results at compile time. However, some help texts contain the type twice. (E.g. https://github.com/bitcoin/bitcoin/pull/17809#discussion_r386295217 ). The duplicate type in the description should be removed.\r\n\r\nDuplicates can be found with this command:\r\n\r\n\"\"\"sh\r\ngit grep --extended-regexp  'RPC.*(ARR|OBJ).*json (array|object)' src/rpc/ src/wallet/rpc*\r\n\"\"\"\r\n\r\n#### Useful skills:\r\n\r\nBasic understanding of how to compile and run Bitcoin Core.\r\n\r\n#### Want to work on this issue?\r\n\r\nThe purpose of the \"good first issue\" label is to highlight which issues are suitable for a new contributor without a deep understanding of the codebase.\r\n\r\nYou do not need to request permission to start working on this. You are encouraged to comment on the issue if you are planning to work on it. This will help other contributors monitor which issues are actively being addressed and is also an effective way to request assistance if and when you need it.\r\n\r\nFor guidance on contributing, please read [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md) before opening your pull request.\r\n"},{"labels":["Bug","Docs","RPC/REST/ZMQ"],"text":"\"\"\"c++\r\nRPCHelpMan{\"estimatesmartfee\",\r\n    \"\\nEstimates the approximate fee per kilobyte needed for a transaction to begin\\n\"\r\n    \"confirmation within conf_target blocks if possible and return the number of blocks\\n\"\r\n    \"for which the estimate is valid. Uses virtual transaction size as defined\\n\"\r\n    \"in BIP 141 (witness data is discounted).\\n\",\r\n    {\r\n        {\"conf_target\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"Confirmation target in blocks (1 - 1008)\"},\r\n        {\"estimate_mode\", RPCArg::Type::STR, /* default */ \"CONSERVATIVE\", \"The fee estimate mode.\\n\"\r\n\"                   Whether to return a more conservative estimate which also satisfies\\n\"\r\n\"                   a longer history. A conservative estimate potentially returns a\\n\"\r\n\"                   higher feerate and is more likely to be sufficient for the desired\\n\"\r\n\"                   target, but is not as responsive to short term drops in the\\n\"\r\n\"                   prevailing fee market.  Must be one of:\\n\"\r\n\"       \\\"UNSET\\\"\\n\"\r\n\"       \\\"ECONOMICAL\\\"\\n\"\r\n\"       \\\"CONSERVATIVE\\\"\"},\r\n    },\r\n    RPCResult{\r\n\"{\\n\"\r\n\"  \\\"feerate\\\" : x.x,     (numeric, optional) estimate fee rate in \" + CURRENCY_UNIT + \"/kB\\n\"\r\n\"  \\\"errors\\\" : [ str... ] (json array of strings, optional) Errors encountered during processing\\n\"\r\n\"  \\\"blocks\\\" : n         (numeric) block number where estimate was found\\n\"\r\n\"}\\n\"\r\n\"\\n\"\r\n\"The request target will be clamped between 2 and the highest target\\n\"\r\n\"fee estimation is able to return based on how long it has been running.\\n\"\r\n\"An error is returned if not enough transactions and blocks\\n\"\r\n\"have been observed to make an estimate for any number of blocks.\\n\"\r\n    },\r\n    RPCExamples{\r\n        HelpExampleCli(\"estimatesmartfee\", \"6\")\r\n    },\r\n}.Check(request);\r\n\r\n\"\"\"\r\n\r\nTo me it's not very clear what the \"\"blocks\"\" return value actually means.\r\n\r\n- Is it supposed to be a block height or a block height \r\n- Is it the block height at which a tx with the given fee is supposed to go in? \r\n- Or does it indicate for how long I can reliably keep using the same estimation?       \r\n\r\nSome improvements of this documentation would be appreciated. If someone can explain it here, I can make the PR myself if that's preferred.           "},{"labels":["Docs","good first issue"],"text":"Hi there!\r\nIs there any way to share one wallet.dat file across different bitcoin wallet instances\r\nMy goal is to create failover wallet service, so I could manage my funds if main server with wallet is going down.\r\nAs I understand default HD wallet creates only 100 keypairs, so after I use all of them I should sync wallet.dat file with my backup server, is it true? \r\n"},{"labels":["Docs","RPC/REST/ZMQ","good first issue"],"text":"Regarding that Bitcoin Core switched to bech32 as the default format for addresses recently (with release 0.19.0.1), this should also be reflected in the RPC help texts. The change was already done for the RPCs \"getaddressinfo\" (commit https://github.com/bitcoin/bitcoin/commit/2ee0cb3330ccf70f0540cb42370796e32eff1569 by jonatack, PR https://github.com/bitcoin/bitcoin/pull/17283) and \"validateaddress\" (commit https://github.com/bitcoin/bitcoin/pull/18122/commits/7f1475c7119e8c72bce39a63386a6ca859066b80 by my humble self, PR https://github.com/bitcoin/bitcoin/pull/18122/), but there are still some RPCExamples around with Base58 addresses, i.e. \r\n- \"setlabel\"\r\n- \"sendtoaddress\"\r\n- \"getreceivedbyaddress\"\r\n- .....\r\n\r\nAll those legacy address usages should be identified and substituted by bech32 addresses where it makes sense (note that e.g. for \"signmessage\" and \"verifymessage\" there is as far as I know no possibility to sign with segwit addresses yet, hence the legacy addresses should stay). For the address, the newly introduced string constant \"EXAMPLE_ADDRESS\" (in \"src/rpc/util.h\") can be used, which contains an illegal bech32 address.\r\n\r\n#### Useful skills:\r\n\r\nBasic understanding of address formats.\r\n\r\n#### Want to work on this issue?\r\n\r\nThe purpose of the \"good first issue\" label is to highlight which issues are suitable for a new contributor without a deep understanding of the codebase.\r\n\r\nYou do not need to request permission to start working on this. You are encouraged to comment on the issue if you are planning to work on it. This will help other contributors monitor which issues are actively being addressed and is also an effective way to request assistance if and when you need it.\r\n\r\nFor guidance on contributing, please read [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md) before opening your pull request.\r\n"},{"labels":["documentation",null],"text":"due to the narrower central content column, https://v5.getbootstrap.com/docs/5.0/forms/layout/#inline-forms wraps to two lines even at large 1920x1080 browser window size. while it's good that it shows that it adapts, maybe we should provide a slightly smaller example that's at least on one line at the large size (e.g. drop one of the fields?)\r\n\r\n> ![inline form example at large browser window size with submit button on second line](https://user-images.githubusercontent.com/895831/86452479-41d9a680-bd14-11ea-9cfc-2398849b4035.png)\r\n"},{"labels":["documentation",null],"text":"It seems we are also inconsistent with tables in some components. For example, https://deploy-preview-31130--twbs-bootstrap.netlify.app/docs/5.0/components/tooltips/#methods is using a table but https://deploy-preview-31130--twbs-bootstrap.netlify.app/docs/5.0/components/carousel/#methods doesn't.\r\n\r\nThe no table approach has the advantage that one can link directly to a method. Either way, we should streamline this.\r\n\r\n_Originally posted by @XhmikosR in https://github.com/twbs/bootstrap/pull/31130#issuecomment-647108644_"},{"labels":["documentation",null],"text":"There's no good reason (other than ease of styling) for https://v5.getbootstrap.com/docs/5.0/components/carousel/, https://v5.getbootstrap.com/docs/5.0/components/collapse/, https://v5.getbootstrap.com/docs/5.0/components/navs/#javascript-behavior, https://v5.getbootstrap.com/docs/5.0/components/popovers/#dismiss-on-next-click  to use \"<a href=\"#...\" role=\"button\">...</a>\" pseudo-buttons. While sure, BS can still support this, it'd be good to lead by example and use the correct \"<button>\" element for this (though I don't believe we have a neutral-enough button style out of the box to support carousel buttons...or at least, the current carousel controls need to be extended to neutralise the remaining button styles that creep in when swapping out the elements)."},{"labels":["documentation",null,null],"text":"This is an issue I've encountered on Safari 13.1.1 (both Mac and iOS versions) using Bootstrap v5 when applying a blur backdrop-filter to a nav element. It might not be present in other browsers and it is hardly noticeable, however when you notice it you cannot ignore it.\r\n\r\nI've encountered this issue while making a website and then found out it is present also on [https://v5.getbootstrap.com/docs/5.0/getting-started/introduction/](url)\r\n\r\nI would describe this issue as if for some reason the blur filter could not be applied to the first top part of the subnavbar (same issue with a standard navbar) as it is shown in this picture: \r\n\r\n<img width=\"643\" alt=\"Screenshot 2020-06-24 at 20 46 56\" src=\"https://user-images.githubusercontent.com/55589885/85622458-252fd580-b667-11ea-8094-e2a30dd8957f.png\">\r\n\r\nHowever the good news is that I could actually find a solution to this problem after hours of useless attempts by simply wrapping the nav item in a div element (which obviously also needs the class \"sticky-top\") with a custom style.\r\nSpecifically I created a \r\n\"\"\"scss\r\n.bd-wrap-subnav{\r\n  background-color: rgba($white, .75);\r\n  backdrop-filter: blur(1rem);\r\n}\r\n\r\n\"\"\" \r\nafter commenting both background-color and backdrop-filter present in the \".bd-subnavbar\" in the _subnav.scss:\r\n\r\n\"\"\"scss\r\n.bd-subnavbar {\r\n  // The position and z-index are needed for the dropdown to stay on top of the content\r\n  position: relative;\r\n  z-index: $zindex-sticky;\r\n  //background-color: rgba($white, .75);\r\n  //backdrop-filter: blur(1rem);\r\n  box-shadow: 0 .5rem 1rem rgba(0, 0, 0, .05), inset 0 -1px 0 rgba(0, 0, 0, .15);\r\n\"\"\"\r\n\r\nI modified the \"docs-subnavbar.html\" partial like this:\r\n\r\n\"\"\"html\r\n<div class=\"sticky-top bd-wrap-subnav\" style=\"backdrop-filter: blur(1rem);\">\r\n<nav class=\"bd-subnavbar pt-2 pb-3 pb-md-2\" aria-label=\"Secondary navigation\">\r\n  <div class=\"container-xxl d-flex align-items-md-center flex-wrap\">\r\n    <form class=\"bd-search position-relative mb-2 mb-md-0 mr-auto\">\r\n      <input type=\"search\" class=\"form-control\" id=\"search-input\" placeholder=\"Search docs...\" aria-label=\"Search docs for...\" autocomplete=\"off\" data-docs-version=\"{{ .Site.Params.docs_version }}\">\r\n    </form>\r\n\r\n    {{ partial \"docs-versions\" . }}\r\n\r\n    <button class=\"btn bd-search-docs-toggle d-md-none p-0 ml-3 order-3 ml-auto\" type=\"button\" data-toggle=\"collapse\" data-target=\"#bd-docs-nav\" aria-controls=\"bd-docs-nav\" aria-expanded=\"false\" aria-label=\"Toggle docs navigation\">\r\n     {{ partial \"icons/menu.svg\" (dict \"width\" \"30\" \"height\" \"30\") }}\r\n   </button>\r\n  </div>\r\n</nav>\r\n</div>\r\n\r\n\"\"\"\r\n\r\nThe result is this:\r\n\r\n<img width=\"822\" alt=\"Screenshot 2020-06-24 at 21 52 26\" src=\"https://user-images.githubusercontent.com/55589885/85623826-44c7fd80-b669-11ea-9bad-daa268df7263.png\">\r\n"},{"labels":["documentation",null],"text":"* bootstrap-outline.svg\r\n* bootstrap-punchout.svg\r\n* bootstrap-solid.svg"},{"labels":["documentation",null],"text":"https://v5.getbootstrap.com/docs/5.0/about/overview/#history touches on the changes of approach/features in the various versions. this will need to be expanded (certainly before release, but perhaps even earlier) to expound on the thinking behind the v5 changes."},{"labels":["documentation",null],"text":"Inside **Importing section** there are a reference to \"@import \"../node_modules/bootstrap/scss/code\";\" but that path does not exist in **bootstrap\": \"^5.0.0-alpha1\"**\r\n**Note**: using npm install. \r\n\r\n\r\n\r\n"},{"labels":["documentation",null,null],"text":"Missing comma at: https://github.com/twbs/bootstrap/blob/v5.0.0-alpha1/scss/bootstrap-grid.scss#L35\r\n"},{"labels":["documentation",null],"text":"[According to docs](https://v5.getbootstrap.com/docs/5.0/layout/gutters/) So 1rem = 13.3px? Really? I always thought that 1rem is 16px. If so it should be 24px not 20px."},{"labels":["documentation",null],"text":"obviously, https://v5.getbootstrap.com/docs/5.0/about/brand/ needs to show the new logo, rather than the old one.\r\n\r\nhowever, skimming over them, I also stumbled across this part https://v5.getbootstrap.com/docs/5.0/about/brand/#colors\r\n\r\n> Our docs and branding use a handful of primary colors to differentiate what is Bootstrap from what *is in* Bootstrap. In other words, if it’s purple, it’s representative of Bootstrap.\r\n\r\nI'm not quite sure this has ever been obvious to me while going over the docs. Is that actually still the case?\r\n\r\n/cc @mdo "},{"labels":["documentation",null,null],"text":"Hi,\r\n\r\nI just tried the new Bootstrap 5.0.0-alpha1 and when I wanted to add a new color to $theme-colors it override all the theme.\r\n\r\nI compared the code with the v 4.5.0 and I found that in the file variables.scss the map-merge is missing.\r\n\r\nIn v4.5.0\r\n\r\n\"\"\"\r\n$theme-colors: () !default;\r\n\r\n$theme-colors: map-merge(\r\n  (\r\n    \"primary\":    $primary,\r\n    \"secondary\":  $secondary,\r\n    \"success\":    $success,\r\n    \"info\":       $info,\r\n    \"warning\":    $warning,\r\n    \"danger\":     $danger,\r\n    \"light\":      $light,\r\n    \"dark\":       $dark\r\n  ),\r\n  $theme-colors\r\n);\r\n\"\"\"\r\n\r\nIn V5\r\n\r\n\"\"\"\r\n$theme-colors: (\r\n  \"primary\":    $primary,\r\n  \"secondary\":  $secondary,\r\n  \"success\":    $success,\r\n  \"info\":       $info,\r\n  \"warning\":    $warning,\r\n  \"danger\":     $danger,\r\n  \"light\":      $light,\r\n  \"dark\":       $dark\r\n) !default;\r\n\"\"\""},{"labels":["documentation",null,null],"text":"I suggest we use the accordion alternative of the Collapse plugin for the docs' sidebar.\r\n\r\nAt first sight I think it may be more practical and pleasant to use (+ resulting in a less long sidebar ; is it useful to have more than one section expanded at a time?)\r\n\r\nhttps://github.com/twbs/bootstrap/pull/30230 for reference "},{"labels":["documentation"],"text":"The search form in the v5 Docs page does not work at all. It displays [no result found for query \"any query\"]\r\n\r\n- Operating system and version ( macOS, Android, iPadOS) (latest version on all devices)\r\n- Browser and version (Chrome, Safari) (latest version on all devices)\r\n\r\n![DC0C99B1-EAA4-4CF3-9C93-F77015E12467](https://user-images.githubusercontent.com/49591985/84832329-b8e51e80-b035-11ea-8d27-983e19118cfc.jpeg)\r\n"},{"labels":["documentation",null],"text":"Tracking for before we go stable with v5—we'll need to update \"robots.txt\".\r\n\r\nTODO:\r\n\r\n- [ ] Revert 723cd8d12bdd48f389234b5fc40c3b1789807b4d (not blindly)\r\n- [ ] Revert fc74a0d91589c120bf8b9a3913fbceb016733c61 (when we use the \"latest\" npm tag)\r\n"},{"labels":["documentation",null],"text":"Suggestion request!! \r\n\r\nWhy normal function?\r\n\r\nIt would be nice if you use the \"arrow function\" instead of normal function with \"let/const\" and \"querySelector\"\r\n\r\n\"\"\"\r\nvar myCarousel = document.getElementById('myCarousel');\r\n\r\nmyCarousel.addEventListener('slide.bs.carousel', function () {\r\n  // do something...\r\n})\r\n\"\"\"\r\n\r\nwith\r\n\r\n\"\"\"\r\nconst myCarousel = document.querySelector('#myCarousel');\r\n\r\nmyCarousel.addEventListener('slide.bs.carousel', () => {\r\n  // do something...\r\n})\r\n\"\"\"\r\n\r\nAlso, it would be nice if all the places have the same selector because \"method\" section has \"querySelector\" where \"event\" section has \"getElementById\""},{"labels":["documentation"],"text":"Maybe not for all pages, but at least for components, layout etc so that one can do \"https://getbootstrap.com/components/alerts/\" and they will be redirected to our latest page like \"https://getbootstrap.com/docs/5.0/components/alerts/\". I know I've needed this myself in the past for linking to components.\r\n\r\nIf one page is removed in the future, the redirect will still point to the latest version it existed.\r\n\r\nNow, some notes:\r\n\r\n1. I'm not sure if Hugo has an easy way instead of us specifying an alias for each page, maybe @regisphilibert has an idea :)\r\n2. This won't be a replacement to what we've discussed about adding, a \"/docs/latest/\" endpoint, but since I'm not sure how/if we'll get to do that, this should at least help with linking regardless of the version.\r\n3. If we do it on master, we probably shouldn't do it on v4-dev unless I'm missing something, because we might release a 4.x patch release after a v5.0 release and many pages are the same so the links will change.\r\n4. Another thing we could do is do \"/components/4.x/alerts/\" replacing the minor version with \"x\"\r\n\r\nJust thinking out loud here, maybe I'm missing something obvious and this won't be a good change and it will cause issues for us in the future. So, please discuss :)"},{"labels":["documentation"],"text":"On the docs pages, the sidebar on the right side of the page should use scrollspy."},{"labels":["documentation",null],"text":"If you want to use a dropdown on the button that isn't at the last element of the input group, you can do it by using multiple \".input-group-append\"s. I mentioned about this usage in #25075, but it isn't described in the documents.\r\n\r\nDemo: https://codepen.io/anon/pen/wNJWeL\r\n\r\nWhy need multiple \".input-group-append\"? A \".dropdown-menu\" must be the last child of the wrapper (\".dropdown\", \".btn-group\" or an element has \"position: relative\"). This mean the following code is incorrect:\r\n\r\n\"\"\"html\r\n<div class=\"input-group\">\r\n  <input type=\"text\" class=\"form-control\">\r\n  <div class=\"input-group-append\">\r\n    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">Dropdown</button>\r\n    <!-- dropdown-menu must be at the last of the container. -->\r\n    <div class=\"dropdown-menu\">\r\n      <a class=\"dropdown-item\" href=\"#\">Action</a>\r\n      <a class=\"dropdown-item\" href=\"#\">Another action</a>\r\n      <a class=\"dropdown-item\" href=\"#\">Something else here</a>\r\n    </div>\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n  </div>\r\n</div>\r\n\"\"\"\r\n\r\nSo, you should use multiple \".input-group-append\"s:\r\n\r\n\"\"\"html\r\n<div class=\"input-group\">\r\n  <input type=\"text\" class=\"form-control\">\r\n  <div class=\"input-group-append\">\r\n    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">Dropdown</button>\r\n    <div class=\"dropdown-menu\">\r\n      <a class=\"dropdown-item\" href=\"#\">Action</a>\r\n      <a class=\"dropdown-item\" href=\"#\">Another action</a>\r\n      <a class=\"dropdown-item\" href=\"#\">Something else here</a>\r\n    </div>\r\n  </div>\r\n  <div class=\"input-group-append\">\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n  </div>\r\n</div>\r\n\"\"\"\r\n\r\n_Originally posted by @ysds in https://github.com/twbs/bootstrap/issues/28150#issuecomment-459557777_"},{"labels":["documentation",null,null],"text":"When list-based approach is not used for the navbar, class \".nav-item\" is not required on \".nav-link\" inside \".navbar-nav\". Link for the [docs](https://getbootstrap.com/docs/4.5/components/navbar/#nav).\r\n\r\nSee [this comment](https://github.com/twbs/bootstrap/issues/28423#issuecomment-630286599) in #28423 "},{"labels":["documentation",null],"text":"![Screen Shot 2020-05-21 at 3 01 57 PM](https://user-images.githubusercontent.com/4933622/82563241-fa89c300-9b76-11ea-943b-28e4e59b9b97.png)\r\n\r\n\r\nThe [documentation in Collapse Options](https://getbootstrap.com/docs/4.5/components/collapse/#options) is unclear. It says options can be passed in with data attributes and lists \"toggle\" as an option, but I can't have two \"data-toggle\" attributes, and \"data-toggle\" doesn't appear to take multiple arguments.\r\n\r\nThe documentation suggests this will work (reduced options for clarity):\r\n\"\"\"html\r\n<button data-toggle=\"collapse false\" data-target=\"#collapseExample\">\r\n  No collapse toggle\r\n</button>\r\n\r\n<button data-toggle=\"collapse\" data-toggle=\"false\" data-target=\"#collapseExample\">\r\n  No collapse toggle\r\n</button>\r\n\"\"\"\r\n\r\nBut neither do. The first doesn't trigger any collapse functionality and the second is invalid HTML.\r\n\r\n### Expectations\r\nI expect \"data-toggle=\"collapse false\"\" will trigger collapse one time in one direction, rather than toggle back and forth. It should function the same as \".collapse('show')\" or \".collapse('hide')\", and show/hide depends on the target element.\r\n\r\n### Suggestion:\r\n- Update the documentation to explicitly state \"data-toggle\" won't work and can only be passed as an option with JavaScript\r\n- Update the plugin to take \"data-toggle=\"collapse false\"\" or \"data-toggle-state=\"false\"\" options\r\n\r\n### Reproduction\r\n- Create an collapse element with \"data-toggle=\"collapse false\"\"\r\n- Collapse no longer works for that element\r\n"},{"labels":["documentation",null],"text":"On the page https://getbootstrap.com/docs/4.5/getting-started/download/#bootstrapcdn it says:\r\n\r\n> If you’re using our compiled JavaScript, don’t forget to include CDN versions of jQuery and Popper.js before it.\r\n\r\nIt then shows an example of\r\n\r\n\"\"\"\r\n<script src=\"https://code.jquery.com/jquery-3.5.1.slim.min.js\" integrity=\"sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj\" crossorigin=\"anonymous\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js\" integrity=\"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo\" crossorigin=\"anonymous\"></script>\r\n\"\"\"\r\n\r\nSee the issue? The example shows popper _after_ jQuery, but the docs say it should come _before_ it.\r\n\r\nThe error appears to exist in the description, and not the example. I suggest changing:\r\n\r\n> If you’re using our compiled JavaScript, don’t forget to include CDN versions of jQuery and Popper.js before it.\r\n\r\nto:\r\n\r\n> If you’re using our compiled JavaScript, don’t forget to include CDN versions of jQuery and Popper.js after it.\r\n"},{"labels":[null,"documentation",null],"text":"\r\n![Capture](https://user-images.githubusercontent.com/64018778/82112755-1c6dea80-971e-11ea-92ea-3f93cad8e8f9.JPG)\r\n\r\n"},{"labels":["documentation"],"text":"Search is not working on Bootstrap 4.3.1 documentation\r\nWindows 10\r\nChrome 81\r\nAnything i searches it does says \"ABC\" is not found etc.\r\n\r\nhttps://getbootstrap.com/docs/4.3/components/modal/\r\n"},{"labels":["documentation",null,null,null],"text":"[Hugo v0.70.0](https://github.com/gohugoio/hugo/releases/tag/v0.70.0) introduced the ability to use [Babel](https://gohugo.io/hugo-pipes/babel/), which means we can finally use ES6 everywhere in the codebase for v5.\r\n\r\nThere's still a bug that needs to be fixed, but should only affect Windows: <https://github.com/gohugoio/hugo/issues/7251>\r\n"},{"labels":["documentation",null,null],"text":"[This page](https://getbootstrap.com/docs/4.5/extend/icons/) should have information about the new Bootstrap Icons in v4.5."},{"labels":["documentation",null],"text":"Starting today I can't search in the bootstrap docs. Searching for \"buttons\" yields no results.  Looks like a new version of BS and Docs.  Needs a little love."},{"labels":["documentation",null],"text":"In v4 we still have the Browser Bugs page, but it's outdated for sure. We should add a callout or something. We could also remove the page but maybe it makes more sense to keep it with a warning at the top?\r\n\r\n/CC @mdo @MartijnCuppens "},{"labels":["documentation",null],"text":"At the moment the documentation for grouped button-styled radio buttons is located in the \"Buttons\" component. However, I think it should be placed (or at least referenced) in the \"Button Groups\" component or the \"Forms\" component page. What do you think?"},{"labels":["documentation"],"text":"Hi,\r\n\r\nI'd love to see a **Sass reference** section on each component.\r\n\r\nBasically, a section which lists every Sass variables & mixins related to a component.\r\nSomething like the JS reference (https://getbootstrap.com/docs/4.4/components/modal/#via-javascript) you can see on every component but for Sass.\r\n\r\n**Why?**\r\n\r\nOne of the strength of a framework like Bootstrap is that it is built on Sass.\r\n\r\nSass variables and mixins are powerful ways to customize components but it's currently pretty hard to discover and search Sass variables and mixins.\r\n\r\nWe currently have:\r\n- https://getbootstrap.com/docs/4.4/getting-started/theming but it's a pretty general guide and lack reference to all variables/mixins\r\n- \"scss/_variables.scss\" but it is 1200+ lines long and I think I shouldn't be necessary to read sources to use/customize Bootstrap\r\n- \"scss/mixins\" same thing + it isn't that easy to read/find, especially if you are a Sass beginner\r\n\r\n**Example**\r\n\r\nHere is an example with Foundation \"Reveal\" (modal) component: https://get.foundation/sites/docs/reveal.html\r\n\r\nI'm obviously open about the format/content of this new section, this link is just an example.\r\n\r\n-----\r\n\r\n**Update**\r\n\r\nHere are basic, unfinished examples of what it might look like for Bootstrap docs:\r\n\r\n**Alerts**\r\nhttps://trusting-bardeen-d7b45d.netlify.com/docs/4.3/components/alerts/#sass-reference\r\n\r\n**Toasts** (no mixins)\r\nhttps://trusting-bardeen-d7b45d.netlify.com/docs/4.3/components/toasts/#sass-reference\r\n\r\n**Buttons**\r\nhttps://trusting-bardeen-d7b45d.netlify.com/docs/4.3/components/buttons/#sass-reference"},{"labels":["documentation",null,null],"text":"Hi,\r\n\r\nWhen browsing the documentation for the latest version 4.4, I came across an unused class in one of the exemples for the navbar.\r\n\r\nThe External content exemple contains the \"pos-f-t\" class which no longer exists in bootstrap:\r\n\"\"\"html\r\n<div class=\"pos-f-t\">\r\n  <div class=\"collapse\" id=\"navbarToggleExternalContent\">\r\n    <div class=\"bg-dark p-4\">\r\n      <h5 class=\"text-white h4\">Collapsed content</h5>\r\n      <span class=\"text-muted\">Toggleable via the navbar brand.</span>\r\n    </div>\r\n  </div>\r\n  <nav class=\"navbar navbar-dark bg-dark\">\r\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarToggleExternalContent\" aria-controls=\"navbarToggleExternalContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n  </nav>\r\n</div>\r\n\"\"\"\r\n\r\nI took a look at the commit history, and found one stating that it has been renamed to \"position-fixed\".\r\n\r\nThank you"},{"labels":["documentation",null,null],"text":"In https://github.com/twbs/bootstrap/pull/30414 we discovered the skip links do not look that well if backported to \"v4\":\r\n![image](https://user-images.githubusercontent.com/11559216/78049364-455b3b80-737b-11ea-86ca-e4e7d9a0c93f.png)\r\n\r\nWe could also improve the theming in v5, in some viewports, it also covers a critical part of the navbar\r\n![image](https://user-images.githubusercontent.com/11559216/78049277-26f54000-737b-11ea-88e7-e76464f2ce59.png)\r\n\r\nCC @patrickhlauke @ffoodd \r\n"},{"labels":["documentation",null,null],"text":"So, the idea is that we get a unique page body class; something like \"page-<page-title> <page-layout>\"\r\n\r\nhttps://github.com/twbs/blog/blob/e687b66fee2a4ebffed09c91279bb4f8a8c51fcf/_layouts/default.html#L23-L26\r\n\r\nAny help is welcome!\r\n\r\nRefs https://github.com/twbs/bootstrap/pull/29315#issuecomment-604911967"},{"labels":["documentation",null,null],"text":"It seems #30041 resulted in some broken links. I'll tackle those tomorrow and rename the config var so that it's clearer."},{"labels":[null,"documentation",null,null],"text":"The hamburger menu button in v4 and upcoming v5 documentation on small screen lacks a visible focus indication (e.g. when navigating by keyboard)\r\n\r\n![v4 header with hamburger menu button](https://user-images.githubusercontent.com/895831/77048060-bd118980-69bd-11ea-91d0-a8ef46428e8e.png)\r\n\r\n![v4 header with hamburger menu button](https://user-images.githubusercontent.com/895831/77048035-b08d3100-69bd-11ea-8cb6-79cf1d892e2f.png)\r\n\r\nincidentally, this would be the sort of thing that would ideally, in future, be tackled using \":focus-visible\" (as you'd want some sort of focus outline, but ideally only when navigating with keyboard and not after clicking with mouse/tapping on touchscreen)\r\n\r\nxref https://github.com/twbs/bootstrap/pull/30073#issuecomment-601054410"},{"labels":["documentation",null,null],"text":"Hi,\r\n\r\nAfter upgrading from \"4.3.1\" to \"4.4.1\" I've noticed that \".card-group\" class was loosing it attribute \"display: flex;\" when resizing screen under the \"576px\".\r\n\r\nHere is the CSS class I get from Dev Tools on the documentation's bootstrap page  (https://getbootstrap.com/docs/4.4/components/card/#card-groups):\r\n\r\n\"\"\"css\r\n@media (min-width: 576px) {\r\n    .card-group {\r\n        display:-ms-flexbox;\r\n        display: flex;\r\n        -ms-flex-flow: row wrap;\r\n        flex-flow: row wrap\r\n    }\r\n   ...\r\n}\r\n\"\"\"\r\n\r\nIn the documentation, it is said \r\n> Card groups use display: flex;\r\nThis may be confusing.\r\n\r\n\r\nOperating system: macOs 10.15.3 (19D76)\r\nBrowsers: \r\n- Safari Version 13.0.5 (15608.5.11)\r\n- Firefox 73.0.1 (64 bits)\r\n- Brave Version 1.4.96 Chromium: 80.0.3987.132 (Official Build) (64-bit)\r\n"},{"labels":["documentation"],"text":"I was looking for the proper way to replace the float-left mixin to address the deprecation warning.\r\n\r\nThe documentation still references 3 deprecated mixins: https://getbootstrap.com/docs/4.4/utilities/float/#mixins\r\n\r\nIt looks like there is a WIP PR for over-hauling the mixin documentation entirely (as of the time of this writing, the call-out for deprecated mixins was not completed): https://github.com/twbs/bootstrap/pull/26500\r\n\r\nFor reference, the deprecation was added here: https://github.com/twbs/bootstrap/pull/28104\r\n\r\n- Is there a recommended change for replacing the use of the mixin?\r\n- Would it be helpful to have a stand-alone PR that puts the deprecation call-out in the documentation, or just wait for the PR linked above?\r\n"},{"labels":["documentation",null],"text":"The example located at https://getbootstrap.com/docs/4.4/examples/dashboard/ loses its navigation bar on small viewports. This causes the dashboard to lose *major* functionality on these devices. Given that bootstrap purports to be \"Mobile First,\" having examples that are broken for mobile devices causes confusion and time waste to users attempting to learn the bootstrap framework and best practices (which arguably should be found in the examples).\r\n\r\nThere are multiple tickets in regards to this issue: #26311 #26884 \r\nA note could inform users that the example isn't suitable for mobile devices and help curb confusion and time wasted for everyone in dealing with this problem."},{"labels":[null,"documentation",null,null],"text":"Wasn't sure quite where to report this, but it appears your HTML \"<blockquote>\" [example](https://getbootstrap.com/docs/4.4/content/typography/#blockquotes) isn't technically correct:\r\n\"\"\"\r\n<blockquote class=\"blockquote\">\r\n  <p class=\"mb-0\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>\r\n  <footer class=\"blockquote-footer\">Someone famous in <cite title=\"Source Title\">Source Title</cite></footer>\r\n</blockquote>\r\n\"\"\"\r\n[The spec](https://html.spec.whatwg.org/multipage/grouping-content.html#the-blockquote-element) for \"<blockquote>\" states:\r\n> Attribution for the quotation, if any, must be placed outside the blockquote element.\r\n\r\nThere are two examples of how you could do this correctly in the spec:\r\n\"\"\"\r\n<blockquote>\r\n <p>I contend that we are both atheists. I just believe in one fewer\r\n god than you do. When you understand why you dismiss all the other\r\n possible gods, you will understand why I dismiss yours.</p>\r\n</blockquote>\r\n<p>— Stephen Roberts</p>\r\n\"\"\"\r\nand\r\n\"\"\"\r\n<figure>\r\n <blockquote>\r\n  <p>The truth may be puzzling. It may take some work to grapple with.\r\n  It may be counterintuitive. It may contradict deeply held\r\n  prejudices. It may not be consonant with what we desperately want to\r\n  be true. But our preferences do not determine what's true. We have a\r\n  method, and that method helps us to reach not absolute truth, only\r\n  asymptotic approaches to the truth — never there, just closer\r\n  and closer, always finding vast new oceans of undiscovered\r\n  possibilities. Cleverly designed experiments are the key.</p>\r\n </blockquote>\r\n <figcaption>Carl Sagan, in \"<cite>Wonder and Skepticism</cite>\", from\r\n the <cite>Skeptical Inquirer</cite> Volume 19, Issue 1 (January-February\r\n 1995)</figcaption>\r\n</figure>\r\n\"\"\"\r\nPersonally I like the latter, though it's a bit verbose.\r\nTo be clear, the \"<footer>\" element can be used inside a \"<blockquote>\", but not for the purpose of attribution."},{"labels":["documentation",null,null,null],"text":"The docs for the vertically centered don't appear to fully match what should be shown.  The \"Launch Demo Modal\" text should be \"Vertically centered modal,\" but what really matters is that there's no class mentioned for \"modal-dialog-scrollable\" in the **Vertically Centered** section.\r\n![image](https://user-images.githubusercontent.com/7206282/72752098-fa58c700-3b86-11ea-9a54-41341f15ea70.png)\r\n\r\nVery minor issue."},{"labels":["documentation",null],"text":"It would be nice to use open search to search through the docs. I made a PR (https://github.com/twbs/bootstrap/pull/29872), but first we got to figure out how to deal with caching and have a solution for the absolute urls in the config xml. Maybe we should also make a separate search page in the docs."},{"labels":["documentation"],"text":"There is [a lot of confusion](https://www.google.com/search?q=alignment+bootstrap+site%3Astackoverflow.com&oq=alignment+bootstrap+site%3Astackoverflow.com) about alignment in bootstrap.\r\n\r\nI suggest the page about [vertical alignment](https://getbootstrap.com/docs/4.4/utilities/vertical-align/) also mention or link to all the other options for alignment. Especially since auto-margins usually work better now that Bootstrap 4 is flexbox by default.\r\n\r\nAt least add a link to [auto-margins](https://getbootstrap.com/docs/4.4/utilities/flex/#auto-margins).\r\n\r\nEven better, use some text from this excellent [stack overflow post by Zim](https://stackoverflow.com/questions/41265182/vertical-alignment-in-bootstrap-4).\r\n\r\n\"There are many different approaches to vertical alignment using: auto-margins, flexbox utils, or the display utils along with vertical align utils. At first \"vertical align utils\" seems obvious but these only work with inline and table display elements. \"\r\n\r\nThanks!"},{"labels":["documentation"],"text":"As we’re using the same navbar across all our projects now—docs, icons, and blog—I’m wondering if we should be linking to our GitHub org profile instead of the Bootstrap (or Icons) projects in the main navbar.\r\n\r\nThoughts @XhmikosR, @MartijnCuppens, @ysds, @Johann-S?"},{"labels":["documentation",null,null],"text":"See #29743"},{"labels":[null,"documentation"],"text":"According to the docs @ https://getbootstrap.com/docs/4.3/utilities/text/#text-alignment, we can create breakpoints for aligning text i.e. \"text-left\", \"text-sm-left\", \"text-xl-center\" etc.\r\n\r\nThere is a \"text-justify\" class for all breakpoints, but there are no individual break points? Why hasn't this been added with the other alignment classes?\r\n\r\nFor example, on mobiles a block of text looks better to be centred, but anything larger should be justified. This could easily be achieved by using \"text-center text-sm-justify\", to work along the lines of all the other alignment classes."},{"labels":["documentation",null],"text":"Hi.\r\nRecently, you have shipped [#29544](https://github.com/twbs/bootstrap/pull/29544) and have backported it to v4.x documentations in project [v4.4.0](https://github.com/twbs/bootstrap/projects/18).\r\n\r\nIn file \"/site/_includes/docs-navbar.html\", at **line 18**, the expression \"{{ .Site.Params.icons }}/\" does not generate correct \"href\" for new **icons** hyperlink in navigation bar of v4.x docs.\r\nIt should be \"{{ site.icons }}/\".\r\nSo. please consider it.\r\n\r\nTo ensure, get and build [my forked repo](https://github.com/PerseusTheGreat/bootstrap-4-rtl)."},{"labels":["documentation"],"text":"_I had a nice issue description before github/related issues-beta ate it, here's the gist:_\r\n\r\nhttps://getbootstrap.com/docs/4.3/utilities/flex/#justify-content\r\n\r\nThe  flex justify documentation examples only display equal-width items (\"<div>Flex Item</div>\"). \r\nIt might be wise to add one or two examples with non-equal-width divs and more than 3 cols.\r\n\r\nSpecifically to illustrate that the middle item is _not_ necessarily centered.\r\n\r\nconfused user in the wild: https://stackoverflow.com/questions/58647355/bootstrap-4-justify-space-around-and-justify-content-center-not-lining-up\r\n"},{"labels":["documentation",null,null,null],"text":"Just had an issue on a website where I had an FAQ in an accordion.  It was found that on smaller phone screens some of the FAQs were center aligned where as others were left aligned.  \r\n\r\nFound that btn-link was applying CSS of text-align:center but the link was set to display inline - therefore the text would only center when the FAQ went across multiple lines but would normally be left aligned at other times - problem can be seen in attached image.\r\n![2019-10-26 00_09_32-Join Us](https://user-images.githubusercontent.com/45285317/67609500-fe8e6780-f784-11e9-8213-2f277ebf7414.png)\r\n"},{"labels":["documentation",null],"text":"# What Happens\r\n\r\nOddly, Google, in my area, still indexes 4.0 version of the docs while the current version is 4.3. So the search redirects to \"https://getbootstrap.com/docs/4.0\".\r\n\r\nWhen I open up the docs from the search, naturally it says:\r\n\r\n > There's a newer version of Bootstrap 4!\r\n\r\nWhen I click on that, it redirects to home page rather than the same page of the component.\r\n\r\n# What I Expect\r\n\r\n\"There's a newer version of Bootstrap 4!\" should redirect to the latest version of Bootstrap of the same component or whatever. This means, the link on \"https://getbootstrap.com/docs/4.0/components/popovers/\" sohuld redirect to \"https://getbootstrap.com/docs/4.3/components/popovers/\" or we should do something similar to \"https://getbootstrap.com/docs/latest/components/popovers/\"."},{"labels":["documentation",null],"text":"In the documentation for both Tooltips and Popovers is the caveat: \"opt-in for performance reasons, so you must initialize them yourself.\"  But I'm having trouble finding a detailed explanation of \"performance reasons.\"  The caveat is [at least 6 years old](https://github.com/twbs/bootstrap/blame/c6aae570b1bc608f5ca4b9ce9085ba9929edeb13/docs/javascript/tooltips.md#L37-L38), which makes me wonder if it's still true.\r\n\r\nAlso, many people miss this caveat when reading the documentation, for example #24985 and #15458.  So it would be great if Tooltips and Popovers could actually be automatically initialized in a performant way.  That might also pair nicely with [using \"MutationObserver\" to automatically remove Tooltips](https://github.com/twbs/bootstrap/issues/28964#issuecomment-507556829) in v5.\r\n"},{"labels":["documentation",null],"text":"In our docs we check for the name of the colors to apply a light or dark color:\r\n\r\nhttps://github.com/twbs/bootstrap/blob/master/site/content/docs/4.3/utilities/colors.md#L33\r\n\r\nWe could add this to the \"theme-colors.yml\" file like this:\r\n\r\n\"\"\"yaml\r\n- name: primary\r\n  hex: \"#007bff\"\r\n  contrast_color: white\r\n- name: secondary\r\n  hex: \"#868e96\"\r\n  contrast_color: white\r\n- name: success\r\n  hex: \"#28a745\"\r\n  contrast_color: white\r\n- name: danger\r\n  hex: \"#dc3545\"\r\n  contrast_color: white\r\n- name: warning\r\n  hex: \"#ffc107\"\r\n  contrast_color: dark\r\n- name: info\r\n  hex: \"#17a2b8\"\r\n  contrast_color: white\r\n- name: light\r\n  hex: \"#f8f9fa\"\r\n  contrast_color: dark\r\n- name: dark\r\n  hex: \"#343a40\"\r\n  contrast_color: white\r\n\"\"\"\r\n\r\nThis will be easier to maintain since we don't have to check for light or warning everywhere.\r\n"},{"labels":["documentation",null,null],"text":"So, apparently, this is broken for quite some time now :)\r\n\r\nIt seems it first broke on https://github.com/twbs/bootstrap/commit/cb2b21bb88604dee22bd4d0f2804d8366b2d65e3\r\n\r\nThe issue is present on the current live site, v4-dev and master branches. For the master branch it seems removing \"align-items-start\" from the parent row fixes the issue (plus it seems the class is redundant anyway).\r\n\r\nFor v4-dev, so far, I have found 2 ways to solve this:\r\n\r\n1. specify the height in the CSS for >=768px, and width set to auto\r\n2. remove the \"img-fluid\" class from the SVG\r\n\r\nThis is how the live site https://getbootstrap.com/ looks like right now:\r\n\r\n![2019-09-01_11-39-55](https://user-images.githubusercontent.com/349621/64117707-8916a400-cd9e-11e9-96c2-2225a73edf49.png)\r\n\r\n/CC @MartijnCuppens @ysds for thoughts. I'll make a PR for master to remove the \"align-items-start\" class anyway."},{"labels":["documentation",null,null],"text":"https://github.com/twbs/bootstrap/blob/919b526f17a08cefba51c42b831c922adecb4a9f/site/layouts/shortcodes/example.html#L35-L38\r\n\r\nThe above basically extracts the class, removes \"bd-placeholder-img\" and \"bd-placeholder-img-lg\".\r\n\r\nI wonder if we can use \"findRE\" along with \"replaceRE\" to achieve the same thing.\r\n\r\nNot a huge deal, it just feels like a more elegant solution.\r\n\r\nSimilarly we could try doing the same for:\r\n\r\nhttps://github.com/twbs/bootstrap/blob/919b526f17a08cefba51c42b831c922adecb4a9f/site/layouts/shortcodes/example.html#L27-L29\r\n\r\nThis just extracts the \"<svg></svg>\"."},{"labels":["documentation",null],"text":"While looking into [this](https://github.com/twbs/bootstrap/compare/master-xmr-docs-example-shortcode), I hit the following:\r\n\r\n\"\"\"html\r\n{{< example >}}\r\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded\" title=\"Example rounded image\" >}}\r\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-top\" title=\"Example top rounded image\" >}}\r\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-right\" title=\"Example right rounded image\" >}}\r\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-bottom\" title=\"Example bottom rounded image\" >}}\r\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-left\" title=\"Example left rounded image\" >}}\r\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-circle\" title=\"Completely round image\" >}}\r\n{{< placeholder width=\"150\" height=\"75\" class=\"rounded-pill\" title=\"Rounded pill image\" >}}\r\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-0\" title=\"Example non-rounded image (overrides rounding applied elsewhere)\" >}}\r\n{{< /example >}}\r\n\"\"\"\r\n\r\nwhich results into this highlighted content:\r\n\r\n\"\"\"html\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n<img src=\"...\" class=\"rounded\" alt=\"...\">\r\n\"\"\"\r\n\r\nIt keeps the first placeholder's class and uses it for every \"img\".\r\n\r\nI'm not sure right now how to solve it. If anyone has any ideas let me know.\r\n\r\nThe related shortcode: https://github.com/twbs/bootstrap/blob/master/site/layouts/shortcodes/example.html"},{"labels":["documentation",null],"text":"First of all, I think we should move \"icons/booticon-chevron-right.svg\" to Sass.\r\n\r\nSecondly, I think we should properly implement breadcrumbs.\r\n\r\nThirdly, right now we don't follow our own [accessibility guidelines](https://twbs-bootstrap.netlify.com/docs/4.3/components/breadcrumb/#accessibility)\r\n\r\nAbout the second part, I'll see what I can do with Hugo."},{"labels":["documentation",null],"text":"An example is https://github.com/twbs/bootstrap/commit/ee01dc23408b3e78dfcc4aed0a144c10458bdb3c#diff-ff2388749f5d1e585be6463e17c3a33eR374\r\n\r\nIf no match is found we should fail the build."},{"labels":["documentation",null],"text":"It seems margin is missing there after the forms refactoring"},{"labels":[null,"documentation",null],"text":"We should have a look at combining the CSS of the docs and Bootstrap into one file. We'll be able to extend the \"theme-color\" map and extend the utility API for utilities we only use in the docs.\r\n\r\nRelated PR: https://github.com/twbs/bootstrap/pull/28500 (this one was closed since our build setup has changed)"},{"labels":["documentation",null],"text":"It feels like we don't really maintain it, thus it will become (or even already is) obsolete, plus it's not in the sidebar menu or any other menu.\r\n\r\nShould we remove it or keep it?\r\n\r\n/CC @twbs/team"},{"labels":["documentation",null],"text":"@mdo where did you mean this link to point to?\r\n\r\nhttps://github.com/twbs/bootstrap/blob/6335fbe224f28d2ce65c628756a84113ea65643f/site/layouts/partials/home/masthead.html#L24"},{"labels":["documentation"],"text":"Native lazy loading of images is available now in Chrome - it works great and can improve page load performance by only loading images in the viewport. There aren't a huge number of images in the Bootstrap Docs but I'd like to see \"loading=lazy\" added to the ones that are there.\r\n\r\nREF:\r\n- https://web.dev/native-lazy-loading/\r\n- https://addyosmani.com/blog/lazy-loading/"},{"labels":[null,"documentation"],"text":"On the [4.2 documentation for navs](https://getbootstrap.com/docs/4.2/components/navs/) the part about justified navs seems strange to me. Here is a snapshot of the example.\r\n![snapshot of example](https://i.imgur.com/hVdeUE0.png)\r\n\r\nThe text for the top example reads:\r\n\r\n> For equal-width elements, use .nav-justified. All horizontal space will be occupied by nav links, but unlike the .nav-fill above, every nav item will be the same width.\r\n\r\nWhich suggests that the following links would be equally sized, however, as you can see in the image, they are not.\r\n\r\nI'm a beginner, so from what I can tell they're missing the \"nav-item\" class attribute, but even then, going by the previous example on that same page and a working example after that entry, I think they meant to put it into an unordered list, so the code would look like this:\r\n\"\"\"html\r\n<ul class=\"nav nav-pills nav-justified\">\r\n  <li class=\"nav-item\">\r\n    <a class=\"nav-link active\" href=\"#\">Active</a>\r\n  </li>\r\n  <li class=\"nav-item\">\r\n    <a class=\"nav-link\" href=\"#\">Longer nav link</a>\r\n  </li>\r\n  <li class=\"nav-item\">\r\n    <a class=\"nav-link\" href=\"#\">Link</a>\r\n  </li>\r\n  <li class=\"nav-item\">\r\n    <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\r\n  </li>\r\n</ul>\r\n\"\"\"\r\n\r\nWhich would look like this (edited html on the page for code section):\r\n![Corrected Html Code](https://i.imgur.com/p79yMA3.png)\r\n\r\nIf I am wrong, let me know."},{"labels":["documentation",null],"text":"It seems we still have a fewbroken form examples\r\n\r\n* the second one in https://twbs-bootstrap.netlify.com/docs/4.3/forms/layout/#auto-sizing\r\n* a few more here https://twbs-bootstrap.netlify.com/docs/4.3/forms/validation/. Basically where \"input-group-prepend\" is used"},{"labels":["documentation",null],"text":"It seems on master docs we get this kind of warnings on Firefox:\r\n\r\n\"\"\"\r\nUnexpected value 3rem parsing height attribute.\r\n\"\"\"\r\n\r\nMaybe we should move this in CSS?\r\n\r\nSee also https://stackoverflow.com/a/46337386\r\n\r\n/CC @mdo @MartijnCuppens "},{"labels":["documentation",null],"text":"https://twbs-bootstrap.netlify.com/docs/4.3/getting-started/browsers-devices/#mobile-devices shows v5.0+\r\n\r\n/CC @mdo: shouldn't we align this with the version we have in .browserslistrc?"},{"labels":["documentation",null,null],"text":"https://gohugo.io/news/0.56.0-relnotes/"},{"labels":["documentation"],"text":"The iconic font library recommended in the documentation is no longer being maintained, and should not be recommended as one of the two recommended icon solutions for bootstrap.   The ssl cert on the documentation site at useiconic.com has expired several times and is presently (July 18 2019) expired.  It appears that the firm who made iconic was acquired and the buyer is uninterested in maintaining it.\r\n\r\nsee\r\n\r\nhttps://github.com/iconic/open-iconic/issues/45\r\n\r\nhttps://waybury.com/"},{"labels":["documentation",null,null],"text":"It seems after some recent changes, the examples screenshots dimensions have changed.\r\n\r\nWe shouldn't have bigger images than what we need them to be."},{"labels":[null,"documentation"],"text":"All operating systems, all browsers. \r\n\r\nhttps://getbootstrap.com/docs/4.1/components/modal/\r\n\r\nWith the [Chrome extension Axe](https://chrome.google.com/webstore/detail/axe/lhdoppojpmngadmnindnejefpokejbdd?hl=en-US) installed, analyzing the above page or just about any page that happens to use an \"<h5>\" tag to host the modal title, Axe reports an issue for every open modal dialog: \"Heading Levels should only increase by one\"\r\n\r\nThe rule documentation describes the issue with html \"<h#>\" tags having semantic meaning that could be interpreted by various screen readers: https://dequeuniversity.com/rules/axe/3.3/heading-order\r\n\r\nIs there a semantic reason for using an \"<h5>\" tag or would it be reasonable to use \"<div class=\"h5\">\" in the documentation on this page?\r\n\r\n\r\n"},{"labels":["documentation",null],"text":"https://getbootstrap.com/docs/4.3/components/forms/#horizontal-form\r\n\r\nButton row should either be \"class=\"col-sm-10 offset-sm-2\"\" or it shouldn't be a \".row\" at all, depending on your preferred styling choice.\r\n\r\nPersonally I'd go for an offset, because it follows the flow of the form controls in \"sm\" and above."},{"labels":[null,"documentation",null,null,null],"text":"A breaking change, but would like to squeeze this into v5 if we can: turn dynamic tabs into actual \"Tabs with automatic activation\" (see https://www.w3.org/TR/wai-aria-practices-1.1/examples/tabs/tabs-1/tabs.html and https://www.w3.org/TR/wai-aria-practices-1.1/#tabpanel /)\r\n\r\n- only the currently selected/active tab receives focus, all other tabs are not focusable (\"tabindex=\"-1\"\" added dynamically to them)\r\n- cursor keys cycle between tabs, setting both the \"tabindex=\"0\"\" and \"aria-selected=\"true\"\" to the newly active tab (and \"tabindex=\"-1\"\" / \"aria-selected=\"false\"\" on the now not selected one)\r\n- mouse behavior can remain as now (though need to flip \"tabindex\" accordingly)\r\n- document this in the docs, referencing specifically the \"automatic activation\" route (so authors aren't confused/don't wonder why using \"SPACE\" or whatever does nothing)"},{"labels":["documentation",null,null],"text":"[https://getbootstrap.com/docs/4.3/layout/grid/#equal-width-multi-row](https://getbootstrap.com/docs/4.3/layout/grid/#equal-width-multi-row)\r\n\r\n**Layout > Grid > Equal-width multi-row**\r\n\r\nThe documentation for this topic begins with, \"Create equal-width columns that span multiple rows by...\" however the example given does not demonstrate any columns spanning multiple rows. In the example:\r\n\r\n\"\"\"\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col\">col</div>\r\n    <div class=\"col\">col</div>\r\n    <div class=\"w-100\"></div>\r\n    <div class=\"col\">col</div>\r\n    <div class=\"col\">col</div>\r\n  </div>\r\n</div>\r\n\"\"\"\r\n\r\nEach column spans a single row in a 2 x 2 grid.\r\n\r\nThere's a similar topic located higher up on the same page with the same code example that has the text, \"Equal-width columns can be broken into multiple lines\" which makes a little more sense as the concept seems to be showing how you can split, or break, equal-width columns over multiple lines within a row."},{"labels":[null,"documentation"],"text":"When using the [locally installed documentation app](https://github.com/twbs/bootstrap#running-documentation-locally), the search bar uses Algolia's DocSearch. This makes the search unusable for a local server since it requires internet. Would be nice to somehow be able to use the search locally. Even a watered down topic search could be useful."},{"labels":["documentation",null,null],"text":"Layout overview has wrong \"background-color\" on the header sections of our diagrams in the examples."},{"labels":["documentation"],"text":"The tab javascript plugin actually needs \".nav\" or \".list-group\" class as the parent in order for it to work properly. It is not mentioned anywhere in the documentation.\r\n\r\n### Without .nav or .list-group\r\n\r\n\"\"\"html\r\n<div>\r\n\t<a href=\"#prices\" class=\"btn btn-primary active\" data-toggle=\"tab\">\r\n\t\tPrices\r\n\t</a>\r\n\t<a href=\"#features\" class=\"btn btn-secondary\" data-toggle=\"tab\">\r\n\t\tFeatures\r\n\t</a>\r\n</div>\r\n<div class=\"tab-content\">\r\n\t<div class=\"tab-pane active\" id=\"prices\">Prices content</div>\r\n\t<div class=\"tab-pane\" id=\"features\">Features Content</div>\r\n</div>\r\n\"\"\"\r\n\r\nThe tabs structure is just wrapped with a div without any class. The tab will work once: clicking \"Features\" will show the feature tab content. But it won't work after that. If you click \"Prices\" tab, the prices content won't show up.\r\n\r\n### With .nav or .list-group\r\n\r\nIf you add \".nav\" or \".list-group\" class to the \"<div />\" wraps the tabs, the tab plugin will work perfectly.\r\n\r\n\"\"\"html\r\n<div class=\"nav\">\r\n\t<a href=\"#nav-prices\" class=\"btn btn-primary active\" data-toggle=\"tab\">\r\n\t\tPrices\r\n\t</a>\r\n\t<a href=\"#nav-features\" class=\"btn btn-secondary\" data-toggle=\"tab\">\r\n\t\tFeatures\r\n\t</a>\r\n</div>\r\n<div class=\"tab-content\">\r\n\t<div class=\"tab-pane active\" id=\"nav-prices\">Prices content</div>\r\n\t<div class=\"tab-pane\" id=\"nav-features\">Features Content</div>\r\n</div>\r\n\"\"\"\r\n\r\n**Demo:** https://jsfiddle.net/davidliang2008/jtrzqfcu/39/\r\n\r\nBy the way, with _bootstrap 4.1_, it will throw a javascript error as well if you don't have \".nav\" or \".list-group\" class as the tab parent:\r\n\r\n> tab.js:146 Uncaught TypeError: Cannot read property 'nodeName' of undefined\r\n\r\n**Demo:** https://jsfiddle.net/davidliang2008/r2v8qwub/1/\r\n\r\n\r\n- Operating system and version: **Windows 10 Pro, Version 1809**\r\n- Browser and version: **Chrome, Version 74.0.3729.169**\r\n"},{"labels":["documentation",null],"text":"The class \"collapsed\" is added to the trigger element when the target element is hidden, but this feature isn't mentioned anywhere in the [collapse documentation](https://getbootstrap.com/docs/4.3/components/collapse). Is this a formally recognized feature? \r\n\r\nI'm sure many others, like me, would like to change their triggers style when showing/hiding the target element, and it's not very clear that it's straightforward to do this purely with CSS because of the collapsed class. It would be helpful to add a few words about this to confirm (or deny) that this is a feature that can and should be used. "},{"labels":["documentation",null,null],"text":"Hello,\r\nI have noticed that if we want to use .nav-justified in .navbar we have to add .w-100 (I found that here: https://github.com/twbs/bootstrap/issues/21874) but in docs I don't see any info about that, please add this info or fix it to work without .w-100"},{"labels":["documentation",null,null],"text":"OS: Fedora 29\r\nBrowser: Chrome\r\n\r\nThe Scrollspy documentation has a list of requirements to \"activate\" the feature. One requirement that appears to be missing is the presence of \"class=\"nav-link\"\" in all anchor tags in your nav component. I think this is important to mention, as it took quite a bit of trial and error to discover this while trying to enable scrollspy on an auto-generated nav component."},{"labels":["documentation",null,null],"text":"I haven't find it in v4 documentation and all input checkboxes and radio doen't have the autocomplete attribute but as mentioned in v3 :\r\nhttps://getbootstrap.com/docs/3.4/javascript/#callout-buttons-ff-autocomplete firefox persist state during browsing https://bugzilla.mozilla.org/show_bug.cgi?id=654072\r\n\r\nSo maybe need to add autocomplete=\"off\" on all radio and checkboxes in V4/V5 documentation + put back the callout?"},{"labels":["documentation"],"text":"One thing that's been driving me crazy ever since I started using Bootstrap was the fragmenting of documentation across multiple versions on Google. Every time you want to quickly lookup some component or whatever on Google, you get several results of the same page but from a different Bootstrap version and even worse most of the time the latest (stable) one isn't even in the results.\r\n\r\nAs annoying as this is, I can see the reason in keeping those older docs up in the results, as not everyone is always using the latest version. However what really gets me every time is when I click on the sticky top link in hopes of getting to the same page but on the latest release and end up on the main page instead, having to find the page again in the documentation\r\n\r\n I've done it so many times already but it doesn't matter, because the next time I land on an older version of the docs I will forget all about it and end up clicking the link anyways.\r\n\r\nWhat is the reasoning behind it behaving the way it does? It's not very intuitive IMO. The link text doesn't give any indication where exactly you'll be taken, other than it will have something to do with a newer version of (currently) Bootstrap 4 and is kinda misleading that way.\r\n\r\nWouldn't it be more logical for the link to lead to the same page on the newer version, if it exists, otherwise the main page or changelog/release notes? Definitely more convenient at least."},{"labels":["documentation"],"text":"Currently, in the gh-pages branch we do \"link rel=favicon here=/favicon.ico\" etc.\r\n\r\nWhile this works, the idea is to have each docs version completely independent.\r\n\r\nI'm gonna take a stab later and change this to reference each version's assets only."},{"labels":["documentation",null,null],"text":"I go to the BS Homepage to grab the CSS CDN path but it is covered with the horizontal scrollbar (caused by overflow x) so I can't highlight the text to copy and paste it. I am on Mac with Chrome browser.\r\n\r\nCould you please add some padding to:\r\n\"\"\"\r\n.highlight pre {\r\n    padding: 2rem 0;\r\n}\r\n\"\"\"\r\n\r\nThanks,\r\n<img width=\"780\" alt=\"screenshot-issue-cant-highlight-cdn-link-path\" src=\"https://user-images.githubusercontent.com/13267982/54396397-ef334000-4706-11e9-8094-667c2700abbd.png\">\r\nKerry"},{"labels":["documentation",null,null],"text":"1. **make sure our folder structure is the proper one for what we want to achieve. Also see if we can make folder nesting level smaller, maybe by using permalinks or something. For content and static.**\r\n2. can we generate SRI hashes for existent files on the fly? For bootstrap.min.css, bootstrap.*.js,  popper.js/1.14.7/umd/popper.min.js. This would simplify things as we could remove the release-sri script\r\n3. get image width/height with Hugo when possible (examples images, homepage)\r\n4. ~~maybe use Hugo Extended version for docs' CSS?~~ This is now done\r\n5. bep's suggestion:\r\n    > Re.\r\n    > \"\"\"\r\n    > {{< partial \"callout-warning-color-assistive-technologies.md\" >}}\r\n    > \"\"\"\r\n    > The partial above uses the \"partial\" func to load, parse and execute templates. This has its limitations and is possibly ineffective.\r\n    > I would recommend that you store your callouts (and other content files you want to include) in a so-called headless bundle -- and load them via \".GetPage\". This way you can use markdown + shortcodes etc.\r\n6. bep's suggestion:\r\n    > Ref. \"{{ block \"header\" . }}\" in your \"single.html\" template.\r\n    > Blocks only make sense inside base template(s) (i.e. \"baseof.html\"), which I cannot see.  I would highly recommend that you restructure your templates to use them. It removes some repetition.\r\n7. Fix https://github.com/twbs/bootstrap/blob/6335fbe224f28d2ce65c628756a84113ea65643f/site/layouts/_default/docs.html#L27\r\n8. Add a body class like \"layout-{{layout}} page-{{kind}}-{{title}}{{ with .Params.body_class }} {{ . }}{{ end }}\""},{"labels":["documentation"],"text":"I use [Dan Pollock's hosts file](https://someonewhocares.org/hosts/) to block Google Analytics but they found a way around it. I've seen this on the Telegram website and now I'm seeing it on Bootstrap while helping with the Hugo dev:\r\n\r\nhttps://www.reddit.com/r/privacy/comments/8clrzn/google_your_backdoor_to_the_internet/\r\n\r\nThe way this works is Google uses a backdoor script loader as explained above—it's base64 encoded—the specific script Bootstrap tried to load on my machine while working doing development was this one here: https://www.google.com/js/bg/4mrRnEPnWo81qWPG8_xcGP85HCscbg1O2YUrIewxQYY.js\r\n\r\nThis script loader relies on the fact many may have explicitly blocked google analytics and it uses the technique to get around the block in a most uncouth way. If you'd like a HAR file showing the requests I will reproduce this for you—if you can commit to an investigation and fix for this cross-domain JS script loader."},{"labels":["documentation"],"text":"Issue https://github.com/twbs/bootstrap/issues/22760 can be reproduced in v4.3.1. Both shown and hidden event aren't waiting for CSS transition. \r\n\r\nWe measured the time when callback \"show.bs.dropdown\" and \"shown.bs.dropdown\" were executed and they differed about 2-3 ms, which is less than expected.\r\n\r\n### More info about the shown event\r\nSee docs https://getbootstrap.com/docs/4.3/components/dropdowns/#events\r\n> shown.bs.dropdown This event is fired when the dropdown has been made visible to the user (**will wait for CSS transitions, to complete**).\r\n\r\nHowever, the event \"shown.bs.dropdown\" isn't waiting for CSS transitions to complete. See code\r\nhttps://github.com/twbs/bootstrap/blob/master/js/src/dropdown.js#L208-L216\r\n\"\"\"\r\n    const showEvent = EventHandler.trigger(parent, Event.SHOW, relatedTarget)\r\n\r\n    if (showEvent.defaultPrevented) {\r\n      return\r\n    }\r\n\r\n    Manipulator.toggleClass(this._menu, ClassName.SHOW)\r\n    Manipulator.toggleClass(parent, ClassName.SHOW)\r\n    EventHandler.trigger(parent, Event.SHOWN, relatedTarget)\r\n\"\"\"\r\n\r\nI would expect a call to \"Util.emulateTransitionEnd(element, transitionDuration)\" or similar after trigger \"Event.SHOW\" and before trigger \"Event.SHOWN\"."},{"labels":["documentation",null,null],"text":"- [x] Update plugin pages\r\n  - [x] Carousel - still has a few references to \"$()\" (#28768)\r\n  - [x] Collapse - still has a few references to \"$()\" (#28768)\r\n  - [x] Dropdown (#28768)\r\n  - [x] List group\r\n  - [x] Modal (#28768)\r\n  - [x] Navs (#29181)\r\n  - [x] Popover (#28768)\r\n  - [x] ScrollSpy (#29181)\r\n  - [x] Toasts (#28779)\r\n  - [x] Tooltip (#28779)\r\n- [x] Other doc pages\r\n  - [x] getting-started/browsers-devices.md (#28779)\r\n  - [x] getting-started/javascript.md (#28768)\r\n- [ ] Various\r\n  - [x] Add a section explaining that it's possible to use this version with and without jQuery\r\n  - [x] Search docs for \"jquery\" (not case sensitive) and \"$(\"\r\n  - [ ] Replace https://codepen.io/Johann-S/pen/djJYPb or add a codepen with vanilla JS\r\n  - [ ] Maybe explain when an element is considered visible in the scrollspy callout\r\n  - [x] See if we really need \"DOMContentLoaded\" anymore in tests and docs. #28337\r\n  - [x] Remove \"If you’re building our JavaScript from source, it requires util.js.\" not needed anymore (#28779)\r\n  - [x] Remove https://twbs-bootstrap.netlify.com/docs/4.3/getting-started/browsers-devices/#android-stock-browser after #28317 or in that branch (#28779)\r\n"},{"labels":["documentation",null,null],"text":"I don't see the need (or encourage anyone) to use placeholder text that just says the same thing as it's label.  Usability studies have shown that using placeholder text in this manner makes some users feel like the field has already been filled out and thus, may glance over it [[source]](https://www.amazon.com/Designing-UX-Forms-Create-Aspects/dp/0994347057/ref=sr_1_1?keywords=ux+forms&qid=1550162760&s=gateway&sr=8-1).  Here's an example from the [Readonly plain text](https://getbootstrap.com/docs/4.3/components/forms/#readonly-plain-text) section:\r\n\r\n![example](https://user-images.githubusercontent.com/2222751/52801484-f30e6c80-304b-11e9-92ed-06ede7b6a64a.png)\r\n"},{"labels":["documentation"],"text":"Hi 👋 I appreciate 4.3 has just been released :rocket: but I thought a notice at the top of the 4.2.x docs would automatically show as an outdated version? There isn't one despite clearing caches? I thought this might've been an automatic feature, see: https://getbootstrap.com/docs/4.2/getting-started/introduction/"},{"labels":["documentation"],"text":"When working with \"bootstrap.css\" all you gotta do is, basically, copy-and-pate or use some snippet tool. There is no worry about \"what components/utilities should I import in order to this component to work\" appropriately.\r\n\r\nWith that in mind, as opposed to let every single developer figure it out, would be a real time saving (especially for newbies) if there were two lists, in every component documentation: **required** and **suggested** files.\r\n\r\nAs an example for \"navbars\", we would have something like this:\r\n\r\n\"\"\" sass\r\nIf you're building Bootstrap with Sass, you will need these files:\r\n\r\n- @import \"~/node_modules/bootstrap/scss/navbar\";\r\n- @import \"~/node_modules/bootstrap/scss/nav\";\r\n- @import \"~/node_modules/bootstrap/scss/transitions\".\r\n\"\"\"\r\n\r\nThis kind of summary already exists for required JS files, as [this documentation section](https://getbootstrap.com/docs/4.2/getting-started/introduction/#js) shows. Although, it could mixed with the above list, so to avoid users needing to get back there.\r\n\r\n\"\"\"\r\nIf you're building Bootstrap with Sass, you will need these files:\r\n\r\n- @import \"~/node_modules/bootstrap/scss/navbar\";\r\n- @import \"~/node_modules/bootstrap/scss/nav\";\r\n- @import \"~/node_modules/bootstrap/scss/transitions\".\r\n\r\nAnd if you're also building JS files, these components requires:\r\n\r\n- <script src='~/node_modules/jquery/dist/jquery.slim.js'></script>\r\n- <script src='~/node_modules/bootstrap/js/dist/util.js'></script>\r\n- <script src='~/node_modules/bootstrap/js/dist/collapse.js'></script>\r\n\r\nPS: JS file imports needs to be in the given order.\r\n\"\"\""},{"labels":["documentation"],"text":"Dropdowns support \"data-target\" but it has to reference a parent to both the \".dropdown-menu\" and the trigger – which is not something I understood until I banged my head against it for a while and read through the source, this either needs documenting or changing – maybe it's a bootstrap standard for \"data-target\" I missed but I totally assumed it'd have to reference the \".dropdown-menu\" given that's the \"perceived default\" if you don't supply the target.\r\n\r\nThe resulting behaviour of getting it wrong is that the dropdown will pretty much work correctly but doesn't close when you click the trigger whilst the dropdown is open."},{"labels":["documentation",null,null,null],"text":"I would like the documentation to provide examples of alternative variants of the toast.\r\n\r\nFor example toasts without the \"toast header\" and the close button.\r\nOr a toast with an action, such as an undo button."},{"labels":["documentation"],"text":"\"#77757a\""},{"labels":["documentation",null,null],"text":"It appears that setting the parent of an accordion with Javascript (as described in [the docs](https://getbootstrap.com/docs/4.0/components/collapse/#via-javascript)) does not set the \"data-parent\" attribute on the DOM element. This causes the element to not collapse when another element is selected.\r\n\r\nI suspect the problem is related to [collapse.js#132](https://github.com/twbs/bootstrap/blob/9e4e94747bd698f4f61d48ed54c9c6d4d199bd32/js/src/collapse.js#L132)\r\n\r\n### Steps to reproduce\r\n\r\n- Take the [example from the docs](https://getbootstrap.com/docs/4.0/components/collapse) and convert the first card to be initialized with JS instead of HTML.\r\n  - JS FIDDLE: https://jsfiddle.net/4ykrjwgo/3/\r\n- Open Card 2\r\n- Open Card 1\r\n  - Observe Card 2 collapses as expected\r\n- Open Card 2\r\n  - Observe Card 1 **does not** collapse as expected"},{"labels":["documentation"],"text":"The docs pages for bootstrap v4.0 contain a dropdown. That dropdown contains v4.1.3 listed as latest. It does not contain v4.2.1.\r\n\r\nExample: https://getbootstrap.com/docs/4.0/components/list-group/\r\n\r\n\r\n"},{"labels":[null,"documentation"],"text":"Hey, guys?!\r\n\r\nI was wondering whether the [contributing guidelines](https://github.com/twbs/bootstrap/blob/master/CONTRIBUTING.md#pull-requests) is outdated, especially in the \"Pull Requests\" section.\r\nWhen it mentions \"master\", isn't it supposed to be \"v4-dev\"?\r\n\r\nI tried to follow the steps using \"master\" at first, but I would have to fix lots of conflicts. So, I decided to use \"v4-dev\" instead, had no conflicts problems and an accepted PR.\r\n\r\nIf so, it would be misleading some developers. Right?!"},{"labels":["documentation"],"text":"The current docs on extensibility are not very comprehensive.\r\n\r\nI currently want to write a new variant for a button and I'm finding it necessary to do a LOT of code reading to understand enough to answer the following questions:\r\n\r\n* Is there any guidance on extensions in general?\r\n* Which mixins does Boostrap have?\r\n* Which variables should you use and when?\r\n* Which CSS properties must/should/could/must not be set by a new variant.\r\n\r\nQuestions like these seem to be completely unanswered by the docs material.\r\n\r\nI'd appreciate it very much if there would be more investment into the extensibility docs. Compared to the very good docs on components or the grid system it really lacks quite important information. I know that this is no \"up for grabs\" kind of issue, but my understanding is that Bootstrap should be an extensible platform to build upon. I can't see that happening in a high-quality and Bootstrap-intended-way-of-doing-things-way without more documentation."},{"labels":[null,"documentation",null],"text":"https://getbootstrap.com/docs/4.2/components/modal/#varying-modal-content\r\n\r\n![bug](https://user-images.githubusercontent.com/25020357/50577125-c3ced380-0dee-11e9-8a1d-c2b2a59c373a.JPG)\r\n\r\n- Operating system and version (Windows 10)\r\n\r\n\r\nThis issue happens when the screen gets smaller\r\n\r\n"},{"labels":["documentation",null,null],"text":"\r\n![default](https://user-images.githubusercontent.com/8848263/50553911-dd3b2700-0ceb-11e9-8b73-e9b70f6d2519.png)\r\n\r\n\r\n> I looked at the source code and didn't see what the code did.I am a little confused about the function of this code. Can you give an example in the official manual?"},{"labels":["documentation",null],"text":"![Navbar logo](https://pp.userapi.com/c852216/v852216604/794b9/tg98M3ZMO4E.jpg)\r\n\r\nNavbar logo looks pixelated on 1080p display. I've checked out [this issue](https://github.com/twbs/bootstrap/issues/27626) where the contributor @XhmikosR says it's seen on displays with DPI != 100% but I do have 100%:\r\n\r\n![Screen settings](https://pp.userapi.com/c852216/v852216604/794ce/PmKFwwRPLoc.jpg)\r\n\r\nHowever, it looks much better using Edge:\r\n\r\n![Edge screenshot](https://pp.userapi.com/c852216/v852216604/794df/OvqDWkvpihY.jpg)\r\n\r\nAsk you to use PNG image as suggested or rebuild the SVG for compatibility.\r\n\r\nSeen on Windows 10 with latest Chrome."},{"labels":["documentation"],"text":"https://getbootstrap.com/docs/4.1/getting-started/introduction/\r\nhttps://getbootstrap.com/docs/4.0/getting-started/introduction/\r\n\r\n![image](https://user-images.githubusercontent.com/25089646/50483031-e336bc80-09fa-11e9-8484-ee64d36cb2f0.png)\r\n\r\nP.S. it would be cool to have a special tag for the latest version, something like\r\nhttps://getbootstrap.com/docs/latest/getting-started/introduction/"},{"labels":["documentation",null],"text":"Probably a manual step for the existent old docs, and semi-manual for each new version."},{"labels":["documentation",null,null],"text":"Using OSX 10.13.6, Chrome 71.0.3578.98 and Bootstrap 4.2.1. \r\n\r\nCopied the code for showing a toast from the documentation along with a button to show it.  I thought toasts normally displayed on top of other page elements but in my case, the toast displays below (further down the page than) the button\r\n\r\nHere's the code.\r\n\r\n\"\"\"html\r\n<button type=\"button\" class=\"btn\" onClick=\"$('.toast').toast('show')\">Show</button>\r\n        <div class=\"toast\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-autohide=\"false\">\r\n            <div class=\"toast-header\">\r\n                <strong class=\"mr-auto\">Toast heading</strong>\r\n                <button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"toast-body text-success\">\r\n                <p>Toast body</p>\r\n            </div>\r\n        </div>\r\n\"\"\"\r\n\r\nI'm bringing in Bootstrap with:\r\n\r\n\"\"\"html\r\n<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\" integrity=\"sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS\" crossorigin=\"anonymous\">\r\n<script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js\" integrity=\"sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k\" crossorigin=\"anonymous\"></script>\r\n\"\"\"\r\n\r\nThanks in advance for any guidance."},{"labels":["documentation",null],"text":"Like \"/about/\" to \"4.2/about/\" etc.\r\n\r\nHere's the list\r\n\r\n\"\"\"\r\nabout\r\nbrowser-bugs\r\ncomponents\r\ncss\r\ncustomize\r\nexamples\r\n    blog\r\n    carousel\r\n    cover\r\n    dashboard\r\n    grid\r\n    jumbotron\r\n    jumbotron-narrow\r\n    justified-nav\r\n    navbar\r\n    navbar-fixed-top\r\n    navbar-static-top\r\n    non-responsive\r\n    offcanvas\r\n    signin\r\n    starter-template\r\n    sticky-footer\r\n    sticky-footer-navbar\r\n    theme\r\n    tooltip-viewport\r\ngetting-started\r\njavascript\r\nmigration -> to /docs/3.4/migration/ ?\r\n\"\"\""},{"labels":[null,"documentation",null],"text":"hi sir in your live site documentation section search will stop working\r\nplease check it"},{"labels":["documentation"],"text":"For #27482, see https://github.com/twbs/bootstrap/issues/27482#issuecomment-435670032"},{"labels":["documentation",null],"text":"In deploy preview (https://twbs-bootstrap4.netlify.com/docs/4.1/utilities/text/#font-weight-and-italics) the \".font-weight-bolder\" class sits below **bold**?\r\n\r\nSurely these should be swapped around for consistency? "},{"labels":[null,"documentation",null,null],"text":"Just noticed in one of my deploy previews that the version of 3.4 is listed in the dropdown but not on the versions page? See: https://twbs-bootstrap4.netlify.com/docs/versions/"},{"labels":["documentation"],"text":"A lot of (junior) developers use Bootstrap as starting point for front end development, but we don't reference to guidelines like http://codeguide.co/ in our docs where they can find out the best practices for HTML & (s)css. \r\n\r\nMaybe there are also other interesting sites we can refer to?"},{"labels":["documentation",null],"text":"...and needs to be made easily accessible. I can't believe there is not such a document anywhere on the internet. Do people have to waste time figuring it all out?\r\n\r\n"},{"labels":["documentation",null],"text":"I'm trying to run the [Running documentation locally](https://www.npmjs.com/package/bootstrap#running-documentation-locally), I followed to commands -\r\n\r\n- bundle install\r\n- npm install\r\n\r\nand when I run the npm start I get an error -\r\n\r\n\"npm ERR! missing script: start\"\r\n\r\nHow can I run this documentation correctly ?"},{"labels":[null,"documentation",null],"text":"https://twbs-bootstrap4.netlify.com/docs/4.1/components/spinners/#about\r\n\r\n> For accessibility purposes, ...., using a text hiding technique to prevent it from rendering on screen.\r\n\r\nText hide technique is not a modern approach (#24890). IMO we should use \".sr-only\" to hide \"Loading...\" text:\r\n\r\n\"\"\"html\r\n<div class=\"spinner-border\" role=\"status\"><span class=\"sr-only\">Loading...</span></div>\r\n\"\"\"\r\n"},{"labels":["documentation",null],"text":"A regression of #27661 \r\n\r\n@MartijnCuppens: maybe with just CSS or alternatively if we could make them use h5-h6 consistently, we could allow h2-h4 for anchors."},{"labels":["documentation",null],"text":"We should add documentation about \"text-decoration-none\" #25933. Is there a good use case to show how to use it?"},{"labels":[null,"documentation",null],"text":"The button placement within the dropdown menu in the Docs example doesn't look great being so squashed against the 'remember me' checkbox, I think there needs to be some additional margin at the top here: https://getbootstrap.com/docs/4.1/components/dropdowns/#forms"},{"labels":[null,null,"documentation",null],"text":"Updating to the latest version of Firefox breaks the Carousel component on Bootstrap 4.1.3\r\n\r\n**Environment**\r\n- OS: MacOS Sierra 10.12.6 (16G1510)\r\n- Browser: Firefox Quantum 63.0 (64-bit) \r\n\r\n**Test Case for reproduction** \r\n- Visit https://getbootstrap.com/docs/4.1/components/carousel/\r\n- See that carousels do not slide\r\n\r\n**Notes**\r\nThis issue is posted here because previous Bootstrap versions do not show the problem, specifically\r\n\r\n- No problem exists with Firefox 62.0.3 (64-bit)and Bootstrap 4.1.3\r\n- No problem exists with Firefox 63.0 and Bootstrap 4.0.0\r\n\r\nTo verify Bootstrap 4.0.0. works visit https://getbootstrap.com/docs/4.0/components/carousel/ with the latest Firefox 63.0 (64-bit)\r\n\r\nCheers,\r\n      Thomas\r\n"},{"labels":["documentation"],"text":"Add more details on spacing and alignment documentation. For example how to align cards vertically - horizontally, form sizing, navbar items alignment etc. It will perfect if you cover all this situations under the spacing page."},{"labels":["documentation",null],"text":"Not sure where to issue this issue.\r\n\r\nBut in this migration report\r\n https://getbootstrap.com/docs/3.3/migration/\r\n\r\nThing is missing that **.navbar-search** and **.search-query** were removed.\r\n\r\nDon't know about other missing changes, but I got when I had to migrate and took a while to find."},{"labels":["documentation",null],"text":"So that Netlify previews' search doesn't send us to the main docs pages."},{"labels":["documentation",null],"text":"But we include \"skippy\" thus this points to a non-existent fragment\r\n\r\n/CC @mdo"},{"labels":["documentation",null,null],"text":"This\r\n\r\n\"\"\"liquid\r\n{{- include.content | replace: 'data-src=\"holder.js', 'src=\"...' -}}\r\n\"\"\"\r\n\r\nMatches only the \"holder.js\" part and not the whole string. As far as I can tell there's no regex support here, so I'm not sure how to proceed.\r\n\r\n/CC @m5o "},{"labels":["documentation",null],"text":"Just a query, shouldn't we consider migrating over to \"let\" instead of \"var\" for some JS like this:\r\n\r\nhttps://getbootstrap.com/docs/4.1/getting-started/browsers-devices/#select-menu\r\n\r\n"},{"labels":["documentation",null],"text":"Hi, \r\nI am not sure I am on the right place and maybe it will be silly post.\r\nI am learning bootstrap 4 and I have a problem with border class.\r\nhttps://getbootstrap.com/docs/4.1/utilities/borders/\r\n\r\n**I think there is a mistake in the page**, about Subtractive part because when I try : \r\n**.border-0** (for example)  It doesn't work.\r\nbut if i use  **border border-0**  it does, as it 's explained for color border part.\r\n\r\n(note : I am practicing on codepen) \r\n\r\n"},{"labels":["documentation",null,null],"text":"Hi team,\r\n\r\nAs discussed in https://github.com/twbs/bootstrap/pull/25806, there is a small breaking change between 4.0 to 4.1 in that users can no longer use \".collapse.show\" classes to indicate that an element should be displayed. The new behaviour is that \".collapse:not(.show)\" elements should be hidden, which is a slightly different behaviour.\r\n\r\nIt would be great it we could note this somewhere in the migration guide: https://github.com/twbs/bootstrap/blob/v4-dev/site/docs/4.1/migration.md"},{"labels":["documentation"],"text":"I thought it would be a good idea to add a small badge next to the docs navigation, next to each component/utility etc to show what's new and what's been updated with each new version of Bootstrap starting with 4.2\r\n\r\nI think this will help people find new and updated features at a glance, the idea being that these badges could stay around until the next iteration (new major & minor releases).\r\n\r\ne.g:\r\n\r\n<img width=\"219\" alt=\"screenshot 2018-09-29 at 14 03 27\" src=\"https://user-images.githubusercontent.com/25177538/46246156-1ca65e80-c3f1-11e8-9a97-91716889b9f9.png\">\r\n"},{"labels":["documentation",null,null],"text":"Hi.\r\nI apologize in advance, I'm beginner in English.\r\n\r\nRecently, I have downloaded latest changes of **v4-dev** branch, as a local repo. I have updated all node modules (\"npm run maintenance-dependencies\"), then I have successfully built B.S. (\"npm run test\", \"npm run docs\", \"npm run dist\"). After building process, When I was navigating to \"_gh_pages\\docs\\4.1\\examples\\\", I have found issue about **DropDowns** within **NavBars**.\r\n\r\nIn 3 examples (navbars, offcanvas, product), **DropDowns** have not worked. When related \"anchor\" element has been clicked, the browser's console has shown JS Error (\"SyntaxError: 'https://example.com' is not a valid selector'\"). So, I have reviewed html codes and I have found the value of \"a.nav-link.dropdown-toggle[href]\" had been set as \"https://example.com\". I have set \"a.nav-link.dropdown-toggle[href]\" to \"#\" and then **DropDowns** have woked correctly.\r\n\r\nWhat do you think?\r\nIs this a BUG or I have missed some thing(s)?\r\n\r\nI am using:\r\n- Windows 10 Version 1803 (Build 17134.286) x64\r\n- Microsoft Edge 42 (EdgeHTML 17)\r\n- Mozilla Firefox 62 (64-bit)\r\n- Google Chrome 69 (64-bit)\r\n\r\nAlso I have used these as build tools:\r\n- VS Code 1.27.2\r\n- Node 10.11.0 (64-bit)\r\n- NPM 6.4.1\r\n- Ruby 2.5.0-1-x64"},{"labels":["documentation",null],"text":"In v3 the accordion example didn't use any specific class (https://getbootstrap.com/docs/3.3/javascript/#collapse-example-accordion) now there is \".accordion\" which isn't explicitly mentioned in the docs and just silently used in the code example with no explanation of what it's for (https://getbootstrap.com/docs/4.1/components/collapse/#accordion-example)."},{"labels":["documentation",null],"text":"Hi. In \".browserslistrc\" I see \"Android >= 4.4\", but on page https://getbootstrap.com/docs/4.1/getting-started/browsers-devices/ you say that \"Android v5.0+ supported\". \r\n\r\nSo, do you support Android >= 4.4?"},{"labels":["documentation",null],"text":"It seems we are using precision: 6 for node-sass, while its default is 5. Shouldn't we document this in the theming page and/or somewhere else?\r\n\r\n/CC @mdo @andresgalante @MartijnCuppens "},{"labels":["documentation",null,null],"text":"See #27164."},{"labels":["documentation",null],"text":"In the example for Custom Content in the List Group docs, the example shows the following anchor tag:\r\n\r\n\"<a href=\"#\" class=\"list-group-item list-group-item-action flex-column align-items-start active\">\"\r\n\r\nThe 'list-group-item' and 'list-group-item-action' classes do not apply the 'display: flex' property, but we've got the flex helper classes 'flex-column' and 'align-items-start'\r\n\r\nSuggestion:  Either add the 'd-flex' class to the example, or remove the flex helper classes."},{"labels":["documentation",null],"text":"In the docs for popover under the selector option https://getbootstrap.com/docs/4.1/components/popovers/#options it links to \"an informative example\" https://jsbin.com/zopod/1/edit?html,css,js,console,output however the example is broken.\r\n\r\n\"\"\"\r\n\"ReferenceError: $ is not defined\r\n    at zopod.js:10:1\r\n    at https://static.jsbin.com/js/prod/runner-4.1.4.min.js:1:13924\r\n    at https://static.jsbin.com/js/prod/runner-4.1.4.min.js:1:10866\"\r\n\"\"\"\r\n\r\nLinux, Chrome\r\n"},{"labels":[null,"documentation",null,null],"text":"The manual [shows](https://getbootstrap.com/docs/4.1/components/list-group/#flush) that the first item doesn't have a top border. \r\n[This piece](https://github.com/twbs/bootstrap/blob/v4-dev/scss/_list-group.scss#L94-L98) is supposed to remove it.\r\n\r\nBut in this example it has a border:\r\nhttps://codepen.io/anon/pen/NBgYNo"},{"labels":["documentation",null],"text":"I think having the tabs functionality inside the current 'Navs' component is a little confusing, especially as they're listed further down the page.\r\n\r\nWhat we should have, is an actual Tabs component as they do in fact act like tabs, rather than a navigation as outlined in the docs.\r\n\r\nhttps://getbootstrap.com/docs/4.1/components/navs/#javascript-behavior"},{"labels":["documentation",null],"text":"Hello, this is my first issue submission. I have attempted to follow the posted guidelines but if I have made an error please let me know so I may remedy that issue in the future.\r\n\r\n### The short version\r\nThere should be documentation outlining the fact that if a modal is created with the \".fade\" class it is also required to have a \".modal-dialog\" class.\r\n\r\n### What is occuring\r\n\r\nIf a modal is created with the \".fade\" class and not the \".modal-dialog\" class the modal will show but it's \"_isTransitioning\" property will never be reset.\r\n\r\nhttps://github.com/twbs/bootstrap/blob/eb81c39f2c36d88d4ebc062a2fa179980827e8be/js/src/modal.js#L263-L271\r\n\r\nAs is shown here a listener for \"transitionEnd\" is attached to the child element of the modal with the class \".modal-dialog\". However, since \".modal-dialog\" is \"null\" the listener is not attached and the \"transitionComplete\" method is never called. This results in a modal that cannot be hidden as it is considered to be transitioning at all times.\r\n\r\n### The issue\r\n\r\nIt makes sense to enforce the addition of the \".modal-dialog\" class. A check could be implemented to skip the \"transitionEnd\" listener if the dialog element is \"null\" but that could lead to issues where users could re-trigger the modal before it has visually finished animating, which is what the entire \"_isTransitioning\" property seems to be preventing in the first place.\r\n\r\nThis information should be exposed in the documentation so developers looking to co-opt the javascript modal functionality without the styling are aware of this requirement.\r\n\r\n### Suggested solution\r\n\r\nRefactor the [Remove Animation](https://getbootstrap.com/docs/4.0/components/modal/#remove-animation) section to be an **Animation** section that details the fact that \".modal-dialog\" is required when using the \".fade\" class because it is used to listen for a transition and then contains a second paragraph containing the existing remove animation content."},{"labels":["documentation",null,null],"text":"This is a feature request, possibly for Bootstrap 4.2 and onwards. Whilst the [https://getbootstrap.com/](https://getbootstrap.com/ ) website **does have a dropdown in the top right** for the latest versions of each version of Bootstrap, this isn't always going to facilitate for older versions of Bootstrap, or versions which are being used in some themes these days (see [here as an example](https://themeforest.net/category/ecommerce/magento?compatible_with=Bootstrap&sort=price-asc)).\r\n\r\n**The current docs selector:**\r\n\r\n<img width=\"312\" alt=\"screen shot 2018-07-15 at 16 05 29\" src=\"https://user-images.githubusercontent.com/25177538/42735270-f073e0e6-8848-11e8-817a-5b0a295a5d94.png\">\r\n\r\nThere are plenty of themes out there which I've used in the past which use **Bootstrap v3.0.0**, and whilst this is older than 3.3.7, it's not always possibly to upgrade and we shouldn't be limited to not being able to access documentation for each of these.\r\n\r\n**A suggestion, and something to consider**, once **Bootstrap 4.2** is released I'm not sure whether another link in the dropdown for versions will be added, or whether the 4.1 link will be replaced, but either way, whatever option that is chosen could clutter and make it hard to find older versions if you're less technologically advanced.\r\n\r\nWhat you could do, is something very similar to what Bulma are doing, I think it's simple, straightforward and allows you to link to all of your versions, and allows us developers and designers to quickly find the **exact** version that we need, see the example below:\r\n\r\n**Example: https://versions.bulma.io/**\r\n\r\n<img width=\"796\" alt=\"screen shot 2018-07-15 at 16 04 32\" src=\"https://user-images.githubusercontent.com/25177538/42735261-d00e41ac-8848-11e8-8d7a-586f0a0da49d.png\">\r\n\r\n**Maybe consider adding an 'All Versions' link to the current dropdown, e.g-**\r\n\r\n<img width=\"287\" alt=\"screen shot 2018-07-15 at 16 08 52\" src=\"https://user-images.githubusercontent.com/25177538/42735303-648e617c-8849-11e8-9fbc-4c40b6a0e9f2.png\">\r\n"},{"labels":["documentation",null],"text":"The current docs callout Webpack 3 specifically. Is there anything different required in installation for webpack 4?"},{"labels":["documentation",null,null],"text":"/CC @mdo "},{"labels":["documentation",null],"text":"When using Tooltips inside .table-responsive, they flicker as can be seen on this [codepen example](https://codepen.io/anon/pen/oMvdpY).\r\n\r\nIt can be fixed by placing \"overflow: visible\" on \".table-reponsive\" but that breaks table's responsivity."},{"labels":[null,"documentation",null],"text":"hi,\r\nin the first example\r\nhttps://getbootstrap.com/docs/4.1/components/navbar/#supported-content\r\n.dropdown-toggle has a \"role=\"button\"\r\nin the second example\r\nhttps://getbootstrap.com/docs/4.1/components/navbar/#nav\r\n\"role=button\" is missing\r\n\r\nwhich is the correct version?"},{"labels":["documentation",null],"text":"When JS is enabled, the page will redirect instantly without the end user seeing any content, so we don't need this layout at all.\r\n\r\nRefs #26785 "},{"labels":["documentation",null],"text":"The _Tooltip Viewport Example_ page exists, but there is no reference to it in the docs. Also it doesn't seem to work, the tooltips in \".container-viewport\" aren't shifted.\r\n\r\nhttp://getbootstrap.com/docs/4.1/examples/tooltip-viewport/\r\n\r\n![image](https://user-images.githubusercontent.com/11559216/42346527-4553c41c-80a3-11e8-844f-be4b3e445a41.png)"},{"labels":["documentation",null,null,null],"text":"https://getbootstrap.com/docs/4.1/utilities/flex/#fill\r\n\r\n> Use the .flex-fill class on a series of sibling elements to force them into equal widths while taking up all available horizontal space. Especially useful for equal-width, or justified, navigation.\r\n\r\nThis document might cause misunderstanding.\r\nThey are not the same width, they actually depend on the width of their content.\r\n\r\ndemo: https://codepen.io/anon/pen/jKoOad\r\n\r\nI would like to make a PR, but I am not a native speaker, so I ask for someone's help."},{"labels":[null,"documentation",null,null],"text":"https://getbootstrap.com/docs/4.1/utilities/visibility/\r\n\r\n> Set the visibility of elements with our visibility utilities. These do not modify the display value at all and are helpful for hiding content from most users, **but still keeping them for screen readers.**\r\n\r\nThe last description is correct? The [visibility - MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/visibility#Accessibility_concerns) describe:\r\n\r\n> Using a visibility value of hidden on an element will remove it from the accessibility tree. This will cause the element and all its descendant elements to no longer be announced by screen reading technology."},{"labels":["documentation",null,null],"text":"In README you have section [_What's included_](https://github.com/twbs/bootstrap#whats-included) and there is this **tree structure** in there:\r\n\"\"\"\r\nbootstrap/\r\n├── css/\r\n│   ├── bootstrap.css\r\n│   ├── bootstrap.css.map\r\n│   ├── bootstrap.min.css\r\n│   ├── bootstrap.min.css.map\r\n│   ├── bootstrap-grid.css\r\n│   ├── bootstrap-grid.css.map\r\n│   ├── bootstrap-grid.min.css\r\n│   ├── bootstrap-grid.min.css.map\r\n│   ├── bootstrap-reboot.css\r\n│   ├── bootstrap-reboot.css.map\r\n│   ├── bootstrap-reboot.min.css\r\n│   └── bootstrap-reboot.min.css.map\r\n└── js/\r\n    ├── bootstrap.bundle.js\r\n    ├── bootstrap.bundle.min.js\r\n    ├── bootstrap.js\r\n    └── bootstrap.min.js\r\n\"\"\"\r\nBut I think it should be like this:\r\n\"\"\"\r\nbootstrap/\r\n└── dist/\r\n    ├── css/\r\n    │   ├── bootstrap.css\r\n    │   ├── bootstrap.css.map\r\n    │   ├── bootstrap.min.css\r\n    │   ├── bootstrap.min.css.map\r\n    │   ├── bootstrap-grid.css\r\n    │   ├── bootstrap-grid.css.map\r\n    │   ├── bootstrap-grid.min.css\r\n    │   ├── bootstrap-grid.min.css.map\r\n    │   ├── bootstrap-reboot.css\r\n    │   ├── bootstrap-reboot.css.map\r\n    │   ├── bootstrap-reboot.min.css\r\n    │   └── bootstrap-reboot.min.css.map\r\n    └── js/\r\n        ├── bootstrap.bundle.js\r\n        ├── bootstrap.bundle.min.js\r\n        ├── bootstrap.js\r\n        └── bootstrap.min.js\r\n\"\"\"\r\nright?\r\n\r\nPlease, correct me if I'm wrong but I didn't find the \"bootstrap.css\" file in \"bootstrap/css\" directory but in \"bootstrap/dist/css\" and I think it could be confusing for others not just me :) ."},{"labels":["documentation",null],"text":"I'm not sure how many will agree with me on this one, but after using Bootstrap for some time, it's genuinely taken me a while to figure out exactly what the \"bootstrap.bundle.js\" file actually contains. In fact, for a long time, I've defaulted to the \"bootstrap.min.js\" file and have followed the **Getting Started Introduction** section found here => https://getbootstrap.com/docs/4.1/getting-started/introduction/#js and have simply used the link to **jQuery**, and the link to the **popper.js**.\r\n\r\nI decided to see if I can find out more about what the \"bootstrap.bundle.js\" file actually is, and found this hidden away in the **Contents** section (https://getbootstrap.com/docs/4.1/getting-started/contents/#precompiled-bootstrap):\r\n\r\n> This is the most basic form of Bootstrap: precompiled files for quick drop-in usage in nearly any web project. We provide compiled CSS and JS (bootstrap.*), as well as compiled and minified CSS and JS (bootstrap.min.*). CSS source maps (bootstrap.*.map) are available for use with certain browsers’ developer tools. Bundled JS files (bootstrap.bundle.js and minified bootstrap.bundle.min.js) include Popper, but not jQuery.\r\n\r\nIn particular, the last sentence, without any prominence:\r\n\r\n> Bundled JS files (bootstrap.bundle.js and minified bootstrap.bundle.min.js) include Popper, but not jQuery.\r\n\r\nNow, I'm not sure if this is just me, but personally, I think we should state what the \"bootstrap.bundle.js\" does on the getting started section: https://getbootstrap.com/docs/4.1/getting-started/introduction/#js\r\n\r\nI think it needs to be made a little clearer, and lastly, I'm just wondering whether the term \"bundle\" is actually clear enough? For me, I figured it might be: Bootstrap, Popper and jQuery all together, but then found out it doesn't include jQuery.\r\n\r\n**Whilst it possibly might be a breaking change to change the file name, I think it should be made a little clearer on the getting started section, and actually, wouldn't take too long to implement other than a README.md update? or something similar.**"},{"labels":["documentation",null],"text":"On https://getbootstrap.com/docs/4.0/components/navbar/, the bootstrap-solid.svg image is throwing a 404.\r\n\r\n\"https://getbootstrap.com/assets/brand/bootstrap-solid.svg\"\r\n\r\n![screen shot 2018-06-05 at 2 52 21 pm](https://user-images.githubusercontent.com/55392/41004844-20f5272c-68d0-11e8-95bd-0d6c2b56c31f.png)\r\n"},{"labels":[null,"documentation",null,null],"text":"I noticed that the image doesn't show in the Twitter Card when sharing a link to the Bootstrap Docs on Twitter. (e.g. https://twitter.com/christianoliff/status/1002077097844621312).\r\n\r\nI see in the docs markup the following:\r\n\"<meta name=\"twitter:image\" content=\"https://getbootstrap.com/assets/brand/bootstrap-social-logo.png\">\"\r\nbut https://getbootstrap.com/assets/brand/bootstrap-social-logo.png is broken link.\r\n\r\nSame issue wtih Facebook sharing since the same image is referenced:\r\n\"<meta property=\"og:image\" content=\"http://getbootstrap.com/assets/brand/bootstrap-social.png\">\"\r\n\r\nDo the Twitter Card / OpenGraph image links need updating to the following?\r\n\"http://getbootstrap.com/docs/4.1/assets/brand/bootstrap-social.png\"\r\n"},{"labels":["documentation",null,null,null],"text":"1. load workbox locally and not from Google's CDN\r\n2. switch to \"generateSW()\" maybe, if we can find a way to fix the previous point; IIRC you can't configure the libs location with \"generateSW()\"\r\n3. update mechanism?\r\n\r\n/CC @Lyricalz  @gauntface"},{"labels":["documentation",null],"text":"Bootstrap's **safari-pinned-tab.svg** icon is not displaying properly in Safari (see below) because the actual SVG is incorrect.  For one thing, the \"viewBox\" should be \"0 0 16 16\" per [Apple's guidelines](https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/pinnedTabs/pinnedTabs.html).\r\n\r\n![screen shot 2018-05-24 at 11 17 33 pm](https://user-images.githubusercontent.com/2222751/40524699-04e04f5a-5faa-11e8-948c-d1f6d59812c4.png)\r\n\r\nThis SVG code should fix it:\r\n\r\n\"\"\"xml\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" >\r\n<path d=\"M2.2,0C1.1,0.2,0.2,1.1,0,2.2C0,2.4,0,3.2,0,8c0,4.5,0,5.6,0,5.8c0.1,0.7,0.5,1.3,1,1.7c0.1,0.1,0.4,0.3,0.4,0.3\r\n\tc0,0,0.1,0,0.1,0.1c0.2,0.1,0.3,0.1,0.6,0.2c0.2,0,0.4,0,5.9,0c5.3,0,5.7,0,5.8,0c0.1,0,0.2,0,0.2-0.1c0.2,0,0.5-0.2,0.7-0.3\r\n\tc0.2-0.1,0.6-0.5,0.7-0.6c0,0,0.1-0.1,0.1-0.1c0.1-0.1,0.3-0.5,0.3-0.6c0-0.1,0.1-0.2,0.1-0.4c0-0.2,0-0.4,0-5.9l0-5.7l-0.1-0.2\r\n\tc-0.1-0.4-0.2-0.7-0.5-1c-0.4-0.5-0.9-0.9-1.6-1c-0.2,0-0.5,0-5.8,0C3.2,0,2.4,0,2.2,0z M4.4,3.5h4.3c1.2,0,2.1,0.3,2.6,0.9\r\n\tc0.3,0.4,0.4,0.9,0.4,1.4c0,0.6-0.2,1.1-0.6,1.4c-0.2,0.2-0.5,0.4-0.8,0.5c0.6,0.1,0.9,0.4,1.2,0.6c0.5,0.4,0.7,1,0.7,1.7\r\n\tc0,0.6-0.2,1.2-0.6,1.7c-0.6,0.7-1.6,1-2.9,1H4.4V3.5z M8.1,7.4c0.5,0,1,0,1.3-0.2C9.8,7,10,6.6,10,6.1C10,5.5,9.8,5.2,9.3,5\r\n\tC9,4.9,8.6,4.8,8,4.8h-2v2.6H8.1z M8.7,11.5c0.8,0,1.2-0.1,1.6-0.6c0.2-0.3,0.2-0.6,0.2-0.9c0-0.4-0.2-1-0.7-1.3\r\n\tC9.5,8.6,9,8.6,8.4,8.6H6.1v2.9H8.7z\"/>\r\n</svg>\r\n\"\"\"\r\n"},{"labels":["documentation",null,null],"text":"In the Documentation / Components / Cards > Card columns section, there is a duplicate section in the second column and in the third column the card title box is in the wrong position. It should be connected to the image like the two previous columns."},{"labels":["documentation",null],"text":"I'm trying to display 3 icons horizontally inside a collapse card. I added the icon (i tags) into the card, but they show vertically. For some reason the i element takes the entire line. I tried changing css properties, including: \r\n\"\"\" \r\ndisplay: inline; \r\nwidth: 20px\r\n\"\"\"\r\nI also tried changing the parent div to \"\"\"display: flex\"\"\". All of those did not help. \r\nHere is a Jsfiddle example: https://jsfiddle.net/benCarp/Lz40t409/\r\n\r\nThese doesn't seem to be the desired behavior of an expansion card. Not sure what causes this unique behavior of the icons inside of the card. "},{"labels":[null,"documentation"],"text":"In my opinion the selectors used for styling tables in Bootstrap (in _tables.scss) are not specific enough and result in false hits. The selectors, when generated, look like this \".table tr td\" for example. This selector will hit any \"td\" inside \".table\", even if those \"td\" elements reside within a table that does not have the \".table\" class.\r\n\r\nThe selectors in _tables.scss should really be using the direct descendant selector to ensure that it only captures cells and rows belonging to that particular table and doesn't catch nested tables.\r\n\r\nIt's possible I guess that this was a deliberate design decision, but I think it should be re-examined. As an example:\r\n\r\n\"\"\"\r\n<table class=\"table\">\r\n    <tr>\r\n        <td>I would expect this to be captured and styled.</td>\r\n        <td>\r\n            <table>\r\n                <tr>\r\n                    <td>I would not expect this table to be styled like a Bootstrap table.</td>\r\n                </tr>\r\n            </table>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\"\"\""},{"labels":[null,"documentation",null],"text":"https://getbootstrap.com/docs/4.1/components/input-group/#button-addons\r\n\r\n**aria-describedby=\"basic-addon1\"**\r\n**aria-describedby=\"basic-addon2\"**\r\n\"\"\"\r\n<div class=\"input-group mb-3\">\r\n  <div class=\"input-group-prepend\">\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n  </div>\r\n  <input type=\"text\" class=\"form-control\" placeholder=\"\" aria-label=\"\" aria-describedby=\"basic-addon1\"> \r\n</div>\r\n\r\n<div class=\"input-group mb-3\">\r\n  <input type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\">\r\n  <div class=\"input-group-append\">\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"input-group mb-3\">\r\n  <div class=\"input-group-prepend\">\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n  </div>\r\n  <input type=\"text\" class=\"form-control\" placeholder=\"\" aria-label=\"\" aria-describedby=\"basic-addon1\"> <---\r\n</div>\r\n\r\n<div class=\"input-group\">\r\n  <input type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\">\r\n  <div class=\"input-group-append\">\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n  </div>\r\n</div>\r\n\"\"\""},{"labels":["documentation",null],"text":"I've noticed a lot of people visiting the spacing page, but remain unaware of the option to specify a breakpoint while it is in the documentation. After talking with some of them it seems that they are mostly looking at the Examples section. \r\n\r\nIs it an idea to add a breakpoint example to the Examples section?"},{"labels":["documentation",null],"text":"Do you plan on fixing the responsive spacing utilities and responsive flex utilities? I cannot get something like pt-sm-3 pt-0 to work and I also tried using d-sm-flex flex-sm-row on a grid structure with col-md-4 col-lg-3 on it and this worked in mobile but messed up the grid in regular responsive desktop or tablet sizes. So I am going to have to write custom spacing classes and flex classes for my mobile layout. Thanks for all your work."},{"labels":[null,"documentation",null,null],"text":"We should add a note on the documentation here:\r\nhttps://getbootstrap.com/docs/4.0/layout/grid/#vertical-alignment\r\nto alert the reader that the grid vertical alignment is not working on IE10/11 if the row has a min-height because of the following flexbug: https://github.com/philipwalton/flexbugs#flexbug-3\r\n\r\np.s.: the example itself is not working on IE10/11"},{"labels":["documentation",null],"text":"On both https://getbootstrap.com/docs/4.1/components/popovers/#overview and https://getbootstrap.com/docs/4.1/components/tooltips/#overview, consider rewording:\r\n\r\n> Use white-space: nowrap; on your &lt;a&gt;s to avoid this behavior.\r\n\r\nto\r\n\r\n> Use \".text-nowrap\" on your &lt;a&gt;s to avoid this behavior."},{"labels":["documentation"],"text":"@mdo I'm still experiencing this problem, cleared browser cache multiple times, have been checking throughout the day, in particular on this page is a good test -> https://getbootstrap.com/docs/4.1/components/carousel/\r\n\r\nthe indicators for the carousel. Try clearing your browser cache, it'll then work, but refresh normally after that and cursor: pointer is missing which I assume is related to some additional cache problems?"},{"labels":["documentation"],"text":"Bootstrap 4 is masterpeace and is good sample by itself, but it is not easy to extract only those steps that should be used for writing \"true\" bootstrap 4 plugins. \r\n\r\nCould you create a boilerplate?\r\n\r\nP.S. This should include the advice how to communicate with the BS team in case plugin developer need some new tooling (e.g. css variables or \"functional classes\" the sample could be missed \".placeholder-color\" to emulate placeholder text)"},{"labels":["documentation",null],"text":"hy, the search function in documantation goes from 4.1 to 4.0 after clicking a result. \r\n:-)"},{"labels":[null,"documentation",null],"text":"**Describe the bug**\r\nI’m following the [unit testing guide](https://strapi.io/documentation/v3.x/guides/unit-testing.html#testing-environment) and I hit an error because I didn’t have sqlite3 installed. No error was printed at the command line and I had to \"console.log\" from inside the framework to see what was wrong.\r\n\r\n**Steps to reproduce the behavior**\r\n\r\n1. Follow the [unit testing guide](https://strapi.io/documentation/v3.x/guides/unit-testing.html#testing-environment). Add a \"database.json\" for the \"test\" env that references the sqlite client.\r\n2. Do not install the npm module sqlite3\r\n3. Copy in the test helper and the app test outlined in the guide.\r\n4. \"yarn run test\"\r\n\r\n**Expected behavior**\r\nThese lines in the framework are executing, thus an error should be printed:\r\n\"\"\"\r\n        strapi.log.error('The client \"' + connection.settings.client + '\" is not installed.');\r\n        strapi.log.error(\r\n          'You can install it with \"$ npm install ' + connection.settings.client + ' --save\".'\r\n        );\r\n\"\"\"\r\n\r\n**Actual behavior**\r\nA callstack referencing \"knex.js\" is printed but the log messages are not visible.\r\n\r\n**Code snippets**\r\nThe line in strapi code that I expect an error from: https://github.com/strapi/strapi/blob/master/packages/strapi-connector-bookshelf/lib/knex.js#L79.\r\n\r\n**System**\r\n\r\n- Node.js version: v12.8.1\r\n- NPM version: yarn 1.22.4\r\n- Strapi version: 3.0.5\r\n- Database: sqlite\r\n- Operating system: Debian linux (running in docker desktop on macOS)\r\n\r\n**Additional context**\r\nI don't know if jest is swallowing the error or if \"strapi.log.error\" isn't emitting it. I followed the guide so I'd expect it to work. Also the guide should probably mention installing sqlite3. Thanks!\r\n"},{"labels":[null,"documentation",null,null],"text":"This page I found on twitter does not work and returns 502\r\nhttps://blog.strapi.io/content-internationalization-with-strapi/\r\n\r\nTwitter link:\r\nhttps://twitter.com/strapijs/status/1041613814209421313?lang=en\r\n\r\nScreenshot:\r\n![image](https://user-images.githubusercontent.com/3635348/90511259-1a1f9000-e154-11ea-952d-b674a36ff5de.png)\r\n\r\n"},{"labels":[null,"documentation",null,null],"text":"Hi, i'm trying to add a plugin to my bookshelf.\r\ni installed the plugin with \r\n\"npm install --save bookshelf-simplepaginate\"\r\nthen i created the file in _config/functions/bookshelf.js_\r\nwith:\r\n\"\"\"\r\n'use strict';\r\n\r\nmodule.exports = (bookshelf, connection) => {\r\n  bookshelf.plugin(require('bookshelf-simplepaginate'));\r\n};\r\n\"\"\"\r\n\r\nBut strapi goes in bootloop saying:\r\n\"\"\"\r\n0|Strapi  | [2020-08-05T15:54:33.294Z] debug Server wasn't able to start properly.\r\n0|Strapi  | [2020-08-05T15:54:33.301Z] error TypeError: require(...) is not a function\r\n0|Strapi  |     at Object.keys.filter.map.connectionName (/home/pi/strapi/node_modules/strapi-connector-bookshelf/lib/index.js:62:36)\r\n0|Strapi  |     at Array.map (<anonymous>)\r\n0|Strapi  |     at Object.initialize (/home/pi/strapi/node_modules/strapi-connector-bookshelf/lib/index.js:46:8)\r\n0|Strapi  |     at Object.initialize (/home/pi/strapi/node_modules/strapi-database/lib/connector-registry.js:30:25)\r\n0|Strapi  |     at DatabaseManager.initialize (/home/pi/strapi/node_modules/strapi-database/lib/database-manager.js:36:27)\r\n0|Strapi  |     at Strapi.load (/home/pi/strapi/node_modules/strapi/lib/Strapi.js:297:19)\r\n\r\n\"\"\"\r\n\r\nWhat am i doing wrong?"},{"labels":[null,"documentation",null],"text":"**Describe the bug**\r\n\r\nImpossible to use a new custom authentication provider.\r\n\r\nI have followed the documentation https://strapi.io/documentation/v3.x/plugins/users-permissions.html#adding-a-new-provider-to-your-project\r\n\r\nThe code of my custom authentication provider is available in the repository https://github.com/madarche/my-project with each step in a separated commit (https://github.com/madarche/my-project/commits/master) :\r\n\r\n1. Initial commit\r\n2. Copy from \"node_modules\"\r\n3. Add missing file from the documentation\r\n4. Add new custom OIDC provider\r\n\r\nRelated discussions, but with no replies:\r\n* https://github.com/strapi/strapi/discussions/6455\r\n* https://github.com/strapi/strapi/discussions/6584\r\n\r\nRelated issue:\r\n* https://github.com/strapi/strapi/issues/891 with the associated\r\n  repository https://github.com/abdonrd/strapi-demo but obsolete because it's 2 years old\r\n\r\nThe fact that there are people having problems creating such a new authentication provider, with no online example of a working new custom authentication provider can be seen as an issue in itself. Understanding *Purest* REST API Configuration is hard. But maybe the issue is not only the need for more doc, maybe is there a bug behind?\r\n\r\n**Steps to reproduce the behavior**\r\n\r\n1. Setup the new authentication provider as specified by the doc\r\n2. See that the new provider is successfully available in http://localhost:1337/admin\r\n3. Enable the new provider\r\n4. Then with a browser visit URL http://localhost:1337/connect/myoidc\r\n5. See browser being redirected to\r\nhttp://localhost:1337/auth/myoidc/callback?error=Grant%3A%20missing%20or%20misconfigured%20provider\r\nwith the following JSON response:\r\n\r\n    \"\"\"\r\n    statusCode\t400\r\n    error\t\"Bad Request\"\r\n    message\r\n    message\t\"No access_token.\"\r\n    data\r\n    message\t\"No access_token.\"\r\n    \"\"\"\r\n\r\n**Expected behavior**\r\n\r\nThe authentication provider should be contacted and the browser should be redirected to the provider's login form.\r\n\r\n**Screenshots**\r\n\r\n[The new provider is successfully available in http://localhost:1337/admin](https://github.com/madarche/my-project/blob/master/Screenshot_2020-07-26-Strapi-Roles_Permissions.png)\r\n\r\n**Code snippets**\r\n\r\nhttps://github.com/madarche/my-project\r\n\r\n**System**\r\n\r\n- Node.js version: 12.18.2\r\n- NPM version: 6.14.5\r\n- Strapi version: 3.1.1\r\n- Database: SQLite\r\n- Operating system: Debian GNU-Linux 9 (stretch)\r\n\r\n**Additional context**\r\n\r\nBefore creating this issue I've been trying to use a custom authentication provider with different versions of Strapi: 3.0.x, 3.1.0. 3.1.1 without success.\r\n\r\nMy custom authentication provider is an *OpenID Connect* provider, but that has no impact whatsoever since this *OpenID Connect* provider is never contacted by Strapi.\r\n\r\nI've been able to successfully access the GitHub login form without problem when I enabled the bundled \"GitHub\" provider.\r\n"},{"labels":[null,"documentation",null],"text":"<!--\r\nHello 👋 Thank you for submitting an issue.\r\n\r\nBefore you start, please make sure your issue is understandable and reproducible.\r\nTo make your issue readable make sure you use valid Markdown syntax.\r\n\r\nhttps://guides.github.com/features/mastering-markdown/\r\n\r\nPlease ensure you have also read and understand the contributing guide.\r\n\r\nhttps://github.com/strapi/strapi/blob/master/CONTRIBUTING.md#reporting-an-issue\r\n-->\r\n\r\n**Describe the bug**\r\nBoth \"v3.x\" and \"3.0.0-beta.x\" migration guide are two same guide but have different link. I followed first one but it turns out it's for 3.0 configuration, which causes database connection error.\r\n\r\n1. https://strapi.io/documentation/v3.x/migration-guide/migration-guide-beta.19-to-beta.20.html#upload-plugin-settings\r\n> This means that you now have to configure your provider directly in the files. You can read the documentation [here](https://strapi.io/documentation/v3.x/plugins/upload.html#using-a-provider) to update.\r\n\r\n2. https://strapi.io/documentation/3.0.0-beta.x/migration-guide/migration-guide-beta.19-to-beta.20.html#upload-plugin-settings\r\n> This means that you now have to configure your provider directly in the files. You can read the documentation [here](https://strapi.io/documentation/3.0.0-beta.x/plugins/upload.html#using-a-provider) to update.\r\n\r\n**Expected behavior**\r\nIn v3.x guide,\r\nhttps://strapi.io/documentation/v3.x/plugins/upload.html#using-a-provider\r\nshould be https://strapi.io/documentation/3.0.0-beta.x/plugins/upload.html#using-a-provider"},{"labels":[null,"documentation",null],"text":"<!--\r\nHello 👋 Thank you for submitting an issue.\r\n\r\nBefore you start, please make sure your issue is understandable and reproducible.\r\nTo make your issue readable make sure you use valid Markdown syntax.\r\n\r\nhttps://guides.github.com/features/mastering-markdown/\r\n\r\nPlease ensure you have also read and understand the contributing guide.\r\n\r\nhttps://github.com/strapi/strapi/blob/master/CONTRIBUTING.md#reporting-an-issue\r\n-->\r\n\r\n**Describe the bug**\r\nWhen hosting the API and admin UI on different host/port, the admin UI does not respect the configuration but instead looks for the API under the same host/port as the admin UI.\r\n\r\n**Steps to reproduce the behavior**\r\n\r\n1. Configure the server as per the snippet below\r\n2. \"$ SERVE_ADMIN_PANEL=false yarn start\" to start the API under localhost:1337\r\n3. \"$ yarn build\" to build the admin UI\r\n4. \"$ http-server -p 9050 build\" (or similar) to serve the admin UI under localhost:9050\r\n5. The admin UI loader keeps spinning, as the XHR request to the backend returns HTTP 404\r\n\r\n**Expected behavior**\r\nUpdate the [relevant documentation](https://strapi.io/documentation/v3.x/admin-panel/deploy.html#deploy-the-administration-panel-on-another-server-aws-s3-azure-etc-than-the-api)\r\n\r\nor: admin UI sends requests to the host/port as per configuration of the API.\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/2371518/85016805-bfc17d80-b16a-11ea-9b65-126b21737d9e.png)\r\n\r\n\r\n**Code snippets**\r\n*server.js*\r\n\"\"\"js\r\nmodule.exports = ({ env }) => ({\r\n  host: 'localhost',\r\n  port: 1337,\r\n  cron: {\r\n    enabled: false,\r\n  },  \r\n  admin: {\r\n    url: '/',\r\n    serveAdminPanel: env.bool('SERVE_ADMIN_PANEL', true),\r\n    build: {\r\n      backend: 'http://localhost:1337/',\r\n    },\r\n  },\r\n});\r\n\"\"\"\r\n\r\n**System**\r\n\r\n- Node.js version: v12.14.0 and v10.16.3\r\n- NPM version: v6.13.4 and v6.9.0\r\n- Strapi version: v3.0.2\r\n- Database: Postgres\r\n- Operating system: CentOS linux\r\n\r\n**Additional context**\r\nTo install \"http-server\": run \"$ yarn add -g http-server\"\r\n"},{"labels":[null,"documentation",null,null],"text":"**Describe the bug**\r\nI followed the documentation, I tried using the react-login-front-end-app, no matter how hard I try, I always run into the same redirect_uri_mismatch error.\r\n\r\n**Steps to reproduce the behavior**\r\n1. Select any provider [in your strapi admin panel](http://localhost:1337/admin/plugins/users-permissions/providers), let's go with GitHub, since it seems to be the simplest and also has a [video tutorial from Strapi](https://www.youtube.com/watch?v=s_vQqQ4tpHs) (tried following it step by step).\r\n2. Fill in the required fields as [described in the docs](https://strapi.io/documentation/v3.x/plugins/users-permissions.html#providers); also follow the other steps described in the docs\r\n3. Go to http://localhost:1337/connect/github or click on the Github button inside the React login frontend boilerplate app\r\n\r\n**Expected behavior**\r\nSuccessful authentication\r\n\r\n**Screenshots**\r\nSee in **Additional context**\r\n\r\n**System**\r\n- Node.js version: 12.16.1\r\n- NPM version: 6.14.5\r\n- Strapi version: 3.0.1\r\n- Database: Postgres 12.3\r\n- Operating system: Windows 10 Pro x64\r\n\r\n**Additional context**\r\nSeems to be a problem with how strapi is sending the redirect_uri to the Oauth providers. Shouldn't it be something like https://760bbe10e952.ngrok.io/connect/github/callback ?\r\n![image](https://user-images.githubusercontent.com/7261890/83952707-29748a00-a843-11ea-8385-c0cd842049a6.png)\r\n![image](https://user-images.githubusercontent.com/7261890/83952716-35f8e280-a843-11ea-915a-51c1acf5a59f.png)\r\n\r\nI also noticed that, as opposed to the tutorial video, redirect URL field in the provider config doesn't get automatically populated, could it be a frontend issue?\r\n![image](https://user-images.githubusercontent.com/7261890/83952686-0944cb00-a843-11ea-80d2-5f0425b4b076.png)\r\n\r\nIf I try any other provider (tried facebook & google as well), I also get an URL related error."},{"labels":[null,"documentation",null,null],"text":"**404 Error in documentation (nginx is not redirecting?)**\r\n  When i try to open the link in a new tab. instead of redirecting me to url with .html attached at the end, it throws 404 error\r\n.\r\nWhen you navigate to \r\nhttps://strapi.io/documentation/v3.x/getting-started/installation\r\n\r\nIt should redirect to\r\nhttps://strapi.io/documentation/v3.x/getting-started/installation.html\r\n\r\nI run the documentation in my local machine <br>\r\nIt looks like vuepress is working\r\nwhen you goto\r\nhttps://strapi.io/documentation/v3.x/getting-started/installation\r\nit will redirect to url with the .html at the end\r\n\r\nSo, i think the **nginx** is the issue\r\n\r\n\r\n**Steps to reproduce the behavior**\r\n\r\n1. Go to 'https://strapi.io/documentation/v3.x/getting-started/installation.html'\r\n2.  Right Click on 'CLI' link\r\n3.  Click on \"Open in New Tab\"\r\n4. Goto the tab it will show 404 error => https://strapi.io/documentation/v3.x/installation/cli\r\n\r\n\r\n**Expected behavior**\r\nIt should redirect me to the url with a prefix of \".html\"\r\nhttps://strapi.io/documentation/v3.x/installation/cli.html\r\n\r\n**Screenshots**\r\n-\r\n\r\n**Code snippets**\r\n-\r\n\r\n**System**\r\n\r\n- Node.js version: -\r\n- NPM version:\r\n- Strapi version:  v3.x\r\n- Database: -\r\n- Operating system: -\r\n\r\n**Additional context**\r\nI am using Window, Chrome browser. I think the nginx is receiving the url but throws 404 error \r\n"},{"labels":[null,"documentation",null],"text":"<!--\r\nHello 👋 Thank you for submitting an issue.\r\n\r\nBefore you start, please make sure your issue is understandable and reproducible.\r\nTo make your issue readable make sure you use valid Markdown syntax.\r\n\r\nhttps://guides.github.com/features/mastering-markdown/\r\n-->\r\n\r\n**Describe the bug**\r\nCannot discern what instruction is referring to.\r\n\r\n**Steps to reproduce the behavior**\r\n\r\n1. Go to 'https://strapi.io/documentation/3.0.0-beta.x/deployment/google-app-engine.html'\r\n2. Scroll down to 'File uploading to Google Cloud Storage'\r\n3. Cannot discern where settings are found.\r\n\r\n**Expected behavior**\r\nAfter 'Save the JSON credentials file.', there is a line displaying 'Plugins > File Upload > Settings > Production tab'. I cannot find what this is referring to. Can there please be more detail added to this step.\r\n\r\n**System**\r\n\r\n- Node.js version: 12.16.3\r\n- NPM version: 6.14.4\r\n- Strapi version: 3.0.0-beta.20.1\r\n- Database: postgres\r\n- Operating system: windows 10\r\n\r\n"},{"labels":["documentation",null],"text":"<!--\r\nHello 👋 Thank you for submitting an issue.\r\n\r\nBefore you start, please make sure your issue is understandable and reproducible.\r\nTo make your issue readable make sure you use valid Markdown syntax.\r\n\r\nhttps://guides.github.com/features/mastering-markdown/\r\n-->\r\n\r\n**Describe the bug**\r\nThe very first sentence in **[Parameters](https://strapi.io/documentation/3.0.0-beta.x/content-api/parameters.html)** section, has a bad link (spelled as **\"parameters' concepts\"**). \r\n\r\n**Note 1** There is no sub-section \"parameters\" in the \"Concepts\" section.\r\n\r\n**Note 2** The apostrophe character in **\"parameters' concepts\"** is syntactically incorrect.\r\n\r\n**System**\r\n\r\n- Node.js version: v12.14.0<!-- Please ensure you are using the Node LTS version (v12) -->\r\n- NPM version: 6.13.6\r\n- Strapi version:  3.0.0-beta.19.5<!-- Please make sure you are on the latest version -->\r\n- Database: N/A\r\n- Operating system: Windows 10 Enterprise\r\n\r\n_**My comment**: I am very sensitive to the correctness and completeness of the technical documentation, being burned in the past when this priority was not at the top of my list_\r\n"},{"labels":["documentation",null],"text":"<!--\r\nHello 👋 Thank you for submitting an issue.\r\n\r\nBefore you start, please make sure your issue is understandable and reproducible.\r\nTo make your issue readable make sure you use valid Markdown syntax.\r\n\r\nhttps://guides.github.com/features/mastering-markdown/\r\n-->\r\n\r\n**Describe the bug**\r\nClick on the link **[migration guides](https://github.com/strapi/strapi/wiki)** in the **[Migration](https://github.com/strapi/strapi#migration)** section of the README file results with the same README page being displayed. \r\n\r\n**Steps to reproduce the behavior**\r\n\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior**\r\nIf the user selects a bad link within strapi hierarchy, a modal warning (or equivalent) should be shown. In the current situation the link \"https://github.com/strapi/strapi/wiki\" is simply redirected to \"https://github.com/strapi/strapi\", creating a confusing situation.\r\n\r\n**Note 1**: the link to Migration guides from the installed Strapi admin interface:\r\n\r\n![image](https://user-images.githubusercontent.com/2712405/79801795-c67b7200-832c-11ea-86e7-f5202b0a06ac.png)\r\n\r\npoints to \"https://strapi.io/documentation/3.0.0-beta.x/migration-guide/\" - indicating that most likely the strapi wiki does not exist for some time.\r\n\r\n**Note 2**: Having to first install new version of strapi defeats the purpose of the Migration Guide (hope this is obvious 😄)\r\n\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Code snippets**\r\nIf applicable, add code samples to help explain your problem.\r\n\r\n**System**\r\n\r\n- Node.js version: v12.14.0<!-- Please ensure you are using the Node LTS version (v12) -->\r\n- NPM version: 6.13.6\r\n- Strapi version:  3.0.0-beta.19.5<!-- Please make sure you are on the latest version -->\r\n- Database: N/A\r\n- Operating system: Windows 10 Enterprise\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n"},{"labels":[null,"documentation",null],"text":"<!--\r\nHello 👋 Thank you for submitting an issue.\r\n\r\nBefore you start, please make sure your issue is understandable and reproducible.\r\nTo make your issue readable make sure you use valid Markdown syntax.\r\n\r\nhttps://guides.github.com/features/mastering-markdown/\r\n-->\r\n\r\n**Describe the bug**\r\nI want to extending my model service following instruction from this [documentation](https://strapi.io/documentation/3.0.0-beta.x/concepts/services.html#extending-a-model-service)\r\n\r\n**Steps to reproduce the behavior**\r\n1. Just copy & paste the code from [documentation](https://strapi.io/documentation/3.0.0-beta.x/concepts/services.html#extending-a-model-service) in \"create\" tab to my service file\r\n![image](https://user-images.githubusercontent.com/47018830/78753993-ef048300-79a0-11ea-8946-e0f6449f8cea.png)\r\n2. Hit my API Endpoint using postman\r\n3. Return 500\r\n![image](https://user-images.githubusercontent.com/47018830/78754132-2bd07a00-79a1-11ea-9e2d-5ec66bd82d15.png)\r\n![image](https://user-images.githubusercontent.com/47018830/78754635-04c67800-79a2-11ea-91aa-6c5505e1438a.png)\r\n\r\n**Expected behavior**\r\nA new data is created.\r\n\r\n**System**\r\n- Node.js version: v12.16.1\r\n- NPM version: 6.13.4\r\n- Strapi version: 3.0.0-beta.19.5\r\n- Database: mysql\r\n- Operating system: Linux\r\n\r\nis there something i miss?\r\n"},{"labels":[null,null,"documentation"],"text":"\"content type\" is now \"collection type\" but the UI and documentation still has many references to \"content types\".\r\n\r\n**Steps to reproduce**\r\n\r\n1. Go to [Quick Start Guide](https://strapi.io/documentation/3.0.0-beta.x/getting-started/quick-start.html#_2-create-an-administrator-user) and scroll down to \"3. Create a Restaurant Content Type\"\r\n2. The first step says 'Click the \"+ Create new content-type\" link'. Should say \"+ 'Create new collection type\" link'.\r\n\r\n**Steps to reproduce**\r\n1. Log into the Admin site\r\n2. On the left sidebar, under PLUGINS, the \"Content-Types Builder\" should say \"Collection-Types Builder\"\r\n\r\n\r\n"},{"labels":[null,null,"documentation",null],"text":"**Describe the bug**\r\nfollowing the migration guide https://strapi.io/documentation/3.0.0-beta.x/migration-guide/migration-guide-beta.17-to-beta.18.html\r\n\r\nthe command for renaming collection doesnt work for my version of mongodb\r\n\"db.collection.renameCollection('groups_my_group', 'components_my_component');\"\r\nalso, according to new category usage i think this is more correct?\r\n\"db.collection.renameCollection('groups_my_group', 'components_myCategory_my_component');\"\r\n\r\nperhaps if the guide command works for a specific version of mongodb, then that needs to be specified.\r\n\r\nthe following commands worked for me in mongodb v4:\r\ndb.groups_addresses.renameCollection('components_address_addresses');\r\ndb.groups_documents.renameCollection('components_document_documents');\r\n\r\nalso note that my command includes the category while the guide command does not. of course my way might be wrong. i await someones feedback.\r\nie: \"db.groups_myGroupName.renameCollection('components_myCategoryName_myComponentName');\"\r\n\r\nThank you\r\n\r\n**System**\r\n- Node.js version: 10.16.3\r\n- NPM version: 6.9.0\r\n- Strapi version: 3.0.0-beta.18.3\r\n- Database: mongo v4.0.12\r\n- Operating system: ubuntu 18.04\r\n"},{"labels":[null,"documentation"],"text":"<!--\r\nHello 👋 Thank you for submitting a feature request.\r\n\r\nWe are using ProductBoard to manage our roadmap and feature requests.\r\n\r\nCan you please submit your feature request here: https://portal.productboard.com/strapi\r\n-->\r\n\r\nI want to propose to add a new deployment guide about Google App Engine.\r\n\r\nhttps://strapi.io/documentation/3.0.0-beta.x/guides/deployment.html"},{"labels":["documentation"],"text":"As seen in #22358, applications should define \"RestClientBuilderCustomizer\" beans to change the client configuration, not define a \"RestClient\" because this won't be used to create the \"RestHighLevelClient\" for the application.\r\n\r\nOur docs should read:\r\n\r\n> You can also register an arbitrary number of beans that implement RestClientBuilderCustomizer for more advanced customizations. To take full control over the registration, define a RestClientBuilder bean.\r\n>\r\n> If you have the org.elasticsearch.client:elasticsearch-rest-high-level-client dependency on the classpath, Spring Boot will auto-configure a RestHighLevelClient, which leverages any existing RestClientBuilder bean, reusing its HTTP configuration.\r\n\r\n"},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/23051#issuecomment-679191023"},{"labels":[null,"documentation"],"text":"Forward port of issue #23060 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #23028 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #23004 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #23002 to 2.3.x."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n\r\nI'm using Spring Boot 2.3.3.\r\n\r\nI've got a project where I'm building a fat JAR using the \"spring-boot-maven-plugin\". I've configured the JAR to be executable and I've explicitly enabled layers. This is my configuration of the \"spring-boot-maven-plugin\":\r\n\r\n~~~ xml\r\n<plugin>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-maven-plugin</artifactId>\r\n    <configuration>\r\n        <executable>true</executable>\r\n        <layers>\r\n            <enabled>true</enabled>\r\n        </layers>\r\n    </configuration>\r\n    <executions>\r\n        <execution>\r\n            <id>repackage</id>\r\n            <goals>\r\n                <goal>repackage</goal>\r\n            </goals>\r\n        </execution>\r\n    </executions>\r\n</plugin>\r\n~~~\r\n\r\nAfter building the project with \"mvn package\", I try to extract the layers \"java -Djarmode=layertools -jar target/my-project-0.1.0-SNAPSHOT.jar extract --destination dest\" as described in [this blog post on spring.io](https://spring.io/blog/2020/08/14/creating-efficient-docker-images-with-spring-boot-2-3).\r\n\r\nThis gives me an empty directory for each of the layers:\r\n\r\n~~~\r\n$ ls -R dest\r\ndest:\r\napplication  dependencies  snapshot-dependencies  spring-boot-loader\r\n\r\ndest/application:\r\n\r\ndest/dependencies:\r\n\r\ndest/snapshot-dependencies:\r\n\r\ndest/spring-boot-loader:\r\n\r\n~~~\r\n\r\nI would expect the directories to contain the class files of the different layers instead.\r\n\r\nI noticed that this is caused by the JAR file being executable. I debugged through [ExtractCommand.java](https://github.com/spring-projects/spring-boot/blob/v2.3.3.RELEASE/spring-boot-project/spring-boot-tools/spring-boot-jarmode-layertools/src/main/java/org/springframework/boot/jarmode/layertools/ExtractCommand.java) and \"ZipInputStream#getNextEntry()\" will always return null for an executable JAR.\r\n\r\nI think the options are to either improve the \"ExtractCommand\" (and possibly other commands) to work with executable JARs or to give a disclaimer in the documentation that the layertools don't work with executable JARs.\r\n\r\nA fix could involve the following steps:\r\n* Call \"mark(2)\" on the \"FileInputStream\" to be able to later reset it in case the file is not executable.\r\n* Read the first two bytes from the \"FileInputStream\" and check if they match the \"shebang\" (\"#!\") magic number (\"0x23 0x21\").\r\n* In case the file doesn't start with a shebang, reset the input stream.\r\n* In case the file starts with a shebang, read bytes until the characters \"\\necho 0\" are read.\r\n* Wrap the input stream in a \"ZipInputStream\" and read the entries like before.\r\n\r\nI know that this implementation won't be that easy, so I'd totally understand if you chose not to support executable JARs.\r\n"},{"labels":["documentation"],"text":"See https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4#comment-5032443813"},{"labels":[null,"documentation"],"text":"Forward port of issue #22918 to 2.4.x."},{"labels":["documentation"],"text":"It seems that there are wrong information in the docs in the section [Binding from Environment Variables](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-relaxed-binding-from-environment-variables). A green info section states the following:\r\n\r\n> Underscores cannot be used to replace the dashes in property names. If you attempt to use SPRING_MAIN_LOG_STARTUP_INFO with the example above, no value will be bound.\r\n\r\nAfter some testing with the newest version of spring boot it turns out that it is actually possible. For example we can not only bind the environment variable \"TEST_MYPROJECT_MYVALUE\" but also \"TEST_MY_PROJECT_MY_VALUE\" to \"@ConfigurationPropertis\" and \"@Value\" like this:\r\n\r\n\"\"\"\r\n@ConfigurationProperties(\"test.my-project\")\r\npublic class MyValueConfig {\r\n  private String myValue;\r\n}\r\n\"\"\" \r\n\r\n\"\"\"\r\n@Value(\"${test.my-project.my-value}\")\r\n\"\"\"\r\n\r\nSo this section in the docs should be adjusted I guess. Moreover, in section [@ConfigurationProperties vs. @Value](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-vs-value) I do not understand why Relaxed Binding is marked as \"limited\" for \"@Value\". From my testing all environment name combinations could be used for both \"@ConfigurationProperties\" and \"@Value\". E.g. all of those combinations could be bound to the \"@ConfigurationProperties\" and \"@Value\" shown above:\r\n\r\n\"\"\"\r\ntest.my-project.my-value=hello\r\ntest.myProject.my-value=hello\r\nTEST.myProject.my-value=hello\r\nTEST.MY_PROJECT.my-value=hello\r\nTEST.MY-PROJECT.my-value=hello\r\nTEST_MYPROJECT_MYVALUE=hello\r\nTEST_MY_PROJECT_MY_VALUE=hello\r\n\"\"\"\r\nI could not find a single combination that was working for \"@ConfigurationProperties\" but not for \"@Value\"."},{"labels":[null,"documentation"],"text":"Forward port of issue #22964 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22962 to 2.3.x."},{"labels":["documentation"],"text":"The method Javadocs for [\"SpringApplicationBuilder.properties(Properties)\"](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/api/org/springframework/boot/builder/SpringApplicationBuilder.html#properties-java.util.Properties-) are a bit inaccurate, due to an apparent copy/paste from [\"SpringApplicationBuilder.properties(String... defaultProperties)\"](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/api/org/springframework/boot/builder/SpringApplicationBuilder.html#properties-java.lang.String...-).  This is the case in the latest 2.3.1, and has been for quite some time.\r\n\r\n\"\"\"\r\n\t/**\r\n\t * Default properties for the environment in the form {@code key=value} or\r\n\t * {@code key:value}.\r\n\t * @param defaultProperties the properties to set.\r\n\t * @return the current builder\r\n\t */\r\n\tpublic SpringApplicationBuilder properties(Properties defaultProperties) {\r\n\t\treturn properties(getMapFromProperties(defaultProperties));\r\n\t}\r\n\"\"\"\r\n\r\nSince this is a [\"Properties\"](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html) object, it uses the standard key/value map structure of that object type, and not the formatted \"key=value\" or \"key:value\" strings mentioned in the doc comment.\r\n\r\nPresumably, it could have the same doc comment as the [\"SpringApplicationBuilder.properties(Map<String, Object> defaults)\"](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/api/org/springframework/boot/builder/SpringApplicationBuilder.html#properties-java.util.Map-) version:\r\n\r\n> Default properties for the environment. Multiple calls to this method are cumulative.\r\n\r\nOn that note, I notice an inconsistency in the Javadocs between the three \"properties\" methods.  \"Multiple calls to this method are cumulative.\" is applicable to all three, but is only called out in the \"Map<String, Object>\" version.  "},{"labels":[null,"documentation"],"text":"Forward port of issue #22960 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22948 to 2.3.x."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n\r\nI have the following in my \"application.properties\" file.\r\n\r\n\"\"\"\r\nserver.shutdown=graceful\r\nspring.lifecycle.timeout-per-shutdown-phase=10s\r\n\"\"\"\r\n\r\nYet, there is no 10s wait period when i try to kill the process.\r\n\r\nUsing spring boot 2.3.1.RELEASE\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #22930 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22919 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22921 to 2.4.x."},{"labels":["documentation"],"text":"One of the application team reported an issue and I found this slightly unintuitive behavior between  condition evaluation of \"@ConditionalOn*Bean\" and spring's autowiring resolution for method argument.\r\n\r\n\r\n### Sample Code:\r\n\r\n\"\"\"java\r\npublic class AnotherApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Config.class, \"--debug\");\r\n\t}\r\n\r\n\t@SpringBootConfiguration(proxyBeanMethods = false)\r\n\tstatic class Config {\r\n\r\n\t\t@Bean\r\n\t\tParent foo() {\r\n\t\t\treturn new Child(\"FOO\");\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tChild bar() {\r\n\t\t\treturn new Child(\"BAR\");\r\n\t\t}\r\n\r\n//\t\t@Bean\r\n//\t\tParent baz() {\r\n//\t\t\treturn new Child(\"BAZ\");\r\n//\t\t}\r\n\r\n\t\t@Bean\r\n\t\t@ConditionalOnSingleCandidate(Child.class)\t// <<<--\r\n\t\tInitializingBean init(Child child) {\t\t// <<<--\r\n\t\t\treturn () -> {\r\n\t\t\t\tSystem.out.println(\"initialized\");\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tstatic class Parent {\r\n\t\tString name;\r\n\r\n\t\tpublic Parent(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class Child extends Parent {\r\n\t\tpublic Child(String name) {\r\n\t\t\tsuper(name);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\"\"\"\r\n\r\n### Condition evaluation report:\r\n\r\n\"\"\"\r\nPositive matches:\r\n-----------------\r\n\r\n   AnotherApplication.Config#init matched:\r\n      - @ConditionalOnSingleCandidate (types: com.example.AnotherApplication$Child; SearchStrategy: all) found a primary bean from beans 'bar' (OnBeanCondition)\r\n\"\"\"\r\n\r\n### Failure:\r\n\r\n\"\"\"\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method init in com.example.AnotherApplication$Config required a single bean, but 2 were found:\r\n\t- foo: defined by method 'foo' in com.example.AnotherApplication$Config\r\n\t- bar: defined by method 'bar' in com.example.AnotherApplication$Config\r\n\"\"\"\r\n\r\n### Analysis\r\n\r\nWhile performing \"OnBeanCondition\"(\"@ConditionalOnSingleCandidate\"), it compares the target type(\"Child\") against factory-method-return-type of each \"@Bean\" - \"Parent\" for bean \"foo\" and \"Child\" for \"bar\".\r\nTherefore, \"Child\" matches to \"bar\" bean and satisfies the condition.\r\n\r\nThe details of this process is, in \"OnBeanCondition\", it calls [\"beanFactory.getBeanNamesForType\"](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/OnBeanCondition.java#L238) to collect bean names for the specified type(\"Child\"). In that, it calls [\"AbstractBeanFactory#getSingleton\"](https://github.com/spring-projects/spring-framework/blob/master/spring-beans/src/main/java/org/springframework/beans/factory/support/AbstractBeanFactory.java#L532). At this time, spring did not create raw beans yet, thus, the \"beanInstance\" becomes \"null\". Then, it goes to check the bean definition's \"factoryMethodReturnType\" against specified condition type \"Child\".\r\n\r\n\r\nOn the other hand, when spring performs autowiring for method arguments, it also calls \r\n\"beanFactory.getBeanNamesForType\". At this time, raw beans are available, and it finds the actual bean instances. Then, it proceeds to perform [\"instanceof\" check](https://github.com/spring-projects/spring-framework/blob/master/spring-beans/src/main/java/org/springframework/beans/factory/support/AbstractBeanFactory.java#L544-L547) against the method argument type \"Child\".\r\nThis \"instanceof\" matches to both \"foo\"(\"Parent\") and \"bar\"(\"Child\") beans. Therefore, it detects two beans and fails to resolve which one to apply for the method argument.\r\n\r\n----\r\n\r\nThere is another not intuitive behavior.\r\n\r\nIn following situation, it will not match the condition because the return type of \"foo\" is \"Parent\".\r\n\r\n\r\n\"\"\"java\r\n@Configuration(proxyBeanMethods = false)\r\nstatic class Config {\r\n\r\n  @Bean\r\n  Parent foo() {\r\n    return new Child(\"FOO\");\r\n  }\r\n\r\n  @Bean\r\n  @ConditionalOnBean(Child.class)\r\n  InitializingBean init(Child child) {\r\n    ...\r\n  }\r\n\r\n}\r\n\"\"\"\r\n\r\n\"\"\"\r\nNegative matches:\r\n-----------------\r\n\r\n   AnotherApplication.Config#init:\r\n      Did not match:\r\n         - @ConditionalOnBean (types: com.example.AnotherApplication$Child; SearchStrategy: all) did not find any beans of type com.example.AnotherApplication$Child (OnBeanCondition)\r\n\"\"\"\r\n\r\nHowever, once I add \"Child bar()\" bean, suddenly the condition matches but autoconfiguration for \"Child\" fails with finding two beans - \"foo\" and \"bar\".\r\n\r\n\"\"\"java\r\n@Configuration(proxyBeanMethods = false)\r\nstatic class Config {\r\n\r\n  @Bean\r\n  Parent foo() {\r\n    return new Child(\"FOO\");\r\n  }\r\n\r\n  @Bean\r\n  Child bar() {\r\n    return new Child(\"BAR\");\r\n  }\r\n\r\n  @Bean\r\n  @ConditionalOnBean(Child.class)\r\n  InitializingBean init(Child child) {\r\n    ...\r\n  }\r\n\r\n}\r\n\"\"\"\r\n\r\n\"\"\"\r\nPositive matches:\r\n-----------------\r\n\r\n   AnotherApplication.Config#init matched:\r\n      - @ConditionalOnBean (types: com.example.AnotherApplication$Child; SearchStrategy: all) found bean 'bar' (OnBeanCondition)\r\n\"\"\"\r\n\r\n\"\"\"\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method init in com.example.AnotherApplication$Config required a single bean, but 2 were found:\r\n\t- foo: defined by method 'foo' in com.example.AnotherApplication$Config\r\n\t- bar: defined by method 'bar' in com.example.AnotherApplication$Config\r\n\"\"\"\r\n\r\n\r\nThis suddenly matching multiple beans issue has reported in our application and I found this behavior.\r\n\r\nI understand this is possibly working as designed.  \r\nThe difference is due to the behavior of \"beanfactory.getBeanNamesForType\" which changes slightly different based on the stage this method is called. And also due to that bean instances cannot be checked while processing conditions.\r\n\r\nIt might be a corner case, but may be good to document such behavior on \"@ConditonalOn*Bean\" annotations.\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #22916 to 2.4.x."},{"labels":["documentation"],"text":"The generated documentation for [ServerProperties](https://docs.spring.io/spring-boot/docs/2.3.2.RELEASE/reference/html/appendix-application-properties.html#server-properties) isn't correct.  \r\n\"server.jetty.accesslog.format\" default should be \"ncsa\" while\r\n\"server.forward-headers-strategy\" should shouldn't have a default. At least I couldn't find in code where that property is initialized. \r\n\r\nRelevant code snippets:\r\n* https://github.com/spring-projects/spring-boot/blob/v2.3.2.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java#L1182\r\n* https://github.com/spring-projects/spring-boot/blob/v2.3.2.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java#L91\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #22913 to 2.4.x."},{"labels":["documentation"],"text":"Setting a non-wildcard JVM version for an OCI image via the \"BP_JVM_VERSION\" env var in the maven or gradle plugin ([as proposed in the docs](https://docs.spring.io/autorepo/docs/spring-boot/2.3.2.RELEASE/maven-plugin/reference/html/#build-image-example-builder-configuration)) will lead to failing builds, if the the JVM version is not the most recent version.\r\nSo it might work in the beginning when setting the current version, but once a newer version is out (leading to a new builder version) the build will fail.\r\nSee paketo-buildpacks/bellsoft-liberica#8.\r\n\r\nI would have created a PR for the docs, but I'm not quite sure what the best solution is.\r\n\r\nPinning the \"builder\" image would work but it's a bit cumbersome to find out a builder version.\r\nWhat I came up with is this, but it's really not straightforward:\r\n\r\n\"\"\"bash\r\nreg tags gcr.io/paketo-buildpacks/builder | grep base-platform-api\r\n\"\"\"\r\nAt the moment this results in \"gcr.io/paketo-buildpacks/builder:0.0.429-base-platform-api-0.3\".\r\nBut then how to find out the matching JVM version? Again, not straightforward:\r\n\r\n\"\"\"bash\r\nskopeo inspect docker://gcr.io/paketo-buildpacks/builder:0.0.429-base-platform-api-0.3 | grep bellsoft-liberica\r\n\"\"\"\r\n\r\nAnd then look up JDK version in release, e.g. here: https://github.com/paketo-buildpacks/bellsoft-liberica/releases/tag/v2.13.0\r\n\r\n\r\nSo just delete the paragraph about \"BP_JVM_VERSION\"?\r\nAny other ideas?\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":["documentation"],"text":"We document setting some environment variables but the configuration is untested. @sdeleuze thinks the syntax may be wrong so this could turn into a documentation issue."},{"labels":[null,"documentation"],"text":"Forward port of issue #22910 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22765 to 2.3.x."},{"labels":["documentation"],"text":"<!--\r\n!!! For Security Vulnerabilities, please go to https://pivotal.io/security !!!\r\n-->\r\n**Affects:** Spring Boot v2.2.1.RELEASE\r\n\r\n---\r\n<!--\r\nThanks for taking the time to create an issue. Please read the following:\r\n\r\n- Questions should be asked on Stack Overflow.\r\n- For bugs, specify affected versions and explain what you are trying to do.\r\n- For enhancements, provide context and describe the problem.\r\n\r\nIssue or Pull Request? Create only one, not both. GitHub treats them as the same.\r\nIf unsure, start with an issue, and if you submit a pull request later, the\r\nissue will be closed as superseded.\r\n-->\r\n\r\n### context path redirect causes protocol downgrade to http\r\n\r\nI'm trying to run a basic Spring Boot application behind a proxy and with a context path, because later it will run on a server with other applications and inside a Docker container.  \r\nI'm having difficulties with the redirect to the context path. Here is a structural overview of the system:\r\n\"\"\"\r\n+--------+  https  +-------+  http   +--------+\r\n| Client | ------> | Proxy | ------> | Spring |\r\n+--------+         +-------+         +--------+\r\n\"\"\"\r\nWhen sending a request with the schema \"https://<proxy-url>/<context-path>\", the Spring redirects the client to \"http://<proxy-url>/<context-path>/\". So it downgrades the protocol from https to http.\r\n\r\nI honestly don't know whether this is a bug or intended behavior. Is there a way to make Spring redirect to https instead of http. The proxy redirect contains the correct X-Forwarded-Proto, X-Forwarded-Host, X-Forwarded-Port headers.\r\n\r\nThe Curl output below shows that Spring reads the headers properly when adding the slash at the end of the context path. The Curl requests talk directly to Spring and I did set the headers manually to emulate the proxy. I also attached the code of the test application and a screenshot of the redirect within Chrome.\r\n\r\n### Request and redirect screenshot\r\n![redirect](https://user-images.githubusercontent.com/4232232/89885667-b2a19780-dbcb-11ea-9bab-8c0bd6ded682.png)\r\n\r\n### Curl\r\n\r\n#### Slash at the end of the context path\r\n\"\"\"\r\nC:\\Users\\<user>>curl -v -H \"X-Forwarded-Proto: https\" -H \"X-Forwarded-Port: 443\" -H \"X-Forwarded-Host: <host>\" http://localhost:8081/hweproxy/\r\n*   Trying ::1...\r\n* TCP_NODELAY set\r\n* Connected to localhost (::1) port 8081 (#0)\r\n> GET /hweproxy/ HTTP/1.1\r\n> Host: localhost:8081\r\n> User-Agent: curl/7.55.1\r\n> Accept: */*\r\n> X-Forwarded-Proto: https\r\n> X-Forwarded-Port: 443\r\n> X-Forwarded-Host: <host>\r\n>\r\n< HTTP/1.1 200\r\n< Vary: Origin\r\n< Vary: Access-Control-Request-Method\r\n< Vary: Access-Control-Request-Headers\r\n< X-Content-Type-Options: nosniff\r\n< X-XSS-Protection: 1; mode=block\r\n< Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n< Pragma: no-cache\r\n< Expires: 0\r\n< Strict-Transport-Security: max-age=31536000 ; includeSubDomains\r\n< X-Frame-Options: DENY\r\n< Content-Type: text/plain;charset=UTF-8\r\n< Content-Length: 33\r\n< Date: Tue, 11 Aug 2020 09:32:52 GMT\r\n<\r\nhttps://<host>/hweproxy/* Connection #0 to host localhost left intact\r\n\"\"\"\r\n\r\n#### No slash at the end of the context path\r\n\r\n\"\"\"\r\nC:\\Users\\<user>>curl -v -H \"X-Forwarded-Proto: https\" -H \"X-Forwarded-Port: 443\" -H \"X-Forwarded-Host: <host>\" http://localhost:8081/hweproxy\r\n*   Trying ::1...\r\n* TCP_NODELAY set\r\n* Connected to localhost (::1) port 8081 (#0)\r\n> GET /hweproxy HTTP/1.1\r\n> Host: localhost:8081\r\n> User-Agent: curl/7.55.1\r\n> Accept: */*\r\n> X-Forwarded-Proto: https\r\n> X-Forwarded-Port: 443\r\n> X-Forwarded-Host: <host>\r\n>\r\n< HTTP/1.1 302\r\n< Location: http://localhost:8081/hweproxy/\r\n< Transfer-Encoding: chunked\r\n< Date: Tue, 11 Aug 2020 09:19:51 GMT\r\n<\r\n* Connection #0 to host localhost left intact\r\n\"\"\"\r\n\r\n### Basic Spring Boot application code\r\n#### Java Code\r\n\"\"\"java\r\n@SpringBootApplication\r\npublic class SpringPoC {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringPoC.class, args);\r\n    }\r\n}\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n            .antMatchers(\"**\").permitAll()\r\n\r\n            .and()\r\n            .cors()\r\n\r\n            .and()\r\n            .csrf()\r\n            .disable();\r\n    }\r\n}\r\n\r\n@RestController\r\n@RequestMapping(\"/\")\r\npublic class DummyController {\r\n    \r\n    @GetMapping\r\n    public ResponseEntity<?> dummyEndpoint(HttpServletRequest req) {\r\n        return ResponseEntity.ok(req.getRequestURL());\r\n    }\r\n}\r\n\"\"\"\r\n\r\n#### application.properties\r\n\"\"\"properties\r\nserver.port = 8081\r\nserver.servlet.context-path = /hweproxy\r\nserver.forward-headers-strategy = FRAMEWORK\r\nserver.tomcat.remoteip.internal-proxies = \\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\r\n\"\"\"\r\n\r\n#### pom.xml\r\n\"\"\"xml\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n\r\n    <groupId>com.example</groupId>\r\n    <artifactId>spring-poc</artifactId>\r\n    <version>0.0.1-SNAPSHOT</version>\r\n    <packaging>jar</packaging>\r\n\r\n    <name>Spring Prove of Concept</name>\r\n    <url>http://example.com</url>\r\n\r\n    <parent>\r\n        <groupId>org.springframework.boot</groupId>\r\n        <artifactId>spring-boot-starter-parent</artifactId>\r\n        <version>2.2.1.RELEASE</version>\r\n        <relativePath /> <!-- lookup parent from repository -->\r\n    </parent>\r\n\r\n    <build>\r\n        <sourceDirectory>src/main/java</sourceDirectory>\r\n        <resources>\r\n            <resource>\r\n                <directory>src/main/resources</directory>\r\n            </resource>\r\n        </resources>\r\n        <plugins>\r\n            <plugin>\r\n                <groupId>org.apache.maven.plugins</groupId>\r\n                <artifactId>maven-compiler-plugin</artifactId>\r\n                <configuration>\r\n                    <source>11</source>\r\n                    <target>11</target>\r\n                </configuration>\r\n            </plugin>\r\n            <plugin>\r\n                <groupId>org.springframework.boot</groupId>\r\n                <artifactId>spring-boot-maven-plugin</artifactId>\r\n                <configuration>\r\n                    <includeSystemScope>true</includeSystemScope>\r\n                </configuration>\r\n            </plugin>\r\n        </plugins>\r\n    </build>\r\n\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter</artifactId>\r\n            <exclusions>\r\n                <exclusion>\r\n                    <groupId>org.springframework.boot</groupId>\r\n                    <artifactId>spring-boot-starter-logging</artifactId>\r\n                </exclusion>\r\n            </exclusions>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-web</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-security</artifactId>\r\n        </dependency>\r\n    </dependencies>\r\n</project>\r\n\"\"\""},{"labels":[null,null,"documentation"],"text":"Hi, this is a \"first-timers-only\" issue. This means we've worked to make it more legible to folks who either haven't contributed to our codebase before, or even folks who haven't contributed to open source before.\r\n\r\nIf that's you, we're interested in helping you take the first step and can answer questions and help you out as you do. Note that we're especially interested in contributions from people from groups underrepresented in free and open source software!\r\n\r\nIf you have contributed before, consider leaving this one for someone new, and looking through our general \"ideal-for-contribution\" issues. Thanks!\r\n\r\n## Problem\r\nPrometheus's PushGateway support can be enabled if an additional library is present and if the \"management.metrics.export.prometheus.pushgateway.enabled\" property is set to \"true\". Unfortunately, that last condition is not documented in the reference guide.\r\n\r\n## Solution\r\nThe \"Prometheus\" section of the reference guide currently contains:\r\n\r\n> When the Prometheus Pushgateway dependency is present on the classpath, Spring Boot auto-configures a \"PrometheusPushGatewayManager\" bean.\r\n\r\nIt should rather be:\r\n\r\n> When the Prometheus Pushgateway dependency is present on the classpath and the configprop:management.metrics.export.prometheus.pushgateway.enabled[] property is set to \"true\", a \"PrometheusPushGatewayManager\" bean is auto-configured.\r\n\r\nThe documentation should be updated in \"src/docs/asciidoc/production-ready-features.adoc\" from the \"spring-boot-docs\" module.\r\n\r\nAlso, to make sure the documentation matches the expectation, an additional test should be added in \"PrometheusMetricsExportAutoConfigurationTests\":\r\n\r\n\r\n\"\"\"java\r\n@Test\r\nvoid pushGatewayIsNotConfiguredWhenEnabledFlagIsNotSet() {\r\n  this.contextRunner.withUserConfiguration(BaseConfiguration.class)\r\n      .run((context) -> assertThat(context).doesNotHaveBean(PrometheusPushGatewayManager.class));\r\n}\r\n\"\"\"\r\n\r\n## Steps to Fix \r\n \r\n- [x] Claim this issue with a comment below and ask any clarifying questions you need\r\n- [x] Set up a repository locally following the [Contributing Guidelines](https://github.com/spring-projects/spring-boot/blob/master/CONTRIBUTING.adoc)\r\n- [x] Try to fix the issue following the steps above\r\n- [x] Commit your changes and start a pull request.\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #22899 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22898 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22890 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22685 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21787 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22760 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22774 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22490 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22758 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22281 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22748 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #20920 to 2.3.x."},{"labels":["documentation"],"text":"Version: Spring Boot 2.3.2\r\n\r\nI have the following simple \"TestController\".\r\n\r\n\"\"\"\"\r\n@RestController\r\n@RequestMapping(\"/test\")\r\npublic class TestController {\r\n    @Getter\r\n    protected static class TestObj {\r\n        @DurationUnit(ChronoUnit.MINUTES)\r\n        private Duration breakTime;\r\n    }\r\n\r\n    @GetMapping(\"/test\")\r\n    public void test(@RequestBody TestObj test) {\r\n        System.out.println(test.getBreakTime());\r\n    }\r\n}\r\n\"\"\"\"\r\n\r\nWith the following body...\r\n\r\n\"\"\"\"\r\n{\r\n    \"breakTime\" : 30\r\n}\r\n\"\"\"\"\r\n\r\n... what I see in the console is\r\n\r\n\"\"\"\"\r\nPT30S\r\n\"\"\"\"\r\n\r\nObviously, conversion is not happening. It always default to SECONDS."},{"labels":[null,"documentation"],"text":"Forward port of issue #22706 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22705 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22704 to 2.2.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22631 to 2.4.x."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n\r\n\"<artifactId>spring-boot-configuration-processor</artifactId>\" cannot generate the default value to the \"spring-configuration-metadata.json\" when the field default value is a constant and the constant not in current class.\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #21570 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22094 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22669 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #15977 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22565 to 2.3.x."},{"labels":["documentation"],"text":"This can probably be obvious to Kotlin developers, but values of the \"mainClassName\" property for Kotlin classes should include the \"Kt\" postfix, if the corresponding application is a Kotlin class.\r\n\r\nFor example, a Kotlin \"ExampleApplication\" like\r\n\r\n\"\"\"kotlin\r\npackage com.example\r\n\r\n@SpringBootApplication\r\nclass ExampleApplication\r\n\r\nfun main() {\r\n    runApplication<ExampleApplication>()\r\n}\r\n\"\"\"\r\n\r\nwould require specifying its entry point as\r\n\r\n\"\"\"kotlin\r\nspringBoot {\r\n    mainClassName = \"com.example.ExampleApplicationKt\"\r\n}\r\n\"\"\"\r\n\r\nand not \"\"com.example.ExampleApplication\"\" (as shown in the Reference)."},{"labels":["documentation"],"text":"With #22299, Spring Boot uses Spring Data Neo4j 6 that brings a number of new features that aren't documented as such at the moment.\r\n\r\nIn particular, \"spring.data.neo4j.database\" should be properly explained as well as the fact reactive repositories are now supported."},{"labels":[null,"documentation"],"text":"Forward port of issue #22629 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #19557 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22622 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22591 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22616 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22617 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22598 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22608 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22607 to 2.3.x."},{"labels":["documentation"],"text":"Hi,\r\n\r\nwhile going through the docs I noticed that the [Google Cloud documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#cloud-deployment-gae) has a broken link:\r\n\r\n> Follow [these steps](https://github.com/GoogleCloudPlatform/getting-started-java/blob/master/appengine-standard-java8/springboot-appengine-standard/README.md) to deploy App Engine Standard application to Google Cloud.\r\n\r\nApparently, the Spring-Boot Java sample was removed. As I don't know what the link provided, I don't really know how to replace it. There's a [Kotlin sample](https://github.com/GoogleCloudPlatform/getting-started-java/tree/master/appengine-standard-java8/kotlin-sb-appengine-standard) still & the [Google docs](https://cloud.google.com/appengine/docs/standard/java/tools/uploadinganapp#deploying_an_app) which could be candidates.\r\n\r\nCheers,\r\nChristoph"},{"labels":[null,"documentation"],"text":"Forward port of issue #22596 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #20408 to 2.3.x."},{"labels":["documentation"],"text":"If you look for documentation on the DevTools and arrive at the documentation [home page](https://docs.spring.io/autorepo/docs/spring-boot/current/reference/html/index.html) there's no way to find the right sub-section to proceed to. Turn's out it's in \"Using Spring Boot\". Does it make sense to list DevTools in the summary line? It seems to be a prominent thing to look for in the overview as it's such a distinguished feature."},{"labels":[null,"documentation"],"text":"Forward port of issue #22589 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21696 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22587 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22278 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22574 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21868 to 2.3.x."},{"labels":[null,"documentation"],"text":"> docs.spring.io about spring cache couchbase\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-caching-provider-couchbase\r\n\r\n> Upgrade to Couchbase SDK v3\r\nhttps://github.com/spring-projects/spring-boot/commit/abe43b2e83713591bc23821add3763cc2c41e3bd\r\n\r\nI think document should update about \"Upgrade to Couchbase SDK v3\".\r\nIt is very confused for new couchbase cache users.\r\n\r\n\r\n> CouchbaseCacheConfiguration\r\nhttps://github.com/spring-projects/spring-boot/blob/58eb0ba4d3919743901c9900c17f6f8c34d80aed/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cache/CouchbaseCacheConfiguration.java\r\n\r\nAnd I think CacheManagerCustomizers cannot working on couchbase cache. CacheManagerCustomizers cannot change about \r\nCouchbaseCacheManager."},{"labels":["documentation"],"text":"According to [this documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-conversion-duration), I should be able to use \"@DurationUnit\" to change the default unit when converting a duration. However, the example above keeps using \"MILLISECONDS\" as the duration unit.\r\n\r\nHappening in the \"latest\" Spring version\r\n\r\n1) When not specifying a unit in \"application.yml\":\r\n\"\"\"yml\r\nmyconfig:\r\n  myDuration: 70\r\n\"\"\"\r\n\r\n2) And specifying \"DurationUnit\" to \"SECONDS\" in config properties class\r\n\"\"\"kotlin\r\n@ConstructorBinding\r\n@ConfigurationProperties(\"myconfig\")\r\nclass MyProperties(\r\n  @DurationUnit(ChronoUnit.SECONDS)\r\n  val myDuration: Duration,\r\n)\r\n\"\"\"\r\n\r\n3) Then duration is converted using default \"MILLISECONDS\" unit\r\n\"\"\"kotlin\r\nmyProperties.myDuration.toString() // -> \"PT0.07S\"\r\n\"\"\""},{"labels":[null,"documentation"],"text":"Forward port of issue #22560 to 2.4.x."},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/commit/fe807d6c0ba9793e8447a8de42b7bfed12251be2#r40891661"},{"labels":["documentation"],"text":"#6001 and #6335 made it possible to add auto-configuration to a test slice by listing it in \"spring.factories\" but it was only documented in the javadoc of \"@ImportAutoConfiguration\". Prompted by a discussion on Gitter with @jnizet, we should also mention it in the reference documentation. The [\"Additional Auto-configuration and Slicing\"](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-auto-configured-additional-auto-config) section is probably the right place for it.\r\n"},{"labels":["documentation"],"text":"Following on from #22497, we need to update our \"externalized configuration\" documentation."},{"labels":["documentation"],"text":"Some of the banner properties not populated when running with unpacked jar and custom banner\r\n\r\nWhen running Spring Boot application with custom banner and unpacked jar as documented in [1],\r\nthe following banner properties that described in [2] are not printed\r\n\r\n*   application.version\r\n*   application.formatted-version\r\n*   application.title\r\n\r\n[1] [Deploying to Containers](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#containers-deployment)\r\n\r\n[2] [Customizing the Banner](https://docs.spring.io/spring-boot/docs/2.2.8.RELEASE/reference/html/spring-boot-features.html#boot-features-banner)\r\n\r\nSpring Boot version: 2.3.1.RELEASE\r\n\r\ni saw this #21705 that looks similar issue, but i tried with 2.3.1.RELEASE version and it still does not show the values.\r\n\r\n[Example project that re-create the issue](https://github.com/orenw1/demo-banner)\r\n\r\n"},{"labels":["documentation"],"text":"Docs here in this test and on the website say the \"components.*.details\" object \"May contain nested components that make up the health,\" but this should no longer be the case with the addition of \"components.*.components\":\r\n\r\nhttps://github.com/spring-projects/spring-boot/blob/a94ab673a3230e89403c1046837359c300f8717c/spring-boot-project/spring-boot-actuator-autoconfigure/src/test/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/documentation/HealthEndpointDocumentationTests.java#L84\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current-SNAPSHOT/actuator-api/html/#health-retrieving-response-structure\r\n\r\nThe work done in the original issue here seems to have missed updating the documentation: https://github.com/spring-projects/spring-boot/issues/17929"},{"labels":[null,"documentation"],"text":"I kind of miss the ToC that [our old docs](https://docs.spring.io/spring-boot/docs/1.5.x/reference/htmlsingle/) provided. Although the navigation bar provides something similar, it's not quite the same since it doesn't provide a complete overview."},{"labels":[null,"documentation"],"text":"Forward port of issue #22410 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22409 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22408 to 2.2.x."},{"labels":["documentation"],"text":"This is regarding [spring-boot-maven-plugin]\r\n\r\nHello spring-boot-maven-plugin team,\r\n\r\nI am here to report what seems to be an issue.\r\nCurrently using the latest 2.3.1 <artifactId>spring-boot-maven-plugin</artifactId> plugin, when I run mvn clean install -Pintegration on a project that has the profile, the maven job run successfully, but the process is hang.\r\n\r\nI am seeing the success from Maven, and the first run always is a success.\r\nHowever, on following runs, it is failing, because the previous maven run is blocking/hanging/holding.\r\nLong after I run the maven command, if I lsof -i tcp: 7654, I can still see the process there, and a ps -ef | grep shows \r\n/Library/Java/.../.../Contents/Home/bin/java -Dspring.application.admin.enabled=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=7654 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=127.0.0.1 -cp /Users/...\r\n\r\nIs I manually kill the process using the port, this get unlocked, and I can do the run one more time, until it is blocked again.\r\nI tried to reproduce on a very small sample to share, however, it seems simple projects are not impacted. My current one is a maven multimode, where the structure is a parent with some common non springboot modules, with other springboot micro services. I want to run the (pre-integration-test) and (post-integration-test)  on only one of them. But the issue mentioned is reproducible 100%.\r\n\r\nIt seems there is an issue where spring-boot-maven-plugin:2.3.1.RELEASE:stop (post-integration-test) can't take care of killing the process.\r\n\r\n<profiles>\r\n        <profile>\r\n            <id>integration</id>\r\n            <build>\r\n                <plugins>\r\n                    <plugin>\r\n                        <groupId>org.springframework.boot</groupId>\r\n                        <artifactId>spring-boot-maven-plugin</artifactId>\r\n                        <configuration>\r\n                            <wait>1000</wait>\r\n                            <maxAttempts>180</maxAttempts>\r\n                            <environmentVariables>\r\n                              \r\n                            </environmentVariables>\r\n                            <jvmArguments>\r\n                                -Dspring.application.admin.enabled=true\r\n                            </jvmArguments>\r\n                        </configuration>\r\n                        <executions>\r\n                            <execution>\r\n                                <id>pre-integration-test</id>\r\n                                <goals>\r\n                                    <goal>start</goal>\r\n                                </goals>\r\n                                <configuration>\r\n                                    <jmxPort>7654</jmxPort>\r\n                                </configuration>\r\n                            </execution>\r\n                            <execution>\r\n                                <id>post-integration-test</id>\r\n                                <goals>\r\n                                    <goal>stop</goal>\r\n                                </goals>\r\n                            </execution>\r\n                        </executions>\r\n                    </plugin>\r\n                </plugins>\r\n            </build>\r\n        </profile>\r\n    </profiles>"},{"labels":[null,"documentation"],"text":"Forward port of issue #22296 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22339 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22337 to 2.3.x."},{"labels":["documentation"],"text":"I have two AutoConfiguration classes, with an ordering dependency defined via \"@AutoConfigureBefore\" but no direct dependency between them (setting up some legacy libraries that have not great static initialization and implicit static dependencies between themselves).\r\n\r\nI have also added \"@AutoConfigurationOrder\" trying to resolve that and observed the same behaviors. I left that out in my sample.\r\n\r\nIn the absence of any dependency, the two autoconfigurations run in the order defined by the \"@AutoConfigureBefore\" and  the components are successfully instantiated.\r\n\r\nHowever, if any component in the app adds a dependency on a component from the second autoconfiguration, that component is created and injected before any components in the first autoconfiguration are created.\r\n\r\nThis repo demonstrates the failure case:\r\n\r\nhttps://github.com/cfieber/autoconfig-order\r\nsee https://github.com/cfieber/autoconfig-order/blob/master/bootapp/src/test/java/bootapp/BreakyTest.java specifically\r\n\r\nObserved on both spring-boot \"2.2.6.RELEASE\" and \"2.3.1.RELEASE\"\r\n\r\nI believe I can work around this problem by making the initializing component in the first autoconfiguration a bean post processor or something to cause it to initialize early, however that feels a bit heavy handed and less obvious than expressing the dependency with the autoconfiguration orderings.\r\n\r\nThe two autoconfigurations do not have direct dependencies (or even \"@DependsOn\" references) because there are a few different ways to configure the first dependency so I don't want a direct reference there."},{"labels":[null,"documentation"],"text":"Forward port of issue #22277 to 2.4.x."},{"labels":["documentation"],"text":"With thanks to @kriegaex, see [this question on Stack Overflow](https://stackoverflow.com/questions/62698827/spring-aop-aspectj-afterreturning-advice-wrongly-executed-while-mockingbefo/62809074#62809074) and the [sample](https://github.com/WesternGun/spring-boot-reactive-webflux-template) to which it links."},{"labels":["documentation"],"text":"Not reading properties for property file passed by \"-Dspring.config.location=<property file>\", where \"<property file>\" does not have any extension.\r\n\r\n**Reproduce:** Execute the the following example command -\r\n\"\"\"sh\r\njava -Dspring.config.location=/mount/application-secret-property -jar /home/user/application.war\r\n\"\"\"\r\nWhere \"/mount/application-secret-property\" does not have any extension\r\n\r\n**Related discussions:**\r\n\r\n1. [stackoverflow - spring-config-location-is-ignored](https://stackoverflow.com/questions/43744892/spring-config-location-is-ignored)\r\n2. [Related code in spring boot](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/env/PropertiesPropertySourceLoader.java#L42)\r\n3. [Some more discussion on use case](https://github.com/microsoft/azure-spring-boot/issues/926)\r\n"},{"labels":["documentation"],"text":"There are some behavior changes in Spring Boot 2.3.0. This issue #21325 commit introduced new Web Server lifecycle logic - WebServerStartStopLifecycle. And now there is this order during an applicaton startup:\r\n\r\n1. WebServerStartStopLifecycle.start -> webServer.start\r\n2. publishEvent(new ContextRefreshedEvent(this));\r\n\r\nIn Spring Boot 2.2.0 there was another logic (ServletWebServerApplicationContext.java):\r\n\r\n\"\"\"\r\nprotected void finishRefresh() {\r\n    super.finishRefresh();\r\n    WebServer webServer = startWebServer();\r\n    if (webServer != null) {\r\n        publishEvent(new ServletWebServerInitializedEvent(webServer, this));\r\n    }\r\n}\r\n\"\"\"\r\nAnd order was like this:\r\n\r\n1. publishEvent(new ContextRefreshedEvent(this));\r\n2. webServer.start \r\n\r\nWe run some logic after the Spring context has been initialized but before web server started. With Spring Boot 2.3.0 web server processes requests before this logic is done.\r\n\r\nIf it is an expected change of events order, it should be mentioned in migration guide."},{"labels":[null,"documentation"],"text":"Forward port of issue #22264 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22262 to 2.3.x."},{"labels":["documentation"],"text":"One of the methods of loading properties files as described by the [documentation](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-external-config) is:\r\n\r\n> 14. Application properties outside of your packaged jar (application.properties and YAML variants).\r\n\r\nThis appears to mean that the \"application.properties\" file should be placed in the same directory as the jar file. What I have found though, is that it will pick up the properties file that is in the current working directory, irregardless of the location of the jar file. For example, if I have the following files.\r\n\r\nbuild/libs/application.properties\r\nbuild/libs/application.jar\r\n\r\nIf I execute the jar from the \"build\" directory using \"java -jar libs/application.jar\", it will not pick up the properties file. If I change the working directory to \"build/libs\" and execute \"java -jar application.jar\", it will pick up the properties file.\r\n\r\nI would think the more sensible and stable behavior would be to figure out the directory of the jar and use that. If that is not possible, or not what the intended behavior is, then the documentation should be updated to clarify.\r\n\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #22246 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #22207 to 2.3.x."},{"labels":["documentation"],"text":"#21630 introduced support for using \"iso-offset\" (or \"isooffset\") to configure ISO offset formatting of times and date times with Spring MVC. We should do the same for WebFlux."},{"labels":[null,"documentation"],"text":"Forward port of issue #22147 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21510 to 2.4.x."},{"labels":["documentation"],"text":"**Description**\r\nI have a service MyServiceImpl that listen to the ApplicationReadyEvent\r\nIn the method doStuff I run a while(true) - run forever \r\n(In the original app I run a (infinite) sink that is getting data from a rest endpoint and publish it to kafka)  \r\n\r\nIn spring boot 2.3.1 the actuator endpoint status for readiness is OUT_OF_SERVICE because the listener doesn't finish\r\nIn spring boot 2.2.8 the actuator endpoint status for readiness is UP \r\n\r\nspring-boot or spring-actuator problem   \r\n\r\n[git example](https://github.com/laurentiu-miu/springBootTest.git)\r\n\r\n1. Start the app with spring boot 2.3.1\r\nmvn spring-but:run\r\n-access the endpoint for readiness \r\nhttp://localhost:8080/.mystatus/ready\r\n-The health is \"status\": \"OUT_OF_SERVICE\"\r\n\r\n2. Start the app with spring boot 2.2.8\r\nmvn spring-but:run\r\naccess the endpoint for readiness \r\nhttp://localhost:8080/.mystatus/ready\r\nThe health is \"status\": \"UP\"\r\n\r\n> \"\"\"@Service\r\n> public class MyServiceImpl {\r\n>   @EventListener(ApplicationReadyEvent.class)\r\n>   public void doStuff(){\r\n>     int count = 0;\r\n>     while(true){\r\n>       try {\r\n>         Thread.sleep(1000);\r\n>       } catch (InterruptedException e) {\r\n>         e.printStackTrace();\r\n>       }\r\n>       System.out.println(count++);\r\n>     }\r\n>   }\r\n> }\r\n> "},{"labels":["documentation"],"text":"After upgrading out application from Spring Boot 2.2.8 to 2.3.0 (2.3.1 also fails) we are now getting the following error when running our tests:\r\n\"\"\"\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1714)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1270)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1224)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)\r\n\t... 108 more\r\n\"\"\"\r\n\r\nHere's a simplistic reproduction example of it failing on 2.3.1 once I add in the r2dbc dependency: https://github.com/busches/spring-boot-issue\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #22018 to 2.4.x."},{"labels":["documentation"],"text":"Forward port of issue #22023 to 2.4.x."},{"labels":["documentation"],"text":"Forward port of issue #22000 to 2.3.x."},{"labels":["documentation"],"text":"Spring Boot currently documents [explicitly](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-configure-http2) that it does not support h2c (i.e. HTTP/2 in the clear, no encryption). There are sound policy reasons for this as a default position, particularly assuming that the Spring Boot application faces the internet.\r\n\r\nHowever, this complicates the adoption of Spring Boot for service mesh use cases where an L7 proxy (e.g. [Envoy](https://www.envoyproxy.io)) is actually managing certificates and encrypted connections across the network, and the connection between the service and the proxy is just host-local. In this case, h2c between the proxy and the service is the most appropriate technical choice.\r\n\r\nIs there not a case for allowing h2c via configuration for these use cases?\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #21910 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21916 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21906 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21908 to 2.4.x."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n\r\nSpring Boot 2.3 release notes states that it now supports native consumer & **producer** metrics (i guess this was implemented here - https://github.com/spring-projects/spring-boot/issues/20838), but documentation (latest,2.3.0,2.3.1,2.3.2) states that only kafka consumer metrics are supproted natively - for example https://docs.spring.io/spring-boot/docs/2.3.2.BUILD-SNAPSHOT/reference/htmlsingle/#production-ready-metrics-meter"},{"labels":["documentation"],"text":"Quoting https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/htmlsingle/#production-ready-metrics-web-flux\r\n\r\n> To add to the default tags, provide one or more <code>@Bean&grave;s that implement &grave;WebFluxTagsContributor</code>\r\n\r\nI suppose it's a encoding problem."},{"labels":[null,"documentation"],"text":"Forward port of issue #21794 to 2.4.x."},{"labels":["documentation"],"text":"See #21795 for more discussion."},{"labels":[null,"documentation"],"text":"Forward port of issue #21798 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21317 to 2.3.x."},{"labels":["documentation"],"text":"The Maven \"spring-boot:build-image\" goal and Gradle \"bootBuildImage\" task attempt to detect the target Java version for the build and set an environment variable on the CNB builder to instruct buildpacks to install the same Java version. This should be documented in the build plugin documentation. \r\n\r\nThe Maven plugin first looks for configuration of the \"maven-compiler-plugin\" with a \"target\" version: \r\n\r\n\"\"\"\r\n<plugins>\r\n    <plugin>    \r\n        <artifactId>maven-compiler-plugin</artifactId>\r\n        <configuration>\r\n            <target>1.8</target>\r\n        </configuration>\r\n    </plugin>\r\n</plugins>\r\n\"\"\"\r\n\r\nIf that is not found, it looks for a compiler target property: \r\n\r\n\"\"\"\r\n<properties>\r\n    <maven.compiler.target>1.8</maven.compiler.target>\r\n</properties>\r\n\"\"\"\r\n\r\nThe Gradle plugin uses a Gradle API, which exposes the value of the \"targetCompatibility\" property of the [Java plugin](https://docs.gradle.org/current/userguide/java_plugin.html). "},{"labels":["documentation"],"text":"Here is the quote from https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-application-property-files\r\n\r\n> If you use environment variables rather than system properties, most operating systems disallow period-separated key names, but you can use underscores instead (for example, spring.config.name instead of spring.config.name).\r\n\r\nI suppose it should be \"spring_config_name\".\r\n\r\nI wasn't really sure how to do this so I created an issue anyways. Guide me for the future so I don't create useless issues."},{"labels":["documentation"],"text":"\"CqlSession.getMetrics()\" returning null value, even after configuration for enabling the metrics has been added to it.\r\n\r\n\"\"\"java\r\n@Autowired\r\nprivate CqlSession cqlsession;\r\n\r\nMetricRegistry metricRegistry = cqlsession.getMetrics()\r\n            .orElseThrow(() -> new IllegalArgumentException(\"not able to get metrics\"))\r\n            .getRegistry();\r\n\"\"\"\r\n\r\n\r\napplication.properties:\r\n\r\n\"\"\"\r\ndatastax-java-driver.advanced.metrics {\r\n  session.enabled = [connected-nodes, cql-requests]\r\n  node.enabled = [pool.open-connections, pool.in-flight]\r\n}\r\n\"\"\""},{"labels":[null,"documentation"],"text":"Forward port of issue #21695 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21650 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21762 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #20716 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21760 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21759 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #19293 to 2.2.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21752 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21751 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #15358 to 2.2.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21744 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21743 to 2.3.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21737 to 2.2.x."},{"labels":["documentation"],"text":"Until recently, I haven’t fully considered the racist connotations of terms like whitelist and blacklist. Better late than never, I hope. While I don’t think the terms have racist origins, the white is good and black is bad implication doesn’t sit comfortably any more. Just as we strive to avoid referring to users as he or using guys to refer to a group of people, I think we should avoid using whitelist.\r\n\r\nWe use whitelist in three places in the reference documentation when describing \"spring.*.view-names\" properties:\r\n\r\n> White list of view names that can be resolved.\r\n\r\nI think we could just say \"View names that can be resolved\" with no loss of meaning.\r\n\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #21732 to 2.4.x."},{"labels":[null,"documentation"],"text":"Forward port of issue #21701 to 2.4.0-M1."},{"labels":["documentation"],"text":"It looks like it got lost when the build was converted to Gradle."},{"labels":["documentation"],"text":"We should add something to the reference documentation about \"MongoClientSettingsBuilderCustomizer\". We don't appear to mention it at all at the moment."},{"labels":["documentation"],"text":"\"org.springframework.boot.loader.archive.Archive.iterator()\" was deprecated in 2.3 but \"Archive\" implements \"Iterable<Archive.Entry>\" which defines the \"iterator()\" method. If we remove the deprecated method it'll become present in undeprecated form as it'll be inherited from \"Iterable\". I think we either need to deprecate all three methods defined by \"Iterable\" so that \"Archive\" can stop extending it in the future or we need to undeprecate \"iterator()\"."},{"labels":[null,"documentation"],"text":"Forward port of issue #21576 to 2.4.0-M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #21640 to 2.4.0-M1."},{"labels":[null,"documentation"],"text":"See https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-kubernetes-probes."},{"labels":[null,"documentation"],"text":"Forward port of issue #21610 to 2.4.0-M1."},{"labels":["documentation"],"text":"\"{gradle-project-version}\" isn't being replaced with the build's version so the published documentation contains \"{gradle-project-version}\" rather than, for example, \"2.3.0.RELEASE\"."},{"labels":["documentation"],"text":"I think it should be in the getting started here\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/gradle-plugin/reference/html/#getting-started\r\n\r\nand possibly in the reference docs I had trouble finding it."},{"labels":["documentation"],"text":"For consistency we should really publish under \"htmlsingle\" rather than \"html\"."},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/21483#issuecomment-634170647"},{"labels":["documentation"],"text":"While looking at https://github.com/spring-projects/spring-boot/issues/21575, I noticed that the new \"isExploded()\" method isn't documented as being \"@since 2.3.0\" and I think it should be. We should also check for any other methods changed or added around the same time that need a similar update."},{"labels":["documentation"],"text":"After watching  [Managing Dependencies for Spring Projects with Gradle by Jenn Strater and Andy Wilkinson](https://www.youtube.com/watch?v=AADeX1AEmzU) talk. I started a new  project using the [Gradle Java Platfrom Plugin](https://docs.gradle.org/current/userguide/java_platform_plugin.html) rather than the Spring Boot dependency gradle plugin which worked but required a lot of trial and error.  Upgrading from boot 2.2.6 to 2.3.0 caused the breakage #21569. \r\n\r\nIt's unclear how the boot plugin [interacts](https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/gradle-plugin/reference/html/#reacting-to-other-plugins) with the Java Platform Plugin. Documenting how to use the Java Platform Plugin rather than the dependency management plugin is quite useful for many users.\r\n"},{"labels":[null,"documentation"],"text":"On [this page](https://docs.spring.io/spring-boot/docs/2.0.3.RELEASE/reference/html/boot-features-webclient.html):\r\n\r\n\"\"\"java\r\n@Service\r\npublic class MyService {\r\n\r\n\tprivate final WebClient webClient;\r\n\r\n\tpublic MyService(WebClient.Builder webClientBuilder) {\r\n\t\tthis.webClient = webClientBuilder.baseUrl(\"http://example.org\").build();\r\n\t}\r\n\r\n\tpublic Mono<Details> someRestCall(String name) {\r\n\t\treturn this.webClient.get().url(\"/{name}/details\", name)\r\n\t\t\t\t\t\t.retrieve().bodyToMono(Details.class);\r\n\t}\r\n\r\n}\r\n\"\"\"\r\n\"this.webClient.get().url(\"/{name}/details\", name)\" should be \"uri\" instead?\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #21540 to 2.3.1."},{"labels":["documentation"],"text":"The following isn't really that helpful: \r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/#goals-build-image-parameters-details-layers\r\n\r\nWe could also do with a link from \"Building OCI Images\" to \"Layered Jars\" since it's hidden in the ToC."},{"labels":["documentation"],"text":"Hi all,\r\nI'm facing a problem with \"spring-boot-maven-plugin\"  and spring-boot version >= 2.2.5-RELEASE.\r\nIf the plugin configuration has some \"configuration/arguments/argument\", they are not replaced by the command line arguments.\r\nThis can be reproduced with an application that print the args received.\r\n\r\nHaving the plugin\r\n\"\"\"      \r\n<plugin>\r\n  <groupId>org.springframework.boot</groupId>\r\n  <artifactId>spring-boot-maven-plugin</artifactId>\r\n  <configuration>\r\n    <arguments>\r\n      <argument>property1=xxx</argument>\r\n    </arguments>\r\n  </configuration>\r\n</plugin>\r\n\"\"\"\r\nwhen you run\r\n\"\"\"\r\nmvn spring-boot:run\r\n\"\"\"\r\nthe args are:\r\n\"\"\"\r\nproperty1=xxx\r\n\"\"\"\r\nIf you run\r\n\"\"\"\r\nmvn spring-boot:run -Dspring-boot.run.arguments=\"property1=yyy\"\r\n\"\"\"\r\nagain the output (wrong) is\r\n\"\"\"\r\nproperty1=xxx\r\n\"\"\"\r\nIf you do the same with ver \"2.2.4-RELEASE\" everything works fine.\r\n\r\nThanks!\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #21485 to 2.3.1."},{"labels":["documentation"],"text":"The documentation for 2.3.0 [includes an example of a layers.idx file](https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/reference/htmlsingle/#layering-docker-images), but the example doesn't match the format we ended up with for the release. \r\n\r\nThe example there should be updated, and we should consider providing a more formal description of the file format instead of just an example. "},{"labels":["documentation"],"text":"in a newly generated Sring Boot project with Release 2.3.0.RELEASE, including Web Reactive and Actuator, does not automatically provide liveness and readiness endpoints.\r\n\r\nThe docs don't suggest any additional configuration for these endpoints, as far as I understand.\r\n\r\nboot log is\r\n\"\"\"\r\n2020-05-19 16:46:44.781  INFO 3252 --- [           main] com.example.demo.DemoApplicationKt       : No active profile set, falling back to default profiles: default\r\n2020-05-19 16:46:45.824  WARN 3252 --- [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)\r\n2020-05-19 16:46:45.976  INFO 3252 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'\r\n2020-05-19 16:46:46.944  INFO 3252 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080\r\n2020-05-19 16:46:46.955  INFO 3252 --- [           main] com.example.demo.DemoApplicationKt       : Started DemoApplicationKt in 2.462 seconds (JVM running for 2.797)\r\n\r\n\"\"\"  "},{"labels":[null,"documentation"],"text":"Forward port of issue #21466 to 2.3.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #21466 to 2.2.8."},{"labels":["documentation"],"text":"The site's now available over HTTPS so we should update our links accordingly."},{"labels":["documentation"],"text":"When Spring Security 5.4 is out we should use the \"/html\" link rather than \"/html5\".\r\n\r\nSee https://github.com/spring-projects/spring-security/issues/8420"},{"labels":[null,"documentation"],"text":"Forward port of issue #20686 to 2.3.0."},{"labels":[null,"documentation"],"text":"Forward port of issue #20686 to 2.2.8."},{"labels":[null,"documentation"],"text":"Forward port of issue #21318 to 2.3.0."},{"labels":["documentation"],"text":"We should add something that mentions how to pass system properties with \"-D\" via \"bootRun\". Since \"BootRun\" is a standard \"JavaExec\" task, we can add a short note about it either [in this section](https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#running-your-application-passing-arguments) or in a separate section alongside it."},{"labels":["documentation"],"text":"While discussing some documentation improvements (see #21077 and #21121), I've noticed that several common application properties have no description in the [current docs dedicated section](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#data-properties).\r\nHowever, all these properties have the descriptive comment, as visible in [version \"2.1.x\" docs](https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/common-application-properties.html) which was using a different \"template\" for rendering documentation.\r\n\r\nSome properties in this situation are:\r\n\r\n- \"spring.info.git.location\"\r\n- \"spring.data.rest.detection-strategy\"\r\n- \"spring.datasource.initialization-mode\" (see screenshots below)\r\n- \"spring.elasticsearch.rest.uris\"\r\n- \"spring.mongodb.embedded.features\"\r\n\r\nAfter a quick look at the 2.1.x doc page, it seems that all the properties have a comment from which the description should be obtained. \r\n\r\nThis should be further investigated (maybe also checking the \"Default Value\" field too), but I have no clue on where to find the code which does this \"description extraction\". If someone can point me in the right direction, I'll try to have a look.\r\n\r\n_**\"spring.datasource.initialization-mode\" - Current doc**_\r\n![image](https://user-images.githubusercontent.com/34871840/80275325-c68ac180-86e0-11ea-9238-8d5a5aeca3ea.png)\r\n\r\n_**\"spring.datasource.initialization-mode\" - 2.1.x doc**_\r\n![image](https://user-images.githubusercontent.com/34871840/80304586-47b48800-87b7-11ea-8dc7-948a9a9220c9.png)"},{"labels":[null,"documentation"],"text":"Version 2.3.0 still causes \"Unable to start embedded Tomcat server\" errors.\r\n\r\nUsed for test: \"v2.3.0.BUILD-SNAPSHOT\"\r\n\r\n\"\"\"\r\norg.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:309) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.6.BUILD-SNAPSHOT.jar:5.2.6.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat com.example.kunde.service.KundeServiceApplication.main(KundeServiceApplication.java:12) ~[classes/:na]\r\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.3.0.BUILD-SNAPSHOT.jar:2.3.0.BUILD-SNAPSHOT]\r\n\t... 11 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1038) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\t... 13 common frames omitted\r\nCaused by: java.net.SocketException: Permission denied\r\n\tat java.base/sun.nio.ch.Net.bind0(Native Method) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.bind(Unknown Source) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.bind(Unknown Source) ~[na:na]\r\n\tat java.base/sun.nio.ch.ServerSocketChannelImpl.bind(Unknown Source) ~[na:na]\r\n\tat java.base/sun.nio.ch.ServerSocketAdaptor.bind(Unknown Source) ~[na:na]\r\n\tat org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:229) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:212) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:592) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1035) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n\t... 15 common frames omitted\r\n\r\n\"\"\""},{"labels":["documentation"],"text":"As discussed here #20920 and here #21077 with @snicoll, we think that the description may of the \"spring.datasource.initialization-mode\" could be improved.\r\n\r\nI understand that the description is generated from the code comment, which states:\r\n\r\n> Initialize the datasource with available DDL and DML scripts.\r\n\r\nIn the [current docs dedicated section](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#data-properties), the description field is empty (I've opened another issue for this specific problem, see #21131).\r\n\r\nI have reviewed my initial enhancement proposal after viewing the original description and receiving some feedback.\r\n\r\nI've done some research, in the Spring Framework documentation they use \"_DataSource implementations_\" and \"_Database types_\" to refer to the actual DBMS (e.g. H2, Derby, HSQL - see [3.2. Package Hierarchy](https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#jdbc-packages), [3.9. Embedded Database Support](https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#jdbc-embedded-database-support)). I suppose it's a wording valid for both embedded and \"non-embedded\" databases, so not suitable for the values of the \"spring.datasource.initialization-mode\" property.\r\n\r\n**Updated proposal**:\r\n\r\n> Initialize the embedded datasource with available DDL and DML scripts. Use \"always\" to initialize any datasource.\r\n\r\nThis avoids the use of \"type of datasource\", and describes the usage of \"always\" as a value, but I'm still not sure if is it clearly understandable.\r\n\r\nAlso, I was guessing: is there a way to disable datasource initialization, even if the DDL and DML scripts are present?"},{"labels":[null,"documentation"],"text":"Forward port of issue #21077 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"The reference documentation [recommends](https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/htmlsingle/#boot-features-custom-starter-module-autoconfigure) using \"<optional>true</optional>\" when declaring a dependency on \"spring-boot-autoconfigure-processor\" but, following a discussion with @odrotbohm, it's apparent that this doesn't prevent the dependency from being packaged in the fat jar. The same goes for a Lombok dependency when generated by start.spring.io which also uses \"<optional>true</optional>\". The Maven plugin's documentation [recommends an exclusion-based approach instead](https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/maven-plugin/examples/exclude-dependency.html).\r\n\r\nWe should review the current documentation and Maven plugin behaviour and make the updates that are necessary to make things consistent. We should also verify how things behave with Gradle. I believe it will not have the same problem if the \"annotationProcessor\" configuration is used, but we should double-check. Once this has been straightened out, we may need to make some updates to start.spring.io as it currently uses \"<optional>true</optional>\" with Lombok."},{"labels":[null,"documentation"],"text":"Forward port of issue #20507 to 2.2.7."},{"labels":[null,"documentation"],"text":"Forward port of issue #18329 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18329 to 2.2.7."},{"labels":["documentation"],"text":"The [\"2.3.0.M4\" docs](https://docs.spring.io/spring-boot/docs/2.3.0.M4/maven-plugin/reference/html/#build-image-examples) contain these examples: \r\n\r\n\"\"\"\r\n$ mvn spring-boot:build-image -Dspring-boot.build-image:builder=mine/java-cnb-builder\r\n$ mvn spring-boot:build-image -Dspring-boot.build-image:imageName=example.com/library/v1\r\n\"\"\"\r\n\r\nThere should be a \".\" instead of \":\" between \"-Dspring-boot.build-image\" and the property name. "},{"labels":[null,"documentation"],"text":"Forward port of issue #20895 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18215 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18215 to 2.2.7."},{"labels":[null,"documentation"],"text":"Forward port of issue #19972 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19972 to 2.2.7."},{"labels":["documentation"],"text":"Dockerfile example for layered jars does not match the default layers.\r\n\r\nPlease see this section of the doc:\r\nhttps://docs.spring.io/spring-boot/docs/2.3.0.M4/reference/htmlsingle/#writing-the-dockerfile\r\n\r\nThe Dockerfile example currently contains:\r\n\r\nFROM adoptopenjdk:11-jre-hotspot\r\nWORKDIR application\r\nCOPY --from=builder application/dependencies/ ./\r\nCOPY --from=builder application/snapshot-dependencies/ ./\r\nCOPY --from=builder application/resources/ ./\r\nCOPY --from=builder application/application/ ./\r\nENTRYPOINT [\"java\", \"org.springframework.boot.loader.JarLauncher\"]\r\n\r\nTwo observations:\r\n\r\n1. Seems like the example should be updated to include a COPY statement for the new spring-boot-loader layer.\r\n\r\n2. The example includes a COPY statement for a resources directory that is not mentioned as a default layer in the preceding section of the doc (https://docs.spring.io/spring-boot/docs/2.3.0.M4/reference/htmlsingle/#layering-docker-images)\r\n\r\nWould be more clear if there was consistency between default layers mentioned and sample Dockerfile, or an explanation of the differences (e.g. is a resources layer recommended and how does one generate it if it is not a default layer?).\r\n"},{"labels":[null,"documentation"],"text":"Broken link\r\n\r\nIn this section of the docs:\r\nhttps://docs.spring.io/spring-boot/docs/2.3.0.M4/reference/htmlsingle/#layering-docker-images\r\n\r\nThe last sentence has two links, one for Maven and one for Gradle. The Maven link is broken (returns 404 Not Found). Instead of:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.3.0.M4/maven-plugin/html//#repackage-layered-jars\r\n\r\nIt should be:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.3.0.M4/maven-plugin/reference/html//#repackage-layered-jars"},{"labels":[null,"documentation"],"text":"Forward port of issue #20812 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #20623 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #20623 to 2.2.7."},{"labels":["documentation"],"text":"I'm not sure if this is related to the new docs style sheet or something else, but we now have a version number in the authors list:\r\n\r\n![Screen Shot 2020-04-13 at 4 25 45 PM](https://user-images.githubusercontent.com/519772/79170210-93bd0100-7da3-11ea-9dfc-a04f513cda2d.png)\r\n\r\nvs\r\n\r\n![Screen Shot 2020-04-13 at 4 25 50 PM](https://user-images.githubusercontent.com/519772/79170217-99b2e200-7da3-11ea-9147-d44dd0026600.png)\r\n"},{"labels":["documentation"],"text":"The YAML in Kubernetes Container Lifecycle documentation should provide more context about where the user should place this YAML\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.3.0.M4/reference/html/deployment.html#cloud-deployment-kubernetes-container-lifecycle\r\n\r\nFor a novice they might now know that this belongs in the podspec of the deployment yaml"},{"labels":["documentation"],"text":"**Expected Behavior:**\r\n- The sql file \"src/main/resources/data.sql\"  is run independent from the database during start up\r\n- The sql file \"src/test/resources/data.sql\"  is run independent from the database on test start\r\n\r\n**Actual Behavior:**\r\n - The sql file \"src/main/resources/data.sql\" is only run with h2 and not postgres during start up\r\n - The sql file \"src/test/resources/data.sql\"  is only run with h2 and not postgres on test start\r\n\r\n**Failed approaches:**\r\n  - Use property \"spring.datasource.initialization-mode=always\"\r\n  - Use property \"spring.liquibase.drop-first=true\"\r\n  - Use property \"spring.jpa.hibernate.ddl-auto=create-drop\"\r\n\r\n**Initial analyse:**\r\n- With postgres there is no \"DataSourceSchemaCreatedEvent\" so the DataSourceInitializer.initSchema() is never run.\r\n\r\n Example-project: https://github.com/hauer-io/liquibase\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #20907 to 2.3.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #20799 to 2.3.0.RC1."},{"labels":["documentation"],"text":"Hi,\r\n\r\nI just played around with the graceful shutdown option \"server.shutdown.grace-period=1s\" while being on Tomcat 9.0.31 and got this error.\r\n\r\n\"\"\"\r\n2020-04-08 20:40:46.278  INFO 42505 --- [extShutdownHook] o.s.b.w.e.tomcat.TomcatGracefulShutdown  : Commencing graceful shutdown, allowing up to 1s for active requests to complete\r\nException in thread \"SpringContextShutdownHook\" java.lang.NoSuchMethodError: 'long org.apache.catalina.core.StandardContext.getInProgressAsyncCount()'\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatGracefulShutdown.active(TomcatGracefulShutdown.java:91)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatGracefulShutdown.shutDownGracefully(TomcatGracefulShutdown.java:68)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.shutDownGracefully(TomcatWebServer.java:396)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:175)\r\n\tat org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:948)\r\n\"\"\"\r\n\r\nI found d8cead5457fad85bfba6de6f7e571603009184ea that removed the reflection call, so maybe the \"hard\" requirement on 9.0.33 can be documented at least somewhere.\r\n\r\nCheers,\r\nChristoph"},{"labels":["documentation"],"text":"Using back-ticks in headings doesn't produce great results with the HTML template. It's probably better if we remove them.\r\n\r\n![Screen Shot 2020-04-07 at 11 06 19 AM](https://user-images.githubusercontent.com/519772/78703970-fdc73900-78bf-11ea-83b6-833089fda0bd.png)\r\n"},{"labels":["documentation"],"text":"We should update the appendix with details of the index files."},{"labels":["documentation"],"text":"Generated PDF documentation is currently being published with inconsistent file naming. \r\n\r\n* Spring Boot reference - [spring-boot-reference.pdf](https://docs.spring.io/spring-boot/docs/2.3.0.M4/reference/pdf/)\r\n* Maven plugin reference - [index.pdf](https://docs.spring.io/spring-boot/docs/2.3.0.M4/maven-plugin/reference/pdf/)\r\n* Gradle plugin reference - [index.pdf](https://docs.spring.io/spring-boot/docs/2.3.0.M4/gradle-plugin/reference/pdf/) (but snapshots had a version from January 2020 published as \"spring-boot-gradle-plugin-reference.pdf\")\r\n\r\nThe plugin reference PDFs should instead be named after the subproject - \"spring-boot-maven-plugin-reference.pdf\" and \"spring-boot-gradle-plugin-reference.pdf\".  There are currently broken links in the Spring Boot Reference that assume these names. "},{"labels":["documentation"],"text":"The Bitronix project is dormant and is looking for new maintainers. Other than documentation and README updates, the last commit to the project was 4 years ago. We should deprecate our support for Bitronix in 2.3 with a view to removing it in 2.4."},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/2.3.0.M4/reference/htmlsingle/#build-tool-plugins-maven-plugin links to https://docs.spring.io/spring-boot/docs/2.3.0.M4/maven-plugin/html/ which no longer exists. The correct link is https://docs.spring.io/spring-boot/docs/2.3.0.M4/maven-plugin/reference/html/. We may want to add a link to the javadoc and PDF reference documentation while we're at it, aligning with those [provided for the Gradle plugin](https://docs.spring.io/spring-boot/docs/2.3.0.M4/reference/htmlsingle/#build-tool-plugins-gradle-plugin)."},{"labels":["documentation"],"text":"When we deprecate a configuration property, we add \"@DeprecatedConfigurationProperty\" to the \"getter\" along with a \"@Deprecated\" on the getter and setter. We don't do this consistently though. This is [one example](https://github.com/spring-projects/spring-boot/blob/ffc2cff8de850ced28b131620ebf1ea0effac5f7/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java#L489-L521) where the getter and setter don't have \"@Deprecated\"."},{"labels":["documentation"],"text":"Raised this issues for dependency upgrade because the latest open source (free) version (5.0.6) is available since Dec 11, 2019.\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #20727 to 2.3.0.M4."},{"labels":["documentation"],"text":"Follow-up of #20715\r\n\r\nNeither Flyway nor Liquibase have native support for R2DBC at the moment. One way to initialize a database using R2DBC is to create a \"DataSource\" for the duration of the migration.\r\n\r\nHopefully both of them have excellent support for that and we expose properties to let users configure the database to migrate. A caveat is that \"spring-jdbc\" is still required on the  classpath so we should document all that and make sure it works as expected with smoke tests.\r\n "},{"labels":["documentation"],"text":"A How-to about Testcontainers would be quite useful."},{"labels":[null,"documentation"],"text":"Forward port of issue #20689 to 2.3.0.M4."},{"labels":[null,"documentation"],"text":"The documentation lists all of the third-party properties that can be bound, but simply described them as being \"Hikari specific settings\". We could help users to understand what the properties are bound to by replacing this with something like \"Hikari-specific settings bound to an instance of \"HikariDataSource\"\".\r\n\r\n\r\n"},{"labels":["documentation"],"text":"In the \"Creating your own starter\" section we explain the \"full\" infrastructure for a starter: an auto-configuration module and a separate \"starter pom\" that brings the auto-configuration and the dependencies that are needed to get started.\r\n\r\nWe also mention that those two can be merged in a single artifact but we don't really explain the rationale behind the separate artifacts, i.e. that It starts to make sense to split things up if you want to provide auto-configuration for various combinations of dependencies. "},{"labels":["documentation"],"text":"See #17647\r\n\r\nThe documentation mentions HTTP but we could use some note that it is a servlet and as such only works with Spring MVC."},{"labels":[null,"documentation"],"text":"Forward port of issue #20378 to 2.3.0.M4."},{"labels":[null,"documentation"],"text":"Forward port of issue #19564 to 2.3.0.M4."},{"labels":[null,"documentation"],"text":"Forward port of issue #19564 to 2.2.6."},{"labels":[null,"documentation"],"text":"Forward port of issue #20583 to 2.3.0.M4."},{"labels":[null,"documentation"],"text":"Forward port of issue #20583 to 2.2.6."},{"labels":[null,"documentation"],"text":"Forward port of issue #20323 to 2.3.0.M4."},{"labels":[null,"documentation"],"text":"The [current section](https://docs.spring.io/spring-boot/docs/2.3.0.M3/reference/htmlsingle/#building-docker-images) is misplaced under the Kotlin support. We should keep something high-level in a 4.n section and move the details to [this section](https://docs.spring.io/spring-boot/docs/2.3.0.M3/reference/html/deployment.html#containers-deployment) which is currently out-of-date."},{"labels":["documentation"],"text":"In a general web flux application, if added \"spring-boot-starter-data-r2dbc\" into dependencies, the *schema.sql* and *data.sql* in classpath will be executed when the application is started.\r\n\r\nIn my example,  I created a RSocket server that serves at TCP/7000, I am using the following stack:\r\n\r\n* Spring Boot 2.3.0.M3\r\n* Java 11\r\n\r\nThe project dependencies.\r\n\r\n\"\"\"xml\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-rsocket</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-data-r2dbc</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>io.r2dbc</groupId>\r\n            <artifactId>r2dbc-h2</artifactId>\r\n            <scope>runtime</scope>\r\n        </dependency>\r\n\"\"\"\r\n\r\nThe project  *application.properties*.\r\n\r\n\"\"\"properties\r\nspring.rsocket.server.port=7000\r\nspring.rsocket.server.transport=tcp\r\n\"\"\"\r\n\r\nI have to declare a  \"ConnectionFactoryInitializer \" bean to initialize the schema.sql and data.sql myself.\r\n\r\n\"\"\"java\r\n    @Bean\r\n    public ConnectionFactoryInitializer initializer(ConnectionFactory connectionFactory) {\r\n\r\n        ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\r\n        initializer.setConnectionFactory(connectionFactory);\r\n\r\n        CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\r\n        populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(\"schema.sql\")));\r\n        populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(\"data.sql\")));\r\n        initializer.setDatabasePopulator(populator);\r\n\r\n        return initializer;\r\n    }\r\n\"\"\"\r\n\r\nGet the complete sample codes [here](https://github.com/hantsy/rsocket-sample/tree/master/crud/server).\r\n\r\n\r\n\r\n"},{"labels":["documentation"],"text":"There are some differences between 2.2 and 2.3, for example 2.3 includes javadoc for \"org.springframework.boot.autoconfigureprocessor\" and \"org.springframework.boot.configurationprocessor.*\" whereas 2.2 does not. We need to decide which is right and then fix the other one."},{"labels":["documentation"],"text":"The following packages have no description:\r\n\r\n- \"org.springframework.boot.loader.jarmode\"\r\n- \"org.springframework.boot.loader.tools.layer\"\r\n- \"org.springframework.boot.loader.tools.layer.classes\"\r\n- \"org.springframework.boot.loader.tools.layer.library\""},{"labels":["documentation"],"text":"\"\"\"java\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(DemoProperties.class)\r\npublic class DemoApplication implements CommandLineRunner {\r\n    @Value(\"${demo.itemPrice:3}\")\r\n    private int itemPrice = 2;\r\n    @Autowired\r\n    private DemoProperties demoProperties;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        System.out.printf(\"Item price from @Value: %d%n\", itemPrice);\r\n        System.out.printf(\"Item price from @ConfigurationProperties: %d%n\", demoProperties.getItemPrice());\r\n    }\r\n}\r\n\"\"\"\r\n\r\n\"\"\"java\r\n@ConfigurationProperties(prefix = \"demo\")\r\npublic class DemoProperties {\r\n    private int itemPrice = 1;\r\n\r\n    public int getItemPrice() {\r\n        return itemPrice;\r\n    }\r\n\r\n    public void setItemPrice(int itemPrice) {\r\n        this.itemPrice = itemPrice;\r\n    }\r\n}\r\n\"\"\"\r\nIf an environment variable \"DEMO_ITEM_PRICE=4\" is set, we get:\r\n\"\"\"\r\nItem price from @Value: 3\r\nItem price from @ConfigurationProperties: 4\r\n\"\"\"\r\n\r\nIf an environment variable \"DEMO_ITEMPRICE=4\" is set, (disregarding Camel case) we get:\r\n\"\"\"\r\nItem price from @Value: 4\r\nItem price from @ConfigurationProperties: 4\r\n\"\"\"\r\n\r\nVerified with 2.1.2.RELEASE. See attached demo app.\r\n[demo.zip](https://github.com/spring-projects/spring-boot/files/4321696/demo.zip)\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #20436 to 2.3.0.M3."},{"labels":["documentation"],"text":"I'm new to Spring Boot.\r\nI created an application with https://start.spring.io/, using Gradle, Java 11, Spring Boot 2.2.5.\r\nReading the reference documentation [here](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/using-spring-boot.html#using-boot-starter) and [here](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/spring-boot-features.html#boot-features-logging), I understand that to replace the Logback implementation with the Log4j2 one I should simply add the \"spring-boot-starter-log4j2\" starter. So, my Gradle build script looks like this:\r\n\r\n\"\"\"groovy\r\ndependencies {\r\n\timplementation platform('org.springframework.boot:spring-boot-dependencies:2.2.5.RELEASE')\r\n\timplementation 'org.springframework.boot:spring-boot-starter'\r\n\timplementation 'org.springframework.boot:spring-boot-starter-log4j2'\r\n}\r\n\"\"\"\r\n\r\nPlease note that I'm not using the Spring dependency plugin, but rather the builtin BOM support from recent Gradle. \r\n\r\nHowever, when I start my application, I get the following:\r\n\r\n\"\"\"\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/C:/Users/mmolinari/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-slf4j-impl/2.12.1/14973e22497adaf0196d481fb99c5dc2a0b58d41/log4j-slf4j-impl-2.12.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/mmolinari/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.3/7c4f3c474fb2c041d8028740440937705ebb473a/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\nException in thread \"main\" java.lang.ExceptionInInitializerError\r\n\tat it.dcssrl.myapp.CoreApplication.main(CoreApplication.java:25)\r\nCaused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.validateContext(Log4jLoggerFactory.java:49)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.newLogger(Log4jLoggerFactory.java:39)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.newLogger(Log4jLoggerFactory.java:30)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:54)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:30)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\n\tat org.apache.commons.logging.LogAdapter$Slf4jAdapter.createLocationAwareLog(LogAdapter.java:130)\r\n\tat org.apache.commons.logging.LogAdapter.createLog(LogAdapter.java:91)\r\n\tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:67)\r\n\tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:59)\r\n\tat org.springframework.boot.SpringApplication.<clinit>(SpringApplication.java:196)\r\n\t... 1 more\r\n\"\"\"\r\n\r\nSearching on the Internet I could not find that the documented way to do this is put in a completely different page of the reference documentation in the [how-to guides](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/howto.html#howto-logging). I just discovered it by chance by looking at the \"similar issues\" list suggested by GitHub, while creating this issue. If at least a hint/link from the previous paragraph to the how-to guide were present, it would have saved me quite a lot of time.\r\n\r\nI was also wondering whether a dependency substitution could be a better alternative:\r\n\r\n\"\"\"groovy\r\nconfigurations.all {\r\n\tresolutionStrategy.dependencySubstitution.all { DependencySubstitution dependency ->\r\n\t\tif (dependency.requested instanceof ModuleComponentSelector && dependency.requested.module == 'spring-boot-starter-logging') {\r\n\t\t\tdependency.useTarget('org.springframework.boot:spring-boot-starter-log4j2', 'we use Log4j2 instead of Logback')\r\n\t\t}\r\n\t}\r\n}\r\n\"\"\"\r\n\r\nGradle documentation, in fact, pushes against the use of generic \"exclusions\", which are poor in semantics.\r\n\r\nAnother glitch with the documentation about logging is that in the [dedicated paragraph](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/spring-boot-features.html#boot-features-logging-file-output), after talking about the file rotation logging properties a note says:\r\n\r\n> Logging properties are independent of the actual logging infrastructure. \r\n\r\nHowever, in a [subsequent paragraph](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/spring-boot-features.html#boot-features-custom-log-configuration) a table shows that most of the logging properties can be used only with the default Logback setup, including those regarding file rotation... So, I would not say they are so \"independent\" :-)"},{"labels":["documentation"],"text":"Affects: Spring Boot 2.2.5\r\n\r\nThe [externalized configuration constructor binding](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/spring-boot-features.html#boot-features-external-config-constructor-binding) example code snippet shows an incorrect import.\r\n\r\nInocrrect import: \"import org.springframework.boot.context.properties.DefaultValue;\"\r\n\r\nCorrect import: \"import org.springframework.boot.context.properties.bind.DefaultValue;\"\r\n"},{"labels":[null,"documentation"],"text":"Via @mikand13 on Gitter, the documentation about configuring custom health HTTP status mappings may give the impression that the custom mapping is in addition to the default mappings. It is actually in place of the default mappings. This is intentional as it allows users to replace the defaults but the documentation is unclear.\r\n\r\nWe should review and update [this section](https://docs.spring.io/spring-boot/docs/2.2.4.RELEASE/reference/htmlsingle/#writing-custom-healthindicators) to clarify things."},{"labels":[null,"documentation"],"text":"Forward port of issue #20313 to 2.3.0.M3."},{"labels":[null,"documentation"],"text":"Forward port of issue #20216 to 2.3.0.M3."},{"labels":[null,null,"documentation"],"text":"Hi, this is a \"first-timers-only\" issue. This means we've worked to make it more legible to folks who either haven't contributed to our codebase before, or even folks who haven't contributed to open source before.\r\n\r\nIf that's you, we're interested in helping you take the first step and can answer questions and help you out as you do. Note that we're especially interested in contributions from people from groups underrepresented in free and open source software!\r\n\r\nIf you have contributed before, consider leaving this one for someone new, and looking through our general \"ideal-for-contribution\" issues. Thanks!\r\n\r\n## Problem\r\nThe [documentation that lists the available health indicators](https://docs.spring.io/spring-boot/docs/2.2.4.RELEASE/reference/html/production-ready-features.html#auto-configured-healthindicators) is missing an entry for \"DataSourceHealthIndicator\". This is a regression as the entry is present [in the \"2.1.x\" version](https://docs.spring.io/spring-boot/docs/2.1.12.RELEASE/reference/html/production-ready-endpoints.html#_auto_configured_healthindicators).\r\n\r\n## Solution\r\nThe documentation should be updated to add an entry for the datasource health indicator. This should be done in \"spring-boot-project/spring-boot-docs/src/docs/asciidoc/production-ready-features.adoc\" and the entry should be added after the \"DiskSpaceHealthIndicator\" entry.\r\n\r\n## Steps to Fix \r\n \r\n- [x] Claim this issue with a comment below and ask any clarifying questions you need\r\n- [x] Set up a repository locally following the [Contributing Guidelines](https://github.com/spring-projects/spring-boot/blob/master/CONTRIBUTING.adoc)\r\n- [x] Try to fix the issue following the steps above\r\n- [x] Commit your changes and start a pull request."},{"labels":[null,"documentation"],"text":"Forward port of issue #20169 to 2.3.0.M3."},{"labels":["documentation"],"text":"We're missing a dependency on the Asciidoctor extension so source like \"configprop:spring.jpa.hibernate.ddl-auto[] property\" is left as-is in the resulting documentation."},{"labels":[null,"documentation"],"text":"Forward port of issue #20145 to 2.3.0.M2."},{"labels":["documentation"],"text":"The structure your code link in [this section](https://docs.spring.io/spring-boot/docs/2.2.4.RELEASE/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-user-configuration) of the documentation links to a non-existent anchor on the same page. It should link to an anchor on a different page.\r\n\r\n@dreis2211 has already proposed a change to fix this in https://github.com/spring-projects/spring-boot/pull/19953, but I've separated it out so that we can fix it in 2.2.x as well as master."},{"labels":[null,"documentation"],"text":"#17939 and #19999 added support for sanitising the password in a URI in the value of properties with certain names. We should document this behaviour."},{"labels":["documentation"],"text":"While writing the release notes for Spring Boot \"2.3.0.M2\", I've realized that the structure of the reference doc for the Maven and Gradle plugins are almost identical but not quite. \r\n\r\nNow that we use the same infrastructure for both guides, I wonder if there wouldn't be an interest to also harmonize the structure.\r\n\r\nThe reference doc of Gradle is at https://docs.spring.io/spring-boot/docs/2.3.0.M1/gradle-plugin/reference/html/\r\n\r\nThe reference doc of Maven is one level down (no \"reference\"):  https://docs.spring.io/spring-boot/docs/2.3.0.M1/maven-plugin/html/\r\n\r\nI don't know if an end goal would be to share the same anchor but if we did, changing the name of the plugin would point to the relevant doc.\r\n\r\nExample for the new build image feature:\r\n\r\n* Gradle: https://docs.spring.io/spring-boot/docs/2.3.x-SNAPSHOT/gradle-plugin/reference/html/#build-image\r\nMaven: https://docs.spring.io/spring-boot/docs/2.3.x-SNAPSHOT/maven-plugin/html/#build-image"},{"labels":[null,"documentation"],"text":"Forward port of issue #19707 to 2.3.0.M2."},{"labels":[null,"documentation"],"text":"Forward port of issue #19707 to 2.2.5."},{"labels":[null,"documentation"],"text":"Forward port of issue #19998 to 2.3.0.M2."},{"labels":[null,"documentation"],"text":"In section [9.3.11. Configure Access Logging](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-accesslogs) of the reference documentation the following Jetty link is broken: https://www.eclipse.org/jetty/documentation/9.4.25.v20191220/configuring-jetty-request-logs.html\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":["documentation"],"text":"Backport of #19992 with Maven"},{"labels":[null,"documentation"],"text":"Forward port of issue #20004 to 2.3.0.M2."},{"labels":["documentation"],"text":"Since version 2.2.3.RELEASE, I have a regression when using command line arguments from Maven plugin.\r\n\r\nWhen I use the maven plugin and pass multiple arguments, the args array contains only one value. For example, if I use the following command line, the array will containe only one value.\r\n\r\n\"\"\"\r\nmvn spring-boot:run -Dspring-boot.run.arguments=\"param1,param2\"\r\n\"\"\"\r\n\r\nIt was working with version 2.2.2.RELEASE\r\n\r\nAn example can be found here : https://github.com/ebussieres/spring-boot-run-bug"},{"labels":["documentation"],"text":"This [was raised in the comments](https://spring.io/blog/2020/01/27/creating-docker-images-with-spring-boot-2-3-0-m1#comment-4775860430) on the blog post about creating Docker images. I think it should be possible to get it to work by passing \"HTTP_PROXY\" or \"HTTPS_PROXY\" environment variables into the builder. We should explore the possibility of setting those automatically based on the proxy settings that Gradle or Maven are using."},{"labels":["documentation"],"text":"While loading of YAML files in home directory was fixed in #19081 it appears it is ignoring the profiles defined by the spring.profiles property and loading in all YAML documents (the sections in a YAML file) as property sources.\r\n\r\nWhen running the example application with the example spring-boot-devtools.yaml with no profiles activate I would expect only one YAML document to be loaded, the top one which should be \"default\" property scope.\r\n\r\n**Example Project:**\r\n[devtools-profile-loading.zip](https://github.com/spring-projects/spring-boot/files/4123931/devtools-profile-loading.zip)\r\nI have added log statements to enumerate the loading property sources and just by starting up the example project you can see that all documents in spring-boot-devtools.yaml are loaded.\r\n\r\n\"\"\"shell\r\n./mvn spring-boot-run\r\n\"\"\"\r\n\r\n**Example ~/.config/spring-boot/spring-boot-devtools.yaml:**\r\n[spring-boot-devtools.yaml.txt](https://github.com/spring-projects/spring-boot/files/4123902/spring-boot-devtools.yaml.txt)\r\n\"\"\"yaml\r\n\r\ndefault.profile.property: \"Default Profile Property\"\r\n\r\n---\r\n\r\nspring:\r\n  profiles: p1\r\n\r\np1.profile.property: \"from p1\"\r\n\r\n---\r\n\r\nspring:\r\n  profiles: p2\r\n\r\np2.profile.property: \"from p2\"\r\n\r\n---\r\n\r\nspring:\r\n  profiles: p3\r\n\r\np2.profile.property: \"from p3\"\r\n---\r\n\r\nspring:\r\n  profiles: p1 & p2\r\n\r\np1-p2.profile.property: \"from p1 & p2\"\r\n\r\n---\r\n\r\nspring:\r\n  profiles: p2 & p3\r\n\r\np2-p3.profile.property: \"from p2 & p3\"\r\n\r\n---\r\n\r\nspring:\r\n  profiles: p1 & p3\r\n\r\np1-p3.profile.property: \"from p1 & p3\"\r\n\r\n---\r\n\r\nspring:\r\n  profiles:\r\n    - p1\r\n    - p2\r\n    - p3\r\n\r\np1-or-p2-or-p3.profile.property: \"from p1 | p2 | p3\"\r\n\"\"\"\r\n\r\n\r\n"},{"labels":["documentation"],"text":"The build plugins use the \"cloudfoundry/cnb:0.0.43-bionic\" Builder by default, which bundles the OpenJDK Buildpack. The OpenJDK Buildpack exposes a number of options as env variables, see https://github.com/cloudfoundry/openjdk-cnb/blob/master/README.md.\r\n\r\nA couple examples demonstrating the use of the default  builder with the OpenJDK Buildpack would be interesting to help users getting started."},{"labels":[null,"documentation"],"text":"Forward port of issue #19961 to 2.3.0.M2."},{"labels":[null,"documentation"],"text":"Forward port of issue #19961 to 2.2.5."},{"labels":[null,"documentation"],"text":"Forward port of issue #19956 to 2.3.0.M2."},{"labels":[null,"documentation"],"text":"Forward port of issue #19956 to 2.2.5."},{"labels":["documentation"],"text":"The maven plugin has now an \"image\" POJO parameter with several image-related settings. The way parameters documentation is generated does not provide a great discoverability for those so we should improve that with examples and a better description."},{"labels":["documentation"],"text":"When the configuration is declared on an execution rather than on the plugin as a whole, it only affects that specific execution. Crucially, it means that it you run \"./mvnw spring-boot:build-image\" the configuration has no effect. We should perhaps show the configuration being applied to the whole plugin, or at least document the subtleties of Maven's behaviour here."},{"labels":["documentation"],"text":"The \"<name>\" tag is closed with \"</builder>\":\r\n\r\n\"\"\"\r\n<name>example.com/library/${project.artifactId}</builder>\r\n\"\"\""},{"labels":["documentation"],"text":"The generated maven plugin documentation has \"{gradle-project-version}\" instead the actual version of Spring Boot. This looks like new since the Gradle migration."},{"labels":[null,"documentation"],"text":"Forward port of issue #19855 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19855 to 2.2.5."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #19819 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/15960#issuecomment-576204233"},{"labels":[null,"documentation"],"text":"Hi,\r\n\r\nafaik \"compile\" has been deprecated in favor of using \"api\" or \"implementation\". In some places in the documentation the old approach is still mentioned: \r\n\"\"\"\r\ndependencies {\r\n\tcompile(\"org.springframework.boot:spring-boot-starter-actuator\")\r\n}\r\n\"\"\"\r\n\r\nI specifically didn't open a PR directly, because I wanted to discuss first if we should stick to \"api\" or \"implementation\" here. \"api\" would be closer to the old approach, but \"implementation\" is generally preferable. What do you think?\r\n\r\nCheers,\r\nChristoph"},{"labels":["documentation"],"text":"In order to add my custom health indicator I injected \"HealthContributorRegistry\" and then registered  my contributor. \r\nI did this because I saw that \"HealthContributorRegistry\" was autoconfigured (required for \"HealthEndpoint\")\r\n\r\nLater on I've found that my custom contributor was not present - I realized that \"ReactiveHealthContributorRegistry\" was used instead. \r\n\r\nI wonder if it would be feasible to update \"ReactiveHealthContributorRegistry\" when \"HealthContributorRegistry\" is being updated.\r\n\r\nCurrent setup seems to be unintuitive - there are no clear guidelines what should be configured and how reactive parts interact with traditional ones."},{"labels":[null,"documentation"],"text":"Forward port of issue #19678 to 2.3.0.M1."},{"labels":["documentation"],"text":"The following section is duplicated in the doc as of \"2.2.x\":\r\n\r\n> If you define a \"com.hazelcast.config.Config\" bean, Spring Boot uses that.\r\nIf your configuration defines an instance name, Spring Boot tries to locate an existing instance rather than creating a new one.\r\n"},{"labels":[null,"documentation"],"text":"Hi, this is a \"first-timers-only\" issue. This means we've worked to make it more legible to folks who either haven't contributed to our codebase before, or even folks who haven't contributed to open source before.\r\n\r\nIf that's you, we're interested in helping you take the first step and can answer questions and help you out as you do. Note that we're especially interested in contributions from people from groups underrepresented in free and open source software!\r\n\r\nIf you have contributed before, consider leaving this one for someone new, and looking through our general \"ideal-for-contribution\" issues. Thanks!\r\n\r\n## Problem\r\nThe [documentation for disabling specific auto-configuration](https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/reference/htmlsingle/#using-boot-disabling-specific-auto-configuration) describes how to use the \"exclude\" attribute on \"@EnableAutoConfiguration\", but a typical Spring Boot application will use \"@SpringBootApplication\" rather than \"@EnableAutoConfiguration\".\r\n\r\n## Solution\r\nThe documentation should be updated to describe and demonstrate the use of the \"exclude\" attribute on \"@SpringBootApplication\" rather than \"@EnableAutoConfiguration\". A sentence should be added after the example to note that, if you are using \"@EnableAutoConfiguration\" rather than \"@SpringBootApplication\", it has an \"exclude\" attribute that can be used.\r\n\r\nThe following changes should be made:\r\n\r\n- Update [the description](https://github.com/spring-projects/spring-boot/blame/18ccbf031ae85fe0aec2a8ba0577a64efae1c6da/spring-boot-project/spring-boot-docs/src/docs/asciidoc/using-spring-boot.adoc#L398) to describe \"@SpringBootApplication\" rather than \"@EnableAutoConfiguration\"\r\n- Update [the example](https://github.com/spring-projects/spring-boot/blame/18ccbf031ae85fe0aec2a8ba0577a64efae1c6da/spring-boot-project/spring-boot-docs/src/docs/asciidoc/using-spring-boot.adoc#L407) to use \"@SpringBootApplication\" rather than \"@EnableAutoConfiguration\"\r\n- Add a sentence before [this one](https://github.com/spring-projects/spring-boot/blame/18ccbf031ae85fe0aec2a8ba0577a64efae1c6da/spring-boot-project/spring-boot-docs/src/docs/asciidoc/using-spring-boot.adoc#L412) that lets the user know that if they are using \"@EnableAutoConfiguration\" rather than \"@SpringBootApplication\" it has an \"exclude\" attribute that they can use for the same purpose.\r\n\r\n## Steps to Fix \r\n \r\n- [x] Claim this issue with a comment below and ask any clarifying questions you need\r\n- [x] Set up a repository locally following the [Contributing Guidelines](https://github.com/spring-projects/spring-boot/blob/master/CONTRIBUTING.adoc)\r\n- [x] Try to fix the issue following the steps above\r\n- [x] Commit your changes and start a pull request."},{"labels":["documentation"],"text":"Hi,\r\n\r\nthe README still mentions \"mvn clean install\" and alike for building the project.\r\n\r\nCheers,\r\nChristoph"},{"labels":[null,"documentation"],"text":"Forward port of issue #19581 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19581 to 2.2.3."},{"labels":[null,"documentation"],"text":"Forward port of issue #19572 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"We appear to have lost the links to third-party types in Boot's javadoc. Links are [present in 2.1.5](https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/api/org/springframework/boot/autoconfigure/template/TemplateAvailabilityProvider.html) but [missing in 2.1.6](https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/api/org/springframework/boot/autoconfigure/template/TemplateAvailabilityProvider.html) (and later as far as I can tell). Those two examples are for Spring Framework. Links to types from other projects also appear to be affected."},{"labels":["documentation"],"text":"A customer reported an issue to the Apps Manager team that was due to changes in the actuator API. The status keys have a value that is an object like:\r\n\r\n\"\"\"\r\n\"status\": {\r\n        \"code\": \"UP\",\r\n        \"description\": \"\"\r\n      }\r\n\"\"\"\r\n\r\nThe root cause is [this annotation](https://github.com/spring-projects/spring-boot/blob/c9ad3564d9b20a7c1493210650db3ee683cc7661/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthComponent.java#L38) not being respected if Jackson isn't being used."},{"labels":["documentation"],"text":"We use Micrometer in our Spring Boot applications.\r\n\r\nWhen shutting down our applications we sometimes get WARN log messages with Exceptions that say:\r\n\r\n\"\"\"\r\nFailed to apply the value function for the gauge (...)\r\n\"\"\"\r\n\r\nAll of these value functions fail because some part of the application is already shut down. For example, we have a metric that's based on a Spring Data Repository, so we get \r\n\r\n\"\"\"\r\norg.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'entityManagerFactory': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n\"\"\"\r\n\r\nI assume this would be avoidable if publishing of Metrics is stopped by calling \"MeterRegistry.clear()\" and \"PushMeterRegistry.stop()\" when the shutdown begins.\r\n\r\n(We are using Datadog, which apparently implements PushMeterRegistry)"},{"labels":[null,"documentation"],"text":"Forward port of issue #19521 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19508 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19503 to 2.3.0.M1."},{"labels":[null,null,"documentation"],"text":"\r\nHi, this is a \"first-timers-only\" issue. This means we've worked to make it more legible to folks who either haven't contributed to our codebase before, or even folks who haven't contributed to open source before.\r\n\r\nIf that's you, we're interested in helping you take the first step and can answer questions and help you out as you do. Note that we're especially interested in contributions from people from groups underrepresented in free and open source software!\r\n\r\nIf you have contributed before, consider leaving this one for someone new, and looking through our general \"ideal-for-contribution\" issues. Thanks!\r\n\r\n## Problem\r\nThe Javadoc of \"ArtemisConfigurationCustomizer\" has a reference to \"EmbeddedJMS\" that is a deprecated type. The auto-configuration now uses the replacement, \"EmbeddedActiveMQ\" but the reference in the Javadoc was not updated.\r\n\r\n\r\n## Solution\r\nThe class Javadoc of \"ArtemisConfigurationCustomizer\" should rather be:\r\n\r\n\"\"\"java\r\n/**\r\n * Callback interface that can be implemented by beans wishing to customize the Artemis\r\n * JMS server {@link Configuration} before it is used by an auto-configured\r\n * {@link EmbeddedActiveMQ} instance.\r\n *\r\n...\r\n\"\"\"\r\n\r\nWhen replacing the class reference, make sure to remove the unused \"EmbeddedJMS\" import.\r\n\r\n## Steps to Fix \r\n \r\n- [x] Claim this issue with a comment below and ask any clarifying questions you need\r\n- [ ] Set up a repository locally following the [Contributing Guidelines](https://github.com/spring-projects/spring-boot/blob/master/CONTRIBUTING.adoc)\r\n- [ ] Try to fix the issue following the steps above\r\n- [ ] Commit your changes and start a pull request."},{"labels":[null,"documentation"],"text":"Forward port of issue #19491 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19491 to 2.2.3."},{"labels":[null,"documentation"],"text":"Forward port of issue #19492 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19492 to 2.2.3."},{"labels":[null,null,"documentation"],"text":"Hi, this is a \"first-timers-only\" issue. This means we've worked to make it more legible to folks who either haven't contributed to our codebase before, or even folks who haven't contributed to open source before.\r\n\r\nIf that's you, we're interested in helping you take the first step and can answer questions and help you out as you do. Note that we're especially interested in contributions from people from groups underrepresented in free and open source software!\r\n\r\nIf you have contributed before, consider leaving this one for someone new, and looking through our general \"ideal-for-contribution\" issues. Thanks!\r\n\r\n## Problem\r\nThe Javadoc of \"BindHandler#onFinish\" has a typo. It currently reads:\r\n\r\n> Called when binding finishes with either bound or unbound result. This method will not be called when binding failed, even if a handler rurns a result from onFailure.\r\n\r\nIt should rather be:\r\n\r\n> Called when binding finishes with either bound or unbound result. This method will not be called when binding failed, even if a handler returns a result from onFailure.\r\n\r\n## Steps to Fix \r\n \r\n- [x] Claim this issue with a comment below and ask any clarifying questions you need\r\n- [ ] Set up a repository locally following the [Contributing Guidelines](https://github.com/spring-projects/spring-boot/blob/master/CONTRIBUTING.adoc)\r\n- [ ] Try to fix the issue following the steps above\r\n- [ ] Commit your changes and start a pull request."},{"labels":[null,"documentation"],"text":"Forward port of issue #19458 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19021 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19021 to 2.2.3."},{"labels":[null,"documentation"],"text":"Forward port of issue #19199 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19199 to 2.2.3."},{"labels":[null,"documentation"],"text":"Forward port of issue #19412 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19412 to 2.2.3."},{"labels":[null,"documentation"],"text":"Forward port of issue #19446 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19211 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19354 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19354 to 2.2.3."},{"labels":["documentation"],"text":"When cache names are configured in application.properties, metrics are automatically provided through actuator (in my case prometheus)\r\n\r\n\"\"\"\r\nspring.cache.type=caffeine\r\nspring.cache.cache-names=cacheA,cacheB\r\n\"\"\"\r\n\r\n\"\"\"\r\n# HELP cache_puts_total The number of entries added to the cache\r\n# TYPE cache_puts_total counter\r\ncache_puts_total{cache=\"cacheA\",cacheManager=\"cacheManager\",name=\"cacheA\",} 5.0\r\ncache_puts_total{cache=\"cacheB\",cacheManager=\"cacheManager\",name=\"cacheB\",} 65.0\r\n... etc\r\n\"\"\"\r\n\r\nHowever when i instead define cache names locally using \"@CacheConfig\" on the class where the cache is used , the metrics are no longer provided through actuator. Note the cache itself still works fine, just no metrics.\r\n\r\nIf this works as intended, it's sligthly surprising nonetheless.\r\n\r\n\r\n\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #15046 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #15046 to 2.2.3."},{"labels":[null,"documentation"],"text":"Hi, found a problem in the documentation:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-logging-file-output\r\n> Previously rotated files are archived indefinitely unless the logging.file.max-history property has been set. \r\n\r\nSince #15875 logging.file.max-history is set to 7 by default, so above text should be updated."},{"labels":[null,"documentation"],"text":"Forward port of issue #19340 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19340 to 2.2.3."},{"labels":[null,"documentation"],"text":"Forward port of issue #19338 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19338 to 2.2.3."},{"labels":[null,"documentation"],"text":"Forward port of issue #19196 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19218 to 2.3.0.M1."},{"labels":["documentation"],"text":"I am using following code in my controller to display a custom error page in the application:\r\n\r\n\t@GetMapping(path=\"/error\")\r\n\tpublic ModelAndView error (Principal principal) {\r\n\t\tModelAndView model = new ModelAndView(\"error\");\r\n\t\tmodel.addObject(\"userName\", principal.getName());\r\n\t\treturn model;\r\n\t}\r\n\r\nThe principal is null when application is deployed as a WAR on stand-alone tomcat. When application is run with embedded tomcat, it works fine."},{"labels":[null,"documentation"],"text":"Forward port of issue #15361 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #15361 to 2.2.2."},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/19194#issuecomment-559916708. We need to clarify exactly what is meant by \"@ConfigurationProperties\" classes not being part of the public API. The docs are contradictory at the moment as the [example for configuring two DataSources](https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/reference/htmlsingle/#howto-two-datasources) uses the \"DataSourceProperties\" type and calls a method (\"initializeDataSourceBuilder\") on it."},{"labels":["documentation"],"text":"Now that we have dedicated documentation for our Maven Plugin we should move everything related to Maven there rather than having some content in both guides.\r\n\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #19149 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19149 to 2.2.2."},{"labels":[null,"documentation"],"text":"Forward port of issue #18900 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18900 to 2.2.2."},{"labels":[null,"documentation"],"text":"Forward port of issue #19026 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19026 to 2.2.2."},{"labels":[null,"documentation"],"text":"Forward port of issue #19057 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19057 to 2.2.2."},{"labels":["documentation"],"text":"The use of Maven's Site plugin means that we have limited control over the structure and appearance of the Maven Plugin's reference documentation. We'd like to migrate the documentation to Asciidoctor so that we control its structure and align its appearance with the rest of our reference documentation."},{"labels":[null,"documentation"],"text":"Forward port of issue #19028 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #19028 to 2.2.2."},{"labels":[null,"documentation"],"text":"Forward port of issue #19029 to 2.3.0.M1."},{"labels":["documentation"],"text":"With thanks to @Sineaggi on Gitter, we seem to be missing some documentation for logging startup info. There's no mention that I can find of the \"spring.main.log-startup-info\" property or of how the application's version is determined (we use the implementation version from the main application class's package)."},{"labels":["documentation"],"text":"See [this question](https://stackoverflow.com/questions/58861378/spring-boot-maven-plugin-what-does-the-attach-setting-do) on Stack Overflow. It looks like there's some room for improvement in our documentation. Hopefully my answer's correct…"},{"labels":[null,"documentation"],"text":"Forward port of issue #18932 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18904 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18920 to 2.3.0.M1."},{"labels":[null,"documentation"],"text":"[This section](https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/reference/html/spring-boot-features.html#boot-features-jsp-limitations) contains a broken link which we should remove."},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/search?q=spring-boot-samples&unscoped_q=spring-boot-samples for some of the references that still exist."},{"labels":["documentation"],"text":"The docs [currently say](https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/htmlsingle/#howto-change-the-location-of-external-properties):\r\n\r\n> A nice way to augment and modify this ordering is to add \"@PropertySource\" annotations to your application sources. Classes passed to the \"SpringApplication\" static convenience methods and those added using \"setSources(\") are inspected to see if they have \"@PropertySource\"s. If they do, those properties are added to the \"Environment\" early enough to be used in all phases of the \"ApplicationContext\" lifecycle.\r\n\r\n[And](https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/htmlsingle/#howto-customize-the-environment-or-application-context):\r\n\r\n> While using \"@PropertySource\" on your \"@SpringBootApplication\" may seem to be a convenient and easy way to load a custom resource in the \"Environment\", we do not recommend it, because Spring Boot prepares the \"Environment\" before the \"ApplicationContext\" is refreshed. Any key defined with \"@PropertySource\" is loaded too late to have any effect on auto-configuration.\r\n\r\nThe former is recommending what the latter says is not recommended."},{"labels":[null,"documentation"],"text":"Forward port of issue #17523 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #16062 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18266 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18532 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18825 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18870 to 2.2.1."},{"labels":["documentation"],"text":"We [currently](https://docs.spring.io/spring-boot/docs/2.2.x/reference/htmlsingle/#using-boot-devtools-remote) note that remote application support is a security risk, recommend the use of SSL and document the need to configure a secret. There are some problems with these recommendations:\r\n\r\n1. We do not offer any advice about what the secret should be\r\n2. An example of configuring the secret in the documentation encourages copy and paste\r\n3. Using SSL either requires a certificate signed by a trusted authority or use of a self-signed certificate that can be cumbersome when using a browser to access the application under development\r\n\r\nThe strongest recommendation should be that remote application support is only used on a trusted network. We should also recommend that the secret is unique to the application and hard to guess so that it cannot be brute-forced. If the network cannot be trusted and there is a risk of a malicious actor, remote application support should either not be used or SSL and a unique, hard-to-guess secret must be used."},{"labels":["documentation"],"text":"As a follow up of #18477, I have an improvement proposal to make for Boot 2.2.1. The very useful \"Containers and Exploded Archives\" section is currently \"hidden\" in Appendix E and \"Deploying Spring Boot Applications\" section seems very PaaS oriented.\r\n\r\nMy proposal is to move \"Appendix E > Containers and Exploded Archives\" section to a new \"Deploying Spring Boot Applications -> Deploying to containers\" or \"Deploying Spring Boot Applications -> Deploying to the Cloud -> Containers\" one.\r\n\r\nThis will make it more visible for developers that deploy to containers."},{"labels":["documentation"],"text":"In 2.2, we introduced \"@ConditionalOnAvailableEndpoint\" so that an endpoint is now only auto-configured if it's available. Being available means that an endpoint is both enabled and exposed (made remotely accessible) over HTTP or JMX. The documentation is out of date at the moment as it states that an endpoint's enabled property \"controls whether or not the endpoint is created and its bean exists in the application context\"."},{"labels":[null,"documentation"],"text":"Forward port of issue #18752 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18690 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18198 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18622 to 2.2.1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18660 to 2.2.1."},{"labels":["documentation"],"text":"It is mentioned in https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Configuration-Binding#map-based-binding for properties.\r\n\r\nI found the answer here https://stackoverflow.com/questions/34070987/escaping-a-dot-in-a-map-key-in-yaml-in-spring-boot\r\n\r\nSee https://github.com/spring-cloud-incubator/spring-cloud-rsocket/issues/1 for origin. The quote/bracket notation is shown below.\r\n\r\n\"\"\"\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      rsocket:\r\n        client:\r\n          forwarding:\r\n            \"[create.reservation.{version}]\":\r\n              service_name: reservation-service\r\n              canary: false\r\n\"\"\""},{"labels":["documentation"],"text":"In https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-globalsettings it lists the file as ~/config/spring-boot/spring-boot-devtools.properties but I think that it should be ~/.config/spring-boot/spring-boot-devtools.properties."},{"labels":["documentation"],"text":"[Javadoc of ServletContextInitializer](https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/web/servlet/ServletContextInitializer.html) states:\r\n\r\n> This interface is primarily designed to allow ServletContextInitializers to be managed by Spring and not the Servlet container. \r\n\r\nThis self-reference doesn't make sense. I'm not sure what the correct version would be. Probably \"to allow WebApplicationInitializer\"? Or maybe \"to allow ServletContainerInitializer\"?"},{"labels":["documentation"],"text":"E.g. google \"spring boot externalize properties\"\r\n\r\nFirst search result is https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\r\n\r\nThe link returns a 404 not found!\r\n\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":["documentation"],"text":"Hi,\r\n\r\nI follow the spring boot actuator [Spring Boot Document](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready) to use Prometheus endpoint. \r\n\r\nBut it doesn't show until I add the micrometer-registry-prometheus dependency in my gradle build.\r\n\r\n\"\"\"\r\nimplementation 'io.micrometer:micrometer-registry-prometheus'\r\n\"\"\"\r\n\r\nAnd this doesn't mention in the document?\r\n\r\n"},{"labels":[null,"documentation"],"text":"The following packages are included in the API documentation but have no package-info.java:\r\n\r\n- \"org.springframework.boot.autoconfigure.security.rsocket\"\r\n- \"org.springframework.boot.autoconfigure.security.saml2\"\r\n- \"org.springframework.boot.configurationdocs\"\r\n\r\n"},{"labels":["documentation"],"text":"I have both Jersey and Spring MVC in classpath (actuators are using Spring MVC and the rest of application uses Jersey).\r\nWhen I enable \"management.metrics.web.server.auto-time-requests\" only Spring MVC requests are metered - so in my case only actuators (I think), I see only following links:\r\n* \"UNKNOWN\"\r\n* \"NOT_FOUND\"\r\n* \"/**\"\r\n* \"/health\"\r\n* \"/info\"\r\n* \"root\"\r\n\r\n(I have no idea what a \"root\", \"UNKNOWN\", \"NOT_FOUND\", \"/**\" or \"root\" urls are, I don't have those in my application, all links in my application start with /v1 or /v2).\r\n\r\nI suggest to split the \"management.metrics.web.server.auto-time-requests\" to be technology specific so I can enable either Jersey or Spring MVC.\r\nSomething like:\r\n\"management.metrics.web.server.jersey.auto-time-requests\"\r\n\"management.metrics.web.server.spring-mvc.auto-time-requests\"\r\n\r\nI hope the \"@Timed\" works in such case, so I can have Spring MVC and I can annotate Jersey controllers and get the metrics.\r\n\r\nSpring Boot version 2.1.6."},{"labels":[null,"documentation"],"text":"Forward port of issue #18229 to 2.2.0."},{"labels":[null,"documentation"],"text":"Forward port of issue #18581 to 2.2.0."},{"labels":[null,"documentation"],"text":"Forward port of issue #18578 to 2.2.0."},{"labels":["documentation"],"text":"Lately I have been answering question on stackoverflow for people using \"reserved\" property names. Like \"env\", \"environment\", \"classpath\" and the likes. I think it would be beneficial to add a note/section to the reference guide mentioning those properties. This both as to add clarity and as a reference for answering questions. \r\n\r\nSee:  https://stackoverflow.com/questions/58387443/spring-boot-reading-different-value-for-one-key-from-application-properties"},{"labels":[null,"documentation"],"text":"The configuration-processor removes all new lines from JavaDoc but this can cause troubles when one is using an HTML \"<pre>\" tag in its JavaDoc."},{"labels":[null,"documentation"],"text":"Forward port of issue #18546 to 2.2.0."},{"labels":[null,"documentation"],"text":"Shutdown hook registration can be disabled by setting \"spring.main.register-shutdown-hook=false\", but the \"spring.main.register-shutdown-hook\" property is not documented.\r\n"},{"labels":[null,"documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/18543#issuecomment-539706380\r\n\r\nThe import statement in \r\nhttps://docs.spring.io/spring-boot/docs/2.2.x/reference/html/spring-boot-features.html#boot-features-external-config-constructor-binding needs to change."},{"labels":["documentation"],"text":"The [two documented ways](https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/htmlsingle/#using-boot-maven) to start a Maven project are either inherit from \"spring-boot-starter-parent\" or import \"spring-boot-dependencies\". The main differences are of course, that \"spring-boot-starter-parent\" provides the version properties and more configured plugins.\r\n\r\nHowever, when inheriting from \"spring-boot-starter-parent\" there are more settings made. See this snippet from an effective pom:\r\n\"\"\"xml\r\n  <description>Parent pom providing dependency and plugin management for applications\r\n\t\tbuilt with Maven</description>\r\n  <url>https://projects.spring.io/spring-boot/#/spring-boot-starter-parent/myproject</url>\r\n  <licenses>\r\n    <license>\r\n      <name>Apache License, Version 2.0</name>\r\n      <url>https://www.apache.org/licenses/LICENSE-2.0</url>\r\n    </license>\r\n  </licenses>\r\n  <developers>\r\n    <developer>\r\n      <name>Pivotal</name>\r\n      <email>info@pivotal.io</email>\r\n      <organization>Pivotal Software, Inc.</organization>\r\n      <organizationUrl>https://www.spring.io</organizationUrl>\r\n    </developer>\r\n  </developers>\r\n  <scm>\r\n    <url>https://github.com/spring-projects/spring-boot/spring-boot-starter-parent/myproject</url>\r\n  </scm>\r\n\"\"\"\r\n\r\nI wouldn't expect these settings in a new project. These are not correct in most cases. This should either be documented or removed.\r\n\r\nSteps to reproduce:\r\n* create new Maven project which inherits from \"spring-boot-starter-parent\" ([like this](https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/htmlsingle/#getting-started-first-application-pom))\r\n* run \"mvn help:effective-pom\""},{"labels":[null,"documentation"],"text":"the AOP example no longer works following the move as the advice needs to change to reflect the new package name."},{"labels":["documentation"],"text":"When I recently upgraded an application from spring boot 2.2.0.M6 to 2.2.0.RC1 that uses both OAuth2 Resource Server (opaque token support) and OAuth2 Client, I found that the OAuth2 Resource Server opaque token auto configuration is no longer applied.  So this appears to be a change/regression from 2.2.0.M6 -> 2.2.0.RC1\r\n\r\nIn 2.2.0.M6, I see the following in the autoconfiguration report, indicating a successful configuration of the opaque token support:\r\n\r\n\"\"\"\r\n   ReactiveOAuth2ResourceServerOpaqueTokenConfiguration.WebSecurityConfiguration matched:\r\n      - @ConditionalOnBean (types: org.springframework.security.web.server.SecurityWebFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n\r\n   ReactiveOAuth2ResourceServerOpaqueTokenConfiguration.WebSecurityConfiguration#springSecurityFilterChain matched:\r\n      - @ConditionalOnBean (types: org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector; SearchStrategy: all) found bean 'opaqueTokenIntrospector' (OnBeanCondition)\r\n\"\"\"\r\n\r\nIn 2.2.0.RC1, I see the following in the autoconfiguration report:\r\n\r\n\"\"\"\r\n   ReactiveOAuth2ResourceServerOpaqueTokenConfiguration.WebSecurityConfiguration:\r\n      Did not match:\r\n         - @ConditionalOnBean (types: org.springframework.security.web.server.SecurityWebFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.server.SecurityWebFilterChain' springSecurityFilterChain (OnBeanCondition)\r\n\"\"\"\r\n\r\nIt appears that when the OAuth2 Client AutoConfiguration executes, it defines a SecurityWebFilterChain, which prevents the ReactiveOAuth2ResourceServerOpaqueTokenConfiguration.WebSecurityConfiguration from applying.\r\n\r\nIf I remove the OAuth2 Client configuration properties, the Resource Server is configured properly.\r\n\r\nHere is an [example project](https://github.com/spring-projects/spring-boot/files/3688604/resource-server-demo.zip) with a unit test that shows the behavior.  The test fails when using 2.2.0.RC1, but if you change the spring boot version to 2.2.0.M6, the test will pass.\r\n\r\n\r\n\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #18378 to 2.2.0.RC1."},{"labels":["documentation"],"text":"The first table in https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready-endpoints claims that the \"httptrace\" endpoint is enabled by default.\r\n\r\nBut I after https://github.com/spring-projects/spring-boot/commit/de128fed20d7ee7f569e7219ba734ec0ea6de4cd this is not true anymore.\r\n\r\nOr am I missunderstanding something?\r\n\r\nEdit:\r\nI guess the same should be done for \"auditevents\" (because of https://github.com/spring-projects/spring-boot/commit/07d6eb6397d5362db6917c134f0190d76a0c5fb6).\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #18331 to 2.2.0.RC1."},{"labels":["documentation"],"text":"for example\r\n\r\n- https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/howto.html#howto-troubleshoot-auto-configuration, in this page, when I click the 'the Actuator chapter', it willn't react.\r\n\r\nI don't know how this link is going to be displayed. "},{"labels":["documentation"],"text":"Micrometer currently includes [documentation for exposing Health as Gauge](http://micrometer.io/docs/guide/healthAsGauge). This should move to Spring Boot so we can keep it up to date."},{"labels":["documentation"],"text":"I think #18288 needs to be backported to 2.1.x"},{"labels":[null,"documentation"],"text":"Forward port of issue #18289 to 2.2.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18295 to 2.2.0.RC1."},{"labels":[null,"documentation"],"text":"Forward port of issue #18270 to 2.2.0.RC1."},{"labels":["documentation"],"text":"We've defined our custom filters (\"javax.servlet.Filter\") through \"@Bean\"s in a \"@Configuration\" class. Something like:\r\n\r\n\"\"\"\r\n@Configuration\r\npublic class MyWebMvcConfigurer implements WebMvcConfigurer {\r\n    ...\r\n    @Bean @Order(200)\r\n    public Filter1 filter1() {\r\n        return new Filter1();\r\n    }\r\n    @Bean @Order(100)\r\n    public Filter2 filter2() {\r\n        return new Filter2();\r\n    }\r\n    ...\r\n}\r\n\"\"\"\r\n\r\nHowever, the filters are being called in the order they appear in the code (Filter1 then Filter2) instead of the order defined by the annotations (Filter2 then Filter1). For other types of objects (non \"javax.servlet.Filter\") the \"@Order\"s are being respected when the beans are injected.\r\n\r\nIf we define the filter and their ordering using \"@Component\" + \"@Order\" on the filter classes themselves or via \"@Bean\"s of type \"FilterRegistrationBean\" + \"FilterRegistrationBean.setOrder()\" then the order is respected.\r\n\r\nIs this anything specific to filters? Is this documented somewhere and we've missed that? Or is this an issue?"},{"labels":["documentation"],"text":"I found this test passes:\r\n\r\n\"\"\"java\r\n@SpringBootTest(classes = RestTemplate.class)\r\nclass MyTest {\r\n\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    @Test\r\n    void check() {\r\n        assertThat(restTemplate).isNotNull();\r\n    }\r\n}\r\n\"\"\"\r\n\r\nThe underlying reason is same as what I reported here: https://github.com/spring-projects/spring-framework/issues/23638\r\n\r\nSince spring-boot is more opinionated, I think it makes sense to restrict \"@SpringBootTest#classes\" for only \"@Configuration\" classes.\r\n\r\n\"SpringBootTestContextBootstrapper\" may filter out non \"@Configuration\" classes or throw exception when it constructs \"MergedContextConfiguration\".\r\n\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #18216 to 2.2.0.RC1."},{"labels":["documentation"],"text":"> If you use environment variables rather than system properties, most operating systems disallow period-separated key names, but you can use underscores instead (for example, SPRING_CONFIG_NAME instead of spring.config.name).\r\n\r\ntable 24.1 partially addresses this, but isn't nearby, and doesn't include the array/map syntax. Honestly I think the information is probably all there, it's just hard to find because it's scattered about. It's also hard to google. Links could be another solution, just needs to be easier to find this information and for it to be centralized in one spot, as well as including the array/map syntax."},{"labels":["documentation"],"text":"Documentation on why there's so many annotations and how you can compose your own would be useful."},{"labels":["documentation"],"text":"Current documentation for \"@ConfigurationProperties\" validation _kind of implies_ that nested property validation can be done correctly even without \"@Valid\" on nested property fields:\r\n\r\n> Although nested properties will also be validated when bound, it’s good practice to also annotate the associated field as \"@Valid\".\r\n\r\nAnd validation _does work_ if I have no \"@Valid\" on a nested property field \"foo.nested1.nested2\" but start the app with an invalid value (say \"foo.nested1.nested2.text=abc\"):\r\n\r\n\"\"\"java\r\n@Getter\r\n@Setter\r\n@Validated\r\n@Component\r\n@ConfigurationProperties(prefix = \"foo\")\r\npublic class FooProperties {\r\n  @NotNull\r\n  @Valid\r\n  private Nested1 nested1 = new Nested1();\r\n\r\n  @Getter\r\n  @Setter\r\n  public static class Nested1 {\r\n    @NotNull\r\n    private Nested2 nested2 = new Nested2();\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Nested2 {\r\n      @NotBlank\r\n      @Size(max = 2) \r\n      private String text; // \"abc\" is longer than 2, so we get a nice error\r\n    }\r\n  }\r\n}\r\n\"\"\"\r\n\r\nHowever when we omit \"foo.nested1.nested2.text=abc\" from \"application.properties\" altogether, everything _works fine_ until something tries to use the \"text\" value in runtime.\r\n\r\nThis behavior (breaking on invalid values and ignoring missing values) seems to be due to the way Spring Boot does configuration property binding (please correct me if I'm wrong here), but is not consistent with \"javax.validation.Validator\" behavior:\r\n\r\n\"\"\"java\r\nFooProperties foo = new FooProperties();\r\nfoo.getNested1().getNested2().setText(\"abc\");\r\nint size = Validation.buildDefaultValidatorFactory().getValidator().validate(foo).size();\r\nSystem.out.println(size); // prints 0\r\n\"\"\"\r\n\r\nHibernate Validator [spec](https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=6.0#section-object-graph-validation) on object graph validation specifically mentions that \"@Valid\" is mandatory for nested properties:\r\n\r\n>The validation of object graphs is recursive, i.e. if a reference marked for cascaded validation points to an object which itself has properties annotated with \"@Valid\", these references will be followed up by the validation engine as well.\r\n\r\nIn other words I feel that simply stating\r\n\r\n>This ensures that validation is triggered even if no nested properties are found.\r\n\r\n...does not emphasize that \"@Valid\" is not merely good practice but is needed in 99% of cases when a valid nested configuration is expected. It should be clearly pointed out that no validation is done on missing values without the annotation."},{"labels":["documentation"],"text":"The class-level Javadoc of our test slice annotations usually start like this:\r\n\r\n\"\"\"\r\nAnnotation that can be used in combination with {@code @RunWith(SpringRunner.class)}\r\n\"\"\"\r\n\r\nWith JUnit 5 there is no need to add a runner so we should probably revisit the intro so that it is more consistent with the fact we aim JUnit 5 to be the default moving forward."},{"labels":["documentation"],"text":"This appears to be a regression in \"2.1.8.RELEASE\":\r\n\r\n- [Appendix C in \"2.1.7.RELEASE\"](https://docs.spring.io/spring-boot/docs/2.1.7.RELEASE/reference/htmlsingle/#auto-configuration-classes)\r\n- [Appendix C in \"2.1.8.RELEASE\"](https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/htmlsingle/#auto-configuration-classes)\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #17775 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #17856 to 2.2.0.M6."},{"labels":[null,null,"documentation"],"text":"Forward port of issue #16718 to 2.2.0.M6."},{"labels":[null,null,"documentation"],"text":"Forward port of issue #16901 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #18109 to 2.2.0.M6."},{"labels":["documentation"],"text":"If I write an \"Application\" class in \"com.acme.app\" and annotate in such a way to drive Spring scan its parent package too:\r\n\r\n\"\"\"java\r\npackage com.acme.app;\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication(scanBasePackages = {\"com.acme\"})\r\npublic class Application {\r\n    // ...\r\n}\r\n\"\"\"\r\n\r\nThen if I have my entity and repository classes defined under sibling packages to \"com.acme.app\":\r\n\r\n* \"com.acme.entities\" and \r\n* \"com.acme.repos\"\r\n\r\nrespectively, they won't be picked up by Spring Boot and in order to make them recognized I have to explicitly use \"EntityScan\" and \"EnableJpaRepositories\":\r\n\r\n\"\"\"java\r\npackage com.acme.app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication(scanBasePackages = {\"com.acme\"})\r\n@EnableJpaRepositories(basePackages = {\"com.acme.repositories\"})\r\n@EntityScan(basePackages =  {\"com.acme.entities\"})\r\npublic class Application {\r\n...\r\n\"\"\"\r\n\r\nI was stepping through the Spring Boot code to see why is this happening and it boils down to \"@SpringBootApplication(scanBasePackages = {\"com.acme\"})\" not adding \"com.acme\" to \"org.springframework.boot.autoconfigure.AutoConfigurationPackages.BasePackages#packages\" (it will only add the package of the \"Application\" class, \"com.acme.app\" to \"BasePackages#packages\").\r\n\r\nWhat is the thinking behind this logic? Wouldn't it make sense to make \"@SpringBootApplication(scanBasePackages = {\"com.acme\"})\" add \"com.acme\" to \"BasePackages#packages\" too?"},{"labels":[null,"documentation"],"text":"Forward port of issue #18100 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #17814 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #17933 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #17958 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #17975 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #17988 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #18000 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #18002 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #18005 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #18015 to 2.2.0.M6."},{"labels":["documentation"],"text":"The \"Web Application Conditions\" section hasn't been updated to mention reactive."},{"labels":["documentation"],"text":"I don't think we have a \"spring-boot-starter-data-gemfire\" module anymore."},{"labels":["documentation"],"text":"Features currently has GemFire references, we should also include Geode."},{"labels":["documentation"],"text":"The links such as https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html would be better if they were matched to the version in use."},{"labels":["documentation"],"text":"CAUTION: Take care when enabling this feature, as the MBean exposes a method to shutdown the application.\r\n"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":[null,"documentation"],"text":"Our getting started documentation has a lot of details about installing Gradle and Maven. It would be nice if we also pointed to start.spring.io and showed that the generated project has the wrapper."},{"labels":["documentation"],"text":"[Spring Cloud Connectors](https://github.com/spring-cloud/spring-cloud-connectors) is in maintenance mode and we should update the docs to point to [Java CFEnv](https://github.com/pivotal-cf/java-cfenv)."},{"labels":["documentation"],"text":"I just figured that the yaml parser is not working as intended. I have this part in my \"application.yaml\"\r\n\r\n\"\"\"\r\nspring:\r\n  profiles: development\r\n  jpa:\r\n    show_sql: true\r\n    database: default\r\n    generate-ddl: false\r\n    properties:\r\n      hibernate:\r\n        order_inserts: true\r\n        generate_statistics: true\r\n        ddl_auto: validate\r\n        jdbc:\r\n          batch_size: 50\r\n          lob:\r\n            non_contextual_creation: true\r\n\"\"\"\r\n\r\nIf I start my applciation now, everything is fine, sql statements are printed and batching is working.\r\n![image](https://user-images.githubusercontent.com/11997909/63790915-96ddac80-c8fa-11e9-9079-4847e466fc63.png)\r\n\r\nIf I now change \"show_sql\" to \"showSql\" everything still works as expected. (double checked it by setting it to false as well, to be sure that it does not get overwritten)\r\n\r\n**BUT**\r\nIf I change \"batch_size\" to \"batchSize\", sql statements are not batched any more.\r\n![image](https://user-images.githubusercontent.com/11997909/63790995-c12f6a00-c8fa-11e9-8001-b18eac52284c.png)\r\n\r\nI am inserting 51 values at a time here.\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #17968 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"> Logs are stored in a logs directory relative to the working directory of the application. You can customize this location by setting the server.undertow.accesslog.directory property.\r\n\r\n[Docs page](https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html)\r\n\r\nShould most likely be \"dir\" instead of \"directory\" per [ServerProperties](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/ServerProperties.Undertow.Accesslog.html) and how it actually worked for \"2.1.6.RELEASE\"."},{"labels":["documentation"],"text":"I'm trying to configure log level for a concrete logger using environment variable, but am unable to do so since binding doesn't appear to work correctly in this case.\r\n\r\nThis can be easily reproduce using a simple Spring Boot application consisting of only \"spring-boot-starter-web\". For example, setting log level for \"org.springframework.web.context\" using \"LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB_CONTEXT\" works:\r\n\r\n\"\"\"shell\r\n$ env LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB_CONTEXT=DEBUG java -jar build/libs/spring-boot-sample.jar \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | '_ | '_| | '_ \\/ _\" | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.7.RELEASE)\r\n\r\n2019-08-25 21:32:35.719  INFO 429 --- [           main] sample.SampleApplication                 : Starting SampleApplication on thinkpad with PID 429 (/home/vpavic/dev/projects/misc/spring-boot-sample/build/libs/spring-boot-sample.jar started by vpavic in /home/vpavic/dev/projects/misc/spring-boot-sample)\r\n2019-08-25 21:32:35.723  INFO 429 --- [           main] sample.SampleApplication                 : No active profile set, falling back to default profiles: default\r\n2019-08-25 21:32:36.706  INFO 429 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2019-08-25 21:32:36.750  INFO 429 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2019-08-25 21:32:36.750  INFO 429 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.22]\r\n2019-08-25 21:32:36.849  INFO 429 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2019-08-25 21:32:36.849 DEBUG 429 --- [           main] o.s.web.context.ContextLoader            : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]\r\n2019-08-25 21:32:36.849  INFO 429 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1076 ms\r\n2019-08-25 21:32:37.050  INFO 429 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\r\n2019-08-25 21:32:37.228  INFO 429 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\r\n2019-08-25 21:32:37.232  INFO 429 --- [           main] sample.SampleApplication                 : Started SampleApplication in 1.96 seconds (JVM running for 2.289)\r\n\"\"\"\r\n\r\n(notice the \"DEBUG\" log message)\r\n\r\nHowever trying to set log level for \"org.springframework.web.context.ContextLoader\" doesn't work:\r\n\r\n\"\"\"shell\r\n$ env LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB_CONTEXT_CONTEXTLOADER=DEBUG java -jar build/libs/spring-boot-sample.jar \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | '_ | '_| | '_ \\/ _\" | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.7.RELEASE)\r\n\r\n2019-08-25 21:32:47.995  INFO 515 --- [           main] sample.SampleApplication                 : Starting SampleApplication on thinkpad with PID 515 (/home/vpavic/dev/projects/misc/spring-boot-sample/build/libs/spring-boot-sample.jar started by vpavic in /home/vpavic/dev/projects/misc/spring-boot-sample)\r\n2019-08-25 21:32:47.999  INFO 515 --- [           main] sample.SampleApplication                 : No active profile set, falling back to default profiles: default\r\n2019-08-25 21:32:48.921  INFO 515 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2019-08-25 21:32:48.994  INFO 515 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2019-08-25 21:32:48.995  INFO 515 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.22]\r\n2019-08-25 21:32:49.108  INFO 515 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2019-08-25 21:32:49.108  INFO 515 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1030 ms\r\n2019-08-25 21:32:49.327  INFO 515 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\r\n2019-08-25 21:32:49.519  INFO 515 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\r\n2019-08-25 21:32:49.523  INFO 515 --- [           main] sample.SampleApplication                 : Started SampleApplication in 1.97 seconds (JVM running for 2.353)\r\n\"\"\"\r\n\r\nI've also tried with:\r\n\r\n\"\"\"shell\r\n$ env LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB_CONTEXT_CONTEXT_LOADER=DEBUG java -jar build/libs/spring-boot-sample.jar \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | '_ | '_| | '_ \\/ _\" | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.7.RELEASE)\r\n\r\n2019-08-25 21:32:56.356  INFO 596 --- [           main] sample.SampleApplication                 : Starting SampleApplication on thinkpad with PID 596 (/home/vpavic/dev/projects/misc/spring-boot-sample/build/libs/spring-boot-sample.jar started by vpavic in /home/vpavic/dev/projects/misc/spring-boot-sample)\r\n2019-08-25 21:32:56.362  INFO 596 --- [           main] sample.SampleApplication                 : No active profile set, falling back to default profiles: default\r\n2019-08-25 21:32:57.308  INFO 596 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2019-08-25 21:32:57.361  INFO 596 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2019-08-25 21:32:57.362  INFO 596 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.22]\r\n2019-08-25 21:32:57.445  INFO 596 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2019-08-25 21:32:57.446  INFO 596 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1035 ms\r\n2019-08-25 21:32:57.664  INFO 596 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\r\n2019-08-25 21:32:57.827  INFO 596 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\r\n2019-08-25 21:32:57.831  INFO 596 --- [           main] sample.SampleApplication                 : Started SampleApplication in 1.888 seconds (JVM running for 2.279)\r\n\"\"\"\r\n\r\nThe issue is that \"LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB_CONTEXT_CONTEXTLOADER\" gets resolved to \"org.springframework.web.context.contextloader\" in \"LoggingApplicationListener#setLogLevels\" which obviously won't configure the desired logger. I would assume there should be some special handling for setting concrete loggers. I didn't find anything in reference documentation about this limitation."},{"labels":["documentation"],"text":"The section on [YAML Shortcomings](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc#yaml-shortcomings) in the docs on Externalized Configuration states:\r\n\r\n> Using the multi YAML document syntax in profile-specific YAML files can lead to unexpected behavior.\r\n\r\n It goes on to give an example for \"a file called \"application-dev.yml\", with the \"dev\" profile being active\":\r\n\r\n\"\"\"\r\nserver:\r\n  port: 8000\r\n---\r\nspring:\r\n  profiles: !test\r\n  security:\r\n    user:\r\n      password: weak\r\n\"\"\"\r\n\r\nIt concludes by stating: \r\n\r\n> In the example above, profile negation and profile expressions will not behave as expected.\r\n\r\nHowever, it fails to mention what the actual result of the combination is, and why it would be unexpected. (It isn't explicitly stating what the author would have expected, so it's not clear what the actual/unexpected outcome would look like.)\r\n\r\nIt would be nice if the docs could be expanded to include what the issue/unexpected behaviour actually is."},{"labels":["documentation"],"text":"There's only a single field, \"members\", but we should document in nonetheless."},{"labels":[null,"documentation"],"text":"Forward port of issue #17780 to 2.2.0.M6."},{"labels":["documentation"],"text":"**Description:**\r\nSpring webflux internals break during devtools restart when WebClient bean is customized with a custom client connector.\r\n\r\n**spring boot version:** Tested on 2.1.7.RELEASE and 2.2.0.M5 with a fresh kotlin start.spring.io project:\r\n![image](https://user-images.githubusercontent.com/54078261/62965831-aae1c400-bdba-11e9-8984-cc120971d0b8.png)\r\n\r\nOnly added 2 files to what was produced by start.spring.io:\r\n**Controller (to show failure case):**\r\n\"\"\"\r\n@Controller\r\nclass TestController(\r\n    private val webClient: WebClient\r\n) {\r\n    @GetMapping(\"/test\")\r\n    fun test(): Mono<String> {\r\n        val result = webClient.method(HttpMethod.GET).uri(URI.create(\"https://postman-echo.com/get?a=42\")).retrieve()\r\n        return result.bodyToMono(String::class.java)\r\n    }\r\n}\r\n\"\"\"\r\n\r\n**Configuration:**\r\n\"\"\"\r\n@Configuration\r\nclass TestConfiguration {\r\n    @Bean\r\n    fun webClient(webClientBuilder: WebClient.Builder): WebClient {\r\n        val tcpClient = TcpClient.create()\r\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 60000)\r\n            .doOnConnected {\r\n                it.addHandlerLast(ReadTimeoutHandler(60))\r\n            }\r\n        val connector = ReactorClientHttpConnector(HttpClient.from(tcpClient))\r\n        return webClientBuilder.clientConnector(connector).build()\r\n    }\r\n}\r\n\"\"\"\r\n\r\n**Replication Steps:**\r\n1. Create the simple application as described above.\r\n2. Hit \"localhost:8080/test\". The first time, you will see the data come in.\r\n3. Change the url in the controller, and rebuild the project.\r\n4. Hit \"localhost:8080/test\"again. This time, there will be a netty error:\r\n\"\"\"\r\n2019-08-13 11:21:03.925 ERROR 14689 --- [ctor-http-nio-2] a.w.r.e.AbstractErrorWebExceptionHandler : [68419476] 500 Server Error for HTTP GET \"/test\"\r\n\r\njava.util.concurrent.RejectedExecutionException: event executor terminated\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:855) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ Request to GET https://postman-echo.com/get?a=322 [DefaultWebClient]\r\n\t|_ checkpoint ⇢ Handler com.test.test.TestController#test() [DispatcherHandler]\r\n\t|_ checkpoint ⇢ HTTP GET \"/test\" [ExceptionHandlingWebHandler]\r\nStack trace:\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:855) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:340) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:333) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:766) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register(AbstractChannel.java:472) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:87) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:81) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat reactor.netty.resources.ColocatedEventLoopGroup.register(ColocatedEventLoopGroup.java:69) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:322) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.bootstrap.Bootstrap.doResolveAndConnect(Bootstrap.java:159) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.bootstrap.Bootstrap.connect(Bootstrap.java:120) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator.lambda$connectChannel$0(PooledConnectionProvider.java:248) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:57) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3920) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4030) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3899) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3835) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.SimplePool.drainLoop(SimplePool.java:200) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.SimplePool.drain(SimplePool.java:169) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.SimplePool.doAcquire(SimplePool.java:129) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.request(AbstractPool.java:334) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.resources.PooledConnectionProvider$DisposableAcquire.onSubscribe(PooledConnectionProvider.java:503) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.SimplePool$QueueBorrowerMono.subscribe(SimplePool.java:324) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.resources.PooledConnectionProvider.disposableAcquire(PooledConnectionProvider.java:212) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.resources.PooledConnectionProvider.lambda$acquire$2(PooledConnectionProvider.java:166) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:57) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.lambda$subscribe$0(HttpClientConnect.java:332) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:57) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3920) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxRetryPredicate$RetryPredicateSubscriber.resubscribe(FluxRetryPredicate.java:124) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoRetryPredicate.subscribeOrReturn(MonoRetryPredicate.java:51) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:46) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:335) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:56) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:56) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:149) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1582) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:240) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:203) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:203) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1582) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenAcceptInner.onNext(MonoIgnoreThen.java:296) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2138) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenAcceptInner.onSubscribe(MonoIgnoreThen.java:285) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:160) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:52) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:46) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:153) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:56) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:149) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:274) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:851) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:203) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2138) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:137) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:162) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:1946) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:1820) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:90) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:171) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3920) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:441) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:211) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:139) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:63) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:56) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3920) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:172) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:56) ~[reactor-core-3.3.0.M3.jar:3.3.0.M3]\r\n\t\tat reactor.netty.http.server.HttpServerHandle.onStateChange(HttpServerHandle.java:64) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.tcp.TcpServerBind$ChildObserver.onStateChange(TcpServerBind.java:226) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:436) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:91) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:161) ~[reactor-netty-0.9.0.M3.jar:0.9.0.M3]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:328) ~[netty-codec-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:302) ~[netty-codec-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1421) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:697) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:632) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:549) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:511) ~[netty-transport-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.38.Final.jar:4.1.38.Final]\r\n\t\tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_212]\r\n\"\"\"\r\n\r\nA temporary workaround is to not specify a custom client connector, but it'd be nice to be able to keep so we can hook in handlers, etc.\r\n\r\nThanks in advance!\r\n\r\n"},{"labels":[null,null,"documentation"],"text":"Forward port of issue #12874 to 2.2.0.M6."},{"labels":["documentation"],"text":"Let's review the documentation across the board to make it crystal clear that Spring Boot doesn't have an auto-compile feature. \r\n\r\nThis can be tricky for newcomers. For instance, [Section 6.2](https://docs.spring.io/spring-boot/docs/2.1.7.RELEASE/gradle-plugin/reference/html/#running-your-application-reloading-resources) talks about \"resources\" but doesn't explicitly defines what that means."},{"labels":[null,"documentation"],"text":"Forward port of issue #17835 to 2.2.0.M6."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #16704 to 2.2.0.M6."},{"labels":[null,"documentation"],"text":"Forward port of issue #16853 to 2.2.0.M6."},{"labels":["documentation"],"text":"See sample code in branch to reproduce issue: https://github.com/caspianb/SpringBootTest/tree/feature/filter-proxy-bug\r\n\r\nI reproduced this issue in at least the following spring boot versions  (2.1.0, 2.1.4, 2.1.6, 2.1.7).\r\n\r\nSpring is not properly injecting the proxied \"threadLocalTargetSource\" for a prototype bean for the *first Filter* it injects the bean into. It seems ONLY \"Filter\" classes have this issue -- if I do not enable filters (e.g. remove \"@Component\" annotation from filters) in the above linked project the interceptor and user controller still work properly -- so it does not appear to simply be a \"which class was loaded first\" issue.\r\n\r\nStarting the above sample application and accessing the root page will log output that demonstrates the issue:\r\n* The first filter loaded by Spring will contain the direct \"TenantStore\" bean.\r\n* Every other component (including the second filter) will properly have the \"proxiedLocalThreadTargetSource\" \"TenantStore\" bean.\r\n\r\nExample of issue:\r\n\"\"\"\r\n// First Request\r\n[http-nio-8080-exec-1] INFO  AuthFilterA: 1. TenantStore@1363509553 tenant=null\r\n[http-nio-8080-exec-1] INFO  AuthFilterA: 2. TenantStore@1363509553 tenant=John Doe\r\n[http-nio-8080-exec-1] INFO  AuthFilterB: 1. TenantStore@1280546379 tenant=null\r\n[http-nio-8080-exec-1] INFO  AuthFilterB: 2. TenantStore@1280546379 tenant=John Doe\r\n[http-nio-8080-exec-1] INFO  AuthInterceptor: 1. TenantStore@1280546379 tenant=John Doe\r\n[http-nio-8080-exec-1] INFO  AuthInterceptor: 2. TenantStore@1280546379 tenant=John Doe\r\n[http-nio-8080-exec-1] INFO  AuthController: TenantStore@1280546379 tenant=John Doe\r\n[http-nio-8080-exec-1] INFO  AuthInterceptor: 3. TenantStore@1280546379 tenant=John Doe\r\n[http-nio-8080-exec-1] INFO  AuthInterceptor: 4. TenantStore@1280546379 tenant=null\r\n\r\n// Second Request\r\n[http-nio-8080-exec-3] INFO  AuthFilterA: 1. TenantStore@1363509553 tenant=John Doe\r\n[http-nio-8080-exec-3] INFO  AuthFilterA: 2. TenantStore@1363509553 tenant=John Doe\r\n[http-nio-8080-exec-3] INFO  AuthFilterB: 1. TenantStore@1703933351 tenant=null\r\n[http-nio-8080-exec-3] INFO  AuthFilterB: 2. TenantStore@1703933351 tenant=John Doe\r\n[http-nio-8080-exec-3] INFO  AuthInterceptor: 1. TenantStore@1703933351 tenant=John Doe\r\n[http-nio-8080-exec-3] INFO  AuthInterceptor: 2. TenantStore@1703933351 tenant=John Doe\r\n[http-nio-8080-exec-3] INFO  AuthController: TenantStore@1703933351 tenant=John Doe\r\n[http-nio-8080-exec-3] INFO  AuthInterceptor: 3. TenantStore@1703933351 tenant=John Doe\r\n[http-nio-8080-exec-3] INFO  AuthInterceptor: 4. TenantStore@1703933351 tenant=null\r\n\r\n\"\"\"\r\n\r\nYou can see \"AuthFilterA\" has a different \"TenantStore\" bean than all other beans. Further, this bean is maintained across all requests (since \"AuthFilterA\" is a singleton holding onto a simple prototype bean).\r\n"},{"labels":["documentation"],"text":"The [devtools documentation](https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/using-boot-devtools.html) for Spring Boot 2.1.6 proposes to use a \"trigger file\" in case of incremental compilation in the IDE, to make sure we upload all class file changes only at a specific time. The docs state the following:\r\n\r\n> Changing the file only triggers the check and the restart only occurs if Devtools has detected it has to do something. The trigger file can be updated manually or with an IDE plugin.\r\n> \r\n> To use a trigger file, set the \"spring.devtools.restart.trigger-file\" property to the path of your trigger file.\r\n\r\n\r\nFrom this I expected that the file may be put anywhere on the filesystem and monitored by the watcher, and upon its change the accumulated changes in the classpath folders are uploaded to the server.\r\n\r\nWhile examining the source code of Devtools, I've discovered that:\r\n\r\n- this property value is used in the \"TriggerFileFilter\" class for matching, however, not as a full path, but as a simple file name\r\n- this filter is used to filter out the changes in the monitored classpath directories only, and consequently trigger reload only on this specific file change\r\n\r\nIf my understanding is correct, I believe it's worth adjusting the docs as follows:\r\n\r\n- explicitly state that the \"spring.devtools.restart.trigger-file\" property is a simple file name, not a path\r\n- state that the file has to be located on the application classpath\r\n- provide an example on how to automate the update of this file both for local and for remote devtools setup, by elaborating on the mentioned \"IDE plugin\" functionality (through some extensive googling, I've found that the Spring Boot run configuration in IntelliJ IDEA is capable of producing and updating the trigger file when running devtools in local mode, but I don't believe there's something similar for the remote mode, so it would be nice to refer to a working example)"},{"labels":[null,"documentation"],"text":"Forward port of issue #15343 to 2.2.0.M5."},{"labels":[null,null,"documentation"],"text":"Forward port of issue #17736 to 2.2.0.M5."},{"labels":[null,"documentation"],"text":"Forward port of issue #17003 to 2.2.0.M5."},{"labels":[null,"documentation"],"text":"See #17636 - We should update the syntax to handle the \"|\" character in a description. The generated doc is broken currently, see \"server.tomcat.relaxed-path-char\" for an example."},{"labels":[null,"documentation"],"text":"Forward port of issue #17567 to 2.2.0.M5."},{"labels":["documentation"],"text":"https://github.com/dabla/grizzly-spring-boot-starter\r\n\r\nSee https://github.com/spring-projects/spring-boot/issues/5015#issuecomment-514555175\r\n"},{"labels":[null,"documentation"],"text":"Forward port of issue #17573 to 2.2.0.M5."},{"labels":[null,"documentation"],"text":"Forward port of issue #17485 to 2.2.0.M5."},{"labels":["documentation"],"text":"Our metadata support can be used by third party and there are recurrent cases of new starters not having metadata for IDEs. \r\n\r\nThe current section seems to be useful so I'd like to augment it with some more hints related to configuration."},{"labels":[null,"documentation"],"text":"Forward port of issue #17553 to 2.2.0.M5."},{"labels":["documentation"],"text":"The documentation currently states the prefix for datasource metrics is \"jdbc\" but it is \"jdbc.connections\"."},{"labels":[null,"documentation"],"text":"Forward port of issue #17543 to 2.2.0.M5."},{"labels":["documentation"],"text":"Hi, there is a broken link in [Supported Metrics section](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-metrics-meter).\r\n\r\nSpring Integration metrics link goes to [https://docs.spring.io/spring-integration/docs/current/reference/html/system-management-chapter.html#micrometer-integration](https://docs.spring.io/spring-integration/docs/current/reference/html/system-management-chapter.html#micrometer-integration)\r\n\r\nThe correct one seems to be [https://docs.spring.io/spring-integration/docs/current/reference/html/#micrometer-integration](https://docs.spring.io/spring-integration/docs/current/reference/html/#micrometer-integration)\r\n\r\nThanks"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n\r\nFollowing a suggestion from @wilkinsona on this https://github.com/spring-projects/spring-boot/issues/2025#issuecomment-511433576, I'm opening this issue, as I believe there could be some refinement in the documentation and in the code too regarding the exposure of actuator endpoints\r\n\r\n---- \r\nReading this https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/htmlsingle/#production-ready-customizing-management-server-context-path (Using 2.1.6.RELEASE)\r\n\r\n> Unless the management port has been configured to expose endpoints by using a different HTTP port, \"management.endpoints.web.base-path\" is relative to \"server.servlet.context-path\". If \"management.server.port\" is configured, \"management.endpoints.web.base-path\" is relative to \"management.server.servlet.context-path\".\r\n\r\nI modified the configuration this way\r\n\r\n\"\"\"diff\r\n+server:\r\n+  servlet:\r\n+    context-path: /\r\nspring.mvc.servlet.path: /static\r\nspring:\r\n  jersey:\r\n    application-path: /\r\n    servlet:\r\n      load-on-startup: 1\r\n\r\nmanagement:\r\n  endpoint:\r\n    health.enabled: true\r\n+  endpoints:\r\n+    web:\r\n+      base-path: /actuator\r\n+      path-mapping.health: healthcheck\r\n\"\"\"\r\n\r\nHowever actuators keep showing up under \"/static\" instead of \"/\"\r\n\r\n* \"curl localhost:8080/static/actuator/healthcheck\" => 200\r\n* \"curl localhost:8080/actuator/healthcheck\" => 404\r\n\r\nSo either there's something missing on the documentation or they are some limitations to how actuator integrate when there's both spring mvc and jersey.\r\n\r\nEven switching the dispatcher servlet to \"/\" didn't work\r\n\r\n\"\"\"diff\r\n-spring.mvc.servlet.path: /static\r\n+spring.mvc.servlet.path: /\r\n\"\"\"\r\n----\r\n\r\nFrom my points over there https://github.com/spring-projects/spring-boot/issues/2025#issuecomment-511445370 I iterated a bit on the refinement in this area.\r\n\r\n\r\n1. The doc should state which technology it will take precedence. And as such how other properties are affected, i.e. \"server.servlet.context-path\" has no effect when Spring MVC is also present.\r\n2. Is there a way to configure which technology will be used to expose actuators?\r\n3. Is there a way to configure an actuator only (Spring MVC) servlet ?\r\n4. If there's no way to do the above maybe indicate how to play with the DispatcherServlet or a filter that can make use of a request dispatcher.\r\n\r\nWhen the \"spring.mvc.servlet.path: /\" there this log:\r\n\"\"\"\r\nMapping servlets: oldMetricsService urls=[/metrics], company.web.JerseyConfig urls=[/*], dispatcherServlet urls=[/]\r\n\"\"\"\r\n\r\nThis makes sense as the Jersey app intercepts everything on \"/*\"\r\n\r\nThis last is actually interesting if one want to migrate one endpoint at a time from one technology to another.\r\n"},{"labels":["documentation"],"text":"When using the \"spring-boot-starter-web\" and \"spring-boot-starter-rsocket\" and using these settings:\r\n\"\"\"yml\r\nspring:\r\n  rsocket:\r\n    server:\r\n      transport: websocket\r\n      mapping-path: /rsocket\r\n\"\"\"\r\n\r\nConnecting with an RSocket client yields this error:\r\n\"\"\"\r\n21:33:13.910 WARN [reactor-http-nio-4] [id: 0x2d4c451e, L:/127.0.0.1:60219 - R:localhost/127.0.0.1:8080] The connection observed an error\r\nio.netty.handler.codec.http.websocketx.WebSocketHandshakeException: Invalid handshake response getStatus: 404\r\n\"\"\"\r\n\r\nI'd expect it to work as it with \"spring-boot-starter-webflux\" does or at least some hint in the documentation (for the RSocketProperties) or an exception at startup."},{"labels":["documentation"],"text":"From https://github.com/spring-projects/spring-security/issues/7067\r\n\r\nIf you set only one nonexisting message bundle, the following warning is printed correctly: \"spring.messages.basename=messages1\"\r\n> ResourceBundle [messages] not found for MessageSource: Can't find bundle for base name messages, locale en \r\n\r\nIf you set 2 nonexisting message bundles, the warning is missing:\r\n\"spring.messages.basename=messages1, messages2\""},{"labels":[null,"documentation"],"text":"Forward port of issue #17476 to 2.2.0.M5."},{"labels":["documentation"],"text":"The reference doc states that Spring Boot [is supported up to Java 11](https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/htmlsingle/#getting-started-system-requirements). \"2.1.x\" and later supports Java 12."},{"labels":[null,"documentation"],"text":"Forward port of issue #17446 to 2.2.0.M5."},{"labels":["documentation"],"text":">If you add dependencies manually, you must include spring-context-support in order to use the JCache, EhCache 2.x, or Guava support.\r\n\r\nSource: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-caching.html\r\n\r\nI guess this sentence should be updated, as Guava support was removed (if I am not mistaken)."},{"labels":[null,null,"documentation"],"text":"According to the [documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html#boot-features-adding-active-profiles):\r\n\r\n> Sometimes, it is useful to have profile-specific properties that add to the active profiles rather than replace them. The spring.profiles.include property can be used to unconditionally add active profiles.\r\n\r\nThe example in the documentation shows two included profiles that look to have mutually exclusive properties:\r\n\r\n\"\"\"yaml\r\nspring.profiles.include:\r\n  - proddb\r\n  - prodmq\r\n\"\"\"\r\n\r\nAs evidenced by [this question](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html#boot-features-adding-active-profiles), and [this comment](https://stackoverflow.com/questions/47368086/spring-spring-profiles-include-overrides#comment81706086_47373190), the documentation is a bit ambiguous.\r\n\r\nLet's add this extra information to the documentation:\r\n\r\n## What happens when the active profile has a property definition that is also defined in one of the included profiles?\r\n\r\n#### \"application-foo.yaml\"\r\n\r\n\"\"\"\r\nmyCustomProperty: 10\r\n\"\"\"\r\n\r\n#### \"application-bar.yaml\"\r\n\r\n\"\"\"\r\nspring:\r\n  profiles:\r\n    include: foo\r\nmyCustomProperty: 20\r\n\"\"\"\r\n\r\nIn this case, \"foo\" wins and \"myCustomProperty = 10\".\r\n\r\n## What happens when the included profiles do not have mutually exclusive property definitions?\r\n\r\n#### \"application-x.yaml\"\r\n\r\n\"\"\"\r\nmyCustomProperty: 10\r\n\"\"\"\r\n\r\n#### \"application-y.yaml\"\r\n\"\"\"\r\nmyCustomProperty: 20\r\n\"\"\"\r\n\r\n#### \"application-z.yaml\"\r\n\"\"\"\r\nspring:\r\n  profiles:\r\n    include: x, y\r\n\r\nmyCustomProperty: 30\r\n\"\"\"\r\n\r\nIn this, \"y\" wins and \"myCustomProperty = 20\".\r\n\r\n---\r\n\r\nAlso, IMHO, when the included profiles (e.g. x and y in the example above) have shared property definitions, a warning log message should be emitted as I think a situation like this is the sign of a potential misconfiguration by the user."},{"labels":["documentation"],"text":"When a *.war file is undeployed from Tomcat (eg via the tomcat web frontend), the following memory leak is detected:\r\n\r\n\"\"\"\r\n02-Jul-2019 11:50:40.143 WARNING [http-nio-8080-exec-5] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [my-app] appears to have started a thread named [Thread-22] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@11.0.3/java.lang.Thread.sleep(Native Method)\r\n org.springframework.boot.actuate.context.ShutdownEndpoint.performShutdown(ShutdownEndpoint.java:67)\r\n org.springframework.boot.actuate.context.ShutdownEndpoint$$Lambda$3977/0x000000084242f040.run(Unknown Source)\r\n java.base@11.0.3/java.lang.Thread.run(Thread.java:834)\r\n\"\"\"\r\n\r\nCould you fix that?"},{"labels":[null,"documentation"],"text":"Forward port of issue #16894 to 2.2.0.M5."},{"labels":[null,"documentation"],"text":"Forward port of issue #16894 to 2.1.7."},{"labels":[null,"documentation"],"text":"Forward port of issue #17317 to 2.2.0.M5."},{"labels":[null,"documentation"],"text":"Forward port of issue #17317 to 2.1.7."},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/2.2.x/maven-plugin/license.html"},{"labels":["documentation"],"text":"See [here](https://github.com/spring-projects/spring-boot/blob/6d8ba654cc1a325a1525d214988d4c0f910652c1/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/asciidoc/endpoints/integrationgraph.adoc#response-structure)."},{"labels":[null,"documentation"],"text":"Forward port of issue #17068 to 2.2.0.M5."},{"labels":[null,"documentation"],"text":"Forward port of issue #17068 to 2.1.7."},{"labels":["documentation"],"text":"While the individual pages are all there, the index is from the single-page documentation which makes it hard to find the individual pages unless you know what they're called."},{"labels":[null,"documentation"],"text":"Forward port of issue #16879 to 2.2.0.M4."},{"labels":[null,"documentation"],"text":"Forward port of issue #16879 to 2.1.6."},{"labels":["documentation"],"text":"It's possible to add additional connectors on [\"TomcatServletWebServerFactory\"](https://github.com/spring-projects/spring-boot/blob/4c7e457582c00aae351e2ad9a97b495c46a71dda/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.java#L654). We should make that consistent unless there was a specific reason for not doing so on the reactive side.\r\n\r\nRelated #528."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":["documentation"],"text":"Following on from #15039, we should update the reference documentation to suggest the use of third-party tracing/observability solutions (such a Zipkin or Spring Cloud Sleuth) as an alternative to Boot's HTTP tracing and implementing your own repository.\r\n\r\nWe could add it [here](https://docs.spring.io/spring-boot/docs/2.2.0.M3/reference/html/production-ready-features.html#production-ready-http-tracing) where we currently say \"for production environments, consider creating your own alternative HttpTraceRepository implementation\"."},{"labels":[null,"documentation"],"text":"Forward port of issue #16946 to 2.2.0.M4."},{"labels":["documentation"],"text":"The includes of Groovy and Kotlin DSL configuration snippets in the Gradle Plugin's reference documentation are all unresolved. They're fine in 2.2.0.M1 but broken in 2.2.0.M2, perhaps as an unwanted side-effect of #16327."},{"labels":[null,"documentation"],"text":"We have [an appendix](https://docs.spring.io/spring-boot/docs/2.1.x/reference/htmlsingle/#appendix-dependency-versions) that documents \"groupId\", \"artifactId\", and \"version\" for all of the dependencies managed by \"spring-boot-dependencies\". I think it would also be useful to document the version property, if any, that determines each version. It would make things easier for users who want to override a dependency version.\r\n\r\nI'm not 100% sure that the is possible due to bom imports and our current approach of extracting the versions from the effective pom, by which point the version properties have been lost."},{"labels":["documentation"],"text":"b527d364dc972a821149e47254256f51a5adab9d has reintroduced the single page documentation but it's not all that discoverable since the multi-page version always shows up at https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/ which hides the fact that the https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/single-index.html file exists.\r\n\r\nI think we should try to also restore the previous folder structure.\r\n"},{"labels":["documentation"],"text":"We added support in #14346 but didn't really document it that well. We could probably update the metrics section with more information."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (please don't include this emoji/text, just add your details)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (please don't include this emoji/text, just add your details)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n\r\nTIP: You can always edit your issue if it isn't formatted correctly.\r\n     See https://guides.github.com/features/mastering-markdown \r\n-->\r\n"},{"labels":["documentation"],"text":"Since the move to the new styling, the generated doc contains a few \"unresolved\" directives\" errors, e.g. \r\n\r\n> Unresolved directive in using-spring-boot.adoc - include::../../../target/generated-resources/application-starters.adoc[]\r\n\r\n\r\n"},{"labels":["documentation"],"text":"The Maven process that IJ uses to import a project needs more memory with Spring Boot. We should add a note to [this section](https://github.com/spring-projects/spring-boot/blob/master/CONTRIBUTING.adoc#importing-into-intellij-idea)."},{"labels":["documentation"],"text":"see https://github.com/spring-projects/spring-boot/issues/16202#issuecomment-471973155"},{"labels":["documentation"],"text":"We should note in the documentation that \"@MockBean\" cannot be used to mock the behaviour of a bean that's exercised during application context refresh. It does not work as application context refresh has completed before the test gets a chance to configure the mocked behaviour."},{"labels":["documentation"],"text":"Since version 2.2.x, the spring boot documentation has no \"htmlsingle\" variant anymore.\r\n\r\nThis will cause all links across the web pointing to \"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/\" to break, once 2.2.0 goes GA.\r\n\r\nI propose to put a placeholder \"index.html\" under \"reference/htmlsingle/\" which either redirects to the new documentation or shows at least a nice information about the fact that the documentation has changed (instead of a basic 404 error page)"},{"labels":["documentation"],"text":"The \"Appendices\" section in the new documentation has no table of contents which makes the whole page very hard to use: https://docs.spring.io/spring-boot/docs/2.2.0.M1/reference/html/appendix.html#appendix\r\n\r\nAll other pages seem to have a table of contents on their left side, which always highlights the current headline: https://docs.spring.io/spring-boot/docs/2.2.0.M1/reference/html/howto.html#howto-database-initialization\r\nThis gives a good overview over the whole page and makes the navigation very easy. The \"Appendices\" page however is pretty hard to navigate and orientate on.\r\n\r\nIn the \"old\" documentation the Appendices took part in the global table of contents."},{"labels":["documentation"],"text":"See [this](https://github.com/spring-projects/spring-boot/issues/16088#issuecomment-471087755) for more details. We should document that the exclude filters only apply to only beans created by component scanning and not those created via \"@Bean\"."},{"labels":["documentation"],"text":"Thanks for adding anchors to the [appendix](https://docs.spring.io/spring-boot/docs/2.2.x/reference/html/appendix.html#integration-properties) (#8237).\r\n\r\nThis is a big improvement, but I wonder if it could be a bit more granular; for example Integration Properties covers many technologies and properties.\r\n\r\nIt would be nice if we could jump directly to \"rabbitmq\" or \"kafka\" instead of having to scroll past all the other properties."},{"labels":[null,"documentation"],"text":"Hi,\r\ncurrently documentation says how to configure devtools using maven and gradle (groovy), but missing how to configure it using gradle with Kotlin DSL :)\r\n\r\nFor people who are just starting with gradle and Kotlin DSL, as myself 😉, I can say it is not straightforward to migrate from Groovy DSL.\r\nAfter some time struggling with it, I think that I finally managed to configure devtools using Kotlin DSL and I thought it could be useful for others:\r\n\r\ninstead of:\r\n\"\"\"\r\nconfigurations {\r\n\tdevelopmentOnly\r\n\truntimeClasspath {\r\n\t\textendsFrom developmentOnly\r\n\t}\r\n}\r\n\"\"\"\r\n\r\nin Kotlin DSL one should use:\r\n\"\"\"\r\nval developmentOnly = configurations.create(\"developmentOnly\")\r\nconfigurations.runtimeClasspath.get().extendsFrom(developmentOnly)\r\n\"\"\"\r\n\r\nmaybe you could add it to the documentation so others could find it faster 😃 "},{"labels":[null,"documentation"],"text":"If a user crafts a custom endpoint, they have to make sure that parameter names are retained in the bytecode so that we can map things properly. \r\n\r\nSince we are looking this up on the Java side, there is an extra step for Kotlin users that we should document, see [this answer for more details](https://stackoverflow.com/questions/36093019/does-kotlin-compiler-always-retain-parameter-names-in-bytecode)"},{"labels":["documentation"],"text":"Spring boot 2.0.4.RELEASE\r\napache tomcat 8.5.38\r\n\r\nSLF4JBridgeHandler.install will not run because the isJulUsingASingleConsoleHandlerAtMost method is false at runtime on org.springframework.boot.logging.Slf4JLoggingSystem class configureJdkLoggingBridgeHandler.\r\n\r\nIn order to prevent log duplication, how about installing after uninstalling in advance?\r\n\r\nIt is confirmed that it is output normally with Spring boot 1.3.8.\r\n"},{"labels":["documentation"],"text":"This line in the docs can seem a bit ambiguous \"Form-based login or HTTP Basic security (depending on Content-Type)\". We should clarify what \"depending on Content-Type\" means."},{"labels":["documentation"],"text":"Via [Stack Overflow](https://stackoverflow.com/questions/54823022/what-happend-to-httpmessageconverters-in-spring-boot-2), the import is wrong in the sample code in the [reference documentation](https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-message-converters)."},{"labels":[null,"documentation"],"text":"The Actuator's API documentation is using the default Asciidoctor styling. We should update it to use the Spring-specific styling that the reference documentation is now using."},{"labels":[null,"documentation"],"text":"The Gradle Plugin's documentation is using the default Asciidoctor styling. We should update it to use the Spring-specific styling that the reference documentation is now using."},{"labels":["documentation"],"text":"We have a quite a few properties that are documented in the appendix without any metadata counter part. We should add them in preparation for #8237\r\n\r\nThe following prefixes are affected:\r\n\r\n\"\"\"\r\nspring.jta.atomikos.connectionfactory\r\nspring.jta.atomikos.datasource\r\nspring.jta.bitronix.connectionfactory\r\nspring.jta.bitronix.datasource\r\n\"\"\" "},{"labels":["documentation"],"text":"In Spring Boot 2.1.3, the \"RestDocsWebTestClientConfiguration\" class is annotated with \"@ConditionalOnWebApplication(type = Type.REACTIVE)\".\r\n\r\nThis, as far as I understand, prevents the usage of an autoconfigured WebTestClient to *document* an MVC app, which is strange since you can use WebTestClient to *test* an MVC app."},{"labels":[null,"documentation"],"text":"\"@AutoConfigureRestDocs\" used with WebTestClient causes the following NullPointerException:\r\n\r\n\"\"\"\r\njava.lang.NullPointerException\r\n\tat java.util.HashMap.putMapEntries(HashMap.java:501)\r\n\tat java.util.HashMap.<init>(HashMap.java:490)\r\n\tat org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation.retrieveConfiguration(WebTestClientRestDocumentation.java:143)\r\n\tat org.springframework.restdocs.webtestclient.WebTestClientRestDocumentation.lambda$document$0(WebTestClientRestDocumentation.java:80)\r\n\tat org.springframework.test.web.reactive.server.DefaultWebTestClient$DefaultBodyContentSpec.lambda$consumeWith$3(DefaultWebTestClient.java:540)\r\n\tat org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:197)\r\n\tat org.springframework.test.web.reactive.server.DefaultWebTestClient$DefaultBodyContentSpec.consumeWith(DefaultWebTestClient.java:540)\r\n\tat com.example.demo.web.UserControllerWithAutoconfigureDocTest.shouldGetUser(UserControllerWithAutoconfigureDocTest.java:31)\r\n\"\"\"\r\n\r\nHere's a complete minimal test case reproducing the problem: https://github.com/jnizet/webtestclientrestdocsissue\r\n\r\nSee the failing test, with the complete stack trace, in https://github.com/jnizet/webtestclientrestdocsissue/blob/master/src/test/java/com/example/demo/web/UserControllerWithAutoconfigureDocTest.java\r\n\r\nThe same test not using REST Docs passes: https://github.com/jnizet/webtestclientrestdocsissue/blob/master/src/test/java/com/example/demo/web/UserControllerTest.java\r\n\r\nAnd the same test using REST docs but configuring it manually also passes: https://github.com/jnizet/webtestclientrestdocsissue/blob/master/src/test/java/com/example/demo/web/UserControllerWithApplicationContextDocTest.java"},{"labels":["documentation"],"text":"We've been getting away with it as there are no locked synchronizers when the build's running. We should update the test to ensure that there's at least one."},{"labels":["documentation"],"text":"Spring Boot: 2.1.2.RELEASE\r\nJava: 1.8.0_151\r\n\r\nThe profile expressions described in the [documentation](https://docs.spring.io/spring-boot/docs/2.1.2.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-multi-profile-yaml) do not work. Please see https://github.com/spring-projects/spring-boot/issues/14314 for details."},{"labels":[null,"documentation"],"text":"[This paragraph](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties) is a bit ambiguous and could benefit from some rewording:\r\n\r\n> Even if the preceding configuration creates a regular bean for \"AcmeProperties\", we\r\nrecommend that \"@ConfigurationProperties\" only deal with the environment and, in\r\nparticular, does not inject other beans from the context. Having said that, the\r\n\"@EnableConfigurationProperties\" annotation is _also_ automatically applied to your\r\nproject so that any _existing_ bean annotated with \"@ConfigurationProperties\" is\r\nconfigured from the \"Environment\". You could shortcut \"MyConfiguration\" by making sure\r\n\"AcmeProperties\" is already a bean, as shown in the following example:\r\n\r\n* Why is this section started with _Even if the preceding configuration creates a regular bean for \"AcmeProperties\" [...]_, in particular _Even if_? It either creates a bean or it doesn't. From memory, merely annotating a POJO with \"@ConfigurationProperties\" does not turn it into a bean. Even if it did, this paragraph should read _The preceding configuration creates a regular bean for \"AcmeProperties\"_\r\n* Then, why is it connected to the next paragraph using _Having said that [...]_?\r\n* Finally, in _You could shortcut \"MyConfiguration\" [...]_, what are we shortcutting? In other words, what is getting shortcut if we annotate \"MyConfiguration\" with \"@Component\"? It turns the POJO into a bean, but what is getting shortcut? "},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (do not copy/paste)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (do not copy/paste)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\n"},{"labels":["documentation"],"text":"\r\nI have deployed my spring boot application on PCF; all the actuator endpoints have been exposed. The actuator endpoints are configured as:\r\n\r\n\"\"\"\r\nmanagement.endpoint.health.show-details=always\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.server.port=${CF_INSTANCE_PORT}\r\n\"\"\"\r\n\r\nOn hitting the \"/actuator/**\" or \"/actuator\", the requests are redirected to \"/\" endpoint. This was verified by creating an endpoint in the controller. While the application worked perfectly on local environment, it failed on PCF (have not tried this in other env). If we add any actuator endpoint in a controller, it works smoothly. For example, I added \"/actuator/health\" is added in a controller and all the request for health endpoint were redirected to this endpoint within my controller.\r\n\r\nThe spring boot version is \"2.0.5\" and the spring cloud dependencies are managed under \"Finchley.SR1\".\r\n\r\nHere's the [code link](https://github.com/milindsonawane/spring_actuator).\r\n\r\n\r\n"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (do not copy/paste)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (do not copy/paste)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\n"},{"labels":["documentation"],"text":"The condition can't be put in places where the JVM may have loaded the class and look at method definitions. \r\n\r\nA typical use case is a \"@Bean\" method that returns something and that something may not be on the classpath. Using the condition on the method will be useless as the JVM will load the class before the condition kicks in.\r\n\r\nIt would be nice to update both the ref guide and the javadoc."},{"labels":["documentation"],"text":"Spring Boot 2 support is now available, see https://github.com/nutzam/nutzmore/issues/109#issuecomment-449819409"},{"labels":["documentation"],"text":"Hi!\r\n\r\nIf you declare any \"Executor\" in Spring Context it is picked up by \"TaskExecutionAutoConfiguration\" due to:\r\n\"\"\"\r\n@Lazy\r\n@Bean(name = APPLICATION_TASK_EXECUTOR_BEAN_NAME)\r\n@ConditionalOnMissingBean(Executor.class)\r\npublic ThreadPoolTaskExecutor applicationTaskExecutor(TaskExecutorBuilder builder) {\r\n\treturn builder.build();\r\n}\r\n\"\"\"\r\nIf using in conjunction with \"spring-boot-starter-webflux\", this leads to usage of your custom executor by \"WebMvcAutoConfiguration.configureAsyncSupport()\" and then by \"ReactiveTypeHandler\" printing the error.\r\n\r\n\"\"\"\r\n2018-12-11 19:05:10.174  WARN 1612 --- [nio-9015-exec-1] o.s.w.s.m.m.a.ReactiveTypeHandler        :\r\n!!!\r\nStreaming through a reactive type requires an Executor to write to the response.\r\nPlease, configure a TaskExecutor in the MVC config under \"async support\".\r\nThe SimpleAsyncTaskExecutor currently in use is not suitable under load.\r\n-------------------------------\r\nController:\tcom.example.executorissue.controller.EchoController\r\nMethod:\t\techo\r\nReturning:\treactor.core.publisher.Flux<java.lang.String>\r\n!!!\r\n\"\"\"\r\n\r\nMaybe it makes sense to use \"@ConditionalOnMissingBean(name = APPLICATION_TASK_EXECUTOR_BEAN_NAME)\" to allow custom Executors be created in Spring context and not being picked up by \"TaskExecutionAutoConfiguration\"?\r\n\r\nSee the example [here](https://github.com/spring-projects/spring-boot-issues/pull/84)\r\n\r\nThanks"},{"labels":["documentation"],"text":"This isn't really an issue with Jib per se, or rather it is potentially an issue with any container that is built without the jar file (so the same applies to containers built by a buildpack for cloud foundry for instance). Jib is an easy way to re-create the problem.\r\n\r\nE.g. in Petclinic:\r\n\r\n\"\"\"\r\n$ mvn com.google.cloud.tools:jib-maven-plugin:0.9.13:dockerBuild -Dimage=petclinic\r\n$ docker run petclinic\r\n...\r\n2018-12-04 14:29:22.282  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n...\r\n\"\"\""},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/15318. We need to describe that some properties are applied to the auto-configured \"EntityManagerFactoryBuilder\" and that some are only applied in isolation when the builder's being used to create the entity manager factory."},{"labels":["documentation"],"text":"Consider two mutually exclusive beans defined in a starter project:\r\n\r\n\"\"\"java\r\n@Component\r\n@ConditionalOnBean(annotation = EnableSomething.class)\r\npublic class ZombieBean {\r\n}\r\n\r\n@Component\r\n@ConditionalOnMissingBean(ZombieBean.class)\r\npublic class AlternateBean {\r\n}\r\n\"\"\"\r\nThe natural expectation would be that when the application doesn't have \"@EnableSomething\" then \"AlternateBean\" exists and \"ZombieBean\" doesn't. However, in practice neither of them exists.\r\n\r\nA project demonstrating the issue can be found at https://github.com/bcalmac/zombie-bean. Run \"mvn test\" and it should fail.\r\n\r\nWhat seems to happen is that \"ZombieBean\" does not exist, but when \"@ConditionalOnMissingBean(ZombieBean.class)\" is evaluated, a \"ZombieBean\" exists in some zombie state and the conditional doesn't match.\r\n\r\n\"\"\"\r\n   ZombieBean:\r\n      Did not match:\r\n         - @ConditionalOnBean (; SearchStrategy: all) did not find any beans annotated with io.github.bcalmac.zombiebean.starter.EnableSomething (OnBeanCondition)\r\n\r\n   AlternateBean:\r\n      Did not match:\r\n         - @ConditionalOnMissingBean (types: io.github.bcalmac.zombiebean.starter.ZombieBean; SearchStrategy: all) found beans of type 'io.github.bcalmac.zombiebean.starter.ZombieBean' zombieBean (OnBeanCondition)\r\n\"\"\"\r\n\r\nThere are ways to refactor the auto-configuration and achieve the desired functionality, I'm submitting this primarily to question whether it is in some way an expected behavior."},{"labels":["documentation"],"text":"The \"RestTemplateBuilder\" documentation for the \"rootUri()\" method states:\r\n\r\n> Set a root URL that should be applied to each request that starts with  '/'.\r\n\r\nHowever, the following code does not result in \"RestTemplate\" expanding the URI:\r\n\r\n\"\"\"\r\n UriTemplate template = new UriTemplate(\"/foo?bar={bar}\");\r\n\r\n\r\nthis.restTemplate = restTemplateBuilder\r\n            .rootUri(URI.create(\"http://foo.bar\"))\r\n            .build();\r\n.\r\n.\r\n.\r\nURI uri = template.expand(\"baz\");\r\n\r\n RequestEntity<Void> req = RequestEntity.get(uri)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .header(accountLinkHeader, accountLinksHeader)\r\n                .build();\r\n\r\nString response = restTemplate.exchange(req, String.class);\r\n\"\"\"\r\n\r\nMoreover, the exception received is EXTREMELY ambiguous when this doesn't work. In fact, the Spring exception thrown occludes the initial Apache exception (which states there's no host).\r\n"},{"labels":[null,"documentation"],"text":"> If the broker is present, an embedded broker is automatically started and configured (provided no broker URL is specified through configuration).\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-activemq\r\n\r\nwait where does this broker listen 0.0.0.0:9876? is it secure by default (password protected)? I'd guess it doesn't use any form of TLS, but can it?\r\n\r\nAlso, I had to grind through the docs, but \"spring.activemq.broker-url\" the relaxed env vars docs mentions map keys... with a -, but I don't think this is a map key, might be nice to include the env var next to it, I think it's \"SPRING_ACTIVEMQ_BROKERURL\" based on the docs.\r\n\r\n... doing more research and code dives... does the activemq broker actually support over network brokerage? or is it in memory only? the actual default network url is tcp://0.0.0.0:61616 but when I use that it blows up with connection refused...\r\n\r\n\r\n"},{"labels":[null,"documentation"],"text":"On stack overflow I answered several question regarding messages not getting resolved. This was mainly due to a missing \"messages.properties\" or rather (\"<basename>.properties\") which triggers the auto configuration for the \"MessageSource\". \r\n\r\nThe documentation doesn't state that anywhere and you would have to look at (and understand) the \"ResourceBundleCondition\" in the \"MessageSourceAutoConfiguration\". \r\n\r\nI think it would be worthwhile to add a small section on configuring I18N with Spring Boot to the reference guide. "},{"labels":["documentation"],"text":"[The reference documentation section on restdocs](https://docs.spring.io/spring-boot/docs/2.1.0.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs) states that \"@AutoConfigureRestDocs\" only supports REST Assured and Mock MVC. Thanks to  https://github.com/spring-projects/spring-boot/pull/10969/, \"WebTestClient\" is also supported."},{"labels":["documentation"],"text":"Hello,\r\n\r\nI have a case where I need to unpack the library using the:\r\n\r\n[spring-boot:repackage:requiresUnpack](https://docs.spring.io/spring-boot/docs/current/reference/html/howto-build.html#howto-extract-specific-libraries-when-an-executable-jar-runs)\r\n\r\nOtherwise, the other library from the project is not able to work properly. As stated in the link, the selected libraries are unpacked and copied over to the **temporary directory**. Unpacking the libraries to the temp directory isn't great idea if I would like to keep the application running longer that the temp files expiration time. [The files would be removed by linux](https://serverfault.com/questions/377348/when-does-tmp-get-cleared) and the application will just **stop working properly**.\r\n\r\n* Is there a way to specify the different target directory?\r\n* Is there a reason why the temp location is good place for the application libraries? Isn't that a serious bug?\r\n\r\nSo far, I was able to change the location target location via overwriting the TMP and TEMP environment variables but that sounds like terrible idea in the long run.\r\n\r\nAppriciate any help here."},{"labels":["documentation"],"text":"Consider the following (simplified) auto-configuration from a starter project:\r\n\r\n\"\"\"java\r\n@Configuration\r\npublic class MyStarterConfiguration {\r\n\r\n    @Bean\r\n    @ConditionalOnBean(annotation = EnableSomething.class)\r\n    @ConditionalOnMissingBean(Integer.class)\r\n    public Integer myBean() {\r\n        return 10;\r\n    }\r\n\r\n    @Bean\r\n    public String myOtherBean(Integer myBean) {\r\n        return myBean.toString();\r\n    }\r\n}\r\n\"\"\"\r\nAssuming that the application is annotated with \"@EnableSomething\" and no \"Integer\" bean is defined, you'd expect that \"myBean\" above would be instantiated. Indeed this works fine in 1.5.x. However, in 2.x the auto-configuration fails as below:\r\n\r\n\"\"\"\r\nThe following candidates were found but could not be injected:\r\n\t- Bean method 'myBean' in 'MyStarterConfiguration' not loaded because @ConditionalOnBean (types: java.lang.Integer; SearchStrategy: all) did not find any beans of type java.lang.Integer\r\n\"\"\"\r\n\r\nInstead of just looking for a bean annotated with \"@EnableSomething\", it looks for a bean of type \"Integer\". Is there a different pattern for using \"@EnableXXX\" style annotations in 2.x?\r\n\r\nHere is a sample project: https://github.com/bcalmac/conditional-on-annotation. \"mvn test\" should fail and it would work if you change the parent to 1.5.x."},{"labels":["documentation"],"text":"## v2.1.0.RELEASE\r\n## Config\r\nFile | Content\r\n------------ | -------------\r\napplication-z.properties | foo=baz\r\n.spring-boot-devtools.properties | spring.profiles.active: z\r\n\r\n## App\r\n\r\n\"\"\"java\r\npublic class MyApp {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyApp.class, args);\r\n                System.out.println(\"********\");\r\n\t\tSpringApplication.run(MyApp.class, \"--spring.profiles.include=z\");\r\n\t}\r\n\t\r\n\t@Value(\"${foo:bar}\")\r\n\tString foo;\r\n\t\r\n\t@PostConstruct\r\n\tvoid printFoo() {\r\n\t\tSystem.out.println(foo);\r\n\t}\r\n}\r\n\"\"\"\r\n\r\n## Output\r\n\r\n\"\"\"\r\n :: Spring Boot ::        (v2.1.0.RELEASE)\r\n\r\n2018-11-11 11:20:56.473  INFO 10934 --- [  restartedMain] devproftest.MyApp                        : The following profiles are active: z\r\nbar\r\n********\r\n :: Spring Boot ::        (v2.1.0.RELEASE)\r\n2018-11-11 11:20:56.586  INFO 10934 --- [  restartedMain] devproftest.MyApp                        : The following profiles are active: z\r\nbaz\r\n\"\"\"\r\n\r\n## Expected output\r\n\r\n\"baz\", as defined in profile \"z\" should be displayed twice\r\n\r\nPS. The order of running apps is important - if reverted \"baz\" is correctly displayed twice. Please do not be confused by double running - it is used only to have clear test scenario\r\n"},{"labels":[null,"documentation"],"text":"We want to make sure all auto-configurations can benefit from the performance optimizations that the autoconfigure processor brings. \r\n\r\nAdding a reference to it to the \"Create your own starter\" should help with that."},{"labels":["documentation"],"text":"The documentation at https://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html says: \r\n\r\n> To customize written elements, use the embeddedLaunchScriptProperties option of the Spring Boot Maven or Gradle plugins.\r\n\r\nThere is no embeddedLaunchScriptProperties property in Gradle plugin. \r\nAffected versions: Spring Boot 2.\r\n\r\n\r\n"},{"labels":["documentation"],"text":"According to https://github.com/FasterXML/woodstox#maven, the artifact\r\n\r\n\"\"\"\r\n<dependency>\r\n\t<groupId>org.codehaus.woodstox</groupId>\r\n\t<artifactId>woodstox-core-asl</artifactId>\r\n</dependency>\r\n\"\"\"\r\n\r\nchanged to \r\n\"\"\"\r\n<dependency>\r\n    <groupId>com.fasterxml.woodstox</groupId>\r\n    <artifactId>woodstox-core</artifactId>\r\n</dependency>\r\n\"\"\"\r\n\r\nShould the Spring Boot documentation reflect this change here?\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.1.x/reference/htmlsingle/#howto-write-an-xml-rest-service"},{"labels":["documentation"],"text":"Looks like \"at*()\" methods of [org.springframework.boot.autoconfigure.security.servlet.StaticResourceRequest](\r\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/security/servlet/StaticResourceRequest.html) are not static, although it's examples in javadoc are shown as if they are:\r\n\"\"\"java\r\n/**\r\n * Returns a matcher that includes all commonly used {@link StaticResourceLocation\r\n * Locations}. The\r\n * {@link StaticResourceRequestMatcher#excluding(StaticResourceLocation, StaticResourceLocation...)\r\n * excluding} method can be used to remove specific locations if required. For\r\n * example: <pre class=\"code\">\r\n * StaticResourceRequest.atCommonLocations().excluding(StaticResourceLocation.CSS)\r\n * </pre>\r\n * @return the configured {@link RequestMatcher}\r\n */\r\npublic StaticResourceRequestMatcher atCommonLocations() {\r\n    return at(EnumSet.allOf(StaticResourceLocation.class));\r\n}\r\n\"\"\"\r\n\r\nHaving in mind the fact that its constructor is private, there is no way to use these methods.\r\n\r\nI assume those \"at*()\" methods should be made static to follow the javadoc, unless, of course, I'm missing something...\r\n\r\nThank you in advance!"},{"labels":["documentation"],"text":"Spring Boot Version 2.1.0 (and earlier down to 1.x)\r\n\r\nHello,\r\n\r\nthe [documentation regarding Front-end Proxy Server](https://docs.spring.io/spring-boot/docs/2.1.0.RELEASE/reference/htmlsingle/#howto-use-tomcat-behind-a-proxy-server) states:\r\n\r\n> If the proxy adds conventional X-Forwarded-For and X-Forwarded-Proto headers (most proxy servers do so), the absolute links should be rendered correctly ...\r\n\r\nThis is not fully true, at least not for Tomcat:\r\nThe **only thing** that Tomcat \"RemoteIpValve\" (which is activated by \"server.use-forward-headers\") does with \"X-Forwarded-For\" header is to determine the 'correct' remote ip address of the client.\r\n(And BTW, this is also the only thing that is currently tested regarding use-forward-headers in Spring Boot: [here](https://github.com/spring-projects/spring-boot/blob/d6df7cf3243bdd42f0d416a8bed755815e69e61f/spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/servlet/server/AbstractServletWebServerFactoryTests.java#L1217))\r\n\r\nSo, the only useful thing that  Tomcat \"RemoteIpValve\" does regarding absolute links is to set the scheme and the port of the servlet request according to the \"X-Forwarded headers\".\r\n\r\nThe Tomcat \"RemoteIpValve\" does nothing regarding the **serverName** of the request.  But it is essential for rendering correct absolute links that the serverName is set to the host name of the proxy server.\r\n\r\nThere is an open [ticket](https://bz.apache.org/bugzilla/show_bug.cgi?id=57665) for Tomcat to do this in \"RemoteIpValve\" by using \"X-Forwarded-Host\" header. But as long as this is not resolved, the only way to get correct redirect URIs is to make sure that the proxy server leaves the Host header unchanged.\r\n\r\n**At least this should be clarified in the documentation.**\r\n\r\nHowever, there are scenarios, where the Proxy Server changes the host header. Even **Spring Cloud Zuul** does this (or at least did this) by default (and sets \"X-Forwarded-Host\" to preserve proxy host somewhere). \r\n\r\nSo, it is probably not a good suggestion just to say \"use \"server.use-forward-headers\", and everything will be alright behind a proxy.\" \r\n\r\nSpring's [ForwardedHeaderFilter ](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/filter/ForwardedHeaderFilter.html) (which supports X-Forwarded-Host and X-Forwarded-Prefix) should at least be mentioned as an alternative, even if Spring Boot does not want to make it the default (see [here](https://github.com/spring-projects/spring-boot/issues/5677)). Especially now with Spring 5.1, where \"ForwardedHeaderFilter\" has become the \"[standard way](https://jira.spring.io/browse/SPR-16668)\" to cope with Forwarded-Headers in Spring (see also [here](https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#forwarded-headers)). \r\n\r\nAdditionally there are [existing discussions](https://github.com/spring-projects/spring-boot/issues/10900#issuecomment-355617059)  regarding \"ForwardedHeaderFilter\" or not, so the difficulties with the use-forward-headers approach are not new. However, someone who just starts by reading the documentation will not know anything about those details and will raise issues or SO questions regarding \"it does not work behind proxy\".\r\n\r\nBest Regards,\r\nStefan.\r\n"},{"labels":["documentation"],"text":"I use the spring-boot-starter-parent 1.5.17.RELEASE.\r\n\r\nI create my config extends WebMvcConfigurerAdapter,and overwrite the extendMessageConverters method.\r\n\r\n**I see the List<HttpMessageConverter<?>>  has two MappingJackson2HttpMessageConverters and two StringHttpMessageConverters.**\r\n\"\"\"java\r\n@Configuration\r\npublic class TestConfig extends WebMvcConfigurerAdapter {\r\n\r\n  @Override\r\n  public void extendMessageConverters(List<HttpMessageConverter<?>> converters) {\r\n    System.out.println(converters);\r\n  }\r\n}\r\n\"\"\"\r\n![image](https://user-images.githubusercontent.com/21155988/47771473-559e5f80-dd1e-11e8-8538-b1b3db98a48b.png)\r\n\r\n **I try to register my TestDeserializer to jackson.\r\nBut this is only the first one to take effect.**\r\nThis is the first one.\r\n![image](https://user-images.githubusercontent.com/21155988/47772542-efb3d700-dd21-11e8-8655-303f77b97202.png)\r\nThis is the second one.\r\n![image](https://user-images.githubusercontent.com/21155988/47772644-546f3180-dd22-11e8-8b8a-8309ab8b64a0.png)\r\n\r\n**I think is maybe a bug?\r\nIf it is not a bug,someone can explain?**"},{"labels":["documentation"],"text":"Calling \"/actuator/heapdump\" is giving me a heap-dump-file. \r\nIn spring boot 2.0.6 the heap-dump is not GZip compressed any more (it was compressed in spring boot 1.5.x)\r\n\r\nThe [documentation ](https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/reference/htmlsingle/#production-ready-endpoints)says:\r\n\r\n> heapdump  Returns a GZip compressed hprof heap dump file.\r\n\r\n\r\n"},{"labels":["documentation"],"text":"From the reference docs\r\n\r\n> The following example shows a typical build.gradle file:\r\n\"\"\"\r\nplugins {\r\n\tid 'org.springframework.boot' version '2.0.6.RELEASE'\r\n\tid 'java'\r\n}\r\n\r\n\r\njar {\r\n\tbaseName = 'myproject'\r\n\tversion =  '0.0.1-SNAPSHOT'\r\n}\r\n\r\nrepositories {\r\n\tjcenter()\r\n}\r\n\r\ndependencies {\r\n\tcompile(\"org.springframework.boot:spring-boot-starter-web\")\r\n\ttestCompile(\"org.springframework.boot:spring-boot-starter-test\")\r\n}\r\n\"\"\"\r\n\r\nhowever, this will fail to resolve dependencies because it doesn't apply the dep management plugin (this will fail unless you uncomment the plugin) here's an [example in kotlin dsl](https://bitbucket.org/xenworks/localserverfail/). \r\n\r\n\"\"\"\r\nplugins {\r\n    \"java-library\"\r\n    id(\"org.springframework.boot\").version(\"2.0.6.RELEASE\")\r\n//    id(\"io.spring.dependency-management\").version(\"1.0.6.RELEASE\")\r\n}\r\n\r\ngroup = \"com.xenoterracide.example\"\r\nversion = \"1.0-SNAPSHOT\"\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(\"org.springframework.boot:spring-boot-starter-web\")\r\n    runtime(\"org.springframework.boot:spring-boot-starter-actuator\")\r\n    testImplementation(\"org.springframework.boot:spring-boot-starter-test\")\r\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api\")\r\n    testRuntimeOnly( \"org.junit.jupiter:junit-jupiter-engine\")\r\n}\r\n\r\nconfigure<JavaPluginConvention> {\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n}\r\n\r\ntasks.withType<Test>().configureEach {\r\n    useJUnitPlatform()\r\n}\r\n\"\"\"\r\n\r\np.s. it'd be nice of the gradle docs used cross language groovy/kotlin syntax where possible."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n🙅 \"Please DO NOT Raise an Issue\" Cases\r\n- Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n- Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n- Managed Dependency Upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. BUT pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n- With an Immediate Pull Request\r\nAn issue will be closed as a duplicate of the immediate pull request, so you don't have to raise an issue if you plan to create a pull request immediately.\r\n\r\n Bug report (do not copy/paste)\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n Enhancement (do not copy/paste)\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\nI have a problem with Spring Boot 2.0.5 and Spring Boot Maven plugin. I found I should report bug here on: \r\nhttps://docs.spring.io/spring-boot/docs/current/maven-plugin/issue-tracking.html\r\n\r\nI cannot create the module jar file with:\r\n\r\n\"\"\"\r\n<plugin>\r\n\t<groupId>org.springframework.boot</groupId>\r\n\t<artifactId>spring-boot-maven-plugin</artifactId>\r\n\t<configuration>\r\n\t\t<layout>MODULE</layout>\r\n    \t</configuration> \r\n</plugin>\r\n\r\n\"\"\"\r\nError says:\r\n\r\n> [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.0.5.RELEASE:repackage (default) on project module-test: Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin:2.0.5.RELEASE:repackage: Cannot convert 'MODULE' to Enum: No enum constant org.springframework.boot.maven.RepackageMojo.LayoutType.MODULE\r\n\r\nSpring docs says MODULE should works https://docs.spring.io/spring-boot/docs/current/maven-plugin/usage.html\r\n\r\nI was able to resolve by mention old version of spring-boot-maven-plugin 1.5.6\r\n\r\nYou can see sample application on https://github.com/pavelmorozov/spring-boot-maven-plugin-module/blob/master/pom.xml"},{"labels":["documentation"],"text":"Hi,\r\n\r\nIt seems the spring-boot-maven-plugin (tested version 2.1.0.M4) does not generate the jar when the classifier configuration is provided.\r\n\r\nTo reproduce:\r\n* generate a simple project with https://start.spring.io/ (no dependencies required)\r\n* change the spring-boot-maven-plugin part to repackage with a classifier \"exec\" as explained in the [documentation](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/maven-plugin/examples/repackage-classifier.html)\r\n* run the command \"./mvnw clean install\"\r\n\r\nI get the following error:\r\n\"\"\"\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-install-plugin:2.5.2:install (default-install) on project exe: Failed to install artifact com.example:exe:jar:exec:0.0.1-SNAPSHOT: /home/.../exe/target/exe-0.0.1-SNAPSHOT-exec.jar (No such file or directory) -> [Help 1]\r\n\"\"\"\r\n\r\nHere is my pom.xml to reproduce\r\n\"\"\"xml\r\n\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n    <groupId>com.example</groupId>\r\n    <artifactId>exe</artifactId>\r\n    <version>0.0.1-SNAPSHOT</version>\r\n    <packaging>jar</packaging>\r\n    <name>exe</name>\r\n    <description>Demo project for Spring Boot</description>\r\n    <parent>\r\n        <groupId>org.springframework.boot</groupId>\r\n        <artifactId>spring-boot-starter-parent</artifactId>\r\n        <version>2.1.0.M4</version>\r\n        <relativePath />\r\n        <!-- lookup parent from repository -->\r\n    </parent>\r\n    <properties>\r\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\r\n        <java.version>1.8</java.version>\r\n    </properties>\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter</artifactId>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-test</artifactId>\r\n            <scope>test</scope>\r\n        </dependency>\r\n    </dependencies>\r\n    <build>\r\n        <plugins>\r\n            <plugin>\r\n                <groupId>org.springframework.boot</groupId>\r\n                <artifactId>spring-boot-maven-plugin</artifactId>\r\n                <version>2.1.0.M4</version>\r\n                <executions>\r\n                    <execution>\r\n                        <goals>\r\n                            <goal>repackage</goal>\r\n                        </goals>\r\n                        <configuration>\r\n                            <classifier>exec</classifier>\r\n                        </configuration>\r\n                    </execution>\r\n                </executions>\r\n            </plugin>\r\n        </plugins>\r\n    </build>\r\n    <repositories>\r\n        <repository>\r\n            <id>spring-snapshots</id>\r\n            <name>Spring Snapshots</name>\r\n            <url>https://repo.spring.io/snapshot</url>\r\n            <snapshots>\r\n                <enabled>true</enabled>\r\n            </snapshots>\r\n        </repository>\r\n        <repository>\r\n            <id>spring-milestones</id>\r\n            <name>Spring Milestones</name>\r\n            <url>https://repo.spring.io/milestone</url>\r\n            <snapshots>\r\n                <enabled>false</enabled>\r\n            </snapshots>\r\n        </repository>\r\n    </repositories>\r\n    <pluginRepositories>\r\n        <pluginRepository>\r\n            <id>spring-snapshots</id>\r\n            <name>Spring Snapshots</name>\r\n            <url>https://repo.spring.io/snapshot</url>\r\n            <snapshots>\r\n                <enabled>true</enabled>\r\n            </snapshots>\r\n        </pluginRepository>\r\n        <pluginRepository>\r\n            <id>spring-milestones</id>\r\n            <name>Spring Milestones</name>\r\n            <url>https://repo.spring.io/milestone</url>\r\n            <snapshots>\r\n                <enabled>false</enabled>\r\n            </snapshots>\r\n        </pluginRepository>\r\n    </pluginRepositories>\r\n</project>\r\n\"\"\"\r\n"},{"labels":["documentation"],"text":"See #14570"},{"labels":["documentation"],"text":"#14664 showed Yasson being used for JSONB binding, since we prefer Johnzon we should double check our docs. "},{"labels":["documentation"],"text":"Because \"Compression\" is in a separate module, the annotation processor can't read its source model and we don't have metadata for those keys.\r\n\r\nI've had a lame attempt at documenting one property but [@izeye caught that](https://github.com/spring-projects/spring-boot/pull/14667/files#r222227443) :)\r\n\r\nWe should either configure the build to fix this or we should move the documentation to manual metadata. Right now, \"Compression\" is documented as if it was picked up by the AP and that's rather confusing.\r\n\r\nI think a handful of other POJOs are affected (\"Ssl\" comes to mind).\r\n\r\n"},{"labels":["documentation"],"text":"The unit for \"server.connection-timeout\" is unclear in the documentation. \r\nEarlier version of the documentation stated milliseconds. \r\nAll other properties in \"application.properties\" are given as seconds. \r\nIn version 2.0.4 the value need to be in milliseconds in order for Tomcat to handle the value correctly. \r\n\r\nThe issue can be solved by\r\n* indicating in documentation that the value should be in milliseconds\r\n* use seconds in the property file and in the Tomcat and other server configuration property classes convert the second value to milliseconds or the unit the server need. \r\n"},{"labels":["documentation"],"text":"The \"1.5.x\" reference manual section [_Using Spock to test Spring Boot applications_](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-with-spock) contains references to \"@SpringApplicationConfiguration\" and \"@WebIntegrationTest\" both of which were (to my knowledge) removed in \"1.5.0.RELEASE\".\r\n\r\nThe entire section is a bit weird, since it states that _Spring Boot provides dependency management for Spock 1.0_ while pointing users to use the removed classes if they don't override the managed version and use Spock 1.1."},{"labels":[null,null,"documentation"],"text":"Hi, this is a \"first-timers-only\" issue. This means we've worked to make it more legible to folks who either haven't contributed to our codebase before, or even folks who haven't contributed to open source before.\r\n\r\nIf that's you, we're interested in helping you take the first step and can answer questions and help you out as you do. Note that we're especially interested in contributions from people from groups underrepresented in free and open source software!\r\n\r\nIf you have contributed before, consider leaving this one for someone new, and looking through our general \"ideal-for-contribution\" issues. Thanks!\r\n\r\n## Problem\r\nThe documentation for the Actuator's API contains a section named \"Request Structure\" but it should be named \"Query Parameters\". The ID assigned to the section is also incorrect which has a knock-on effect on the anchors in the generated HTML.\r\n\r\n## Solution\r\n\r\nBoth the title of the section and its ID need to be corrected.\r\n\r\nThe ID can be found here: https://github.com/spring-projects/spring-boot/blob/fd2080e7cc38af2db7c7a669e650fcce9a6194b3/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/asciidoc/endpoints/caches.adoc#L45\r\n\r\nThe ID should be \"[[caches-named-query-parameters]]\"\r\n\r\nThe name can be found here: https://github.com/spring-projects/spring-boot/blob/fd2080e7cc38af2db7c7a669e650fcce9a6194b3/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/asciidoc/endpoints/caches.adoc#L46\r\n\r\nThe name should be \"=== Query Parameters\"\r\n\r\n## Steps to Fix \r\n \r\n- [x] Claim this issue with a comment below and ask any clarifying questions you need\r\n- [x] Set up a repository locally following the [Contributing Guidelines](https://github.com/spring-projects/spring-boot/blob/master/CONTRIBUTING.adoc)\r\n- [x] Try to fix the issue following the steps above\r\n- [x] Commit your changes and start a pull request."},{"labels":[null,"documentation"],"text":"The Gradle Kotlin DSL is almost at version 1.0 now, and all the samples of the Gradle user guide have been translated to Kotlin (see the nightly release of the user guide, for example https://docs.gradle.org/nightly/userguide/building_java_projects.html)\r\n\r\nThe Gradle team [would like popular plugins to show examples in Kotlin](https://github.com/gradle/gradle/issues/6790), too.\r\n\r\nI have translated a lot of the samples of the Gradle user guide, and would like to help translating the samples of the Spring Boot Gradle plugin, too.\r\n\r\nMy plan would be to use tabs, just like the gradle user guide does, to show Groovy and Kotlin samples side by side in the generated documentation. I would use the [Spring Asciidoctor extensions](https://github.com/spring-io/spring-asciidoctor-extensions) for these tabs.\r\n\r\nWould that be OK for you? Is there something I should know before starting working on this task?"},{"labels":["documentation"],"text":"I configured my spring data cassandra client using spring boot application.yml and autoconfiguration.\r\n\r\nIt works for me but only when I not use **spring.data.reconnection-policy** property. When I use any of them **(com.datastax.driver.core.policies.ConstantReconnectionPolicy** or **com.datastax.driver.core.policies.ExponentialReconnectionPolicy**) I goet this error on startup:\r\n\r\n\"\"\"\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.datastax.driver.core.policies.ConstantReconnectionPolicy]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.datastax.driver.core.policies.ConstantReconnectionPolicy.()\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:127) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE] at org.springframework.boot.context.properties.PropertyMapper$Source.lambda$as$2(PropertyMapper.java:207) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    at org.springframework.boot.context.properties.PropertyMapper$Source.to(PropertyMapper.java:302) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    at org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration.cassandraCluster(CassandraAutoConfiguration.java:77) ~[spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    at org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration$$EnhancerBySpringCGLIB$$2f475e40.CGLIB$cassandraCluster$0() ~[spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n\"\"\"\r\n\r\n\r\nI extended policy class and added default constructor there. With new class inside my application.yml everything works.\r\n\r\nThis is my application.yml:\r\n\r\nI configured my spring data cassandra client using spring boot application.yml and autoconfiguration.\r\n\r\nIt works for me but only when I not use spring.data.reconnection-policy property. When I use any of them (com.datastax.driver.core.policies.ConstantReconnectionPolicy or com.datastax.driver.core.policies.ExponentialReconnectionPolicy) I goet this error on startup:\r\n\r\n\"\"\"\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.datastax.driver.core.policies.ConstantReconnectionPolicy]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.datastax.driver.core.policies.ConstantReconnectionPolicy.() \r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:127) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE] \r\n    at org.springframework.boot.context.properties.PropertyMapper$Source.lambda$as$2(PropertyMapper.java:207) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE] \r\n    at org.springframework.boot.context.properties.PropertyMapper$Source.to(PropertyMapper.java:302) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE] \r\n    at org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration.cassandraCluster(CassandraAutoConfiguration.java:77) ~[spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE] \r\n    at org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration$$EnhancerBySpringCGLIB$$2f475e40.CGLIB$cassandraCluster$0() ~[spring-boot-autoconfigure-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n\"\"\"\r\n\r\nI extended policy class and added default constructor there. With new class inside my application.yml everything works. Is it possible to configure reconnection policy without workaround or this is a bug?\r\nSpring Data 2.0.10.RELEASE"},{"labels":["documentation"],"text":"Logging groups are currently configured using \"logging.level.<group>\". Although nice and simple, It's possible that the group name could clash with an existing logger. We should review if a distinct namespace might work better.\r\n\r\nOne idea would be:\r\n\"\"\"\r\nlogging.group.<name>.level=...\r\nlogging.group.<name>.loggers=...\r\n\"\"\"\r\n\r\nUnfortunately it's hard to get good meta-data for that. \r\n\r\nAnother option would be:\r\n\"\"\"\r\nlogging.group.level.<name>=...\r\nlogging.group.logger.<name>=...\r\n\"\"\"\r\n\r\nThat, feels a little backward."},{"labels":["documentation"],"text":"The [Developer Tools section of the documentation](https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/htmlsingle/#using-boot-devtools) says:\r\n\r\n> ... using \"compileOnly\" in Gradle is a best practice that prevents devtools from being transitively applied to other modules that use your project.\r\n\r\nBut the \"compileOnly\" configuration doesn't work for devtools, as noted by @wilkinsona in [his comment on spring-io/initializr#128](https://github.com/spring-io/initializr/issues/128#issuecomment-258191411)."},{"labels":["documentation"],"text":"https://github.com/spring-projects/spring-boot/blob/ca0de4385c01cbbd120e96ec9f83427fb48c9a15/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/web/SpringDataWebAutoConfiguration.java#L54"},{"labels":["documentation"],"text":"There was a request to add this feature in Spring boot in #14248 which was declined and it's now available as a third party starter that we should add to our list."},{"labels":["documentation"],"text":"Looks like a dead property"},{"labels":["documentation"],"text":"Reproduced for me using 2.0.3.RELEASE\r\n\r\nI found similar issue here - https://github.com/spring-projects/spring-boot/issues/9545\r\nAs mentioned it should be fixed in 2.0.3.M3 but looks like it's not\r\n\r\nMy case is similar but without explicit prefix parameter\r\n\r\n\"\"\"\r\n@Getter\r\n@Setter\r\n@ConfigurationProperties(\"myCommonProperties\")\r\npublic class MyCommonProperties {\r\n  private String someProperty;\r\n}\r\n\"\"\"\r\nIt fails with\r\n\"\"\"\r\nCaused by: org.springframework.boot.context.properties.source.InvalidConfigurationPropertyNameException: Configuration property name 'myCommonProperties' is not valid\r\n\"\"\"\r\n\r\nHaven't found any other opened issues with similar behaviour"},{"labels":["documentation"],"text":"The documentation states that:\r\n \"\"\"\r\nBy default, the executable archive’s main class will be configured automatically by looking for a class with a public static void main(String[]) method in directories on the task’s classpath.\r\n\"\"\"\r\n\r\nBut trying a simple example project we are unable to get this autodetected, forcing us to define mainClassName. Is there something I'm missing?\r\n\r\n\"\"\" \r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.4.RELEASE\")\r\n    }\r\n}\r\n\r\napply plugin: 'java'\r\napply plugin: 'application'\r\napply plugin: 'org.springframework.boot'\r\napply plugin: 'io.spring.dependency-management'\r\n\r\ngroup = 'com.example'\r\nversion = '0.0.1-SNAPSHOT'\r\nsourceCompatibility = 1.8\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\n\r\ndependencies {\r\n    compile('org.springframework.boot:spring-boot-starter')\r\n    testCompile('org.springframework.boot:spring-boot-starter-test')\r\n}\r\n\"\"\"\r\n\r\n\"\"\"\r\n$ ./gradlew build\r\n> Task :startScripts FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem was found with the configuration of task ':startScripts'.\r\n> No value has been specified for property 'mainClassName'.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2s\r\n7 actionable tasks: 3 executed, 4 up-to-date\r\n\"\"\" "},{"labels":["documentation"],"text":"\"DispatcherServletPath\" is not documented in the ref guide and [this section of the ref guide](https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#howto-switch-off-the-spring-mvc-dispatcherservlet) looks outdated."},{"labels":["documentation"],"text":"I was trying to piece together a simple chat sample using Spring Boot, WebFlux and WebSockets. However that isn't as straight forward (initially) as one might think. \r\n\r\nIncluding \"spring-boot-starter-websocket\" brings in \"spring-boot-starter-web\" and suddenly bootstraps Tomcat instead of Netty and rigs up Spring MVC. Adding exclusions won't be of much help either unless you do very detailed exclusions (excluding \"spring-boot-starter-web\" will exclude too much again). \r\n\r\nI made it work by just including \"javax.websocket-api\" (version 1.1) as a dependency (maybe this needs to be added to the \"spring-boot-dependencies\" as a managed dependency?).\r\n\r\nFor testing I include some WebSocket client library so I could write an integration test. However it took me  a while to figure out that \"spring-boot-starter-websocket\" is meant for the classic Servlet based approach and not the reactive approach. \r\n\r\nIt might be worthwhile to include this in the WebSockets section of the Spring Boot documentation or split that into 2 sections for a Servlet and Reactive approach. \r\n\r\nAdded bonus would be to have a sample web socket / reactive included in the spring boot samples. "},{"labels":["documentation"],"text":"Tested with both Spring Boot 1.5.14 and Spring Boot 2.0.3. \r\n\r\nWhen using \"@SpyBean\" to investigate method calls on a bean and a method is annotated with \"@Cacheable\" this breaks. \r\n\r\n\"\"\"\r\n@Service\r\npublic class OrderService {\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n    @Cacheable(value=\"orders\", key = \"#id + #key.field1\")\r\n    public Order find(String id, PartialKey key) {\r\n\r\n        double amount = ThreadLocalRandom.current().nextDouble(1000.00);\r\n        Order order = new Order(id, BigDecimal.valueOf(amount));\r\n        logger.info(\"Created: {}\", order);\r\n        return order;\r\n    }\r\n}\r\n\"\"\"\r\n\r\nThe issue is that when using a custom key, the extension/proxy generated by \"@SpyBean\" apparently doesn't have the needed debug information anymore. Switching from named parameters to indexed parameters makes it work again.\r\n\r\nException:\r\n\r\n\"\"\"\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:78) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:48) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]\r\nCaused by: java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:726) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:713) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'field1' cannot be found on null\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:225) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:97) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:47) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:414) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:88) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.expression.spel.ast.OpPlus.getValueInternal(OpPlus.java:85) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:121) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:262) ~[spring-expression-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheOperationExpressionEvaluator.key(CacheOperationExpressionEvaluator.java:117) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.generateKey(CacheAspectSupport.java:739) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:555) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:499) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:386) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:324) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:671) ~[spring-aop-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat biz.deinum.cacheablespybeanissue.OrderService$$EnhancerBySpringCGLIB$$b501beda.find(<generated>) ~[classes/:na]\r\n\tat biz.deinum.cacheablespybeanissue.CacheableSpybeanIssueApplication.lambda$orders$0(CacheableSpybeanIssueApplication.java:26) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:723) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\t... 31 common frames omitted\r\n\"\"\"\r\n\r\nUsing only the \"id\" argument as the cache yield a slightly different exception (but the underlying cause is the same). \r\n\r\n\"\"\"\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:78) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:48) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]\r\nCaused by: java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:726) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:713) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public biz.deinum.cacheablespybeanissue.Order biz.deinum.cacheablespybeanissue.OrderService.find(java.lang.String,biz.deinum.cacheablespybeanissue.PartialKey)] caches=[orders] | key='#id' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:558) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:499) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:386) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:324) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61) ~[spring-context-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:671) ~[spring-aop-4.3.18.RELEASE.jar:4.3.18.RELEASE]\r\n\tat biz.deinum.cacheablespybeanissue.OrderService$$EnhancerBySpringCGLIB$$292a87d8.find(<generated>) ~[classes/:na]\r\n\tat biz.deinum.cacheablespybeanissue.CacheableSpybeanIssueApplication.lambda$orders$0(CacheableSpybeanIssueApplication.java:26) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:723) ~[spring-boot-1.5.14.RELEASE.jar:1.5.14.RELEASE]\r\n\t... 31 common frames omitted\r\n\"\"\"\r\n\r\nReproduction project has been supplied to the Spring Boot Issues repositories. See https://github.com/spring-projects/spring-boot-issues/pull/79\r\n\r\nAt some further inspection this looks like an ordering issue. The \"SpyPostProcessor\" is a \"PriorityOrdered\" and returns the \"HIGHEST_PRECEDENCE\" which makes it run very early in the proces. Leading to the \"CacheInterceptor\" seeing a \"OrderService#EnhanchedByMockitoCglib\". \r\n\r\nShouldn't it be the last in line, wrapping the actual proxied instance (including the AOP) so that the spy can still record access but the regular behavior is still added (like \"@Cacheable\", \"@Secured\" etc). It appears mainly to be an issue with interceptors that also read method arguments using SpEL. Apparently the creation of the Spy first makes the actual bean a proxy which doesn't contain the needed debug information anymore.  "},{"labels":["documentation"],"text":"There is a small typo in [Spring Boot Features: SpringApplication: Web Environment](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#web-environment)\r\n> Spring Boot applications can now operates in more\r\n\r\nshould be\r\n> Spring Boot applications can now operate in more"},{"labels":["documentation"],"text":"Trying to upgrade to Spring Boot 2.\r\n\r\n1.  The documentation for REDIS on this page:  \r\n[https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide)\r\n\r\nSays to use:  spring-boot-starter-redis\r\nBut this is correct:  spring-boot-starter-data-redis\r\n\r\n2.  When I use the correct one above and try to start my app, I get:  \r\n\r\nException in thread \"main\" java.lang.IllegalStateException: Failed to read Class-Path attribute from manifest of jar file:/C:/Users/jucheme/.m2/repository/io/netty/netty-handler/4.1.25.Final/netty-handler-4.1.25.Final.jar\r\n\r\n[pom.txt](https://github.com/spring-projects/spring-boot/files/2236297/pom.txt)\r\n"},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html\r\n\r\nThe example states the following:\r\n\r\n\"\"\"java\r\n@Bean\r\n@Primary\r\n@ConfigurationProperties(\"app.datasource.first\")\r\npublic DataSourceProperties firstDataSourceProperties() {\r\n\treturn new DataSourceProperties();\r\n}\r\n\r\n@Bean\r\n@Primary\r\n@ConfigurationProperties(\"app.datasource.first\") //TODO this is wrong.\r\npublic DataSource firstDataSource() {\r\n\treturn firstDataSourceProperties().initializeDataSourceBuilder().build();\r\n}\r\n\"\"\"\r\n\r\nProblem: the key for the \"DataSource\" must be:\r\n\"app.datasource.first.<datapool name>\", eg \"app.datasource.first.hikari\". Only then the properties like \"app.datasource.first.hikari.minimum-idle\" will be taken into account.\r\n\r\nLikewise for the second ds in the example."},{"labels":["documentation"],"text":"It [points to the github repo](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-docs/src/main/asciidoc/getting-started.adoc#developing-your-first-spring-boot-application) at the moment instead of the reference documentation."},{"labels":["documentation"],"text":"See #13866 for background."},{"labels":["documentation"],"text":"Raised originally here https://github.com/spring-projects/spring-boot/issues/13866#issuecomment-407683557\r\n\r\nSee https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-endpoints-custom-input\r\n\r\n"},{"labels":["documentation"],"text":"When I was looking into https://github.com/micrometer-metrics/micrometer/issues/753, I noticed that the \"@ConditionalOnBean\" change from https://github.com/spring-projects/spring-boot/commit/457d0414ea419dbe9044343d9aa69009743a0548 is missing in Migration Guide. It would be good to add it."},{"labels":["documentation"],"text":"The user guide has a whole section on \"TestRestTemplate\" which is great. It doesn't help for a vanilla \"@SpringBootTest\" though because the default \"WebEnvironment\" is \"MOCK\" (I think). My understanding was that \"WebTestClient\" was usable wherever \"MockMvc\" would have been (i.e the default test environment). But you can't \"@Autowired\" one by default.\r\n\r\nYou have to explicitly \"@AutoConfigureWebTestClient\". There is actually a side bar note about that, but it's quite hard to find, since it is in the section on \"@WebFluxTest\", which I wasn't using."},{"labels":["documentation"],"text":"Looking at the doc of, for instance, \"@JdbcTest\" it is a bit vague what \"pure JDBC-related tests\" means. Someone may thing that anything Spring Boot has auto-configuration for related to a \"DataSource\" will work. \r\n\r\nWe should also have a section that provides some escape plans with warnings on non-supported case (i.e. importing manually the auto-configuration that should be applied).\r\n\r\nAt the moment there are interesting information in the Javadoc that would be worth moving to the ref guide as well.\r\n\r\ncc @mminella"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. Please take the time to review the following\r\ncategories as some of them do not apply here.\r\n\r\n Question\r\nSTOP!! Please ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\n Bug report\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n🚨 Security Vulnerability\r\nSTOP!! Please don't raise security vulnerabilities here. Head over to https://pivotal.io/security to learn how to disclose them responsibly.\r\n\r\n Enhancement\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n\r\n🙅 Managed dependency upgrade\r\nYou DO NOT need to raise an issue for a managed dependency version upgrade as there's a semi-automatic process for checking managed dependencies for new versions before a release. But pull requests for upgrades that are more involved than just a version property change are still most welcome.\r\n-->\r\nPlease update the Spring Boot Doc at spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc to use gradle-git-properties version 1.5.1\r\nThanks."},{"labels":["documentation"],"text":"Hi, it would be really helpful if the reference documentation contained links to key classes, items mentioned, etc. that the docs are describing e.g.\r\n\r\n![image](https://user-images.githubusercontent.com/1416788/42514460-614da712-8451-11e8-85e6-9f32c1849bf3.png)\r\n\r\nIt would be great if things like I've highlighted in the image were linked to the items in question instead of having to go looking for them.  It breaks the flow when reading the docs.  E.g. to import configuration from other @Configuration annotated classes the @Configuration text in the paragraphs could link to an example, or at least an API page, etc.  The highlighted DataSource text (bottom of uploaded image) could link to something about DataSource and it's use.\r\n\r\nJust a suggestion.  Overall the docs are great.  Thanks.\r\n\r\nEdit: another example of what I'm talking about.\r\n\r\n![image](https://user-images.githubusercontent.com/1416788/42514731-01298800-8452-11e8-947d-55516ad2b23a.png)\r\n\r\nThe highlighted text should link you to a section / new tab about how exactly you use the debug switch."},{"labels":["documentation"],"text":"I am currently migrating a large Spring Boot application from 1.5.x to 2.x and I wanted to provide some feedback that might be useful additions for the migration guide. \r\n\r\nFirst off, the migration guide was VERY helpful...thank you!\r\n\r\n### Mockito 1.x to 2.x. \r\n\r\nThe guide does have a small section on Mockito and you might want to expand on this a little bit: \r\n\r\nThe upgrade to the next major version of Mockito introduces breaking changes beyond \"@MockBean\" and \"@SpyBean\". \r\n\r\nI am not sure if you want to link to external resources, but this link on their WIKI was quite helpful: https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2\r\n\r\nThese changes broke roughly 20% of our 7000 tests and were, by far, the most time-consuming part of the migration.\r\n\r\n### Spring Integration 4.x -> 5.x\r\n\r\nYou might want to put a link to Spring Integration's migration guide for those using integration: \r\n\r\nhttps://github.com/spring-projects/spring-integration/wiki/Spring-Integration-4.3-to-5.0-Migration-Guide\r\n\r\nThis was helpful, as there were some breaking changes in the integration DSL.\r\n\r\nOutside of those two issues, the guide you have put together is excellent. Keep up the good work."},{"labels":["documentation"],"text":"Spring Boot's reference manual currently generates horizontal scrollbar at common screen sizes, which is a bit annoying for the reader.\r\n\r\nThe cause of this is a table in _Customize the Jackson ObjectMapper_ section which has a cell containing value \"spring.jackson.default-property-inclusion=always|non_null|non_absent|non_default|non_empty\" that sticks out like a sore thumb and results in a horizontal scrollbar being rendered. This is present in both \"1.5.x\" and \"2.0.x\":\r\n\r\n- https://docs.spring.io/spring-boot/docs/1.5.x/reference/htmlsingle/#howto-customize-the-jackson-objectmapper\r\n- https://docs.spring.io/spring-boot/docs/2.0.x/reference/htmlsingle/#howto-customize-the-jackson-objectmapper\r\n\r\nIdeally, the horizontal scrollbar (if really needed) should be placed on the enclosing element (table in this case) rather than on the whole document. This approach is already present in many places in the reference manual, like the [application properties appendix](https://docs.spring.io/spring-boot/docs/2.0.x/reference/htmlsingle/#common-application-properties)."},{"labels":["documentation"],"text":"Hello,\r\nThe following code snippet running on Spring Boot 1.5.12 RELEASE:\r\n\r\n\"\"\"java\r\npublic class UnicodePropertiesPropertySourceLoader implements PropertySourceLoader {\r\n\r\n    @Override\r\n    public String[] getFileExtensions() {\r\n        return new String[]{\"properties\"};\r\n    }\r\n    @Override\r\n    public PropertySource<?> load(String name, Resource resource, String profile) throws IOException {\r\n        if (profile == null) {\r\n            Properties properties = new Properties();\r\n            PropertyResourceBundle bundle = new PropertyResourceBundle(new InputStreamReader(resource.getInputStream(), \"UTF-8\"));\r\n            Enumeration<String> keys = bundle.getKeys();\r\n            while (keys.hasMoreElements()) {\r\n                String key = keys.nextElement();\r\n                properties.setProperty(key, bundle.getString(key));\r\n            }\r\n            if (!properties.isEmpty()) {\r\n                return new PropertiesPropertySource(name, properties);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\"\"\"\r\nHas to be migrated for Spring Boot 2.0.3 RELEASE:\r\n\r\n\"\"\"java\r\npublic class UnicodePropertiesPropertySourceLoader implements PropertySourceLoader {\r\n\r\n    private static final String PROPERTIES_FILE_EXTENSION = \".properties\";\r\n\r\n    @Override\r\n    public String[] getFileExtensions() {\r\n        return new String[]{\"properties\"};\r\n    }\r\n\r\n    @Override\r\n    public List<PropertySource<?>> load(String name, Resource resource) throws IOException {\r\n            Properties properties = new Properties();\r\n            PropertyResourceBundle bundle = new PropertyResourceBundle(new InputStreamReader(resource.getInputStream(), \"UTF-8\"));\r\n            Enumeration<String> keys = bundle.getKeys();\r\n            while (keys.hasMoreElements()) {\r\n                String key = keys.nextElement();\r\n                properties.setProperty(key, bundle.getString(key));\r\n            }\r\n            if (!properties.isEmpty()) {\r\n                return Collections\r\n                        .singletonList(new OriginTrackedMapPropertySource(name, properties));\r\n            }\r\n\r\n        return null;\r\n    }\r\n\"\"\"\r\n\r\nAfter and before the migration, debugging the load method, the properties are loaded just fine for encoded rows, like:\r\n\r\n\"\"\"\r\nemail.hello=!Congrats\r\n\"\"\"\r\n\r\nBut when you load the property using:\r\n\r\n\"\"\"java\r\n@Value(\"${email.hello}\")\r\n\"\"\"\r\n\r\nThe property becomes wrong for the new version of Spring Boot: \r\n\r\n\"\"\"\r\nÂ!Congrats\r\n\"\"\"\r\n\r\nMy \"spring.factories\" under META-INF is set to:\r\n\r\n\"\"\"\r\n# Custom PropertySource Loaders\r\norg.springframework.boot.env.PropertySourceLoader=my.package.UnicodePropertiesPropertySourceLoader\r\n\"\"\"\r\n\r\nI know that my class \"UnicodePropertiesPropertySourceLoader\" is loaded just fine with all the properties encoded to UTF-8, but the problem is when I try to obtain each property with the \"@Value\" annotation, this happen for the version of SpringBoot 2.0.3.Release"},{"labels":["documentation"],"text":"Spring version: 2.0.2.RELEASE\r\nJava version: 1.8.0_171\r\n\r\nI've a Spring Boot application I've been upgrading from 1.5.6 to 2.0.2. I've added spring boot properties migrator as a runtime dependency to highlight deprecated properties in the property files that I need to change as part of the migration, and the migrator does indeed run at start-up.\r\n\r\nThe PropertiesMigrationListener class provided as part of the property migrator creates a report of deprecated properties when the \"ApplicationPreparedEvent\" event is handled and issues that report when it receives either the \"ApplicationReadyEvent\" or \"ApplicationFailedEvent\":\r\n\r\n    @Override\r\n    public void onApplicationEvent(SpringApplicationEvent event) {\r\n        if (event instanceof ApplicationPreparedEvent) {\r\n            onApplicationPreparedEvent((ApplicationPreparedEvent) event);\r\n        }\r\n        if (event instanceof ApplicationReadyEvent\r\n            || event instanceof ApplicationFailedEvent) {\r\n            logLegacyPropertiesReport();\r\n        }\r\n    }\r\n\r\nI've a default application properties file \"default.properties\". It ships as part of the deployed jar and is specified as a property source against the Application class:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(basePackageClasses = Application.class)\r\n    @PropertySource(value = \"classpath:/default.properties\")\r\n    @EnableAspectJAutoProxy\r\n    @EnableCaching\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n        ...\r\n        }\r\n    }\r\n\r\nWhat I've discovered is that when the \"ApplicationPreparedEvent\" is handled, the \"default.properties\" file hasn't been consumed. By the time that the ApplicationReadyEvent event is handled however it has been consumed. I've ascertained this by examining the contents of \"event.getApplicationContext().getEnvironment()\" whilst debugging the application start-up. Between the two events the list of property sources returned has grown by four elements, including the \"default.properties\" file.\r\n\r\nThe overall effect is that spring-boot-properties-migrator doesn't report on deprecated properties present in my \"default.properties\" file, or any other property source added between the ApplicationPreparedEvent and the ApplicationReadyEvent."},{"labels":["documentation"],"text":"The anchor hasn't been customised so it's currently \"_supported_cache_provides\". For consistency with its parent section and its child sections, it should probably be \"boot-features-caching-provider\".\r\n\r\n/cc @jxblum"},{"labels":["documentation"],"text":"It has moved to https://github.com/resteasy/resteasy-spring-boot"},{"labels":["documentation"],"text":"The [Spring Boot 2.0 Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide) has a tip regarding the usage of Surefire 2.19.1 for JUnit 5 support in section \"Surefire Defaults\". This should be changed, since Surefire 2.22.0 ships with native JUnit 5 support. So I suggest to change the text to:\r\n\r\n> If you are using JUnit 5, make sure you are using at least [Surefire 2.22.0](http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html)."},{"labels":["documentation"],"text":"Our README file in \"spring-boot-project/spring-boot-starters\" lists Spring Boot starters maintained by the community.\r\n\r\nI think we should take the 2.x generation as an opportunity to remove from that lists starters that are no longer maintained or not compatible with Spring Boot 2.x. We should first discuss what should be the requirements for starters to stay on that list."},{"labels":["documentation"],"text":"Camel's zipkin spring boot thing uses wildcard mappings to properties like this:\r\n\r\n\"\"\"\r\n# the zipkin service name\r\ncamel.zipkin.server-service-mappings.*=service1\r\ncamel.zipkin.client-service-mappings.*=service2\r\n\"\"\"\r\n\r\nThe corresponding \"@ConfigurationProperties\" would receive a map entry for the wildcard into a map field like this: \"private Map<String, String> clientServiceMappings\"\r\n\r\nThe last version this worked on was Spring Boot 2.0 M7. Afterwards, this mapping fails with the following exception:\r\n\r\n\"\"\"\r\nCaused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map<java.lang.String, java.lang.String>] at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound (GenericConversionService.java:321)\r\n\"\"\"\r\n\r\nSo that you don't have to build camel, you can paste the below into a start.spring.io app, setting the above as application.properties\r\n\r\n\"\"\"java\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(ZipkinConfigurationProperties.class)\r\npublic class DemoApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(DemoApplication.class, args);\r\n  }\r\n}\r\n\"\"\"\r\n\r\n\"\"\"java\r\n@ConfigurationProperties(prefix = \"camel.zipkin\")\r\npublic class ZipkinConfigurationProperties {\r\n  private Map<String, String> clientServiceMappings;\r\n  private Map<String, String> serverServiceMappings;\r\n\r\n  public Map<String, String> getClientServiceMappings() {\r\n    return clientServiceMappings;\r\n  }\r\n\r\n  public void setClientServiceMappings(Map<String, String> clientServiceMappings) {\r\n    this.clientServiceMappings = clientServiceMappings;\r\n  }\r\n\r\n  public Map<String, String> getServerServiceMappings() {\r\n    return serverServiceMappings;\r\n  }\r\n\r\n  public void setServerServiceMappings(Map<String, String> serverServiceMappings) {\r\n    this.serverServiceMappings = serverServiceMappings;\r\n  }\r\n}\r\n\"\"\"\r\n\r\n\r\n\r\n"},{"labels":["documentation"],"text":"Documentation about testing describes [usage of WebTestClient](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-with-running-server)\r\n\r\nUnfortunately it does not work if \"WebFlux\" is not in the classpath due to [this dependency](https://github.com/spring-projects/spring-boot/blob/f8186ce0ee16b6b02d4aefde3865d786a1559d88/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/web/reactive/WebTestClientAutoConfiguration.java#L48).\r\nCan you please update the documentation or fix the functionality so it works even without WebFlux."},{"labels":["documentation"],"text":"If you will create an MVC application with Spring-Boot version 1.4.3 (or even release 1.5.13.RELEASE) and place JSP files under src/main/resources/META-INF/resources/WEB-INF/view then these are not working. After build these files are copied properly under META-INF/resources/WEB-INF/view/ folder in spring boot JAR, however the problem seems to be due to spring boot maven plugin. \r\nIf parent pom is with version 1.4.3 but spring-boot maven plugin: \r\n\"\"\"\r\n  <build>\r\n    <plugins>\r\n      <plugin>\r\n        <groupId>org.springframework.boot</groupId>\r\n        <artifactId>spring-boot-maven-plugin</artifactId>\r\n        <version>1.4.2.RELEASE</version>\r\n      </plugin>\r\n    </plugins>\r\n  </build>\r\n\"\"\"\r\nthen it is working.\r\n\r\nFor example please check pom.xml file from \"Web application in jar packaging\" link: https://www.logicbig.com/tutorials/spring-framework/spring-boot/boot-exploded-war.html\r\n\r\nThere are a dozen of examples on net with JSP with spring-boot but they are using command: mvn spring-boot:run \r\nIn all these cases the application is working because JSP files are not loaded from JAR file, these are loaded directly from /src/main/resources/META-INF/resources/WEB-INF/view. If you will copy their jar in another location and execute it like any java jar file then the problem will appear. \r\n\r\nPlease solve this issue because is very important for any JSP web-application when you will try to execute a spring-boot JAR file in staging or production. "},{"labels":["documentation"],"text":"See #13315 and #13401."},{"labels":["documentation"],"text":"The annotation processor generates interesting metadata to speed up things and can also be used by tooling to detect things without parsing the code structure. \r\n\r\nWe should recommend using it for components that provide auto-configuration\r\n\r\n(See also https://github.com/spring-cloud/spring-cloud-commons/issues/377)"},{"labels":["documentation"],"text":"The reference documentation lists, in \"Embedded Web Servers\", several sections explaining how to configure Tomcat, Jetty and Undertow. Those sections are quite similar and are missing a few concrete examples.\r\n\r\nWe should regroup all servers under a single section and expand a bit the explanation with samples."},{"labels":["documentation"],"text":"In the Spring Boot 2.0.2 Reference Guide, §23.6 states:\r\n\r\n> The algorithm used to determine a WebEnvironmentType is fairly simple\r\n\r\nThis should be \"WebApplicationType\". There is no such thing as a WebEnvironmentType."},{"labels":["documentation"],"text":"The documentation of the gradle plugin says:\r\n\r\n> The default value for build.time is the instant at which the project is being built. A side-effect of this is that the task will never be up-to-date and, therefore, builds will take slightly longer as more tasks will have to be executed.\r\n\r\nThis is correct, except for the \"slightly longer\" part. Since it affects the resources of the project, and since the resources are an input of the test task, using buildInfo() forces all the tests to be executed at each build, which makes it quite more than \"slightly\" longer :-)\r\n\r\nOf course, as documented, we can set the time to null, but then we lose valuable information.\r\n\r\nI managed to improve things by using the following trick: declare a task of type BuildInfo, make it a dependency of the bootJar task, and include its produced properties file into the jar file:\r\n\r\n\"\"\"\r\ntask buildInfo(type: org.springframework.boot.gradle.tasks.buildinfo.BuildInfo) {\r\n    destinationDir = file(\"$buildDir/buildInfo\")\r\n}\r\n\r\nbootJar {\r\n    dependsOn buildInfo\r\n\r\n    into('BOOT-INF/classes/META-INF') {\r\n        from buildInfo.destinationDir\r\n    }\r\n}\r\n\"\"\"\r\nThis makes the build much faster, since it only has to recreate the jar file, instead of having to re-run all the tests and recreate the jar file. \r\n\r\nCouldn't this be the default behavior of the \"buildInfo()\" call inside the \"springBoot\" closure? You would lose the ability to load the build-info properties file inside tests, but my guess is that no one does that. There might of course be other side-effects that I could miss (on bootRun, maybe). "},{"labels":["documentation"],"text":"I was pushing a  Spring Boot app to PCF and inspecting the VCAP environment variables (e.g. \"vcap.services.*\").  All the (pre-determined) \"sensitive\" properties (e.g. passwords, etc) were protected (i.e. masked with stars, ****) and I was trying to determine a way to expose these values for debugging purposes.  I was unaware that the \"o.s.b.actuator.endpoint.Sanitizer\" class existed and that the corresponding property \"management.endpoint.env.keys-to-sanitize\" may be used to control what is determined to be sensitive.  I searched the Spring Boot docs in the sections on the [*V. Spring Boot Actuator*](https://docs.spring.io/spring-boot/docs/2.0.0.RC1/reference/htmlsingle/#production-ready), [*57. Cloud Foundry Support*](https://docs.spring.io/spring-boot/docs/2.0.0.RC1/reference/htmlsingle/#production-ready-cloudfoundry) and [*59.1.1 - Binding to Services*](https://docs.spring.io/spring-boot/docs/2.0.0.RC1/reference/htmlsingle/#cloud-deployment-cloud-foundry-services), but did not find anything on \"sanitizing\"."},{"labels":["documentation"],"text":"# Documentation Issue\r\n\r\nIn _Appendix A: Common application properties_ (\"appendix-application-properties.adoc\")\r\nSection: _Apache Kafka properties_\r\n\r\n\"spring.kafka.producer.batch-size\" property is documented as \"Number of **records** to batch before sending\"\r\n\r\nBut it maps to the \"batch.size\" Producer configuration properties. \r\nKafka documentation says it \"...controls the default batch size in **bytes**\" \r\n(see https://kafka.apache.org/documentation/#producerconfigs)\r\n\r\n\r\n"},{"labels":["documentation"],"text":"Hello everyone,\r\n\r\nfirst of all: great job for your spring-boot !!!\r\n\r\nI would like to request an update of the Spring-Boot documentation considering scopes, that are part of Spring-Boot but not Spring-Core itself, e.g. \"webDriver\" (There might be other scopes? I do not know..)\r\n\r\nI had the same problem as described in https://github.com/spring-projects/spring-boot/issues/7454 (https://github.com/spring-projects/spring-boot/issues/6641) My own lifcecycle of webDriver was interrupted/overwritten by Spring Boot. It took a while for me to figure out this specific behaviour of Spring-Boot autoconfigure.\r\n\r\nI can create a PR. Please guide me in the right direction what should be updated:\r\n\r\n- Spring Boot reference docu?\r\n- WebDriverScope.class ? WebDriverTestExecutionListener.class?\r\n\r\nBest regards"},{"labels":["documentation"],"text":"I am using undertow as embedded server with **Spring Boot 2.0.1.**\r\n\r\nWhen I run the application, i see 2 warnings in the console as below,\r\n\r\n\"\"\"\r\n[2018-05-06 16:36:39.621[0;39m [33m WARN [external-service,,,][0;39m [35m2736[0;39m [2m---[0;39m [2m[ main][0;39m [36mio.undertow.websockets.jsr [0;39m [2m:[0;39m UT026009: XNIO worker was not set on WebSocketDeploymentInfo, the default worker will be used\r\n\r\n[2m2018-05-06 16:36:39.621[0;39m [33m WARN [external-service,,,][0;39m [35m2736[0;39m [2m---[0;39m [2m[ main][0;39m [36mio.undertow.websockets.jsr [0;39m [2m:[0;39m UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used](url)\r\n\"\"\"\r\n\r\nI understand this means we can fine tune the settings and improve performance in production.\r\n\r\nI am not able to find any information on how to do that when using undertow with spring boot.\r\n\r\nIs there a way to customize it when using Spring Boot."},{"labels":["documentation"],"text":"I think it would be helpful to improve the javadoc for \"org.springframework.boot.web.servlet.FilterRegistrationBean .addUrlPatterns()\"  so that it specifies the url pattern syntax. This SO question ( https://stackoverflow.com/questions/44769047/spring-security-how-to-use-multiple-url-patterns-in-filterregistrationbean ) implies at least some people have made the same mistake as me - thinking that addUrlPatterns() takes Ant matcher patterns, but it doesn't. It would be nice if it specified the syntax, and maybe even specifically warned that it's not the Ant matcher style commonly used by spring security. I imagine a lot of users who use this class method also use spring security, and so are likely to make the same mistake and assume the same url pattern syntax, which can manifest as very subtle bugs. \r\n\r\nThanks!"},{"labels":["documentation"],"text":"See https://docs.spring.io/spring-boot/docs/1.5.11.RELEASE/reference/html/configuration-metadata.html in section _B.3.1. Nested Properties_ the nested class \"Host\" is marked \"private\" yet my application will not boot until my equivalent class is marked \"public\".\r\n\r\nI do not know if this also applies to 2.x.\r\n\r\nStack trace when marked \"private:\r\n\r\n\"\"\"java\r\nCaused by: java.lang.IllegalAccessException: Class org.springframework.beans.BeanUtils can not access a member of class com.foo.RepliesConfiguration$Queues with modifiers \"private\"\r\n\"\"\""},{"labels":["documentation"],"text":"This is, I think, a documentation issue.\r\n\r\n\"@SpringBootTest\" appears to have JMX disabled by default which causes the test to fail if there is a component that tries to inject \"MBeanServer\". Things work as expected if \"@TestPropertySource(properties = \"spring.jmx.enabled=true\")\" is used.\r\n\r\nThis can be reproduced using something as simple as:\r\n\r\n\"\"\"java\r\n@SpringBootApplication\r\npublic class JmxDemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(JmxDemoApplication.class, args);\r\n\t}\r\n\r\n\t@Autowired\r\n\tprivate MBeanServer mbeanServer;\r\n\r\n}\r\n\"\"\"\r\n\r\n\"\"\"java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n//@TestPropertySource(properties = \"spring.jmx.enabled=true\")\r\npublic class JmxDemoApplicationTests {\r\n\r\n\t@Test\r\n\tpublic void contextLoads() {\r\n\t}\r\n\r\n}\r\n\"\"\"\r\n\r\nThere is [a hint](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-data-jpa/src/test/java/sample/data/jpa/SampleDataJpaApplicationTests.java#L49-L51) in Spring Data JPA sample app that this expected behavior however the reference manual does not mention this AFAICT."},{"labels":["documentation"],"text":"Demo project which demostrates an issue: https://github.com/andreysaksonov/demo-12995/archive/master.zip\r\n\r\nBasically, if you try use GlobalMethodSecurity on Jersey resources you will face exception below:\r\n\"\"\"\r\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:456) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.session.web.http.OnCommittedResponseWrapper.sendError(OnCommittedResponseWrapper.java:117) ~[spring-session-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n\tat javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.security.web.util.OnCommittedResponseWrapper.sendError(OnCommittedResponseWrapper.java:119) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:120) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.security.web.util.OnCommittedResponseWrapper.sendError(OnCommittedResponseWrapper.java:119) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint.commence(BasicAuthenticationEntryPoint.java:61) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint.commence(DelegatingAuthenticationEntryPoint.java:95) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.sendStartAuthentication(ExceptionTranslationFilter.java:210) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException(ExceptionTranslationFilter.java:182) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:138) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:146) ~[spring-session-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n\tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81) ~[spring-session-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.29.jar:8.5.29]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]\r\n\"\"\"\r\n\r\nWhats wrong with such configuration?"},{"labels":["documentation"],"text":"As part of an effort to support both Spring Boot 1.5 and 2.0 for Togglz (https://github.com/togglz/togglz/pull/271) I have two equivalent \"AutoConfiguration\" classes that are Spring Boot version dependent, and so I'm using \"@ConditionalOnClass\" annotations with Spring boot version specific classes as parameter to only load the right \"AutoConfiguration\" class.\r\n\r\nI would like to know if there is a best practice for this, or if my approach is acceptable.\r\n\r\nI'm aware that supporting different Spring Boot versions is actually being contemplated (#12733), so it would be great if documentation also include guidelines on how to achieve that.\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"Section 74.2 (Externalize the Configuration of SpringApplication) of the reference manual (https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html#howto-externalize-configuration) references a deprecated property.\r\n\r\nIn this section the now deprecated **spring.main.web-environment** property is used to disable the web container instead of **spring.main.web-environment-type**. The following example:\r\n\r\n\"\"\"\r\nspring.main.web-environment=false\r\nspring.main.banner-mode=off\r\n\"\"\"\r\n\r\nshould be changed to:\r\n\r\n\"\"\"\r\nspring.main.web-environment-type=none\r\nspring.main.banner-mode=off\r\n\"\"\""},{"labels":["documentation"],"text":"[Spring-Boot-with-Java-9#testing](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-with-Java-9#testing) indicates \"maven-surefire-plugin\" version (\"2.20.1\") introduced a regression when running tests, and we should downgrade to \"2.20.0\".  \r\nThis issue is now [closed](https://issues.apache.org/jira/browse/SUREFIRE-1424), we should upgrade to \"2.21.0\"."},{"labels":["documentation"],"text":"This was missed as part of #12390 - See also #12901"},{"labels":["documentation"],"text":"I looked in the (migration guide)[https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide] but I couldn't see any reference to \"EmbeddedServletContainerCustomizer\"."},{"labels":["documentation"],"text":"When trying to update to Spring Boot 2 I ran into some additional ideas to add to the migration guide.\r\n\r\n* In Spring Boot 1.x \"spring-boot-starter-thymeleaf\" the \"thymeleaf-layout-dialect\" dependency was included automatically, but in Boot 2.x it is no longer included. It would be nice to list that users need to include \"nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect\" explicitly.\r\n* To be consistent with Spring Boot 1.0.x, set \"spring.jpa.hibernate.use-new-id-generator-mappings=false\""},{"labels":[null,"documentation"],"text":"When using properties class which contains list with 2+ items the default value is null"},{"labels":["documentation"],"text":"Currently, [the doc states](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-metrics-jdbc)\r\n\r\n> Auto-configuration enables the instrumentation of all available \"DataSource\" objects \r\n\r\nIt does only for the supported datasources (i.e. Tomcat, Hikary and commons dbcp2). We need to clarify that doc and explain what should be done if the app uses a non supported \"DataSource\" implementation."},{"labels":["documentation"],"text":"As of 2.0, Spring Boot ships with a \"RouterFunctionMetrics\" class that aims at providing metrics support for WebFlux.fn applications. This issue is about deprecating this class and removing it in future versions, as it is not useful to Spring Boot applications.\r\n\r\n\"RouterFunctionMetrics\" does provide the right approach for WebFlux.fn applications that are bootstrapped manually. But since its introduction, Spring Boot applications deploy side by side annotation-based and functional endpoints within the same application. This means the \"MetricsWebFilter\" is already creating metrics for both endpoint types.\r\n\r\nThis issue should also update the reference documentation and remove mentions of that class and also not claim that the uri tag is created, as currently we're not able to get the mapping pattern matched by the \"RouterFunction\" (if any)."},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-customize-dependency-versions"},{"labels":["documentation"],"text":"When I try to inject non primary data source to scheduler factory using SchedulerFactoryBeanCustomizer, Quartz auto configuration overrides this customization with primary data source. Refer this [stack overflow qusetion](https://stackoverflow.com/questions/49637490/spring-boot-2-0-quartz-use-non-primary-datasource#)"},{"labels":["documentation"],"text":"[this section of the doc](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-relaxed-binding) is wrong as it doesn't apply the supported format on the prefix (only the property name)."},{"labels":["documentation"],"text":"It isn't super obvious in our doc that component scan is optional (enabled by default via \"@SpringBootApplication\"). \r\n\r\nWe should revisit [this section of the documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-using-springbootapplication-annotation) or perhaps move that in its own section."},{"labels":["documentation"],"text":"Third party support is now moving to Spring Boot 2 which sometimes require a dedicated starter. It would be worthwhile to expand our [existing Wiki page](https://github.com/spring-projects/spring-boot/wiki/Building-On-Spring-Boot) to explicitly reference that.\r\n\r\nIn particular, I've seen a few cases of \"acme-spring-boot-1-starter\" and \"acme-spring-boot-2-starter\" that we should clearly describe as bad practice. "},{"labels":["documentation"],"text":"Looks like Log4J2 configuration instructions for Gradle-based projects is not given in the [docs](https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html).\r\n\r\nI usually exclude \"spring-boot-starter-logging\" from all my configurations using this code snippet:\r\n\r\n\"\"\"groovy\r\nconfigurations {\r\n    all {\r\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\r\n    }\r\n}\r\n\"\"\"\r\nand then explicitly add a dependency on \"org.springframework.boot:spring-boot-starter-log4j2\" to switch to Log4J2.\r\n\r\nThe docs should be updated with instructions outlining these steps.\r\n\r\nI can create a PR with the changes, but is this the recommended approach to setup Spring Boot with Log4J2 in a Gradle-based project?"},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-external-config-conversion"},{"labels":["documentation"],"text":"Some public methods don't have javadoc."},{"labels":["documentation"],"text":"can't access url(http://localhost:8080/h2-console) on spring-boot-starter-webflux module without spring-boot-starter-web module.\r\n(can access after add spring-boot-starter-web module.)\r\n\r\nand... I found, h2-console are dependented by servlet-api\r\n\"\"\"java\r\n/* ... */\r\n@ConditionalOnClass({WebServlet.class})\r\n/* ... */\r\npublic class H2ConsoleAutoConfiguration {\r\n\"\"\"\r\n\r\nso, I think to add information to springboot document [h2-console](https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#boot-features-sql-h2-console) part.\r\n\r\n    current\r\n    - You are developing a web application.\r\n    to\r\n    -  You are developing a web application.(not support webflux)\r\n\r\nthank you\r\n\r\n\r\n\r\n\r\n\r\n"},{"labels":["documentation"],"text":"I've created a spring boot starter that may be useful to some folks -\r\n\r\nSpecifically this library -\r\nhttps://github.com/savantly-net/sprout-platform/tree/master/spring/sprout-spring-boot-starter\r\n\r\nUsed in the larger platform scope - \r\nhttps://github.com/savantly-net/sprout-platform\r\n\r\nA legacy version of this library may be useful to developers not using Angular 2x+ \r\nIt doesn't include many of the features that the full Sprout platform offers - \r\nhttps://github.com/savantly-net/sprout-spring-boot-starter\r\n"},{"labels":["documentation"],"text":"The names are no longer optional so the method Javadoc is wrong."},{"labels":["documentation"],"text":"[Here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-metrics-export-graphite) documentation states _post_ instead of _port_\r\n\r\n> management.metrics.export.graphite.post=9004\r\n\r\nSpring-boot reference manual for 2.0.0.Release"},{"labels":["documentation"],"text":"We should add a link to https://pivotal.io/security in both CONTRIBUTING and the GitHub templates."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"# Description\r\n\r\nIn Spring Boot 1.5.10, it is not possible to bind properties to Lists, when those properties are split between different profiles. For example:\r\n\r\nGiven the following \"@ConfigurationProperties\" class:\r\n\r\n\"\"\"java\r\n@ConfigurationProperties(\"example.multiple\")\r\npublic class ExampleListProperties {\r\n  private List<ExampleProperties> list;\r\n\r\n  public List<ExampleProperties> getList() {\r\n    return list;\r\n  }\r\n\r\n  public void setList(final List<ExampleProperties> list) {\r\n    this.list = list;\r\n  }\r\n\r\n  public static class ExampleProperties {\r\n    private String first;\r\n\r\n    private String second;\r\n\r\n    public String getFirst() {\r\n      return first;\r\n    }\r\n\r\n    public void setFirst(final String first) {\r\n      this.first = first;\r\n    }\r\n\r\n    public String getSecond() {\r\n      return second;\r\n    }\r\n\r\n    public void setSecond(final String second) {\r\n      this.second = second;\r\n    }\r\n}\r\n\"\"\"\r\nThen both fields of the nested class will be set correctly if application.properties contains:\r\n\r\n    example.multiple.list[0].first=foo\r\n    example.multiple.list[0].second=bar\r\n\r\nHowever, if application-dev.properties has this:\r\n\r\n    example.multiple.list[0].first=foo\r\n\r\nThen \"first\" will be set but \"second\" will be null.\r\n\r\n\r\nThis behaviour is confusing and unexpected because it is inconsistent with how properties are usually combined and overriden between profiles.\r\n\r\nFor example, given this \"@ConfigurationProperties\" class:\r\n\r\n\"\"\"java\r\n@ConfigurationProperties(\"example.single\")\r\n  public class ExampleProperties {\r\n    private String first;\r\n\r\n    private String second;\r\n\r\n    public String getFirst() {\r\n      return first;\r\n    }\r\n\r\n    public void setFirst(final String first) {\r\n      this.first = first;\r\n    }\r\n\r\n    public String getSecond() {\r\n      return second;\r\n    }\r\n\r\n    public void setSecond(final String second) {\r\n      this.second = second;\r\n    }\r\n\"\"\"\r\n\r\nI can now split the two properties over different environments and they will be set without issue. Given the following:\r\n\r\napplication.properties:\r\n\r\n    example.single.first=foo\r\n    example.single.second=bar\r\n\r\napplication-dev.properties:\r\n\r\n    example.single.first=foobar\r\n\r\nThen with the dev profile active, I get \"first\" equal to \"foobar\" and \"second\" equal to \"bar\".\r\n\r\nI have also checked and found the same behaviour with 2.0.0.RELEASE.\r\n\r\n# Example\r\n\r\nI have created an [example application](https://github.com/rupert654/listbindingbug) to demonstrate the issue.\r\n\r\nTry running with the \"dev\" profile activated.\r\n\r\n# Fix\r\n\r\nIs this behaviour intentional?\r\n\r\nIf not, would you be open to a PR to fix this?"},{"labels":["documentation"],"text":"in Spring Boot Reference, 20.2 Automatic Restart \r\n[Triggering a restart] ...  In IntelliJ IDEA, building the project (Build -> **Make Project**) has the same effect.\r\nneed to change\r\n[Triggering a restart] ...  In IntelliJ IDEA, building the project (Build -> **Build Project**) has the same effect.\r\n\r\nI use IntelliJ 2017.3.4 (Community Edition).\r\nThank you.\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"Spring Boot Reference Guide, part 13.5 \"Starters\" still mentions Tomcat JDBC connection pool, but Tomcat JDBC was replaced by HikariCP in 2.0.0.\r\n\r\nSee: \"spring-boot-starter-jdbc | Starter for using JDBC with the Tomcat JDBC connection pool\" in\r\nhttps://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-starter\r\n\r\nIt would be nice if this was fixed.\r\n\r\nThanks!\r\n\r\n\r\n"},{"labels":["documentation",null],"text":"Spring Framework 5.0 raised the system requirements for Servlet to 3.1+ (see [migration guide](https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x)).\r\n\r\nWe should update our own system requirements to reflect that in the reference documentation, as currently we're still claiming:\r\n\r\n> You can also deploy Spring Boot applications to any Servlet 3.0+ compatible container."},{"labels":["documentation"],"text":"Using the latest \"2.0.0.RELEASE\", i am trying to expose all the actuator endpoints on web.\r\n\r\nFollowing [this guide](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-endpoints-exposing-endpoints), i am trying to add the following in my YAML configuration:\r\n\"management.endpoints.web.exposure.include: *\"\r\n\r\nI get the following error, apparently because of the \"*\" character:\r\n\"\"\"\r\n17:39:07.467 [restartedMain] ERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.IllegalStateException: Failed to load property source from location 'classpath:/application.yml'\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:535)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:494)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:462)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$4(ConfigFileApplicationListener.java:444)\r\n\tat java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$5(ConfigFileApplicationListener.java:443)\r\n\tat java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:440)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:331)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:213)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:196)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:183)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:351)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)\r\n\tat com.socgen.rmdsusage.Application.main(Application.java:15)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: org.yaml.snakeyaml.scanner.ScannerException: while scanning an alias\r\n in 'reader', line 53, column 44:\r\n     ... endpoints.web.exposure.include: *\r\n                                         ^\r\n(13)\r\n in 'reader', line 53, column 45:\r\n     ... ndpoints.web.exposure.include: *\r\n                                         ^\r\n\r\n\tat org.yaml.snakeyaml.scanner.ScannerImpl.scanAnchor(ScannerImpl.java:1447)\r\n\tat org.yaml.snakeyaml.scanner.ScannerImpl.fetchAlias(ScannerImpl.java:918)\r\n\tat org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:366)\r\n\tat org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:226)\r\n\tat org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingValue.produce(ParserImpl.java:585)\r\n\tat org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:157)\r\n\tat org.yaml.snakeyaml.parser.ParserImpl.checkEvent(ParserImpl.java:147)\r\n\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:133)\r\n\tat org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:249)\r\n\tat org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:240)\r\n\tat org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:228)\r\n\tat org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:154)\r\n\tat org.yaml.snakeyaml.composer.Composer.composeDocument(Composer.java:122)\r\n\tat org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:84)\r\n\tat org.yaml.snakeyaml.constructor.BaseConstructor.getData(BaseConstructor.java:123)\r\n\tat org.yaml.snakeyaml.Yaml$1.next(Yaml.java:547)\r\n\tat org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:161)\r\n\tat org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\r\n\tat org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:72)\r\n\tat org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:542)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:515)\r\n\t... 28 common frames omitted\r\n\"\"\"\r\n\r\nNot sure if it is a YAML parser limitation or Spring Boot limitation, or a bug ?"},{"labels":["documentation"],"text":"Section 23.6 (https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-spring-application.html#boot-features-web-environment)\r\n\r\n> The algorithm used to determine a \"web environment\" is fairly simplistic (it is based on the presence of a few classes). If you need to override the default, you can use setWebEnvironment(boolean webEnvironment).\r\n>\r\n> It is also possible to take complete control of the ApplicationContext type that is used by calling setApplicationContextClass(…​).\r\n> \r\n> Tip. It is often desirable to call setWebEnvironment(false) when using SpringApplication within a JUnit test.\r\n\r\nThe reference guide introduces that to use [\"setWebEnvironment(boolean webEnvironment)\"](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L954) to override the default. However, this method has been deprecated since Spring Boot 2.0.0, and it is recommended to replace this method with [\"setWebApplicationType(WebApplicationType webApplicationType)\"](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L965).\r\n\r\nI think the guide should be updated accordingly."},{"labels":["documentation"],"text":"\r\n[endpointdemo.zip](https://github.com/spring-projects/spring-boot/files/1774420/endpointdemo.zip)\r\n\r\nIn demo \"TestControllerEndpoint1\" is ok, \"TestControllerEndpoint2\" do not work.\r\n\r\nspring.factories:\r\n\r\n\"\"\"\r\norg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n  com.test.TestEndpoints1Configuration\r\n\r\norg.springframework.boot.actuate.autoconfigure.web.ManagementContextConfiguration=\\\r\n  com.test.TestEndpoints2ManagementContextConfiguration\r\n\"\"\"\r\n\r\nIn spring boot 1.5 import endpoint controller bean from \"ManagementContextConfiguration\" is ok . \r\n\r\nIn spring boot 2, user have to import form \"EnableAutoConfiguration\"?"},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/1.5.x/reference/html/boot-features-logging.html\r\nSection 26.5\r\n\r\n\r\n> Since logging is initialized before the \"ApplicationContext\" is created, it isn’t possible to control logging from \"@PropertySources\" in Spring \"@Configuration\" files. System properties and the conventional Spring Boot external configuration files work just fine.)\r\n\r\nThe only way to override logging system (and set it to none, in my case) appears to be the system property method.  Trying application.properties, or servlet context parameters don't work.\r\n\r\nI checked out the code, and it makes sense, all that the \"LoggingSystem\" class does is pull from \"System.getProperty()\".\r\n\r\n\r\n"},{"labels":["documentation"],"text":"Binding does support binding to \"Duration\" with human-readable format. There is also a way to configure the \"DefaultUnit\" if that's not ms for a particular property of a \"@ConfigurationProperties\". The documentation must be updated to reflect that."},{"labels":["documentation"],"text":"Our security infrastructure has been polished since M4. Our migration guide [refers to the blog post](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#security) but it provides outdated information now.\r\n\r\nWe should either update the blog post or stop referring to it I guess\r\n\r\n/cc @aheritier"},{"labels":["documentation"],"text":"Other access log \"enabled\" are \"boolean\" and default to \"false\". This looks like the case for Undertow as well so we should align it and make sure the default shows up properly in the metadata."},{"labels":["documentation"],"text":"#10870 polished the description of a bunch of configuration keys. Unfortunately, those changes were not reflected in the metadata (so the IDE shows the unpolished version)."},{"labels":["documentation"],"text":"If the annotation processor handles a \"Duration\" it will append the unit to the default value so that the user knows it (e.g. \"0ms\" rather than \"0\"). \r\n\r\nThe \"time-to-live\" property for a discovered endpoint is a special case and the generated default value does not contain the unit. It should."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\n-->\r\n\r\nDocumentation reporting incorrect configuration values:\r\nhttps://docs.spring.io/spring-boot/docs/2.0.0.RC2/reference/htmlsingle/#production-ready-metrics-export-statsd\r\n\r\n    management.metrics.export.statsd.host=http://statsd.example.com\r\n    management.metrics.export.statsd.port=9125\r\n\r\nshould drop the \"http\" from the host:\r\n\r\n    management.metrics.export.statsd.host=statsd.example.com\r\n    management.metrics.export.statsd.port=9125\r\n\r\nOtherwise the application won't start.\r\n\r\n"},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/reference/htmlsingle/#boot-features-rest-templates-test-utility\r\n\r\nWe should extract the example, test it, and then include it in the docs."},{"labels":["documentation"],"text":"In current migration documentation, we don't have a section on the migration of spring social modules. Can you please add this \r\n\r\nI have a [POC](https://github.com/rajadilipkolli/jshop-ecommerce.git) running well on 2.0.0.Snapshot version which was created a year ago. When I revisited today to upgrade it to 2.0.0.RC1 I see that spring social facebook and spring social twitter is unable to import dependencies. I see that now autoconfiguration of facebook and twitter it is moved to spring social. So if we document it will be useful."},{"labels":["documentation"],"text":"For some reason Spring Boot 1.5 stuck with an ancient version of Flyway (Flyway 3.2.1 released almost 3 years ago on 2015-03-20).  \r\n\r\nFlyway 4.0 was released 2 years ago on 2016-02-29 and it introduced a new schema history table format. Flyway transparently migrated older schema history all throughout the 4.0 series which lasted until 4.2.0 which was released over a year later on 2017-04-27.\r\n\r\nFlyway 5.0 was released on 2017-12-07 and dropped support for this migration as by that point users already had 22 months to migrate automatically. And they can still do so today, and here lies the clue, by first migrating to 4.2.0 and then to 5.0.x.\r\n\r\nNow in terms of Flyway support, Spring Boot went straight from 2015 (Flyway 3.2.1 in Spring Boot 1.5) to 2018 (Flyway 5.0.x in Spring Boot 2.0), completely skipping the smooth transition period we had put in place.\r\n\r\nThis is not an issue for new users. They get the latest and greatest and it all works fine.\r\n\r\nFor existing users however, blindly upgrading causes the following issue: https://github.com/flyway/flyway/issues/1925\r\n\r\nThis is a problem.\r\n\r\nSpring Boot should offer a better upgrade story to those users. At the very least it should document that when upgrading, users should first manually override the dependency version to 4.2.0 to give Flyway a chance to upgrade its internal structures, before making the move to 5.0.x. \r\n\r\nIf a 1.6 release of Spring Boot is planned, including Flyway 4.2.0 in there would certainly also help as Spring Boot users could then smoothly upgrade from Spring Boot 1.5 to 1.6 to 2.0."},{"labels":["documentation"],"text":"Current documentation makes no reference to Java 10, it would be convenient if the release notes and documentation was updated to reference compatibility or support for Java 10 since it will probably be release around the same time as Spring Boot 2.0."},{"labels":["documentation"],"text":"Hello,\r\n\r\nIm seeing an error when i migrate from M7 to RC1 ,  earlier logging.level.*=ERROR works fine. But when i use similar config, it fails to startup, is there a new syntax?\r\n\r\n\"\"\"\r\n2018-02-06 21:06:18.700 ERROR 98458 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'logging.level' to java.util.Map<java.lang.String, java.lang.String>\r\n        at org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:227)\r\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:203)\r\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:187)\r\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:143)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.setLogLevels(LoggingApplicationListener.java:306)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initializeFinalLoggingLevels(LoggingApplicationListener.java:289)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:237)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:199)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:172)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74)\r\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\r\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:351)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:317)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234)\r\n\"\"\""},{"labels":["documentation"],"text":"<!--\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n-->\r\nVersion: Spring Boot 2.0.0.RC1\r\nError: Could not set unknown property 'additionalProperties' for task ':myproject:bootBuildInfo' of type org.springframework.boot.gradle.tasks.buildinfo.BuildInfo.\r\n\r\nI'm trying to set build properties like so\r\n\"\"\"groovy\r\nspringBoot {\r\n\tbuildInfo {\r\n\t\tadditionalProperties = [\r\n\t\t\t'buildNumber': System.env.'BUILD_NUMBER' ?: 'UNKNOWN',\r\n\t\t\t'jobName': System.env.'JOB_NAME' ?: 'UNKNOWN'\r\n\t\t]\r\n\t}\r\n}\r\n\"\"\"\r\n...following the docs as described here: https://docs.spring.io/spring-boot/docs/2.0.0.RC1/reference/htmlsingle/#howto-build-info"},{"labels":["documentation"],"text":"Relevant sections from http://micrometer.io/docs/ref/spring/2.0 should be migrated to the Spring Boot reference guide."},{"labels":["documentation"],"text":"The user guide is a bit thin here - no examples or links to samples - so I found it quite hard to get started with configuring security in a reactive app. There is no reactive starter, so I guess all the features are included in the vanilla security starter? The sample in Spring Boot with security and webflux doesn't have any custom configuration, which is fine obviously, but didn't help me. I found a couple of samples in Spring Security and this section of the Spring Security user guide is useful (but not Boot specific): https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/reference/htmlsingle/#explicit-webflux-security-configuration."},{"labels":["documentation"],"text":"As mentioned [here](https://github.com/spring-projects/spring-boot/issues/11079#issuecomment-362846375) we might not have documented this yet. We should check the reference and release notes."},{"labels":["documentation"],"text":"Changes made in issue [#11589](https://github.com/spring-projects/spring-boot/issues/11589) are missing in the Release Notes for 2.0.0.RC1. I noticed since we retrieve the Cookie from the ServerProperties.Session which is moved from \"ServerProperties.Session.Cookie \" to \"ServerProperties.Servlet.Session.Cookie\".\r\n\r\nMight be helpful for other to document this change."},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/11849#issuecomment-361879350."},{"labels":["documentation"],"text":"wrong level?"},{"labels":["documentation"],"text":"I think it's a bit out of date. For example, I don't think the following properties are used any more:\r\n\r\n- \"management.endpoints.jmx.enabled\"\r\n- \"management.endpoints.web.enabled\"\r\n\r\nThey've been replaced by \"management.endpoints.*.expose\" and \"management.endpoints.*.exclude\".\r\n\r\nThe web one is only mentioned in the appendix.\r\n\r\nThere's a [small section](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready-disable-jmx-endpoints) for the JMX one. I think the equivalent would now be \"management.endpoints.jmx.exclude=*\"."},{"labels":[null,"documentation"],"text":"Unfortunately my previous issue #11678 was closed as duplicate, though I don't think it is one.\r\n\r\nIn the issue I argued that the documentation is not entirely clear on which of several similar properties have precedence.\r\n\r\nThe referenced issue suggest other default values of certain properties in some contexts.\r\n\r\nI would be glad if the documentation could be improved."},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/2923#issuecomment-358451260."},{"labels":["documentation"],"text":"It has been removed for quite some time now. See #11529"},{"labels":["documentation"],"text":"I'm building a larger application using RouterFunctions. What I noticed relative quickly after starting is that I built a configuration class which is depended from nearly all the services in my application. This is definitely something we all want to avoid.\r\nSo I reached out to Stéphane Nicoll & Phil Webb and was told that I can easily split the RouterFunctions into several BeanDefinitions and they will be reconciliated for me during startup. (https://twitter.com/snicoll/status/950636452232167425)\r\n\r\nThis should be reflected in the docs so people don't start building massive Configuration Classes which depend on nearly everything."},{"labels":["documentation"],"text":"See https://youtrack.jetbrains.com/issue/IDEA-184587"},{"labels":["documentation"],"text":"I am checking the APIs in the spring-boot-docs folder(https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-docs/src/main/asciidoc), and I found outdated APIs. I hope some contributors may confirm whether the followings are outdated or not:\r\n\r\n1. \"ServletWebServerFactoryCustomizer\" should be replaced by \"WebServerFactoryCustomizer\" in https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-docs/src/main/asciidoc/howto.adoc. \r\n\r\n2. \"EmbeddedWebServer\" and \"SpringBootServletInitializer\" look to have been deleted but still exists in the same document \"howto.adoc.\"\r\n\r\n3. \"EnableIntegrationPatterns\" is outdated in https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-docs/src/main/asciidoc/spring-boot-cli.adoc.\r\n\r\n4. \"YamlMapFactoryBean\" is outdated https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc.\r\n\r\n\r\nThanks in advance,\r\nSeonah"},{"labels":["documentation"],"text":"The link [in 3.1](https://docs.spring.io/spring-boot/docs/2.0.0.M7/gradle-plugin/reference/html/) hasn't expanded the correct URL."},{"labels":["documentation"],"text":"See #11387 for more details. We're affected by https://github.com/mimil/docbkx-tools/issues/130. The workaround in that issue appears to solve the problem."},{"labels":["documentation"],"text":"[This section of the documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-custom-starter-module-starter) should be improved to mention that a starter should bring the core starter (or any other starter) as any starter alone must bring the core infrastructure that Spring Boot advertizes. \r\n\r\nFailing to do so can lead to unexpected behaviour (such as logging not working out of the box). See also https://github.com/spring-cloud/spring-cloud-task/issues/359"},{"labels":["documentation"],"text":"The table cells are intermingled. Please see the attached screenshot:\r\n\r\n<img width=\"674\" alt=\"screen shot 2017-12-27 at 1 56 18 pm\" src=\"https://user-images.githubusercontent.com/18451/34369165-dc095f92-eb0d-11e7-8e29-2752e68f012e.png\">\r\n"},{"labels":["documentation"],"text":"Given the following application\r\n\r\n\"\"\"java\r\nimport java.security.Principal;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ApplicationListener;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.event.AuthenticationFailureBadCredentialsEvent;\r\nimport org.springframework.security.authentication.event.AuthenticationSuccessEvent;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\n@RestController\r\npublic class AuthlistenerApplication {\r\n\r\n    @GetMapping(\"/\")\r\n    public String hello(final Principal principal) {\r\n        return \"Hello, \" + principal.getName() + \".\";\r\n    }\r\n\r\n    @Bean\r\n    public ApplicationListener<AuthenticationSuccessEvent> onSuccessListener() {\r\n        return (AuthenticationSuccessEvent event) -> {\r\n            System.out.println(\"Yeah!\");\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public ApplicationListener<AuthenticationFailureBadCredentialsEvent> onBadCredentialsListener() {\r\n        return (AuthenticationFailureBadCredentialsEvent event) -> {\r\n            System.out.println(\"Oh no...\");\r\n        };\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AuthlistenerApplication.class, args);\r\n    }\r\n}\r\n\"\"\"\r\n\r\nRunning this on Spring Boot *1.5.9.RELEASE* triggers either \"AuthenticationSuccessEvent\" or an \"AuthenticationFailureBadCredentialsEvent\" event, depending if one uses the correct password.\r\n\r\nNeither of those events are triggered on *2.0.0.BUILD-SNAPSHOT* and probably not on the Milestone as well. Here's a test to confirm this:\r\n\r\n\"\"\"java\r\nimport java.util.Base64;\r\nimport org.junit.Rule;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.rule.OutputCapture;\r\nimport org.springframework.boot.test.web.client.TestRestTemplate;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\nimport static org.hamcrest.CoreMatchers.containsString;\r\nimport static org.hamcrest.CoreMatchers.equalTo;\r\nimport static org.hamcrest.CoreMatchers.is;\r\nimport static org.junit.Assert.assertThat;\r\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.RANDOM_PORT;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = RANDOM_PORT)\r\n@TestPropertySource(properties = {\r\n    \"security.user.name = testuser\",\r\n    \"security.user.password = testpassword\",\r\n    \"spring.security.user.name = testuser\",\r\n    \"spring.security.user.password = testpassword\",})\r\npublic class AuthlistenerApplicationTests {\r\n\r\n    @Rule\r\n    public OutputCapture output = new OutputCapture();\r\n\r\n    @Autowired\r\n    TestRestTemplate restTemplate;\r\n\r\n    @Test\r\n    public void logsSuccess() throws Exception {\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        headers.add(\"Authorization\", \"Basic \" + Base64.getEncoder().encodeToString(\"testuser:testpassword\".getBytes()));\r\n        headers.add(\"Accept\", MediaType.APPLICATION_JSON_VALUE);\r\n\r\n        final ResponseEntity<String> r = restTemplate\r\n                .exchange(\"/\", HttpMethod.GET, new HttpEntity<>(headers), String.class);\r\n        assertThat(r.getStatusCode(), is(equalTo(HttpStatus.OK)));\r\n        assertThat(r.getBody(), is(equalTo(\"Hello, testuser.\")));\r\n        assertThat(\"Output did not contain 'Yeah!'\", output.toString(), containsString(\"Yeah!\"));\r\n    }\r\n\r\n    @Test\r\n    public void logsFailure() throws Exception {\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        headers.add(\"Authorization\", \"Basic \" + Base64.getEncoder().encodeToString(\"testuser:fump\".getBytes()));\r\n        headers.add(\"Accept\", MediaType.APPLICATION_JSON_VALUE);\r\n\r\n        final ResponseEntity<String> r = restTemplate\r\n                .exchange(\"/\", HttpMethod.GET, new HttpEntity<>(headers), String.class);        \r\n        assertThat(r.getStatusCode(), is(equalTo(HttpStatus.UNAUTHORIZED)));\r\n        assertThat(\"Output did not contain 'Oh no...'\", output.toString(), containsString(\"Oh no...\"));        \r\n    }\r\n}\r\n\"\"\"\r\n\r\nI used the snapshot for the test as the test makes use of the new old properties to configure the user (see #10963).\r\n\r\nI already checked if the \"DefaultAuthenticationEventPublisher\" is still part of \"SecurityAutoConfiguration\" and yes, it is. So I assume that those events should still be published."},{"labels":["documentation"],"text":"\"management.security.enabled\" has been removed in spring-boot 2. But the docs still mention the property. Please adjust the documentation add a sample for the alternative way to disable security on the management endpoints."},{"labels":["documentation"],"text":"The property moved under \"servlet\" but we still have at least one reference."},{"labels":["documentation"],"text":"Hi,\r\nthere is a typo in this documentation: https://docs.spring.io/spring-boot/docs/2.0.0.M7/reference/html/boot-features-external-config.html\r\n\r\nThe new parameter is **spring.config.additional-location** and not **spring.config.addition-location**.\r\n\r\nCheers,\r\nAntoine"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"See https://jira.spring.io/browse/SPR-16254"},{"labels":["documentation"],"text":"See https://github.com/Buzzardo/spring-style-guide/blob/master/spring-style-guide.adoc#words-to-avoid-or-avoid-misusuing"},{"labels":["documentation"],"text":"In $ https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready-disable-jmx-endpoints it is mentioned:\r\n\r\nIf you do not want to expose endpoints over JMX, you can set the \"endpoints.default.jmx.enabled\" property to false, as shown in the following example:\r\n\r\n\"endpoints.default.jmx.enabled=false\"\r\n\r\nshouldn't this be \"management.endpoints.jmx.enabled=true\"?\r\n"},{"labels":["documentation"],"text":"\"WebTestClient\" is a new api that can be used on a \"mock server\" (direct call to the controller) as well as running servers (integration tests). It also provides assertions and other utilities that make it a better choice than \"TestRestTemplate\".\r\n\r\nWe should review the documentation to mention this and help users if they chose to migrate\r\n\r\nUseful resources:\r\n\r\nhttps://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#webmvc-client\r\nhttps://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#webtestclient"},{"labels":["documentation"],"text":"The following sections in the reference need to be updated: \r\n\r\n- Actuator Security\r\n- Switch off the Spring Boot Security Configuration\r\n- Change the AuthenticationManager and Add User Accounts\r\n- Enable HTTPS When Running behind a Proxy Server (\"security.require_ssl\" mention)"},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/7612#issuecomment-345225099."},{"labels":["documentation"],"text":"It has been renamed to \"ConditionEvaluationReportLoggingListener\""},{"labels":["documentation"],"text":"When both \"spring-boot-starter-web\" and \"spring-boot-starter-webflux\" are on the classpath, Spring Boot configures a Spring MVC application by default.\r\n\r\nThe reference documentation already documents a way to force an application as reactive, by setting the application type directly like \".setWebApplicationType(WebApplicationType.REACTIVE)\".\r\n\r\nIn the \"Testing Spring Boot Applications\", we should mention the same when testing an application with \"@SpringBootTest\", which requires to add the \"\"spring.main.web-application-type=reactive\"\" property."},{"labels":["documentation"],"text":"First of all thx a lot for the [sample code](https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-oauth2-client) @mbhave and @philwebb \r\n\r\n\r\nWhile trying it out I noticed that after a successful login with either GitHub or Google I see following log in the console and get redirected to the \"/login\" page as the authorisation was unsuccessful. \r\n\r\n<details>\r\n <summary>Log output</summary>\r\n\r\n\"\"\"\r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:204) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:109) [spring-security-oauth2-client-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) [spring-security-web-5.0.0.RC1.jar:5.0.0.RC1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.0.1.RELEASE.jar:5.0.1.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_112]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_112]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_112]\r\n\"\"\"\r\n</details>\r\n\r\nIs there some configuration missing?\r\n\r\n# Steps to reproduce\r\n\r\n1. Setup project as in the sample repo\r\n\r\n<details>\r\n <summary>Sample pom.xml</summary>\r\n\r\n \"\"\"\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n\t<modelVersion>4.0.0</modelVersion>\r\n\r\n\t<groupId>ch.aaap</groupId>\r\n\t<artifactId>3APAdmin</artifactId>\r\n\t<version>0.0.1-SNAPSHOT</version>\r\n\t<packaging>jar</packaging>\r\n\r\n\t<name>3APAdmin</name>\r\n\t<description>3AP Admin</description>\r\n\r\n\t<parent>\r\n\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\r\n\t\t<version>2.0.0.M6</version>\r\n\t\t<relativePath /> <!-- lookup parent from repository -->\r\n\t</parent>\r\n\r\n\r\n\t<!-- We don't need this once there is a 2.0.Release version available -->\r\n\t<repositories>\r\n\t\t<repository>\r\n\t\t\t<id>spring-snapshots</id>\r\n\t\t\t<url>http://repo.spring.io/snapshot</url>\r\n\t\t\t<snapshots>\r\n\t\t\t\t<enabled>true</enabled>\r\n\t\t\t</snapshots>\r\n\t\t</repository>\r\n\t\t<repository>\r\n\t\t\t<id>spring-milestones</id>\r\n\t\t\t<url>http://repo.spring.io/milestone</url>\r\n\t\t</repository>\r\n\t</repositories>\r\n\t<pluginRepositories>\r\n\t\t<pluginRepository>\r\n\t\t\t<id>spring-snapshots</id>\r\n\t\t\t<url>http://repo.spring.io/snapshot</url>\r\n\t\t</pluginRepository>\r\n\t\t<pluginRepository>\r\n\t\t\t<id>spring-milestones</id>\r\n\t\t\t<url>http://repo.spring.io/milestone</url>\r\n\t\t</pluginRepository>\r\n\t</pluginRepositories>\r\n\r\n\t<properties>\r\n\t\t<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n\t\t<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\r\n\t\t<java.version>1.8</java.version>\r\n\t</properties>\r\n\r\n\t<dependencies>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-devtools</artifactId>\r\n\t\t\t<optional>true</optional>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-security</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.security</groupId>\r\n\t\t\t<artifactId>spring-security-config</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.security</groupId>\r\n\t\t\t<artifactId>spring-security-oauth2-client</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.security</groupId>\r\n\t\t\t<artifactId>spring-security-oauth2-jose</artifactId>\r\n\t\t</dependency>\r\n\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-test</artifactId>\r\n\t\t\t<scope>test</scope>\r\n\t\t</dependency>\r\n\r\n\r\n\t</dependencies>\r\n\r\n\t<build>\r\n\t\t<plugins>\r\n\t\t\t<plugin>\r\n\t\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\r\n\t\t\t</plugin>\r\n\t\t</plugins>\r\n\t</build>\r\n\r\n\r\n</project>\r\n\"\"\"\r\n</details>\r\n\r\n\r\n2. [Register](https://github.com/settings/applications/new) a new OAuth application\r\n\r\n3. Adapt application.yml accordingly\r\n\r\nThx a lot for the help"},{"labels":["documentation"],"text":"It appears when using a List inside \"@ConfigurationProperties\" like \"thing[0]=hello\" and \"thing[1]=seth\", overriding one element with an environment variable like \"thing[0]=goodbye\" wipes out all my old elements. Is there any workaround? Perhaps through some \"setter\" magic?\r\n\r\nI see it's also mentioned at #9137 but the public docs have not been updated yet (see https://github.com/spring-projects/spring-boot/commit/40f4c8960235ddffbc221a77c0abe9f270f91dc5)\r\n\r\nThis has caused some serious issues for us as we created a custom [@Conditional for repeated properties](https://stackoverflow.com/a/41947940/2108807)  that checked required subproperties  (\"service[x].name\" and \"service[x].version\"), but that no longer works correctly if someone decides to override any single one of the elements in the entire list."},{"labels":["documentation"],"text":"**Question**\r\n\r\nAm I right that there is no proper information about using reactive Spring Data MongoDB with SSL?\r\nI stumbled upon this problem and the best I could find was this information: https://stackoverflow.com/questions/43310037/cannot-connect-to-mongodb-using-spring-data-reactive-and-spring-boot-2-0\r\nWith some more information from the MongoDB (not Spring) documentation I found out it's actually quite simple to make this work using the \"MongoClientSettingsBuilderCustomizer\".\r\nIt might be a tiny bit, but it's quite crucial for any production deployment, e.g. on CF.\r\n\r\n**Enhancement**\r\n\r\nA small section in the documentation could help alot already. If I didn't just miss it somewhere I can also provide that snippet as a PR."},{"labels":["documentation"],"text":"The doc  for JPA and Neo4j have a reference to \"@EntityScan\" but Mongo does not."},{"labels":["documentation"],"text":"This enhancement idea is based on the findings after this question in Stack Overflow:\r\n\r\nhttps://stackoverflow.com/questions/47054716/componentscan-in-application-class-breaks-webmvctest-and-springboottest\r\n\r\nFor me it was not obvious that when adding \"@ComponentScan\" in the application class it would override the defaults set by \"@SpringBootApplication\" (mainly the defaults set for excludeFilters). \r\n\r\nI think there are multiple possibilities to make this clearer:\r\n\r\n1. When Spring Boot finds a \"@ComponentScan\" in the application class and it does not have the two default exclude filters (TypeExcludeFilter and AutoConfigurationExcludeFilter) it should throw an exception. An attribute could also be added to \"@SpringBootApplication\" to let the developer bypass this check if desired.\r\n\r\n2. Would it make sense to simply deny the use of \"@ComponentScan\" in the application class?\r\n\r\n3. Spring Boot could automatically consider the two default filters even if they are not specified in the \"@ComponentScan\" annotation when it is in the application class.\r\n\r\n4. Would it make sense to move the default exclude filters from the \"@SpringBootApplication\" annotation to the \"@ComponentScann\" annotation?\r\n"},{"labels":["documentation"],"text":"Running my application via \"./mvnw spring-boot:run -Dspring.profiles.active=dev\" works and activates the \"dev\"-Profile. However if I add \"spring-boot-devtools\" the specified profile is not used any longer.\r\n\r\nAn example showing this behaviour can be found at https://github.com/mvitz/maven-spring-boot-devtools-Dspring.profiles.active-bug\r\n\r\nBest outcome would be that this will be fixed, if not possible it should at least be documented."},{"labels":["documentation"],"text":"While working on #10858 I've noticed that most properties aren't in the appendix and that they don't conform to our usual schema for configuration keys.\r\n\r\nAlso default values are not made available. For instance \"spring.metrics.export.atlas.uri\" could use \"http://localhost:7101/api/v1/publish\" as the default value. I guess adding some tests that validate that the default are consistent would be in order then."},{"labels":["documentation"],"text":"There's a section in the How To documentation that is now out of date following the changes made in https://github.com/spring-projects/spring-boot/issues/7467."},{"labels":["documentation"],"text":"See #10827 for background."},{"labels":["documentation"],"text":"The following classes have a copy-n-paste typo of the form \"used to decorate and existing\".\r\n\r\n- \"AssertableWebApplicationContext\"\r\n- \"AssertableReactiveWebApplicationContext\"\r\n- \"AssertableApplicationContext\"\r\n- \"ApplicationContextAssertProvider\""},{"labels":["documentation"],"text":"The part introduction reads:\r\n\r\n> Actuator HTTP endpoints are only available with a Spring MVC-based application. In particular, it will not work with Jersey unless you enable Spring MVC as well.\r\n\r\nThere may be other areas that are similarly out of date."},{"labels":["documentation"],"text":"I think some parts of [this section](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security) of the reference documentation are now out of date. For example:\r\n\r\n> To override the access rules without changing any other auto-configured features add a \"@Bean\" of type WebSecurityConfigurerAdapter with \"@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\" and configure it to meet your needs.\r\n\r\nAnd \r\n\r\n> To override the application access rules add a \"@Bean\" of type WebSecurityConfigurerAdapter and use \"@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\" if you don’t want to override the actuator access rules, or \"@Order(ManagementServerProperties.ACCESS_OVERRIDE_ORDER)\" if you do want to override the actuator access rules."},{"labels":["documentation"],"text":"[This section](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-webflux-static-content) refers to \"spring.mvc.static-path-pattern\". It should be \"spring.webflux.static-path-pattern\"."},{"labels":["documentation"],"text":"spring-boot-features.adoc contains a note that is no longer the case."},{"labels":["documentation"],"text":"While we decided in #7943 to enable this property by default, the documentation and metadata were not updated."},{"labels":["documentation"],"text":"in \"f2c63706daef6ddca05adc6771a761593b019524\" suffix was changed from \".html\" to \".mustache\" but metadata in \"spring-boot-autoconfigure/src/main/resources/META-INF/additional-spring-configuration-metadata.json\" still has old value\r\n\r\nOriginal report: https://youtrack.jetbrains.com/issue/IDEA-181045"},{"labels":[null,"documentation"],"text":"I am currently experimenting with custom properties classes and want extend an existing properties class:\r\n\r\n\"\"\"\"\r\npublic class CustomRabbitProperties extends RabbitProperties { }\r\n\"\"\"\"\r\n\r\nSadly the configuration processor does not create metadata for the nested classes in \"RabbitProperties\" (e.g. \"RabbitProperties.Ssl\") for my extension. It works when I add a property to my extension with \"@NestedConfigurationProperties\":\r\n\r\n\"\"\"\"\r\npublic class CustomOverrideRabbitProperties extends RabbitProperties {\r\n\t@NestedConfigurationProperty\r\n\tprivate Ssl ssl = new Ssl();\r\n}\r\n\"\"\"\"\r\n\r\n![image](https://user-images.githubusercontent.com/195367/31818092-e76521ca-b596-11e7-848a-d39d2bacc2d1.png)\r\n\r\nI have created a [demo project](https://github.com/ArloL/spring-configuration-processor-metadata-bug-demo)."},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/10703#issuecomment-338117922"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\n\r\nThe 3rd library I use provides a class with type of \"com.fasterxml.jackson.databind.Module\" . But @WebFluxTest don't scan beans of type \"com.fasterxml.jackson.databind.Module\".  "},{"labels":["documentation"],"text":"Our \"README\" still references to the Bamboo build."},{"labels":["documentation"],"text":"\"spring.datasource.platform\" is used for both schema and init but only schema is advertized in the doc. "},{"labels":["documentation"],"text":"For this specific date format GitProperties converting it back to timestamp, so it's not possible to format my git commit date with this template.\r\nhttps://github.com/spring-projects/spring-boot/blob/4a8d3532631d593f98885723ddcdafcd5fdb4243/spring-boot/src/main/java/org/springframework/boot/info/GitProperties.java#L106"},{"labels":["documentation"],"text":"Hi.\r\n\r\nI'm using Spring Boot 1.5.7.\r\nI'm trying to use \"\"\"@SpyBean\"\"\" in \"\"\"@SpringBootTest\"\"\" but I'm still getting a \"\"\"NoUniqueBeanDefinitionException\"\"\".\r\n\r\n\"\"\"@MockBean\"\"\" is fine with \"\"\"@SpringBootTest\"\"\", \"\"\"@SpyBean\"\"\" is happening\r\nHere's the code we tested:\r\n\r\n\"\"\"java\r\n@RunWith (SpringRunner.class)\r\n@SpringBootTest\r\npublic class CustomerServiceSpyTest {\r\n\r\n    @Autowired\r\n    private CustomerService customerService;\r\n\r\n    @MockBean (name = \"customerOrderRepository\")\r\n    private CustomerOrderRepository customerOrderRepository;\r\n\r\n    @SpyBean (name = \"httpSession\")\r\n    private HttpSession httpSession;\r\n\r\n    @Test\r\n    public void saveMyOrderProductCountInSession () throws Exception {\r\n\r\n        // given\r\n        Customer customer = new Customer ();\r\n\r\n        given (httpSession.getAttribute (\"loginUser\"))\r\n                .willReturn (customer);\r\n\r\n        CustomerOrder order = new CustomerOrder ();\r\n        order.addProduct (new Product ());\r\n        order.addProduct (new Product ());\r\n\r\n        given (customerOrderRepository.findAllByCustomer (customer))\r\n                .willReturn (Stream.of (order));\r\n\r\n        // when\r\n        customerService.saveMyOrderProductCountInSession ();\r\n        int count = (Integer) httpSession.getAttribute (\"orderCount\");\r\n\r\n        // then\r\n        assertThat (count, is (2));\r\n    }\r\n}\r\n\"\"\""},{"labels":["documentation"],"text":"The amount of changes between 1.x and 2 are important and it is expected we'll get a lot of users asking questions when they upgrade (it is already happening with early adopters and maintainers of downstream spring modules).\r\n\r\nWe usually have the [release notes](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes) covering the upgrades aspect but I am wondering if we shouldn't try something a bit more structured for 2.0. Release notes are single page and can be a bit overwhelming (I expect the one on 2.0 to be!). \r\n\r\nThis issue is meant to gather feedback and plan future actions."},{"labels":["documentation"],"text":"The links need to be updated to reflect the recent refactoring"},{"labels":["documentation"],"text":"It seems to be a problem with harvesting default value in AP"},{"labels":["documentation"],"text":"For a Springboot application with actuator, config its \"applicaton.properties\" as below\r\n\r\n\"\"\"\r\nserver.port=8888\r\nserver.context-path=/app\r\nmanagement.context-path=/manage\r\n\"\"\"\r\n\r\nStart up the application, but find that \"localhost:8888/manage/info\" returns a 404 error. Furthermore, the \"/info\" endpoint could be visited via \"localhost:8888/app/manage/info\".\r\n\r\nWhat is confusing is that if I add \"management.port=9999\" into \"application.properties\", then the \"/info\" endpoint can be visited via \"localhost:9999/manage/info\".\r\n\r\nIs it an intentional design or a bug to compose the application's management uri  as \"host:port/${server.context}/${management.context-path}\" when \"management.port\" is not set explicitly?\r\n\r\nspringboot version：1.5.6.RELEASE"},{"labels":["documentation"],"text":"The use of \"@MockBean\" and \"@SpyBean\" cause the configured test \"ApplicationContext\" to be cached under a different key in the context cache in the Spring TestContext Framework; however, this is not made apparent to users of Spring Boot's testing support, and the (potentially) undesirable side effects are not intuitive for the average user.\r\n\r\nSee related discussion on [Stack Overflow](https://stackoverflow.com/a/46077323/388980).\r\n\r\nAt the very least, a _warning_ should be included in the \"Mocking and spying beans\" section of the Spring Boot reference manual."},{"labels":["documentation"],"text":"Spring Version: 5.0.0.BUILD-SNAPSHOT\r\nSpring Boot Version: 2.0.0.BUILD-SNAPSHOT\r\n\r\nIt seems that the liquibase.change-log property is not being recognized anymore in the current Spring Boot Snapshot (as of the creation date of this issue).\r\n\r\nI am getting the error:\r\n\"Caused by: java.lang.IllegalStateException: Cannot find changelog location: class path resource [db/changelog/db.changelog-master.yaml] (please add changelog or check your Liquibase configuration)\"\r\n\r\nWith Spring Boot version 2.0.0.M3 everything works smoothly and the correct liquibase changelog file is being used as defined in the application.yml using the property liquibase.change-log."},{"labels":["documentation"],"text":"One reference is [here](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/howto-logging.html). There may be others."},{"labels":["documentation"],"text":"Build fails with errors when I build from spring-boot source (cloned from master branch)\r\n\r\n**OS - Fedora 26**\r\n\r\n**$ java -version**\r\nopenjdk version \"1.8.0_141\"\r\nOpenJDK Runtime Environment (build 1.8.0_141-b16)\r\nOpenJDK 64-Bit Server VM (build 25.141-b16, mixed mode)\r\n\r\n**mvn -version**\r\nApache Maven 3.3.9\r\nMaven home: /usr/share/maven\r\nJava version: 1.8.0_141, vendor: Oracle Corporation\r\nJava home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.141-1.b16.fc26.x86_64/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: \"linux\", version: \"4.12.8-300.fc26.x86_64\", arch: \"amd64\", family: \"unix\"\r\n\r\n**Steps:** \r\n\r\n**Ref:** https://github.com/spring-projects/spring-boot#building-reference-documentation\r\n\r\n1. $ ./mvnw clean install -pl spring-boot-tools/spring-boot-maven-plugin -Pdefault,full\r\n    **PASSED**\r\n2. $ ./mvnw clean install -f spring-boot-starters\r\n   **PASSED**\r\n3. $ ./mvnw clean prepare-package -pl spring-boot-docs -Pdefault,full\r\n   **FAILED** with errors as below\r\n\r\n\"\"\"\r\n[INFO] Configured Artifact: org.springframework.boot:spring-boot-dependencies:2.0.0.BUILD-SNAPSHOT:effective-pom\r\n[DEBUG] Could not find metadata org.springframework.boot:spring-boot-dependencies:2.0.0.BUILD-SNAPSHOT/maven-metadata.xml in local (/root/.m2/repository)\r\n[DEBUG] Skipped remote request for org.springframework.boot:spring-boot-dependencies:2.0.0.BUILD-SNAPSHOT/maven-metadata.xml, locally cached metadata up-to-date.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 8.085 s\r\n[INFO] Finished at: 2017-08-27T23:15:44+05:30\r\n[INFO] Final Memory: 111M/488M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:copy (copy-dependencies-effective-pom) on project spring-boot-docs: Unable to find artifact.: Failure to find org.springframework.boot:spring-boot-dependencies:effective-pom:2.0.0.BUILD-SNAPSHOT in http://repo.spring.io/snapshot was cached in the local repository, resolution will not be reattempted until the update interval of spring-snapshots has elapsed or updates are forced\r\n[ERROR] \r\n[ERROR] Try downloading the file manually from the project website.\r\n[ERROR] \r\n[ERROR] Then, install it using the command: \r\n[ERROR]     mvn install:install-file -DgroupId=org.springframework.boot -DartifactId=spring-boot-dependencies -Dversion=2.0.0.BUILD-SNAPSHOT -Dpackaging=effective-pom -Dfile=/path/to/file\r\n[ERROR] \r\n[ERROR] Alternatively, if you host your own repository you can deploy the file there: \r\n[ERROR]     mvn deploy:deploy-file -DgroupId=org.springframework.boot -DartifactId=spring-boot-dependencies -Dversion=2.0.0.BUILD-SNAPSHOT -Dpackaging=effective-pom -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]\r\n[ERROR] \r\n[ERROR] \r\n[ERROR]   org.springframework.boot:spring-boot-dependencies:effective-pom:2.0.0.BUILD-SNAPSHOT\r\n[ERROR] \r\n[ERROR] from the specified remote repositories:\r\n[ERROR]   spring-ext (http://repo.spring.io/ext-release-local/, releases=true, snapshots=false),\r\n[ERROR]   spring-milestones (http://repo.spring.io/milestone, releases=true, snapshots=false),\r\n[ERROR]   spring-snapshots (http://repo.spring.io/snapshot, releases=true, snapshots=true),\r\n[ERROR]   rabbit-milestones (https://dl.bintray.com/rabbitmq/maven-milestones, releases=true, snapshots=false),\r\n[ERROR]   central (https://repo.maven.apache.org/maven2, releases=true, snapshots=false)\r\n[ERROR] -> [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:copy (copy-dependencies-effective-pom) on project spring-boot-docs: Unable to find artifact.\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.maven.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:39)\r\n\tat org.apache.maven.wrapper.WrapperExecutor.execute(WrapperExecutor.java:122)\r\n\tat org.apache.maven.wrapper.MavenWrapperMain.main(MavenWrapperMain.java:50)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Unable to find artifact.\r\n\tat org.apache.maven.plugin.dependency.fromConfiguration.AbstractFromConfigurationMojo.getArtifact(AbstractFromConfigurationMojo.java:265)\r\n\tat org.apache.maven.plugin.dependency.fromConfiguration.AbstractFromConfigurationMojo.getProcessedArtifactItems(AbstractFromConfigurationMojo.java:171)\r\n\tat org.apache.maven.plugin.dependency.fromConfiguration.CopyMojo.doExecute(CopyMojo.java:105)\r\n\tat org.apache.maven.plugin.dependency.AbstractDependencyMojo.execute(AbstractDependencyMojo.java:167)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n\t... 27 more\r\nCaused by: org.apache.maven.artifact.resolver.ArtifactNotFoundException: Failure to find org.springframework.boot:spring-boot-dependencies:effective-pom:2.0.0.BUILD-SNAPSHOT in http://repo.spring.io/snapshot was cached in the local repository, resolution will not be reattempted until the update interval of spring-snapshots has elapsed or updates are forced\r\n\r\nTry downloading the file manually from the project website.\r\n\r\nThen, install it using the command: \r\n    mvn install:install-file -DgroupId=org.springframework.boot -DartifactId=spring-boot-dependencies -Dversion=2.0.0.BUILD-SNAPSHOT -Dpackaging=effective-pom -Dfile=/path/to/file\r\n\r\nAlternatively, if you host your own repository you can deploy the file there: \r\n    mvn deploy:deploy-file -DgroupId=org.springframework.boot -DartifactId=spring-boot-dependencies -Dversion=2.0.0.BUILD-SNAPSHOT -Dpackaging=effective-pom -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]\r\n\r\n\r\n  org.springframework.boot:spring-boot-dependencies:effective-pom:2.0.0.BUILD-SNAPSHOT\r\n\r\nfrom the specified remote repositories:\r\n  spring-ext (http://repo.spring.io/ext-release-local/, releases=true, snapshots=false),\r\n  spring-milestones (http://repo.spring.io/milestone, releases=true, snapshots=false),\r\n  spring-snapshots (http://repo.spring.io/snapshot, releases=true, snapshots=true),\r\n  rabbit-milestones (https://dl.bintray.com/rabbitmq/maven-milestones, releases=true, snapshots=false),\r\n  central (https://repo.maven.apache.org/maven2, releases=true, snapshots=false)\r\n\r\n\tat org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:221)\r\n\tat org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:154)\r\n\tat org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:562)\r\n\tat org.apache.maven.plugin.dependency.fromConfiguration.AbstractFromConfigurationMojo.getArtifact(AbstractFromConfigurationMojo.java:257)\r\n\t... 32 more\r\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: Failure to find org.springframework.boot:spring-boot-dependencies:effective-pom:2.0.0.BUILD-SNAPSHOT in http://repo.spring.io/snapshot was cached in the local repository, resolution will not be reattempted until the update interval of spring-snapshots has elapsed or updates are forced\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:453)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:255)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:232)\r\n\tat org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:303)\r\n\tat org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:215)\r\n\t... 35 more\r\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Failure to find org.springframework.boot:spring-boot-dependencies:effective-pom:2.0.0.BUILD-SNAPSHOT in http://repo.spring.io/snapshot was cached in the local repository, resolution will not be reattempted until the update interval of spring-snapshots has elapsed or updates are forced\r\n\tat org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.newException(DefaultUpdateCheckManager.java:240)\r\n\tat org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkArtifact(DefaultUpdateCheckManager.java:215)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.gatherDownloads(DefaultArtifactResolver.java:594)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads(DefaultArtifactResolver.java:512)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:430)\r\n\t... 39 more\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\"\"\"\r\n"},{"labels":["documentation"],"text":"Now that we have level support we need to provide the relevant metadata to guide users when they'll upgrade."},{"labels":["documentation"],"text":"v1.5.2.RELEASE introduced \"ResourceServerTokenServicesConfiguration.JwkTokenStoreConfiguration\" which auto-configures a Spring Security OAuth \"JwkTokenStore\" if the property \"security.oauth2.resource.jwk.key-set-uri\" is available in the \"Environment\".\r\n\r\nA Spring Security OAuth user is [asking](https://github.com/spring-projects/spring-security-oauth/issues/1050#issuecomment-320781967) if there is a property available to allow for this auto-configuration to take effect and so I noticed that it has not been documented in the reference documentation.\r\n\r\nCan you please document this property in the sections _28.1 OAuth2_ and _Appendix A. Common application properties_ so users are aware.\r\n\r\n\r\n"},{"labels":["documentation"],"text":"Now that we have a dedicated helper to test auto-configurations (\"ApplicationContextRunner\" and friends), it would be nice to document it in the reference documentation."},{"labels":["documentation"],"text":"Some things to document:\r\n\r\n- \"@Endpoint\"\r\n- \"@JmxEndpointExtension\"\r\n- \"@ReadOperation\"\r\n- \"@Selector\"\r\n- \"@WebEndpointExtension\"\r\n- \"WebEndpointResponse\"\r\n- \"@WriteOperation\"\r\n- Type conversion\r\n- Web request predicates (GET for read, POST for write, produces, consumes, etc)\r\n- Default response status for web operations (200, 404 for null with GET, 204 for null with POST, etc)\r\n- Support for HTTP range requests to operations that return a \"Resource\" (WebFlux and Spring MVC only)\r\n- \"-parameters\" is required to infer parameter names\r\n- \"@Nullable\" for optional parameters"},{"labels":["documentation"],"text":"[This section](http://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/htmlsingle/#production-ready-process-monitoring) of the documentation is out of date as the classes are now in \"spring-boot\"."},{"labels":[null,"documentation"],"text":"As described [here](https://stackoverflow.com/questions/45455890/springboot-cant-create-fully-executable-jar-with-2-0-0-m3?noredirect=1#comment77872326_45455890) the documentation of 2.0.0-M3, section [60](http://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/htmlsingle/#deployment-install) is not up to date: the property executable does not exist anymore."},{"labels":["documentation"],"text":"See #9894\r\n\r\n\"@NestedConfigurationProperty\" (singular) is about asking the annotation processor to crawl a POJO as a nested type, creating a group with the same name as the property exposing the pojo. We should probably say that at the annotation level and in the doc. In particular, mentioning this has no effect for a list of objects or map of objects would be a good idea."},{"labels":[null,"documentation"],"text":"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-docs/src/main/asciidoc/using-spring-boot.adoc#structuring-your-code\r\n\r\nI was wanting to share examples of good package structure based on feature and not by service layer. This was inspired by Mike Gehard's presentation around moving from a monolith to microservices (Step 2 - https://youtu.be/Tx5h3hdvjfw?t=15m33s). I am thinking it would be good to show the same type of structure within the Spring Boot docs to inform developers of that type of structure.\r\n\r\nAnother reference for this was the java practices page: http://www.javapractices.com/topic/TopicAction.do?Id=205"},{"labels":["documentation"],"text":"See https://github.com/jihor/hiatus-spring-boot"},{"labels":["documentation"],"text":"As of [SPR-14157](https://jira.spring.io/browse/SPR-14157), Spring Framework supports XML (de)serialization through blocking JAXB, or using [aalto-xml](https://github.com/FasterXML/aalto-xml) which is fully non-blocking.\r\n\r\nI'm wondering if we should add that dependency to the WebFlux starter given the following:\r\n* aalto-xml weighs 350kb and its latest release is quite old now\r\n* it's more or less the only available option for non-blocking XML parsing\r\n* in the end, we rely on JAXB for the binding part\r\n* it's not consistent with the jackson XML support we have in MVC right now, see #9581\r\n* I have no idea if Jackson+Spring Framework will support non-blocking XML parsing and binding, like [it's being done on the JSON side](https://jira.spring.io/browse/SPR-14528)"},{"labels":["documentation"],"text":"With new features being added in the WebFlux/reactive world, new documentation sections are being added to the reference doc.\r\n\r\nThere are a few issues with those sections:\r\n* the webflux section almost mirrors the MVC one but is slightly different; maybe there's a way to avoid that feeling of duplication\r\n* the server configuration part is even more problematic; some parts, like the choice of server, should be shared - but many if not all Servlet-related concepts don't apply to reactive servers (even if behind the scenes, it's still a Servlet container)\r\n\r\nThis issue is about reorganizing the documentation to share the sections where that make sense and still avoid confusing readers; Spring Boot deals with embedded servers/web frameworks in all cases, but the specifics differ between Servlet/Reactive.\r\n\r\nSee 7bbae21d623e34bc28340de896dcd01de23ef4c9 for a few documentation samples for that."},{"labels":["documentation"],"text":"I think there is a missing default constructor in the javadoc of \r\n[AllNestedConditions](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/AllNestedConditions.java), [AnyNestedConditions](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/AnyNestedConditions.java) and [NoneNestedConditions](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/NoneNestedConditions.java) classes to initialize the \"configurationPhase\".\r\n\r\nFor example, for the class AllNestedConditions, we should have this kind of code sample isn't it ?\r\n\r\n\"\"\"java\r\n/**\r\n * {@link Condition} that will match when all nested class conditions match. Can be used\r\n * to create composite conditions, for example:\r\n *\r\n * <pre class=\"code\">\r\n * static class OnJndiAndProperty extends AllNestedConditions {\r\n * \r\n *    OnJndiAndProperty() {\r\n *         super(ConfigurationPhase.REGISTER_BEAN); // or PARSE_CONFIGURATION\r\n *    }\r\n *\r\n *    &#064;ConditionalOnJndi()\r\n *    static class OnJndi {\r\n *    }\r\n\r\n *    &#064;ConditionalOnProperty(\"something\")\r\n *    static class OnProperty {\r\n *    }\r\n *\r\n * }\r\n * </pre>\r\n *\r\n * @author Phillip Webb\r\n * @since 1.3.0\r\n */\r\n\"\"\"\r\n"},{"labels":["documentation"],"text":"This is probably more of a documentation issue but when developing a reactive application on Tomcat (and probably others) and you exclude starter-reactor-netty like this\r\n\r\n\"\"\"\r\n<dependency>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter-webflux</artifactId>\r\n    <exclusions>\r\n        <exclusion>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-reactor-netty</artifactId>\r\n        </exclusion>\r\n    </exclusions>\r\n</dependency>\r\n<dependency>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter-tomcat</artifactId>            \r\n</dependency>\r\n\"\"\"\r\n\r\nthen \"WebClient\" won't work. The class is on the path but creating a new one with \"return WebClient.create(\"http://localhost:8080\");\" will fail:\r\n\r\n\"\"\"\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.reactive.function.client.WebClient]: Factory method 'webClient' threw exception; nested exception is java.lang.NoClassDefFoundError: reactor/ipc/netty/http/client/HttpClient\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:182)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:575)\r\n\t... 43 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: reactor/ipc/netty/http/client/HttpClient\r\n\tat org.springframework.http.client.reactive.ReactorClientHttpConnector.<init>(ReactorClientHttpConnector.java:47)\r\n\tat org.springframework.web.reactive.function.client.DefaultWebClientBuilder.initExchangeFunction(DefaultWebClientBuilder.java:139)\r\n\tat org.springframework.web.reactive.function.client.DefaultWebClientBuilder.build(DefaultWebClientBuilder.java:115)\r\n\tat org.springframework.web.reactive.function.client.WebClient.create(WebClient.java:173)\r\n\tat com.example.demo.NewClass$CustomConfig.webClient(NewClass.java:29)\r\n\tat com.example.demo.NewClass$CustomConfig$$EnhancerBySpringCGLIB$$7b5a2896.CGLIB$webClient$0(<generated>)\r\n\tat com.example.demo.NewClass$CustomConfig$$EnhancerBySpringCGLIB$$7b5a2896$$FastClassBySpringCGLIB$$783fa80e.invoke(<generated>)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:359)\r\n\tat com.example.demo.NewClass$CustomConfig$$EnhancerBySpringCGLIB$$7b5a2896.webClient(<generated>)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:155)\r\n\t... 44 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: reactor.ipc.netty.http.client.HttpClient\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\"\"\""},{"labels":["documentation"],"text":"see http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/maven-plugin/source-repository.html"},{"labels":["documentation"],"text":"\"EnvironmentPostProcessor\" is very handy to load custom configuration files at \"the right time\" and we should add a concrete example in the documentation."},{"labels":["documentation"],"text":"Spring Boot 1.5.4.RELEASE\r\n\r\nIf you have a unit test class that extends \"AbstractTransactionalJUnit4SpringContextTests\" and you annotate beans in your test class with \"@MockBean\", all of those beans will be null within your test class. However, the mock beans WERE correctly injected into the class I was testing. \r\n\r\nIf the test does NOT extend that base class, the Mock beans are correctly injected into the test.\r\n\r\nThere is also a workaround to this issue (similar to the one mentioned in the issue : https://github.com/spring-projects/spring-boot/issues/7689)\r\n\r\nIf extending the base class, you must explicitly include the MockitoTestExecutionListner: \r\n\"\"\"java\r\n@TestExecutionListeners(MockitoTestExecutionListener.class)\r\npublic class DemoApplicationTestsWithListner extends AbstractTransactionalJUnit4SpringContextTests{\r\n\"\"\"\r\n\r\nI would argue that mock beans should be injected, regardless of which spring base class they extend from.\r\n\r\n\r\n\r\n\r\n\r\nI have created a small demo project with three unit tests: One that demonstrates the problem and then two tests that work correctly. \r\n\r\nhttps://github.com/tkvangorder/mockbeanbug\r\n\r\n\r\n"},{"labels":["documentation"],"text":"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#_writing_custom_healthindicators\r\n\r\nThe documentation mentions the UNKNOWN status but does not mention what influence it has on the HTTP response code.\r\nPlease add a short note that UNKNOWN does not contribute to the overall status and essentially gets ignored."},{"labels":["documentation"],"text":"When using the \"spring-boot-maven-plugin\" to repackage a jar application, we noticed that the executable flag causes issues with certain archive managers.\r\n\r\nThis analysis is also described in https://github.com/spring-projects/spring-boot/issues/8927. Although the documentation contains a warning, we check the \"spring-boot-maven-plugin\" documentation, which doesn't contain a warning.\r\n\r\nA warning should be added to the description of the executable flag to alert people to unexpected side effects: https://docs.spring.io/spring-boot/docs/current/maven-plugin/repackage-mojo.html#executable"},{"labels":["documentation"],"text":"We should improve the javadoc to mention SpringBootApplication (as if that one is present, there is no need to use this).\r\n\r\nSee also https://twitter.com/cmoulliard/status/875252546847113216"},{"labels":["documentation"],"text":"The [table](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-starter) is currently arbitrarily ordered. We should sort it alphabetically to make things easier to find."},{"labels":["documentation"],"text":"I'm having difficulty with redirects in TestRestTemplate. Using 1.5.3.RELEASE I do not get a redirect for 302 (which is good: my test is specifically checking for this status code), but with 2.0.0.M1 I am getting a redirect.\r\n\r\n**Note** -- I do not explicitly ask for Apache HTTP in my classpath, relying on Spring Boot starter to pull it in.\r\n\r\nI hunted for some way to customize the injected TestRestTemplate bean (using the @SpringBootTest(webEnvironment = RANDOM_PORT) annotation), or to replace it with one customized to not redirect, but didn't find what I needed.\r\n\r\nThe current docs say TestRestTemplate should not redirect, but in my test it is:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-rest-templates-test-utility\r\n\r\nAn example:\r\n\r\nbinkley/sproingk@49456e5\r\n\r\n(See https://github.com/binkley/sproingk/blob/49456e50eb3c855ea6b284b9565337d593b63994/src/test/kotlin/hm/binkley/labs/GreetingControllerIT.kt#L140 and remove the \"@Disabled\" annotation.)"},{"labels":["documentation"],"text":"I noticed that it is nowhere documented that \"@ConditionalOnMissingBean\" without any further parameters checks for the return type of the annotated method. I had to dig into the code to verify that.\r\n\r\nI propose adding this fact to the Javadoc and maybe to the docs, since this is actually probably the most widely used form of the conditional.\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html#boot-features-bean-conditions"},{"labels":["documentation"],"text":"The [list of 3rd party starters](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/README.adoc) is growing and it would be easier if they'd be sorted alphabetically."},{"labels":["documentation"],"text":"there is one link in the intro but it's weird and the link is missing from the left hand side"},{"labels":["documentation"],"text":"## Bug Report\r\n\r\n### Summary\r\n\r\nThe [Spring Boot Actuator documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-monitoring.html) specifies that when management.security.enabled is false and endpoints.health.sensitive is true, the /health endpoint should return \"status only\".\r\n\r\n### Actual Behavior\r\n\r\nWhen I set in application.properties:\r\n\"\"\"\r\nmanagement.security.enabled=false\r\nendpoints.health.sensitive=true\r\n\"\"\"\r\nand I access the /health endpoint, I get full content for anonymous authentication.\r\n\r\n\"\"\"\r\n\r\n    {\r\n        \"status\": \"UP\",\r\n        \"diskSpace\":\r\n        {\r\n            \"status\": \"UP\",\r\n            \"total\": 64315453440,\r\n            \"free\": 33504604160,\r\n            \"threshold\": 10485760\r\n        },\r\n        \"db\":\r\n        {\r\n            \"status\": \"UP\",\r\n            \"database\": \"MySQL\",\r\n            \"hello\": 1\r\n        }\r\n    }\r\n\"\"\"\r\n\r\n\r\n### Expected Behavior\r\nFor the above setting, when accessing the endpoint as an anonymous user, I should get only\r\n\r\n\"\"\"\r\n    {\r\n        \"status\": \"UP\"\r\n    }\r\n\r\n\"\"\"\r\n\r\n\r\n### Configuration\r\n\r\nSpring Boot 1.5.2.RELEASE (spring-security-web 4.2.2.RELEASE).\r\nREST endpoint access with Firefox 53 and [RestClient ](http://restclient.net/) addon\r\n\r\n\"\"\"\r\nserver.ssl.enabled=true\r\nserver.ssl.client-auth=want\r\n\"\"\"\r\n(but when testing, I didn't present any certificate, so it was one-way SSL)\r\n\r\nNote: this was initially reported on Spring-Security issue [4329 ](https://github.com/spring-projects/spring-security/issues/4329)by mistake, which was closed in favor of this report."},{"labels":["documentation"],"text":"According Spring Boot [Reference Manual](http://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/htmlsingle/#howto-switch-off-spring-boot-security-configuration), if we want to disable Boot Security in the application we should just declare \"@Configuration\" with the \"@EnableWebSecurity\".\r\n\r\nOf course,  Actuator’s security is still enabled by default.\r\nSo, we decided to switch it off as well via \"management.security.enabled=false\".\r\nBut we end up with the fact that the default \"WebSecurityConfigurerAdapter\" is applied. In that case we get:\r\n\"\"\"\r\npublic MissingCsrfTokenException(String actualToken) {\r\n\tsuper(\"Could not verify the provided CSRF token because your session was not found.\");\r\n}\r\n\"\"\"\r\n\r\nThe test-case to reproduce/play:\r\n\"\"\"\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\r\n\t\t, properties = \"management.security.enabled=false\"\r\n)\r\npublic class DisableSecurityTests {\r\n\r\n\t@LocalServerPort\r\n\tprotected int port;\r\n\r\n\t@Test\r\n\t@SuppressWarnings(\"rawtypes\")\r\n\tpublic void testHealthEndpoint() throws Exception {\r\n\t\tTestRestTemplate testRestTemplate = new TestRestTemplate();\r\n\t\tResponseEntity<Map> response = testRestTemplate.getForEntity(\"http://localhost:\" + this.port + \"/health\", Map.class);\r\n\t\tassertEquals(HttpStatus.OK, response.getStatusCode());\r\n\t\tassertTrue(response.hasBody());\r\n\r\n\t\tMap health = response.getBody();\r\n\r\n\t\tassertEquals(\"UP\", health.get(\"status\"));\r\n\t\tassertTrue(health.containsKey(\"diskSpace\"));\r\n\t}\r\n\r\n\t@SpringBootApplication\r\n\t@EnableWebSecurity\r\n\tstatic class HttpSourceApplication {\r\n\r\n\t}\r\n\r\n}\r\n\"\"\"\r\nYou can comment out or \"properties\" or \"@EnableWebSecurity\" to see behavior change.\r\n\r\nMore info is here: https://github.com/spring-cloud-stream-app-starters/http/issues/8\r\n\r\nThanks"},{"labels":["documentation"],"text":"I am in reference to the documentation about writing custom health indicators.\r\n\r\nI believe\r\n\r\n\"endpoints.health.mappings.FATAL=503\"\r\n\r\nshould read:\r\n\r\n\"endpoints.health.mapping.FATAL=503\" (without the **s** at the end of \"mapping\")\r\n\r\nbecause the property in \"HealthMvcEndpointProperties\" reads: **\"mapping\"**\r\n\r\nSee link here: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#_writing_custom_healthindicators\r\n"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\n\r\nIt seems there is an omission in the section documenting custom health indicators here: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#_writing_custom_healthindicators\r\n\r\n> For example, assuming a new Status with code FATAL is being used in one of your HealthIndicator implementations. To configure the severity order add the following to your application properties:\r\n> \r\n> management.health.status.order=DOWN, OUT_OF_SERVICE, UNKNOWN, UP\r\n\r\nThe custom/new Status with code FATAL is not listed in the  status order sample.\r\n\r\nIs this an omission? I might be wrong."},{"labels":["documentation"],"text":"See [this thread on SO](http://stackoverflow.com/questions/44028875/spring-boot-2-0-0-m1-where-is-the-package-org-springframework-boot-context-embe)"},{"labels":["documentation"],"text":"Hi,\r\n\r\n I recently upgraded a large application to \"spring boot 1.5.3\" and since the upgrade we had a runtime issue with the JSON Lib (org.json) pulled in by \"spring-boot 1.5.3 RELEASE\". There was no issue with compiling / building but at runtime certain calls to \"com.json.JSONObject\" threw a error like this:\r\n\r\n> _org.json.JSONObject.putOnce(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;\r\n\r\n\r\nAfter spending alot of time debugging the issue was found to be with spring-boot-starter-test pulling in \"android-json\" (com.vaadin.external.google). This also has a JSONObject with fully qualified name \"com.json.JSONObject\" but not the same methods. It was this JSON object that was getting used at runtime and was causing the method not found errors.\r\n\r\nWe got around the problem by exluding \"android-json\" from \"spring-boot-starter-test\" but I suggest it should not be included by default so as to avoid this kind of issue for others.\r\n\r\nThanks,\r\nWilliam\r\n\r\n\r\n\r\n"},{"labels":["documentation"],"text":"I am learning from https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-liquibase\r\n\r\nand I run the application as \"spring-boot:run\" and see that the application is deployed and changelog has been applied\r\n\r\n\"\"\"\r\noot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n2017-05-17 15:16:29.117  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/liquibase || /application/liquibase.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n2017-05-17 15:16:29.120  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)\r\n2017-05-17 15:16:29.120  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v2+json || application/json],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.se\r\nt(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)\r\n2017-05-17 15:16:29.120  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/loggers || /application/loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n2017-05-17 15:16:29.121  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/dump || /application/dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n2017-05-17 15:16:29.122  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)\r\n2017-05-17 15:16:29.122  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/env || /application/env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n2017-05-17 15:16:29.123  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/autoconfig || /application/autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n2017-05-17 15:16:29.124  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/health || /application/health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Prin\r\ncipal)\r\n2017-05-17 15:16:29.124  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/auditevents || /application/auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfte\r\nrAndType(java.lang.String,java.util.Date,java.lang.String)\r\n2017-05-17 15:16:29.125  INFO 57268 --- [           main] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped \"{[/application/configprops || /application/configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()\r\n2017-05-17 15:16:29.272  INFO 57268 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n2017-05-17 15:16:29.281  INFO 57268 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0\r\n2017-05-17 15:16:29.384  INFO 57268 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http)\r\n2017-05-17 15:16:29.389  INFO 57268 --- [           main] s.liquibase.SampleLiquibaseApplication   : Started SampleLiquibaseApplication in 4.403 seconds (JVM running for 7.513)\r\n2017-05-17 15:16:42.689  INFO 57268 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\r\n2017-05-17 15:16:42.690  INFO 57268 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\r\n2017-05-17 15:16:42.705  INFO 57268 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms\r\n\"\"\"\r\nBut when I hit http://localhost:8080/liquibase, I get *HTTP 404*\r\n<img width=\"1438\" alt=\"screen shot 2017-05-17 at 3 20 30 pm\" src=\"https://cloud.githubusercontent.com/assets/6589036/26137226/fa24648a-3b14-11e7-881e-e5c5100a0187.png\">\r\n\r\nExpected?\r\nAs per the documentation\r\n>You can look at http://localhost:8080/liquibase to review the list of scripts.\r\n"},{"labels":["documentation"],"text":"\"spring.main.web-application-type\" shows up as unresolved. And the property we deprecated (\"webEnvironment\") hasn't been updated in the manual metadata."},{"labels":["documentation"],"text":"The \"SpringPhysicalNamingStrategy\" provides some useful rules, like snake case, and I'd prefer to use it for my Boot applications. However, I also use Flyway to manage my tables, meaning I need to be able to describe my schema explicitly.\r\n\r\nI have not been able to find documentation on the rules that the naming strategy uses to generate column names from property names--am I simply overlooking it, or is it not there to be found? (The Javadoc says \"Spring recommended naming conventions\" without further explanation.) If there is none, could someone familiar with it provide a brief rundown in somewhere like 77.5?"},{"labels":["documentation"],"text":"Using Spring Boot 1.5.1.RELEASE, and spring-boot-starter-mail.\r\n\r\nWhen I set the following application.properties and connect to an invalid host, the connection does not timeout as expected within 1 second, but eventually the Java connection fails.\r\n\r\n\"\"\"\r\nspring.mail.properties.mail.smtp.connecttimeout=1000\r\nspring.mail.properties.mail.smtp.timeout=1000\r\nspring.mail.properties.mail.smtp.writetimeout=1000\r\n\"\"\"\r\n\r\nHere's an example -- I expected the project to run and timeout immediately instead of hanging until a java connection error is thrown.\r\n\r\nhttps://github.com/glyoder/email-problem\r\n\r\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/MultipartProperties.html\r\n\r\nas above link. document of spring.http.multipart.file-size-threshold is:\r\n\r\n> file-size-threshold specifies the size threshold after which files will be written to disk. Default is 0, which means that the file will be written to disk immediately.\r\n\r\nBut, In practice, file-size-threshold=0 means that the file never written to disk immediately. it will be written to memory cache stream always.\r\n\r\nIn my practice, Jetty will never write the file to disk, as I have seen the source code from it.\r\n\r\nPlease confirm that the description of the document is correct. Thanks."},{"labels":["documentation"],"text":"I'm trying to insert some rows in my entities for testing on developer machine using \"H2\" Database. I'm using \"data.sql\" for this.\r\n\r\nIt works fine, entities are created and then \"data.sql\" is run to insert data in the tables produced by the entities.\r\n\r\nHowever I need to create some other tables for which there are no entity classes, so I'm using \"schema.sql\" for those. Here's the issue, as soon as I add \"schema.sql\" to the project, Spring Boot runs  \"data.sql\" before creating entities, which ends in \"Table not found exception\".\r\n\r\nIt works fine if I replace \"data.sql\" with \"import.sql\", it's run after the entities are created.\r\n\r\nHowever \"h2\" configuration is supposed to run only when testing, for that I have a maven profile which activates a \"spring.datasource.platform = h2\", to load \"schema-h2.sql\" and \"data-h2.sql\". \"import.sql\" doesn't work with the platform.\r\n\r\nSo the issue is that \"data.sql\" is being run before entities are created only when \"schema.sql\" is present.\r\n\r\nHere's the Github repository for reproducing the issue\r\n\r\n**Without any platform**\r\n\r\n[https://github.com/ConsciousObserver/SpringBootSchemaSqlIssue.git](https://github.com/ConsciousObserver/SpringBootSchemaSqlIssue.git)\r\n\r\n**With h2 platform** (It's another branch \"platform-h2\" in the above repository)\r\n\r\n[https://github.com/ConsciousObserver/SpringBootSchemaSqlIssue/tree/platform-h2](https://github.com/ConsciousObserver/SpringBootSchemaSqlIssue/tree/platform-h2)\r\n\r\n**Stackoverflow**\r\n\r\n[http://stackoverflow.com/questions/43692115/spring-boot-running-data-sql-before-creating-entities-in-presence-of-schema-sql](http://stackoverflow.com/questions/43692115/spring-boot-running-data-sql-before-creating-entities-in-presence-of-schema-sql)\r\n\r\n\r\nThanks"},{"labels":["documentation"],"text":"Technical docs on the wiki for downstream projects would be useful."},{"labels":["documentation"],"text":"\"computePiDecimal\" example is wrong (it doesn't define a cache name)"},{"labels":["documentation"],"text":"Apologies if this has been raised and answered, I tried searching for past issues and found some slightly tangential issues but hoping to get an firm answer on this unusual behavior.\r\n\r\nI have a spring-boot project which uses gradle and the spring-boot plugin: which generates two WAR files to \"build/lib\".  If I have the springBoot executable property set to true in the gradle task configuration, then the fat WAR file (the one that is not marked with .original suffix), cannot be expanded using \"jar -xvf\".  It just returns immediately with no obvious error and nothing is expanded.\r\n\r\nSetting the executable flag to false results in a WAR file that can be expanded with \"jar -xvf\".\r\n\r\nI have tested and found that using the \"unzip\" command will expand the WAR successfully, regardless of the executable flag.\r\n\r\nAlso have observed that the \".original\" WAR file expands successfully regardless of executable flag.\r\n\r\nThis unusual behavior seems to be the cause other issues we have been encountering, such as unable to deploy the fat WAR to jetty (jetty fails to expand the WAR), while Tomcat expands the WAR without any trouble.\r\n\r\nThis also causes issues in a part of our build script where we try to unpack the WAR to insert additional assets.  The unpack part fails if exectuable = true.  Setting executable to false enables the build script to work fine.\r\n\r\nI am not sure if this is a known issue but the extremely silent way it fails is causing a lot of issues in our build and deployment process that all immediately goes away if we set exectuable=false.\r\n\r\nWe are on spring-boot-gradle plugin 1.5.1 currently, we have observed this issue on older 1.4.x plugins as well.\r\n\r\nIf any additional questions or further info desired, be happy to answer."},{"labels":["documentation"],"text":"In [4.3.2](http://docs.spring.io/spring-boot/docs/2.0.0.BUILD-SNAPSHOT/gradle-plugin/reference/#packaging-executable-configuring-excluding-devtools),\r\n\r\n> If you want to include Devtools in your archive set the excludeDevtools property to true:\r\n\r\nshould read\r\n\r\n> If you want to include Devtools in your archive set the excludeDevtools property to *false*:"},{"labels":["documentation"],"text":"Using \"ApplicationListener<ApplicatioReadyEvent>\" with the usage of \"SpringApplicationBuilder\" fires multiple notification to that listener (for every child). Please have a look to that small demonstration: [demo.zip](https://github.com/spring-projects/spring-boot/files/919437/demo.zip)\r\n\r\nIssue created after stackoverflow question comment: [here](https://stackoverflow.com/questions/43368430/spring-boot-use-application-listener)\r\n"},{"labels":["documentation"],"text":"If you have Spring Boot project with multiple contexts like this\r\n    \r\n\"\"\"java\r\n    new SpringApplicationBuilder()\r\n        .parent(RootCtx.class)\r\n        .child(Child1.class)\r\n        .sibling(Child2.class)\r\n        .run(args);\r\n\"\"\"\r\n\r\ncommand line arguments (\"args\") are applied only in last Spring context \"Child2.class\". For example if you specify \"--spring.config.location\" command line argument it gets used only in part of the app which is surprising and leads to hours of debugging. It would be nice to \r\n\r\n1. Mention it in JavaDoc of child or sibling method\r\n2. Allow specifying args before child contexts are created\r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"Spring boot version: 1.5.2.RELEASE\r\n\r\nIn appendix A of the documentation, there is a section spring.datasource.* properties. These are mapped to [DataSourceProperties](https://github.com/spring-projects/spring-boot/tree/v1.5.2.RELEASE/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java) and [DataSourceAutoConfiguration](https://github.com/spring-projects/spring-boot/blob/v1.5.2.RELEASE/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration.java).\r\n\r\nI believe that the documentation here is not complete, as the DataSourceProperties also has an inner class called Xa, which allows for setting provider-specific properties. The documentation should be updated to reflect the possibility to use this Xa inner class for properties. Or am I unknowingly mistaken perhaps?"},{"labels":["documentation"],"text":"\"isEmbeddedWebApplication\" claims that it will return \"null\" if the information is not yet available. But the return type of the method is \"boolean\"\r\n\r\n"},{"labels":["documentation"],"text":"The Spring Boot 1.5 release notes ([actuator security](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.5-Release-Notes#actuator-security) and [ignored paths](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.5-Release-Notes#ignored-paths-and-enablewebsecurity)) give a pretty good explanation on how \"management.security.enabled\" works in a project with and without Spring Security. However, this is not that clear in [the documentation](http://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/production-ready-monitoring.html). There are a few bugs submitted since Spring Boot 1.5 release (eg. #8255, #8210, #8070) where people (myself included) misunderstood how \"management.security.enabled\" plays together with Spring Security. It would help to have a clear section in the documentation incorporating the information from the release notes in one place. These fragments seem to me most lacking in the documentation:\r\n\r\n> If your [...] application has custom security configuration and you wish to have open access to your sensitive endpoints, you will need to explicitly configure that in your security configuration. If [your application] doesn’t have dependency on Spring Security and you wish to retain open access to your sensitive endpoints you’ll need to set \"management.security.enabled\" to false.\r\n\r\n> using \"@EnableWebSecurity\" will switch off all auto-configuration of web security thereby allowing you to take complete control.\r\n\r\nAlternatively, a table similar to this would help, too (hopefully I got it right):\r\n\r\n| \"management.security.enabled\" | Spring Security | Actuator endpoints secured |\r\n|--|--|--|\r\n| true | not present | yes | \r\n| false | not present | no |\r\n| true | present, no custom configuration / no \"@EnableWebSecurity\" | yes |\r\n| false | present, no custom configuration/ no \"@EnableWebSecurity\" | no |\r\n| * | present, custom configuration / \"@EnableWebSecurity\" | depends on your custom configuration |"},{"labels":["documentation"],"text":"Currently \"ServerProperties\" contains quite a mix of things. We'll need to refactor it to get cleaner reactive/servlet concerns."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\nIn Spring Boot 1.5.2, there is support for remapping one of the actuator health end points.\r\n\r\nAs the documentation states: \r\n\r\n> For example, to change the location of the /health endpoint to /ping/me you can set endpoints.health.path=/ping/me.\r\n\r\nThis is an imprecise statement. What that actually does is change the end point path mapping relative to \"management.context-path\". \r\n\r\ni.e., if \"management.context-path=/foo\" it would change \"/foo/health\" to \"/foo/ping/me\", which is not obvious and not clear from the documentation.\r\n\r\nSuggestion:\r\n\r\nWhat it should do is honor a leading \"/\" as meaning an absolute path (relative to the base of the servlet context). \r\n\r\ni.e. if \"management.context-path=/foo\" and \"endpoints.health.path=/ping/me\" then the mapping goes to \"/ping/me\". Similarly for \"endpoints.health.path=ping/me\" would map to \"/foo/ping/me\".\r\n\r\n"},{"labels":["documentation"],"text":"**Section: 20.2 Automatic restart**\r\n\r\n_Triggering a restart_\r\n\r\nAs DevTools monitors classpath resources, the only way to trigger a restart is to update the classpath. The way in which you cause the classpath to be updated depends on the IDE that you are using. In Eclipse, saving a modified file will cause the classpath to be updated and trigger a restart. In IntelliJ IDEA, building the project (Build # Make Project) will have the same effect.\r\n\r\n----\r\n\r\nLooking in \"using-spring-boot.adoc\", the # was originally \"->\"\r\n\r\nI've seen the same issue when creating our training documentation --  Asciidoc/Docbook parsers convert characters they doesn't recognize to #.\r\n\r\nIf you find the solution, please let me know! :)"},{"labels":["documentation"],"text":"*Section: 24. Externalized Configuration*\r\n\r\n3. @SpringBootTest#properties annotation attribute on your tests.\r\n\r\nThe hyperlink for \"@SpringBootTest#properties\"  is broken - this link does not exist:\r\n\r\nhttp://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/api/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.html\r\n"},{"labels":["documentation"],"text":"In section _15. Configuration classes_,  the tip it says ...\r\n\r\n    Searching for enable* annotations can be a good starting point.\r\n\r\nThis should be **Enable*** - all these annotations start with upper-case E"},{"labels":["documentation"],"text":"we do support that for reactive use cases now."},{"labels":["documentation"],"text":"It's possible that checkstyle is putting contributors off. We could leave it as something that only we do and have local builds and Travis be more lenient."},{"labels":["documentation"],"text":"Hi,\r\n\r\nhopefully I'm not doing anything wrong here. I assume that \"@TestComponent\" should be picked up when running tests with \"@SpringBootTest\" without further ado, but neither this\r\n\r\n\"\"\"java\r\npackage com.example;\r\n\r\nimport org.springframework.boot.test.context.TestComponent;\r\n\r\n@TestComponent\r\npublic class ToplevelTestComponent {\r\n    \r\n}\r\n\"\"\"\r\n\r\ntogether with\r\n\r\n\"\"\"java\r\npackage com.example;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class ToplevelTestComponentNotWorkingTest {\r\n    @Autowired\r\n    ToplevelTestComponent toplevelTestComponent;\r\n    \r\n    @Test\r\n    public void f() {\r\n    }\r\n}\r\n\"\"\"\r\n\r\nnor this (nested version) \r\n\r\n\"\"\"java\r\npackage com.example;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.context.TestComponent;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class NestedTestComponentNotWorkingTest {\r\n    @TestComponent\r\n    static class NestedTestComponent{\r\n    }\r\n    \r\n    @Autowired\r\n    NestedTestComponent nestedTestComponent;\r\n    \r\n    @Test\r\n    public void f() {\r\n    }\r\n}\r\n\"\"\"\r\n\r\nworks. Both fail with \"org.springframework.beans.factory.NoSuchBeanDefinitionException\". \r\nSample project is attached: \r\n[InitializrSpringbootProject.zip](https://github.com/spring-projects/spring-boot/files/803857/InitializrSpringbootProject.zip)\r\nTested with 1.4.0, 1.4.3 and 1.5.1.\r\n\r\nMaybe it's a documentation issue, but I don't see my error… "},{"labels":["documentation"],"text":"This is a documentation bug  \r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/cloud-deployment.html\r\n\r\n58.4.1 AWS Elastic Beanstalk\r\nAs described in the official Elastic Beanstalk Java guide, there are two main options to deploy a Java application; You can  **either us the** \"Tomcat Platform\" or the \"Java SE platform\".\r\n\r\nIdeally the text must be **either use the** "},{"labels":["documentation"],"text":"The documentation at https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-cache , states below for each JSR implementation\r\n\r\nRun sample cache application using Hazelcast with $mvn spring-boot:run -Pinfinispan\r\n\r\nIt has 'HazelCast' for each."},{"labels":["documentation"],"text":"See #8181"},{"labels":["documentation"],"text":"This doc page:\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-monitoring.html\r\n\r\nhas the example:\r\n\r\n\"\"\"\r\nmanagement.port=8080\r\nmanagement.ssl.enable=true\r\nmanagement.ssl.key-store=classpath:management.jks\r\nmanagement.ssl.key-password=secret\r\n\"\"\"\r\n\r\nin my testing, the 'enable' property should be documented as 'enabled', as in:\r\n\r\n\"\"\"\r\nmanagement.port=8080\r\nmanagement.ssl.enabled=false\r\n\"\"\"\r\n\r\nto match the field in this bean:\r\n\r\nhttps://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/java/org/springframework/boot/context/embedded/Ssl.java"},{"labels":["documentation",null],"text":"I use @PageableDefault in controller for pagination, like this:\r\n\"@PageableDefault(value = 20, sort = { \"id\" }, direction = Direction.DESC) Pageable pageable\"\r\nin 1.4.3 it runs without problems, when migrate to 1.5.1, it throws an exception as follows:\r\n\r\n\"\"\"\r\n_com.microsoft.sqlserver.jdbc.SQLServerException: '@P0' 附近有语法错误。(Incorrect syntax near '@P0')\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:217) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1635) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:426) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:372) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:6276) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1793) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:184) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:159) ~[sqljdbc-4.2.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:284) ~[sqljdbc-4.2.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:70) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2117) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1900) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1876) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:919) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2617) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2600) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2429) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2424) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:501) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1326) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:87) ~[hibernate-core-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:606) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:483) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.hibernate.jpa.criteria.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:50) ~[hibernate-entitymanager-5.0.11.Final.jar:5.0.11.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.readPage(SimpleJpaRepository.java:589) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:409) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.0.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat com.sun.proxy.$Proxy106.findAll(Unknown Source) ~[na:na]_\r\n\"\"\"\r\n\r\nThen I compared the two SQL statements in 1.4.3 & 1.5.1, find out the difference:\r\nHibernate: select TOP(?) patient0_.pat_id as pat_id1_15_......     ----1.4.3\r\nHibernate: select TOP ?  patient0_.pat_id as pat_id1_15_.......     ----1.5.1\r\n\r\nIs the lack of \"()\" cause the exception?"},{"labels":["documentation"],"text":"Given the size of the properties appendix, consider adding anchors between property sets, to make it easier to navigate to technology-based properties... \r\n\r\n- from the ToC\r\n- as a hyperlink when answering StackOverflow questions etc\r\n\r\nSomething like...\r\n\r\n\"\"\"\r\n--- a/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc\r\n+++ b/spring-boot-docs/src/main/asciidoc/appendix-application-properties.adoc\r\n@@ -13,7 +13,10 @@ your own properties.\r\n WARNING: This sample file is meant as a guide only. Do **not** copy/paste the entire\r\n content into your application; rather pick only the properties that you need.\r\n \r\n+=== Properties\r\n \r\n+[[appendix-props-core]]\r\n+==== Core Properties\r\n [source,properties,indent=0,subs=\"verbatim,attributes,macros\"]\r\n ----\r\n        # ===================================================================\r\n\r\n... \r\n\r\n@@ -923,7 +926,12 @@ content into your application; rather pick only the properties that you need.\r\n        spring.kafka.ssl.truststore-location= # Location of the trust store file.\r\n        spring.kafka.ssl.truststore-password= # Store password for the trust store file.\r\n        spring.kafka.template.default-topic= # Default topic to which messages will be sent.\r\n+----\r\n \r\n+[[appendix-props-rabbit]]\r\n+==== RabbitMQ Properties\r\n+[source,properties,indent=0,subs=\"verbatim,attributes,macros\"]\r\n+----\r\n        # RABBIT ({sc-spring-boot-autoconfigure}/amqp/RabbitProperties.{sc-ext}[RabbitProperties])\r\n        spring.rabbitmq.addresses= # Comma-separated list of addresses to which the client should connect.\r\n        spring.rabbitmq.cache.channel.checkout-timeout= # Number of milliseconds to wait to obtain a channel if the cache size has\r\n\r\n...\r\n\"\"\"\r\n\r\nWe then get a ToC entry, as well as an anchor which can be copied to the clipboard.\r\n\r\n<img width=\"332\" alt=\"screen shot 2017-02-08 at 12 28 24 pm\" src=\"https://cloud.githubusercontent.com/assets/483832/22749251/a1b04632-edfa-11e6-8904-4a4985816c65.png\">\r\n"},{"labels":["documentation"],"text":"The configuration of \"@SpringBootTest\"'s \"webEnvironment\" property has quite significant implications on the way transactions are in effect in the test executions. The port based modes run a dedicated server so that the test is running in a different thread than the server processing. This effectively disables the test context's transaction default behavior as it cannot automatically roll back the server process transaction. This is the exact opposite of the \"MOCK\" and \"NONE\" configurations where there's only one thread and the framework can roll back the transactions.\r\n\r\nThis is a subtle but significant difference that users can easily be unaware of as they don't understand the different execution modes in detail (not that they actually should have to). It would be cool if both the JavaDoc for the enum and the section of the [reference documentation](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications) could mention that difference."},{"labels":["documentation"],"text":"@snicoll wrote in #7770\r\n> this issue is closed. Mockito 2 support (with an override) will be available in 1.5 and we'll switch the default as of 2.0 (as the milestone states)\r\n\r\nNow that Spring Boot 1.5.1 is released, is this \"override\" already documented somewhere? I couldn't find any mention of Mockito 2 in the [reference documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/). Please document it or direct people at the right place."},{"labels":["documentation"],"text":"While replying to #8177 I realized that \"@LiquibaseDataSource\" isn't documented."},{"labels":["documentation"],"text":"Environment:\r\n\"\"\"\r\nSpring-Boot version: 1.4.2.RELEASE\r\njava: 1.8.0-openjdk\r\nos: Linux xxxx 3.10.0-327.22.2.el7.x86_64 #1 SMP Thu Jun 23 17:05:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\"\"\"\r\n\r\nI ran a spring-boot application using MailSender with actuator enabled. There are two instances running on two separate hosts after a load balancer. The load balancer checks the status of the two upstream instances by HTTP-GET the /health endpoint.\r\nAfter running perfectly for about a week more or less, The load balancer notifies that the health checking is failed. I check it manually by \"curl -i -XGET http://host-ip-address/health\", it blocks without nothing returned.\r\nMeanwhile, I find too many connections in TIME_WAIT state between the instance and the mail server, about 3000+. I use \"jstack\" printing the jvm stack. There are many thread waiting for some response from the mail server. One of these stack frame is like:\r\n\r\n\"\"\"\r\n\"http-nio-80-exec-200\" #224 daemon prio=5 os_prio=0 tid=0x00007fcdb4019800 nid=0xa64 runnable [0x00007fcd98a84000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:170)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n        at com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:124)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:265)\r\n        - locked <0x00000000ee8c7490> (a java.io.BufferedInputStream)\r\n        at com.sun.mail.util.LineInputStream.readLine(LineInputStream.java:92)\r\n        at com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:2349)\r\n        at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2096)\r\n        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:712)\r\n        - locked <0x00000000ee8c2f18> (a com.sun.mail.smtp.SMTPTransport)\r\n        at javax.mail.Service.connect(Service.java:366)\r\n        - locked <0x00000000ee8c2f18> (a com.sun.mail.smtp.SMTPTransport)\r\n        at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:501)\r\n        at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:382)\r\n        at org.springframework.boot.actuate.health.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:40)\r\n        at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:38)\r\n        at org.springframework.boot.actuate.health.CompositeHealthIndicator.health(CompositeHealthIndicator.java:68)\r\n        at org.springframework.boot.actuate.endpoint.HealthEndpoint.invoke(HealthEndpoint.java:81)\r\n        at org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.getHealth(HealthMvcEndpoint.java:166)\r\n        at org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(HealthMvcEndpoint.java:140)\r\n        at sun.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n        at javax.servlet.http.HttpServlet.doHead(HttpServlet.java:244)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n        at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilterInternal(ResourceUrlEncodingFilter.java:53)\r\n...\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        - locked <0x00000000ec4de5f8> (a org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\"\"\"\r\n\r\nI think this may be a bug of the MailHealthIndicator, although it just delegates to \"org.springframework.mail.javamail.JavaMailSenderImpl.testConnection()\" for health checking."},{"labels":["documentation"],"text":"Hi,\r\nI've found a problem using Spring Boot 1.5.1, Spring MVC and Java 6.\r\nI've followed the official documentation that describes how to setup the pom.xml to get spring boot working with java 6. The doc is here: http://docs.spring.io/spring-boot/docs/1.5.1.RELEASE/reference/htmlsingle/#howto-use-java-6\r\n\r\nWhen I downgrade the Jackson dependency to 2.6.x i got a maven build exception because the jackson-bom-2.6.x is missing in maven central. The bom is missing because it does't exist! the first available jackson-bom starts from version 2.7.8 as shown here: https://github.com/FasterXML/jackson-bom/releases \r\n\r\nThe issue was introduced by this pull request: https://github.com/spring-projects/spring-boot/pull/7436\r\n\r\nTo reproduce the issue do:\r\n\r\n1. download the spring boot sample app from here: https://github.com/spring-guides/gs-serving-web-content;\r\n2. edit the **complete/pom.xml** changing the properties with the following:  \r\n\"\"\"\r\n<properties>\r\n    <java.version>1.6</java.version>\r\n    <tomcat.version>7.0.59</tomcat.version>\r\n    <jackson.version>2.6.7</jackson.version>\r\n</properties>\r\n\"\"\"\r\n3. go under the **complete/** directory and launch a maven build to get the error:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"\"\"\r\n[INFO] Scanning for projects...\r\nDownloading: http://devbe03:8081/repository/maven-public/com/fasterxml/jackson/jackson-bom/2.6.7/jackson-bom-2.6.7.pom\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[ERROR] Non-resolvable import POM: Could not find artifact com.fasterxml.jackson:jackson-bom:pom:2.6.7 in Nexus (http://devbe03:8081/repository/maven-public/) @ org.springframework.boot:spring-boot-dependencies:1.5.1.RELEASE, /home/luca/.m2/repository/org/springframework/boot/spring-boot-dependencies/1.5.1.RELEASE/spring-boot-dependencies-1.5.1.RELEASE.pom, line 621, column 16\r\n @ \r\n[ERROR] The build could not read 1 project -> [Help 1]\r\n[ERROR]   \r\n[ERROR]   The project org.springframework:gs-serving-web-content:0.1.0 (/home/luca/projects/gs-serving-web-content/complete/pom.xml) has 1 error\r\n[ERROR]     Non-resolvable import POM: Could not find artifact com.fasterxml.jackson:jackson-bom:pom:2.6.7 in Nexus (http://devbe03:8081/repository/maven-public/) @ org.springframework.boot:spring-boot-dependencies:1.5.1.RELEASE, /home/luca/.m2/repository/org/springframework/boot/spring-boot-dependencies/1.5.1.RELEASE/spring-boot-dependencies-1.5.1.RELEASE.pom, line 621, column 16 -> [Help 2]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\"\"\"\r\n"},{"labels":["documentation"],"text":"They're using the wrong form."},{"labels":["documentation"],"text":"The documentation for the Actuator's endpoints is currently in a separate module. On the one hand this is useful as users can add it as a dependency and then an application that's using Actuator self-hosts the documentation. On the other hand it means that the documentation for the Actuator's endpoints isn't available on the web anywhere. It should be part of the documentation published to docs.spring.io."},{"labels":["documentation"],"text":"Hi,\r\n\r\nthe \"MetricExportAutoConfiguration.class\" in actuate project contains an \"@EnableScheduling\" annotation. This causes that ScheduledAnnotationBeanPostProcessor is always fired by default if actuator is on the classpath and all the methods  annotated \"@Scheduled\" are loaded.\r\n\r\nThis can cause a lot of pain. Could you please update the documentation or rewrite that class?\r\n"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\n\r\nThe release notes for the 1.4.x grouped endpoint metrics uses the wrong name for the 'grouped' setting. Here are the docs: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#metricsfilter-improvements.\r\n\r\n\"\"\"\r\nendpoints.metrics.filter.gauge-submissions=grouped\r\nendpoints.metrics.filter.counter-submissions=grouped,merged\r\n\"\"\"\r\n\r\nThe correct name for \"grouped\" is \"per_http_method\" (and similar variants). It appears to have been this way since the feature was created. It tripped me up when I tried to use it until I dug in further."},{"labels":[null,"documentation"],"text":"We sometimes reference versions in the documentation that should match those defined in \"spring-boot-dependencies\" but it's a manual process to keep them in sync. We should see if there's a way to keep them in sync automatically. One possibility would be a custom Asciidoctor extension that exposes all of the version properties from \"spring-boot-dependencies\" as Asciidoctor attributes that could then be referenced, for example \"{{spring.version}}\"."},{"labels":["documentation"],"text":"When using test slices it becomes important not to litter the application's main class with \"@Enable…\" annotations that are specific to a particular area of its functionality. The main class is typically the one that's used when using \"@DataJpaTest\", \"@JdbcTest\" etc so it's important to keep it clean and only enable things that are applicable to the application as a whole. If this isn't done things may fail as the slicing will filter out things upon which something that's been switched on by \"@Enable…\" depends."},{"labels":["documentation"],"text":"So I've been trying to make the current spring-boot version working with the newest spring-loaded but after few hours of trying I'm giving up :)\r\n\r\nCurrent version of spring-boot docs: http://docs.spring.io/autorepo/docs/spring-boot/current/reference/htmlsingle/#howto-reload-springloaded-gradle-and-intellij-idea shows an example which is not working (for me at least). It doesn't work either when i bump spring-loaded to the newest version.\r\n\r\nAnd already preceding your questions:\r\n- Yes, I've tried running my app with VM args: \"-javaagent:/path/to/spring-loaded.jar -noverify\"\r\n- Yes, I've been recompiling my classes\r\n- Yes, I've been trying to run my app via \"gradle bootRun\"\r\n- Yes, I've been trying to run my app via IntelliJ\r\n\r\nMy build.gradle:\r\n\r\n\"\"\"\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath 'org.springframework.boot:spring-boot-gradle-plugin:1.4.3.RELEASE'\r\n        classpath 'org.springframework:springloaded:1.2.6.RELEASE'\r\n    }\r\n}\r\n\r\napply plugin: 'java'\r\napply plugin: 'idea'\r\napply plugin: 'org.springframework.boot'\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n\r\nrepositories {\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    compile 'org.springframework.boot:spring-boot-starter-web:1.4.3.RELEASE'\r\n\r\n}\r\n\r\nidea {\r\n    module {\r\n        inheritOutputDirs = false\r\n        outputDir = file(\"$buildDir/classes/main/\")\r\n    }\r\n}\r\n\"\"\"\r\n\r\nSo... Please tell me if either am i not understanding something or are the spring-boot docs misleading? :)"},{"labels":[null,"documentation"],"text":"Currently the only reference about default behavior is in configuration properties appendix. Since usage of this pattern substantially affects relational data access IMO this should be better emphasized by reference documentation.\r\n\r\nSee #7107."},{"labels":["documentation"],"text":"I tried to configure a custom favicon.ico for my spring boot webapp. The documentation mentions [Favicon-support](http://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration), but there are no further instructions how to do it.\r\nI found the solution in this [StackOverflow post](http://stackoverflow.com/a/40499763/104976). The solution is to put the favicon.ico directly in the resources folder. This should be mentioned in the documentation."},{"labels":[null,"documentation"],"text":"When I build tests against EmbeddedDB (\"hsqldb\"), I noticed that in between \"@DirtiesContext\" that DB isn't closed:\r\n\"\"\"\r\nCaused by: org.hsqldb.HsqlException: object name already exists: FOO\r\n\"\"\"\r\n\r\nLooks like in the \"DataSourceAutoConfiguration\"\r\n\"\"\"\r\n@Conditional(EmbeddedDatabaseCondition.class)\r\n@ConditionalOnMissingBean({ DataSource.class, XADataSource.class })\r\n@Import(EmbeddedDataSourceConfiguration.class)\r\nprotected static class EmbeddedDatabaseConfiguration {\r\n}\r\n\"\"\"\r\ndoesn't work because the next one \"PooledDataSourceConfiguration\" wins somehow.\r\nAnd since \"spring-boot-starter-jdbc\" provides \"tomcat-jdbc\" by default, that feels like \"DataSourceConfiguration.Tomcat\" creates a \"DataSource\" bean.\r\n\r\nUnlike \"EmbeddedDataSourceConfiguration\" that case doesn't provide \"this.database.shutdown()\", therefore our in-memory DB stands in between \"@DirtiesContext\"s.\r\n\r\nThe simple app to demonstrate the issue: https://github.com/artembilan/EmbeddedDbDiritesContext"},{"labels":["documentation",null],"text":"We aren't able to detect  default values for enums (#7562) so we should write them manually.\r\n\r\nAlso we should make it clearer that it isn't supported in the reference doc."},{"labels":["documentation"],"text":"The following keys are current included in the metadata with no documentation  (in particular no entry in the appendix):\r\n\r\n\"\"\"\r\n# spring.test.mockmvc\r\nspring.test.mockmvc.add-filters=true # \r\nspring.test.mockmvc.print= # \r\nspring.test.mockmvc.print-only-on-failure=true # \r\n\r\n# spring.test.restdocs\r\nspring.test.restdocs.uri-host= # \r\nspring.test.restdocs.uri-port= # \r\nspring.test.restdocs.uri-scheme= # \r\n\"\"\"\r\n\r\n@philwebb Does that make sense that the user changes this in \"application.properties\"? All of them? If the answer is yes then we need to document them somehow. If the answer is no, we need to fix the meta-data."},{"labels":["documentation"],"text":"See http://stackoverflow.com/questions/41455936/one-gradle-thymeleaf-project-reloads-on-resource-change-the-other-relaunches/\r\n\r\nLooking at the documentation, we don't make a clear distinction and the doc is a bit confusing with sentences like \r\n\r\n> Note that certain resources such as static assets and view templates do not need to restart the application.\r\n\r\nThey don't but the user still needs to update the classpath. We should make that crystal clear at the beginning or something."},{"labels":["documentation"],"text":"Not sure I documented it when I added the feature."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"I think a way \"MessageChannelMetricWriter\" is currently implemented is way too cumbersome to use in a real life. Let me express this issue with MQTT, which should work OOB with Sprint INT MQTT as that transport is used for telemetry and Boot metrics are about sending this kind of info over the wire.\r\n\r\nFirst issue is that user is left hanging what is the actual error as stacktrace is omitted.\r\n\r\n\"\"\"\r\n2016-12-31 16:28:19.670  WARN 1193 --- [ask-scheduler-6] o.s.b.a.m.export.AbstractMetricExporter  : Could not write to MetricWriter: class org.springframework.messaging.MessageHandlingException: error occurred in message handler [mqttOutbound]; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\r\n\"\"\"\r\n\r\nI had to hack/compile Boot locally to log full exception:\r\n\r\n\"\"\"\r\nCaused by: java.lang.IllegalArgumentException: [Assertion failed] - this expression must be true\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:86) ~[spring-core-5.0.0.BUILD-SNAPSHOT.jar!/:5.0.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:98) ~[spring-core-5.0.0.BUILD-SNAPSHOT.jar!/:5.0.0.BUILD-SNAPSHOT]\r\n\tat org.springframework.integration.mqtt.support.DefaultPahoMessageConverter.messageToMqttBytes(DefaultPahoMessageConverter.java:239) ~[spring-integration-mqtt-5.0.0.BUILD-SNAPSHOT.jar!/:5.0.0.BUILD-SNAPSHOT]\r\n\"\"\"\r\n\r\nWell yes, \"DefaultPahoMessageConverter\" only support \"String\" or \"byte[]\" as a payload. Boot metrics are sending \"Metric\" or \"Delta\" into a channel and naturally things go south.\r\n\r\nI don't think we should just send \"Metric\" or \"Delta\" and expect user to handle the mess with whatever \"MessageChannel\" and transport is in use. I don't exactly know what we should do to make end-user experience better but possibly something along a lines of converting Metric/Delta to json or something similar.\r\n\r\nMessage logged:\r\n\"\"\"\r\n2016-12-31 16:52:00.996 DEBUG 1397 --- [ask-scheduler-4] o.s.i.m.outbound.MqttPahoMessageHandler  : mqttOutbound received message: GenericMessage [payload=Metric [name=gauge.iot.temperature.28-0315a24b98ff, value=23.4, timestamp=Sat Dec 31 16:52:00 UTC 2016], headers={metricName=gauge.iot.temperature.28-0315a24b98ff, id=8331af0c-9833-f509-a3f1-2fc0476bc892, timestamp=1483203120986}]\r\n\"\"\""},{"labels":["documentation"],"text":"Interesting use case on [stackoverflow](http://stackoverflow.com/questions/41315386/sprint-boot-1-4-datajpatest-error-creating-bean-with-name-datasource)\r\n\r\nSo basically, there is no embedded datasource available at all. \"@DataJpaTest\" replaces the \"DataSource\" with an in-memory one and fails because none is on the classpath.\r\n\r\nPerhaps we should handle that situation differently?"},{"labels":["documentation"],"text":"1. The meaning of Health-Status DOWN versus OUT_OF_SERVICE is undocumented (Also see http://stackoverflow.com/questions/29924786/out-of-service-vs-down-health-status-spring-boot). A better documentation in javadoc should suffice, instead of the current self-referencing description:\r\n\r\n\"\"\"\r\npublic final class Status {\r\n\r\n\t/**\r\n\t * Convenient constant value representing unknown state.\r\n\t */\r\n\tpublic static final Status UNKNOWN = new Status(\"UNKNOWN\");\r\n\r\n\t/**\r\n\t * Convenient constant value representing up state.\r\n\t */\r\n\tpublic static final Status UP = new Status(\"UP\");\r\n\r\n\t/**\r\n\t * Convenient constant value representing down state.\r\n\t */\r\n\tpublic static final Status DOWN = new Status(\"DOWN\");\r\n\r\n\t/**\r\n\t * Convenient constant value representing out-of-service state.\r\n\t */\r\n\tpublic static final Status OUT_OF_SERVICE = new Status(\"OUT_OF_SERVICE\");\r\n\r\n\"\"\"\r\nOne could also think about removing OUT_OF_SERVICE, if it is unused in spring.\r\n\r\n2. According to https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html the default order of Health-Status is:\r\n\r\n> management.health.status.order=DOWN, OUT_OF_SERVICE, UNKNOWN, UP # Comma-separated list of health statuses in order of severity\r\n\r\nBut the default order in source is:\r\n\"\"\"\r\n\tpublic OrderedHealthAggregator() {\r\n\t\tsetStatusOrder(Status.DOWN, Status.OUT_OF_SERVICE, Status.UP, Status.UNKNOWN);\r\n\t}\r\n\r\n\"\"\"\r\nI believe the correct order should be as documented?\r\n"},{"labels":["documentation"],"text":"Should use the canonical format (\"static-locations\")\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-static-content"},{"labels":["documentation"],"text":"See #5047"},{"labels":["documentation"],"text":"**Question**\r\nI am wondering which files exactly are governed by the EPL 1.0, as stated in https://github.com/spring-projects/spring-boot/blob/master/spring-boot-cli/src/main/content/legal/open_source_licenses.txt \r\n\r\n\"Unless otherwise indicated below, the Content is provided to you under\r\nthe terms and conditions of the Eclipse Public License Version 1.0 (\"EPL\").\r\nA copy of the EPL is available in the file called license.txt.\"\r\n\r\nThe license.txt file at https://github.com/spring-projects/spring-boot/blob/master/spring-boot-cli/src/main/content/LICENCE.txt is not a copy of the EPL, but the Apache License 2.0\r\n\r\nMaybe the content of the folders \"bin\" and \"shell-completion\" is subject to the EPL 1.0 ?\r\n"},{"labels":["documentation"],"text":"It seems that there are a couple of tricks needed to get a manual setup of multiple DataSources working nicely including the externalization of properties. Ideally the sample would show:\r\n\r\n1. How to structure properties so that each \"DataSource\" has its own distinct configuration.\r\n2. Show how to declare @Bean methods to that they pick up the configuration from the declared property sets.\r\n3. Optionally (if possible and recommended), show how to share some of the properties declared (e.g. user and password) to avoid mistakes when configuration changes."},{"labels":["documentation"],"text":"Several users are confused about what they can't or cannot use with @ConfigurationProperties. The fact it is a component and that the default constructor is autowired now makes it worse if they don't realize we do not support \"constructor injection\" (in the sense of the environment). \r\n\r\nSee http://stackoverflow.com/questions/41080705/how-to-configure-external-configuration-beans-in-spring-boot/ for instance. We have others (the advisable word for getter/setter should definitely be removed and replaced by a more exhaustive example)."},{"labels":["documentation"],"text":"<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->\r\n\r\nSpringApplicationBuilder has javadoc\r\n\r\n \"\"\"\r\n* <pre>\r\n * new SpringApplicationBuilder(Application.class).profiles(&quot;server&quot;)\r\n * \t\t.defaultArgs(&quot;--transport=local&quot;).run(args);\r\n * </pre>\r\n\"\"\"\r\nbut this class doesn't has method defaultArgs\r\n\r\nMethod defaultArgs was removed in commit 08cf5b413969cbdbf025fa27d4a16b517e06e9a0\r\n\r\n\r\n \r\n\r\n\r\n"},{"labels":["documentation"],"text":"Bug report\r\n\r\nAs per http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/maven-plugin/repackage-mojo.html default value for excludeDevtools is true; However, when trying to repackage my war using 'mvn clean install spring-boot:repackage' devtools is still included in the repackaged war\r\n\r\n"},{"labels":["documentation"],"text":"When the documentation for 1.4 and 1.5 snapshots links to GitHub, it links to master rather than 1.4.x or 1.5.x respectively"},{"labels":["documentation"],"text":"When testing my application locally with devtools enabled, I was searching for ways to make the cache headers work ok for my CSS/JS and webjars. I tried various configuration changes in the application, but none of that was needed. I only needed to disable the dev-tools temporary so I could see the behaviour as it would be in production. It would be good to document this. I can do a proposal if you can tell me where in the reference documentation you would like me to add something? I was thinking about adding chapter 20.2.7 at http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/htmlsingle/#using-boot-devtools-restart if that is ok?"},{"labels":["documentation"],"text":"Hi,\r\nI have occur a exception about spring boot project, I want to find this answer by this issues what other asked, but can\"t solve my problem, and I asked in stackoverflow, it\"s no one can answer me. I find this reason liked this project can not scan package, but I do not know how to solve it.\r\nwhen I set <tomcat.version>8.5.6</tomcat.version>, the exception message is:\r\n\"\"\"\r\nERROR 1647 --- [ost-startStop-1] o.s.b.c.embedded.tomcat.TomcatStarter    : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webApplication' defined in URL [jar:file:/home/vincent/Downloads/test-demo/target/test-demo-0.0.1-SNAPSHOT.war!/WEB-INF/classes!/com/jiajian/WebApplication.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.jiajian.WebApplication]: Constructor threw exception; nested exception is org.glassfish.jersey.server.internal.scanning.ResourceFinderException: java.io.FileNotFoundException: /home/vincent/Downloads/test-demo/target/test-demo-0.0.1-SNAPSHOT.war!/WEB-INF/classes (No such file or directory)\r\n2016-11-28 15:34:26.522  WARN 1647 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n2016-11-28 15:34:26.546 ERROR 1647 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:536) ~[spring-context-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) [spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) [spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) [spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat com.jiajian.YishiServiceProjectApplication.main(YishiServiceProjectApplication.java:17) [classes!/:0.0.1-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_91]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_91]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_91]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_91]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [test-demo-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [test-demo-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [test-demo-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59) [test-demo-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:115) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.<init>(TomcatEmbeddedServletContainer.java:82) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:535) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:177) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\t... 16 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webApplication' defined in URL [jar:file:/home/vincent/Downloads/test-demo/target/test-demo-0.0.1-SNAPSHOT.war!/WEB-INF/classes!/com/jiajian/WebApplication.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.jiajian.WebApplication]: Constructor threw exception; nested exception is org.glassfish.jersey.server.internal.scanning.ResourceFinderException: java.io.FileNotFoundException: /home/vincent/Downloads/test-demo/target/test-demo-0.0.1-SNAPSHOT.war!/WEB-INF/classes (No such file or directory)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1148) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1050) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1128) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1022) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.4.RELEASE.jar!/:4.3.4.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:234) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:215) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:91) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:79) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.getServletContextInitializerBeans(EmbeddedWebApplicationContext.java:241) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.selfInitialize(EmbeddedWebApplicationContext.java:228) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.access$000(EmbeddedWebApplicationContext.java:89) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup(EmbeddedWebApplicationContext.java:213) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.springframework.boot.context.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:55) ~[spring-boot-1.4.2.RELEASE.jar!/:1.4.2.RELEASE]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5178) ~[tomcat-embed-core-8.5.6.jar!/:8.5.6]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.6.jar!/:8.5.6]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1403) ~[tomcat-embed-core-8.5.6.jar!/:8.5.6]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-8.5.6.jar!/:8.5.6]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_91]\r\n\tat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_91]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-8.5.6.jar!/:8.5.6]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_91]\r\n\tat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_91]\r\n\"\"\"\r\nI get the #7360 set <tomcat.version>8.5.5</tomcat.version> the exception message is the same as <tomcat.version>8.5.6</tomcat.version>\r\nI find the exception maybe cause by scan package.\r\nBecause my project has dependency database, so I build a sample project to you.\r\nThank you for your help!\r\n[test-demo.zip](https://github.com/spring-projects/spring-boot/files/615670/test-demo.zip)\r\n"},{"labels":["documentation"],"text":"We use a \"List<String>\" instead of a \"String\" in many places to allow YAML to configure the property with nested structure. \"spring.couchbase.bootstrap-hosts\" is one of these.\r\n\r\nIn \"CouchbaseAutoConfiguration\" we check if that property is set to auto-configure a \"Bucket\". The following works: \"spring.couchbase.bootstrap-hosts=localhost\" but the following does not \"spring.couchbase.bootstrap-hosts[0]=localhost\" \r\n\r\n"},{"labels":["documentation"],"text":"In [attachment](https://github.com/spring-projects/spring-boot/files/611064/spring-boot-issue-7471.zip) a sample Spring Boot project to reproduce the problem.\r\n\r\nMy environment:\r\n* Spring Boot 1.4.2\r\n* JRE Oracle build 1.8.0_111-b14\r\n* OS: Ubuntu 14.04.5 LTS\r\n\r\nSteps to reproduce:\r\n* start the application as a service: \"MODE=service LOG_FOLDER=/tmp PID_FOLDER=/tmp target/crash-0.0.1-SNAPSHOT.jar start\"\r\n* connect to the shell via ssh (password is \"password\"): \"ssh -p 2000 user@localhost\"\r\n* execute the \"app\" command\r\n\r\nThe shell print the error _Could not compile command_ and in the \"/tmp/crash-*.log\" you can see:\r\n\"\"\"\r\njava.io.IOException: Cannot resolve jar:file:.../crash/target/crash-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes\r\n        at org.crsh.util.ZipIterator.create(ZipIterator.java:100)\r\n        at org.crsh.vfs.spi.url.Node._mergeEntries(Node.java:165)\r\n        at org.crsh.vfs.spi.url.Node.mergeEntries(Node.java:142)\r\n        at org.crsh.vfs.spi.url.Node.merge(Node.java:75)\r\n        at org.crsh.vfs.spi.url.URLDriver.merge(URLDriver.java:42)\r\n        at org.crsh.lang.impl.java.ClasspathResolver.<init>(ClasspathResolver.java:49)\r\n        at org.crsh.lang.impl.java.Compiler.compile(Compiler.java:56)\r\n        at org.crsh.lang.impl.java.JavaCompiler.compileCommand(JavaCompiler.java:59)\r\n        at org.crsh.lang.LanguageCommandResolver.resolveCommand(LanguageCommandResolver.java:128)\r\n        at org.crsh.lang.LanguageCommandResolver.resolveCommand2(LanguageCommandResolver.java:109)\r\n        at org.crsh.lang.LanguageCommandResolver.resolveCommand(LanguageCommandResolver.java:100)\r\n        at org.crsh.shell.impl.command.CRaSH.getCommand(CRaSH.java:100)\r\n        at org.crsh.shell.impl.command.CRaSHSession.getCommand(CRaSHSession.java:96)\r\n        at org.crsh.lang.impl.script.PipeLineFactory.create(PipeLineFactory.java:89)\r\n        at org.crsh.lang.impl.script.ScriptRepl.eval(ScriptRepl.java:88)\r\n        at org.crsh.shell.impl.command.CRaSHSession.createProcess(CRaSHSession.java:163)\r\n        at org.crsh.shell.impl.async.AsyncProcess.execute(AsyncProcess.java:172)\r\n        at org.crsh.console.Console.iterate(Console.java:219)\r\n        at org.crsh.console.Console.on(Console.java:158)\r\n        at org.crsh.console.Console.on(Console.java:135)\r\n        at org.crsh.console.jline.JLineProcessor.run(JLineProcessor.java:204)\r\n        at org.crsh.ssh.term.CRaSHCommand.run(CRaSHCommand.java:99)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n2016-11-24 11:26:18.266 ERROR 8801 --- [pool-1-thread-1] o.crsh.shell.impl.command.CRaSHSession   : Error while evaluating request 'app' Could not compile command\r\n\r\norg.crsh.shell.impl.command.spi.CommandException: Could not compile command\r\n        at org.crsh.lang.impl.java.JavaCompiler.compileCommand(JavaCompiler.java:65) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.lang.LanguageCommandResolver.resolveCommand(LanguageCommandResolver.java:128) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.lang.LanguageCommandResolver.resolveCommand2(LanguageCommandResolver.java:109) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.lang.LanguageCommandResolver.resolveCommand(LanguageCommandResolver.java:100) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.shell.impl.command.CRaSH.getCommand(CRaSH.java:100) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.shell.impl.command.CRaSHSession.getCommand(CRaSHSession.java:96) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.lang.impl.script.PipeLineFactory.create(PipeLineFactory.java:89) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.lang.impl.script.ScriptRepl.eval(ScriptRepl.java:88) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.shell.impl.command.CRaSHSession.createProcess(CRaSHSession.java:163) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.shell.impl.async.AsyncProcess.execute(AsyncProcess.java:172) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.console.Console.iterate(Console.java:219) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.console.Console.on(Console.java:158) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.console.Console.on(Console.java:135) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.console.jline.JLineProcessor.run(JLineProcessor.java:204) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.ssh.term.CRaSHCommand.run(CRaSHCommand.java:99) ~[crash.connectors.ssh-1.3.2.jar!/:na]\r\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]\r\nCaused by: org.crsh.lang.impl.java.CompilationFailureException: package org.crsh.cli does not exist\r\npackage org.crsh.command does not exist\r\ncannot find symbol\r\n  symbol: class BaseCommand\r\ncannot find symbol\r\n  symbol:   class Command\r\n  location: class app\r\n\r\n        at org.crsh.lang.impl.java.Compiler.compile(Compiler.java:81) ~[crash.shell-1.3.2.jar!/:na]\r\n        at org.crsh.lang.impl.java.JavaCompiler.compileCommand(JavaCompiler.java:59) ~[crash.shell-1.3.2.jar!/:na]\r\n        ... 15 common frames omitted\r\n\"\"\"\r\n\r\nIt could be related to #6384."},{"labels":["documentation"],"text":"See #7394\r\n\r\nWe should add an how-to to describe how this can be done."},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-application-events-and-listeners\r\n\r\nIt would be useful to list \"ContextRefreshedEvent\" so that users can see its position relative to the Spring Boot-specific events. We could perhaps also list \"EmbeddedServletContainerIntializedEvent\". Neither \"ContextRefreshedEvent\" nor \"EmbeddedServletContainerInitializedEvent\" is a \"SpringApplicationEvent\" so we'll need to be careful not to confuse people."},{"labels":["documentation"],"text":"In apache tomcat uses apache portable runtime(APR) to provide better performance and scalability with native execution. APR uses system resources and execute natively. If we compare the execution performance BIO , NIO and APR connectors APR provides superior performance.\r\n\r\nI have experience the same in my development phase. I created two sets of artifacts which is standalone Jar with spring boot  embedded tomcat and spring boot war file and deployed on \"tomcat\" both are same code base but APR configuration is only difference.\r\n\r\nSpring boot by default all the threads execution based on \"NIO\", so I have compiled APR libraries based on below link:-\r\n\r\nhttps://tomcat.apache.org/tomcat-8.0-doc/apr.html\r\n\r\nExecuted Spring Boot Jar file with APR.  Now I can see performance results are exactly same.\r\n\r\n**In our spring boot documentation does not have APR guide to add in embedded tomcat. If we add it will help other developers as well.**  \r\n\r\n<!--\r\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\r\n\r\nQuestion\r\n\r\nPlease ask questions about how to use something, or to understand why something isn't\r\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\r\n\r\nBug report\r\n\r\nPlease provide details of the problem, including the version of Spring Boot that you\r\nare using. If possible, please provide a test case or sample application that reproduces\r\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\r\nwe have fixed it.\r\n\r\nEnhancement\r\n\r\nPlease start by describing the problem that you are trying to solve. There may already\r\nbe a solution, or there may be a way to solve it that you hadn't considered.\r\n-->"},{"labels":["documentation"],"text":"[Javadoc for MultipartProperties](http://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/api/org/springframework/boot/autoconfigure/web/MultipartProperties.html) says that maximum sizes are \"1Mb\" and \"10Mb\". Same values are shown as default values when autocompleting with IDEA.\r\n\r\nHowever, \"Mb\" means megabits and not megabytes. Correct suffix for megabytes would be either \"MB\" or \"MiB\"."},{"labels":["documentation"],"text":"<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n#### There is an unmerged commit in the reference guide docs.\n#### [Here is the link](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content). It's in the end part of the section 27.1.5.\n#### Please refer to the below screenshot.\n\n![image](https://cloud.githubusercontent.com/assets/5925561/19619682/c0eacaf0-989f-11e6-9917-42618e8dd1f0.png)\n"},{"labels":["documentation"],"text":"## The Problem\n\nI have a JAR in a \"./lib/\" directory and I want to have all JARs in that directory on my classpath. \n\nThis is my generated manifest file:\n\n\"\"\"\nManifest-Version: 1.0\nStart-Class: biz.test.spring.boot.Application\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nLoader-Path: lib                 <=============== look here\nSpring-Boot-Version: 1.4.1.RELEASE\nMain-Class: org.springframework.boot.loader.PropertiesLauncher\n\"\"\"\n\nActually even w/o any setting this should work([see](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#executable-jar-property-launcher-features)):\n\n> \"loader.path\" (if empty) defaults to lib (meaning a local directory or a nested one if running from an archive). Because of this PropertiesLauncher behaves the same as JarLauncher when no additional configuration is provided.\n\nBut it does not so I tried with the MANIFEST.MF. But it has no effect. I also tried absolute paths. This feature is mentioned [here](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#executable-jar-property-launcher-features):\n\n> Manifest entry keys are formed by capitalizing initial letters of words and changing the separator to \"-\" from \".\" (e.g. \"Loader-Path\"). The exception is loader.main which is looked up as \"Start-Class\" in the manifest for compatibility with JarLauncher).\n\nI also tried with a setting in **application.properties** but there is no effect either.\n#### SUMMARY\n\n3 Problems:\n- lib/ folder not on classpath by default\n- Loader-Path in MANIFEST.MF has no effect\n- loader.path in application.properties has no effect \n## Workaround\n\nI can run the application like this:\n\n\"\"\"\njava -Dloader.path=lib -jar application-1.0.0.jar\n\"\"\"\n\nBecause I run it as init.d service I have *.conf file that sets **loader.path** in the JAVA_OPTS property. \n\nBut this doubles the effort during releases because the name of the JAR file contains the version and I need to update the link to the JAR **AND** the name of the *.conf file everytime.\n## Demo Data\n\nI have a very simple Spring-Boot application to try that out:\nhttps://github.com/PatrickTheFirst/spring-boot-test\n\nThe lib folder with the JAR is also checked in. But you can build the JAR on your own with this project:\nhttps://github.com/PatrickTheFirst/demo-rest\n\nIf it works you will see a new \"Rest Servlet V1\" servlet and you can call \"GET localhost:8081/rest/test/get\".\n## System\n\nLinux Mint 17.3 64-bit\nKernel Linux 4.4.0-15-generic x86_64\nMATE 1.12.0\n\nSpring Boot 1.4.1.RELEASE\nGradle 2.12\n"},{"labels":["documentation"],"text":"In Spring boot 1.4, the name of MetricsFilter changed from metricFilter to metricsFilter. But in [reference doc ](http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/html/howto-traditional-deployment.html#howto-servlet-2-5) it's still metricFilter.\n"},{"labels":["documentation"],"text":"If you visit the Spring Boot landing page over non-https (http://projects.spring.io/spring-boot/) it works fine.\n\nIf you visit the Spring Boot landing page over https (https://projects.spring.io/spring-boot/) it does not work fine.\n\nThe differences that I have noticed include:\n- The box in the right-column titled \"Spring Boot\" with all of the various versions and Reference + API Links is missing\n- The \"Download\" box in the \"Quick Start\" section is missing most of its content (it contains the paragraph \"The recommended...Gradle.\" but no other content, plus the Version Selector and Maven/Gradle selectors are missing)\n\nThe content of the pages is identical, so this probably has something to do with a script that is supposed to format the content of the boxes.\n"},{"labels":["documentation"],"text":"See Javadoc. Looks like an oversight.\n"},{"labels":[null,"documentation"],"text":"This is a followup to #6008. While the resolution to that added a note _to the \"@WebMvcTest\" section_, the place I as a user was rereading was section 40.3, describing \"You can use the \"webEnvironment\" attribute\". Additionally, the Javadoc for \"WebEnvironment\" suggests that the default behavior of \"@SpringBootTest\", with no parameters or extra configuration, is to generate a MockMvc setup if the Servlet API is on the classpath. Adding \"@WebMvcTest\" results in a bootstrapper conflict.\n\nFrom a pragmatic/performance standpoint, not-Web-by-default probably makes sense, but carrying the \"WebEnvironment\" on the \"@SpringBootTest\" annotation implies that that annotation is sufficient to kick off a Web environment. Since it is not, both the main doc section on \"@SpringBootTest\" and the Javadoc should note that, and I'd like to suggest adding a boolean flag to \"@SpringBootTest\" to invoke the same effect as adding \"@AutoConfigureMockMvc\" or otherwise clarifying the annotation's API to make the additional requirement logically visible from the source.\n"},{"labels":["documentation"],"text":"The documentation for using **Thymeleaf 3** with Spring Boot 1.4 only works if using the **spring-boot-starter-parent**. It would be useful if the documentation also included how to override the dependencies when using **spring-boot-dependencies** in **dependencyManagement** instead.\n"},{"labels":["documentation"],"text":"I have been trying to get ehcache 3.1.2 to work with spring boot. i first tried w/ the current 1.4.1.RELEASE and then with this build. I followed \"/spring-boot-samples/spring-boot-sample-cache\" and re-created the sample test. When i run my sample application, the expected method does not cache the results. When i run my test, it fails for the same reason.\n\nAll the documentation stating that spring boot supports ehcache 3.x needs to be revised; clearly states that if you use JCache and add the ehcache dependency it should work 'out of the box'. Not true.\n\nWhen will ehcache 3.x be supported by spring boot?\n"},{"labels":["documentation"],"text":"There are several ways to build a \"RestTemplate\" and to customise the template that's built. You can:\n1. Create your own \"RestTemplateBuilder\" bean\n2. Add one or more \"RestTemplateCustomizer\" beans to the context\n3. Use the auto-configured \"RestTemplateBuilder\"\n\nThe first option is the nuclear one. It switches off the auto-configuration so any \"RestTemplateCustomizer\" beans will be ignored.\n\nThe second option is additive. Any \"RestTemplateCustomizer\" beans will be added to the auto-configured \"RestTemplateBuilder\". The customisations will be applied to every \"RestTemplate\" that's created with the builder.\n\nThe third option is the most isolated. \"RestTemplateBuilder\" is immutable (any changes made to it return a new instance). Injecting a \"RestTemplateBuilder\" and then customising it will mean that the customisations only affect the \"RestTemplate\" instance that's being built.\n\nRules of thumb:\n1. If your app only has a single \"RestTemplate\", injecting the builder and customising it as necessary is sufficient and requires the least effort.\n2. If your app has multiple \"RestTemplate\" beans and you want to apply some customizations to all of them, one or more \"RestTemplateCustomizer\" beans are a good option.\n3. If you want to take complete control, create your own \"RestTemplateBuilder\". This is probably an advanced option as you need to be aware of what you're losing (\"RestTemplateCustomizer\" beans being applied automatically).\n"},{"labels":["documentation"],"text":"Documentation [howto-convert-an-existing-application-to-spring-boot](http://docs.spring.io/spring-boot/docs/1.3.8.RELEASE/reference/htmlsingle/#howto-convert-an-existing-application-to-spring-boot) suggests that if you want to migrate your WAR to executable Spring Boot application in first step \"SpringBootServletInitializer\" should be implemented with method \"configure\". In second step \"main\" method should be added.\n\nIt looks that recommended way is implement method \"configure\", but [the method is not called in standalone application](http://stackoverflow.com/questions/39729012/springbootservletinitializerconfigure-is-not-called-for-executable-war) (when application starts from \"main\", not as WAR on servlet container)\n"},{"labels":["documentation"],"text":"Just quoting from [documentation](http://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-json-tests):\n\n> Spring Boot includes AssertJ based helpers that work with the JSONassert and JsonPath libraries to check that JSON is as expected. The **\"JacksonHelper\"**, **\"GsonHelper\"** and BasicJsonTester classes can be used for Jackson, Gson and Strings respectively. Any helper fields on the test class can be @Autowired when using @JsonTest\n\nThere are no such classes available in Spring Boot 1.4.1.RELEASE. I believe the \"JacksonTester\" and \"GsonTester\" are the correct ones.\n"},{"labels":["documentation"],"text":"This property is present in the meta-data and not in the appendix.\n\nSee #6453\n"},{"labels":["documentation"],"text":"### Problem description\n\nAccording to section [31.1 Supported cache providers](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#_supported_cache_providers) and section [31.1.6 Couchbase](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-caching-provider-couchbase) of the Spring Boot Reference Manual, the dependencies \"org.springframework.boot:spring-boot-starter-cache\" and \"org.springframework.boot:spring-boot-starter-data-couchbase\" are needed to enable caching with Couchbase.\n\nUnfortunately, this results in the following error:\n\n\"\"\"\nCaused by: java.lang.IllegalArgumentException: No cache manager could be auto-configured, check your configuration (caching type is 'COUCHBASE')\n    at org.springframework.util.Assert.notNull(Assert.java:115) ~[spring-core-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    at org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration$CacheManagerValidator.checkHasCacheManager(CacheAutoConfiguration.java:139) ~[spring-boot-autoconfigure-1.4.1.RELEASE.jar:1.4.1.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_74]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_74]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_74]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_74]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:365) ~[spring-beans-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:310) ~[spring-beans-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133) ~[spring-beans-4.3.3.RELEASE.jar:4.3.3.RELEASE]\n    ... 61 common frames omitted\n\"\"\"\n\nHowever, when adding the dependency \"couchbase-spring-cache\" to the classpath, it works.\n\nI think this dependency should be mentioned in section [31.1.6 Couchbase](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-caching-provider-couchbase) of the Spring Boot Reference Manual.\n### Additional information\n\nSample project files to reproduce the error.\n\nApplication.java:\n\n\"\"\" java\n@SpringBootApplication\n@EnableCaching\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\"\"\"\n\nbuild.gradle:\n\n\"\"\" groovy\nbuildscript {\n    ext {\n        springBootVersion = '1.4.1.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'spring-boot'\n\njar {\n    baseName = 'couchbase-cache'\n    version = '0.0.1-SNAPSHOT'\n}\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-cache')\n    compile('org.springframework.boot:spring-boot-starter-data-couchbase')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile('com.couchbase.client:couchbase-spring-cache') // remove to produce the error\n}\n\"\"\"\n\napplication.yml:\n\n\"\"\" yaml\nspring:\n  couchbase:\n    bootstrap-hosts: localhost\n  cache:\n    type: couchbase\n\n\"\"\"\n"},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/6793#issuecomment-247522647\n"},{"labels":["documentation"],"text":"I have tried using hikari datasource configuration as following:\n\n\"\"\"\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\nspring.datasource.hikari.jdbc-url=jdbc:oracle:thin:@//localhost:1521/sandbox\nspring.datasource.hikari.username=tiep\nspring.datasource.hikari.password=123456\n\"\"\"\n\nAnd when I start appilication with --debug, it gives me this exception:\n\n\"\"\"\norg.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Cannot determine embedded database driver class for database type NONE. If you want an embedded database please put a supported one on the classpath. If you have database settings to be loaded from a particular profile you may need to active it (no profiles are currently active).\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:218) ~[spring-boot-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n\"\"\"\n\nAfter few debug investigations, I found out that at line 76 in \"DataSourceConfiguration.java\" the \"DataSourceProperties\" is not instantiate using \"spring.datasource.hikari\" properties but \"spring.datasource\"\n"},{"labels":["documentation"],"text":"It's not always clear what JCache providers can be used with Spring Boot. We have dependency management for a few. In particular EhCache 2/3 needs to be clarified (EhCache 3 is purely using JSR-107).\n"},{"labels":["documentation"],"text":"It would appear to be impossible for a Gradle plugin to reliably support 3.0 and 2.x. It's a bit of a mess as a class in Gradle's API (\"DefaultTask\") extends a class in its internals (\"AbstractTask\") and the latter contains a method that returns an internal type which has been moved to another package. See [here](https://discuss.gradle.org/t/cannot-apply-spring-boot-gradle-plugin-in-own-plugin-with-gradle-3-0/19516/2?u=andy_wilkinson) for more details.\n"},{"labels":["documentation"],"text":"[Javadoc says says that \"SpringBootWebSecurityConfiguration\" can be excluded by specifying it in the exclude list of \"EnableAutoConfiguration#exclude()\". ](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/SpringBootWebSecurityConfiguration.java#L69)\n\nHowever, it turns out that \"SpringBootWebSecurityConfiguration\" is not an autoconfiguration. Instead, it is imported by \"SecurityAutoConfiguration\". Therefore to exclude \"SpringBootWebSecurityConfiguration\" from the context, \"SecurityAutoConfiguration\" must be the one to be excluded. \n\nThis caused some trouble for me. \"@EnableWebSecurity\" imports\"WebSecurityConfiguration\" which defines a \"FilterChainProxy\" called \"springSecurityFilterChain\" that was conflicting with my xml-based \"FilterChainProxy\" -- my filter chain was being called twice every request. So, I was trying to exclude all the configurations which had \"@EnableWebSecurity\" annotation. \"SpringBootWebSecurityConfiguration\" was one of those which had the annotation among others. So I specified them in the exclude list but didn't realize immediately why \"SpringBootWebSecurityConfiguration\" couldn't be excluded and kept showing up in \"GET /beans\". ~~Also realized that only \"SecurityAutoConfiguration\" needs to be excluded and the rest would be disabled.~~ To disable auto configuration completely, both \"SecurityAutoConfiguration\" & \"SecurityFilterAutoConfiguration\" need to be excluded.\n\nI am using Spring Boot 1.3.4. But this concerns versions up to 1.4.0.\n"},{"labels":["documentation"],"text":"Basic websockets + hateoas + spring webmvc project with Spring Boot (and Kotlin). If configured this way:\n\n\"\"\"\n@Configuration\nopen class RestConfig {\n  @Inject\n  lateinit var asyncTaskExecutor: AsyncTaskExecutor\n\n  @Bean\n  open fun curieProvider(): CurieProvider {\n    return DefaultCurieProvider(\"foo\", UriTemplate(\"http://foo.com/rels/{#rel}\"))\n  }\n\n  @Bean\n  open fun webMvcConfigurer() = object: WebMvcConfigurerAdapter() {\n    override fun configureAsyncSupport(configurer: AsyncSupportConfigurer) {\n      configurer.setTaskExecutor(asyncTaskExecutor)\n    }\n  }\n}\n\"\"\"\n\n\"\"\"\n@Configuration\n@EnableWebSocketMessageBroker\nopen class WebSocketConfig: AbstractWebSocketMessageBrokerConfigurer() {\n  override fun configureMessageBroker(config: MessageBrokerRegistry) {\n    config.enableSimpleBroker(\"/topic\")\n    config.setApplicationDestinationPrefixes(\"/app\")\n  }\n\n  override fun registerStompEndpoints(registry: StompEndpointRegistry) {\n    registry.addEndpoint(\"/stomp\").withSockJS()\n  }\n}\n\"\"\"\n\nupon startup you get this error:\n\n\"\"\"\n2016-09-08 15:46:57.266 ERROR 23150 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration': Unsatisfied dependency expressed through field 'curieProvider': Error creating bean with name 'restConfig': Unsatisfied dependency expressed through field 'asyncTaskExecutor': Error creating bean with name 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'restConfig': Unsatisfied dependency expressed through field 'asyncTaskExecutor': Error creating bean with name 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:240) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:697) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:526) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at com.rocketraman.WebsocketIssueApplicationKt.main(WebsocketIssueApplication.kt:10) [main/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_102]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_102]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_102]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_102]\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'restConfig': Unsatisfied dependency expressed through field 'asyncTaskExecutor': Error creating bean with name 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:648) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 56 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration$WebSocketMessageConverterConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1120) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1049) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 79 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'objectMapper' defined in class path resource [org/springframework/boot/autoconfigure/data/rest/SpringBootRepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 94 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.databind.ObjectMapper]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'objectMapper' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 108 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at com.fasterxml.jackson.databind.ObjectMapper.registerModule(ObjectMapper.java:706) ~[jackson-databind-2.8.1.jar:2.8.1]\n    at org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration.basicObjectMapper(RepositoryRestMvcConfiguration.java:801) ~[spring-data-rest-webmvc-2.5.2.RELEASE.jar:na]\n    at org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration.objectMapper(RepositoryRestMvcConfiguration.java:439) ~[spring-data-rest-webmvc-2.5.2.RELEASE.jar:na]\n    at org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration$$EnhancerBySpringCGLIB$$602bfd00.CGLIB$objectMapper$1(<generated>) ~[spring-boot-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration$$EnhancerBySpringCGLIB$$602bfd00$$FastClassBySpringCGLIB$$7d6f8726.invoke(<generated>) ~[spring-boot-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestMvcConfiguration$$EnhancerBySpringCGLIB$$602bfd00.objectMapper(<generated>) ~[spring-boot-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_102]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_102]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_102]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_102]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 109 common frames omitted\n\"\"\"\n\nA workaround is to move the \"@Bean\" definition for \"WebMvcConfigurer\" into a separate \"@Configuration\" class, but getting from the error message above to this solution is pretty non-intuitive.\n\nA reproduction is here:\n\nhttps://github.com/rocketraman/spring-boot-npe-issue\n"},{"labels":["documentation"],"text":"It appears that by default Tomcat 8.5.4+ does not conform to the Servlet 3.1\nspecification in regards to the Cookie RFC that should be used. I [brought this](http://www.mail-archive.com/users@tomcat.apache.org/msg123559.html) up on the Tomcat mailing list and the response was that you must register [LegacyCookieProcessor](http://www.mail-archive.com/users@tomcat.apache.org/msg123560.html) to be Servlet 3.1 compliant.\n\nIt would be nice if Spring Boot would automatically register the \"LegacyCookieProcessor\" for users so that it remains Servlet compliant.\n# Update (Example Configuration)\n\nYou can find an example configuration at https://github.com/spring-projects/spring-session/issues/605#issuecomment-243002636 The example assumes Tomcat 8.5, so we would likely need some conditional annotations, but hopefully this helps a little\n"},{"labels":["documentation"],"text":"Please enhance the documentation on how to properly enforce HTTPS on cloudfoundry...\n\n[1] only describes some aspects when using tomcat behind a proxy and does not talk about enforcing HTTPS, and what about undertow and jetty? \n\nIt seems the only way to really enforce is to use a \"WebSecurityConfigurerAdapter\" and call \"http.requiresChannel().anyRequest().requiresSecure()\" - but this means I have to explicitly disable for local development.\n\nedit:\n[1] http://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html#howto-customize-tomcat-behind-a-proxy-server\n"},{"labels":["documentation"],"text":"I recently tried upgrading the spring-boot-gradle-plugin from version 1.3.1.RELEASE to 1.4.0.RELEASE and encountered a compilation error in my projects as a result.  After investigating it appears that the root of the issue is that when using spring-boot to create executable jars that are intended to also be used as executable jars the addition of putting classes from the project into the BOOT-INF directory within the jar prevents those executable jars from also being used as a library jar.\n\nAs an example scenario:\n\nI have two projects A and B. They both need to be executable jars, however project B relies on some classes in project A. In spring boot version 1.3.1.RELEASE this is fine because all of the programs classes are kept in the root of the jar file. In version 1.4.0.RELEASE of the spring-boot-gradle-plugin, however, all of the classes are kept in a BOOT-INF folder inside of the jar file which hides those classes from anything that would add that jar to it's classpath, causing compilation errors such as 'symbol not found'.\n\nSo it appears that in spring-boot-gradle-plugin 1.4.0.RELEASE you lose the (perhaps unintended) functionality of being able to use a spring-boot generated executable jar as both an executable jar and a library jar.  Whether this is actually considered a bug or not I'm not sure.\n\nFor reference: https://discuss.gradle.org/t/when-updating-to-spring-boot-gradle-plugin-1-4-0-release-lib-project-dependendency-isnt-in-classpath/19325\n"},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/pull/6770#issuecomment-242995665\n"},{"labels":["documentation"],"text":"This appears to missing from the current docs.\n"},{"labels":["documentation"],"text":"We sometimes link to the replacement and sometimes just name it. We should always link to make navigation easier.\n"},{"labels":["documentation"],"text":"It should be \"org.springframework.boot.web.servlet.ErrorPage\"\n"},{"labels":["documentation"],"text":"> To also switch off the authentication manager configuration\n> you can add a bean of type \"AuthenticationManager\", or else configure the\n> global \"AuthenticationManager\" by autowiring an \"AuthenticationManagerBuilder\" into\n> a method in one of your \"@Configuration\" classes.\n\nI think that's wrong now (since Spring Security 4.1) - or maybe it's right and there's another bug, because I tried it and the app blew up. And you can also create a \"@Bean\" of type \"UserDetailsService\" and that works in some way, but I'm not sure how much of the Boot conifguration that switches off.\n"},{"labels":["documentation"],"text":"Spring boot 1.4\n\nI have an app with the following configuration\n\n\"\"\"\nspring.data.mongodb.uri: \"mongodb://10.11.22.11:27017/mydb\"\nspring.data.mongodb.username: \"myuser\"\nspring.data.mongodb.password: \"123\"\n\"\"\"\n\n\"MongoProperties\" (at this line https://github.com/spring-projects/spring-boot/blob/0de5988c0e2cb7d8521fc7fa5dec4f1b6886c9d5/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java#L200)\n\nAssumes that if username/password are set, then it just ignores what is in the URI, then this results in host/port being null and defaulting to localhost:27017\n\nI have a use case where I don't want to specify the the username/pw in the URI because they are encrypted separately. It would be nice if this block of code was smart enough to maybe piece this all together? \n\nThis may or may not be considered a \"bug\" since putting everything in the URI seems to correct the issue, but that was not entirely clear that this was \"one or the other\". Perhaps an enhancement for consideration or documentation update.\n\n (or better logging of what is going on? this was a bit maddening to figure out)\n\nrelated: https://jira.spring.io/browse/DATAMONGO-1478\n"},{"labels":["documentation"],"text":"#5423 sets \"proxyTargetClass=true\" as the new default, effectively breaking it down for people using \"@Transactional\" on the interfaces. As I have later found out, the suggested way is to use it on the classes (even though in my opinion it makes more sense to be put in the contract = interface).\n\nDo you think this change might be worth mentioning in the release notes so that people upgrading to 1.4 (like myself) might save a few hours of debugging?\n"},{"labels":["documentation"],"text":"Documentation for [using neo4j](http://docs.spring.io/spring-boot/docs/1.4.0.RELEASE/reference/htmlsingle/#boot-features-neo4j) talks about using @NodeEntityScan annotation. For 1.4.0.RELEASE this annotation was replaced with the more general @EntityScan annotation and the documentation needs to be updated accordingly.\n"},{"labels":["documentation"],"text":"It isn't mentioned [here](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-customize-the-jackson-objectmapper) but it should be.\n"},{"labels":["documentation"],"text":"IDEs provides auto-completion for enum values now. We should stop documenting those as it will become outdated (if that's not the case already).\n"},{"labels":["documentation"],"text":"<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n\nIt would be nice if the [Spring property validation example here.](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-samples/spring-boot-sample-property-validation/src/main/java/sample/propertyvalidation/SamplePropertyValidationApplication.java)\n\nDid not use a static runner class to demonstrate whether or not this is required. I have a StackOverflow question [here that documents the issues I've been having.](http://stackoverflow.com/questions/38899990/spring-boot-autowired-configuration-only-null-when-validator-bean-used) \n"},{"labels":["documentation"],"text":"It says:\n\n> Specify each library as a \"<dependency>\" with a \"<groupId>\" and a \"<artifactId>\" and they will be unpacked at runtime in \"$TMPDIR/spring-boot-libs\".\n\nThe name of the unpack folder now includes the name of the archive from which they're being unpacked and a UUID:\n\n\"\"\" java\nString fileName = new File(this.jarFile.getName()).getName();\nFile unpackFolder = new File(parent,\n        fileName + \"-spring-boot-libs-\" + UUID.randomUUID());\n\"\"\"\n"},{"labels":[null,"documentation"],"text":"There's no mention in the docs of \"CommandFactory\" or that they're loaded using the service loader. We should also offer some guidance on a configuring a command's dependencies so that classes that are part of the CLI's jar and also pulled in transitively by an extension.\n"},{"labels":["documentation"],"text":"please use HTML as default template mode if Thymeleaf 3 introduced. \n\n [ main] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][main] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.\n"},{"labels":["documentation"],"text":"The \"INSTALL.txt\" file in the Spring Boot CLI download says: \"Groovy v2.1 is packaged as part of this distribution (...).\" However, \"lib/spring-boot-cli-1.4.0.RELEASE.jar\" contains \"BOOT-INF/lib/groovy-2.4.7.jar\", which is Groovy v2.4.\n"},{"labels":["documentation"],"text":"It says this class has been deprecated in favor of \"org.springframework.boot.web.ServletRegistrationBean\"\nThat class doesn't exist. It's actually \"org.springframework.boot.web.servlet.ServletRegistrationBean\n\n<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n"},{"labels":["documentation"],"text":"The documentation explains how to [downgrade to Hibernate 4.3](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#downgrading-to-hibernate-43) for Maven, but not for Gradle. I tried excluding \"hibernate-core\" and \"hibernate-entitymanager\" from \"data-jpa\" and many other dependencies, but it doesn't work. What's the magic formula? 🤔\n"},{"labels":["documentation"],"text":"Bug report\n\nIf you add SpringApplicationBuilder as per docs \n\n\"\"\"\nnew SpringApplicationBuilder()\n    .bannerMode(Banner.Mode.OFF)\n    .sources(Parent.class)\n    .child(Application.class)\n    .run(args);\n\"\"\"\n\nThis wont trigger banner off as it is trying to switch banner off on parent. It should be on child and not parent.\n\nOn other hand, \n\nIf we do like below,\n\n\"\"\"\nnew SpringApplicationBuilder()\n    .sources(Parent.class)\n    .child(Application.class)\n    .bannerMode(Banner.Mode.OFF)\n    .run(args);\n\"\"\"\n\nIt switches banner off. \n\nTherefore, it should be documented properly somewhere as example is misleading and somewhere someone may get confused why banner is not switching off.\n"},{"labels":["documentation"],"text":"The documentation is pretty silent on how to customize \"TestRestTemplate\" (e.g. register additional \"HttpMessageConverter\"s). I've discovered \"RestTemplateCustomizer\" but declaring a Spring bean for that doesn't seem to have any effect. Declaring a bean of type \"RestTemplate\" and customizing that through a \"RestTemplateBuilder\" doesn't either.\n\nI finally tried this:\n\n\"\"\" java\n\n@Bean\nTestRestTemplate template(RestTemplateBuilder builder) {\n    return new TestRestTemplate(\n            builder.additionalMessageConverters(new ProjectingJackson2HttpMessageConverter()).build());\n}\n\"\"\"\n\nBut that lets the bootstrap fail as I now end up with two \"TestRestTemplate\" instances. Making the manually declared one \"@Primary\" makes the context bootstrap, but the \"RestTemplate\" created then doesn't seem to support non-absolute URIs.\n\nI am aware that in my particular example I can declare \"HttpMessageConverter\" beans but they then get registered with both the server side MVC setup _and_ the client.\n"},{"labels":["documentation"],"text":"<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n\nThe official documentation for deploying to Openshift cloud seems to contain a subtle bug.\n\nWhen you look at the link provided (http://docs.spring.io/spring-boot/docs/current/reference/html/cloud-deployment.html#cloud-deployment-openshift); it is said that the hooks written must be put under .openshift/action_scripts directory; however Openshift says they must be put inder .openshift/action_hooks directory in their official documentation (https://developers.openshift.com/languages/diy.html). It should be nice if this situation should be corrected.\n"},{"labels":["documentation",null],"text":"See https://twitter.com/making/status/754890439291908096 and commit 762097ef2982d0ed807388a350ddcfa740a9078a\n"},{"labels":["documentation"],"text":"I was running a Spring Boot application (v1.3.6) with embedded undertow in a WAR archive. Recently, I've added remote-shell commands and they worked just fine using \"mvn spring-boot:run\". Once packaged into WAR, java -jar {filename}.war and upon ssh into the shell and typing \"help\", I get the following exception.\n\"java.io.IOException: Cannot resolve jar:file:{path-to-WAR-archive}!/WEB-INF/classes\"\n\nAll my shell commands were not loaded either.\n"},{"labels":["documentation"],"text":"According to the documentation:\n\n46.6 HTTP health endpoint access restrictions\n...\nFurthermore, **when accessed anonymously**, the response is cached for a configurable period to prevent the endpoint being used in a denial of service attack. The endpoints.health.time-to-live property is used to configure the caching period in milliseconds. It defaults to 1000, i.e. one second.\n\nMy experience with version 1.3.6 is that also authenticated access caches the responses, so either the code is wrong or the documentation is not clear enough.\n"},{"labels":["documentation"],"text":"Hi,\n\nI'm trying out the new **1.4.0.RC1**. In my app, I have two different EntityManagerFactories configured and use Spring Data JPA Repositories.\n\nWhen I switch from the now deprecated annotation \"org.springframework.boot.orm.jpa.EntityScan\" to the new one \"org.springframework.boot.autoconfigure.domain.EntityScan\", my app no longer starts. According to the exception message, the persistence unit is no longer found.\n\nI made a stripped down demo to reproduce the problem: https://github.com/hho/entityscanproblem (\"mvn test\" to see it fail)\n\n<details>\n<summary>\n\nStacktrace of the error</summary>\n\n\n\n\"\"\"\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'systemEntityManagerFactory' defined in com.example.infra.SystemHibernateConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name 'system' found\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1076) ~[spring-context-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:851) ~[spring-context-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-1.4.0.RC1.jar:1.4.0.RC1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) ~[spring-boot-1.4.0.RC1.jar:1.4.0.RC1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313) ~[spring-boot-1.4.0.RC1.jar:1.4.0.RC1]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111) [spring-boot-test-1.4.0.RC1.jar:1.4.0.RC1]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.boot.test.autoconfigure.AutoConfigureReportTestExecutionListener.prepareTestInstance(AutoConfigureReportTestExecutionListener.java:46) [spring-boot-test-autoconfigure-1.4.0.RC1.jar:1.4.0.RC1]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]\nCaused by: java.lang.IllegalArgumentException: No persistence unit with name 'system' found\n    at org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainPersistenceUnitInfo(DefaultPersistenceUnitManager.java:697) ~[spring-orm-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.determinePersistenceUnitInfo(LocalContainerEntityManagerFactoryBean.java:357) ~[spring-orm-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:314) ~[spring-orm-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:373) ~[spring-orm-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:362) ~[spring-orm-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~[spring-beans-4.3.1.RELEASE.jar:4.3.1.RELEASE]\n    ... 42 common frames omitted\n\"\"\"\n\n</details>\n"},{"labels":["documentation"],"text":"This is a feature request.\n\nUsing an embedded instance of elastic search that should be used by hibernate search in a spring boot autoconfigured environment exhibits a race condition.\nElastic search starts in the background and when hibernate gets initialized it tries to connect to elastic search, which it is not up yet, thus the app fails to start.\n\nHow to reproduce\n\nUsing spring boot \"1.4.0.M3\" and the following additional JPA dependencies. Assuming \"@Field\" annotations on the jpa entity classes.\n\n\"\"\" xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-elasticsearch</artifactId>\n    <version>1.4.0.M3</version>\n</dependency>\n\n<dependency>\n    <groupId>org.hibernate</groupId>\n        <artifactId>hibernate-search-backend-elasticsearch</artifactId>\n        <version>5.6.0.Alpha3</version>\n</dependency\n\"\"\"\n\nUsing the following properties\n\n\"\"\"\nspring.data.elasticsearch.properties.http.enabled= true\nspring.jpa.properties.hibernate.search.default.indexmanager= elasticsearch\nspring.jpa.properties.hibernate.search.elasticsearch.index_management_strategy= CREATE_DELETE\n\"\"\"\n\nIt only works, when \"index_management_strategy\" is set to [none](https://github.com/hibernate/hibernate-search/blob/f78306e8c5b1b8efe6069aa129af5fcb58f045fb/documentation/src/main/asciidoc/elasticsearch-integration.asciidoc#configuration) which skips the initial index configuration. But this means during hibernate setup nothing is send to elastic search, only later when new entities are created. At that time elastic search has finished loading and it works. But unfortunately, because no index has been configured, it uses the default index, which cannot be configured from the properties, thus misses any special \"Analyzer\" or \"Tokenizer\" set on the entity classes.\n### Why would one want that?\n\nIt is nice to configure everything together for integration tests. Furthermore, I'm deploying as a fat jar into openshift, so having only one jar to manage eases deployment - instead of starting elastic search separately.\n### The problem\n\nThe problem comes from the background initialization of elastic search, it finishes initialization, even though its not up yet.\n### How to solve\n\nNot sure, I posted the question on [stackoverflow](http://stackoverflow.com/questions/37930019/spring-boot-hibernate-search-elastic-search-embedded-fails-to-start) without success.\nPotentially there should be some form of a busy wait on elastic search being up (responds to host:9200) during the autoconfiguration process \n"},{"labels":["documentation"],"text":"It would be nice having a property to inform what is the **proxy / port / nonproxyhosts** when we get the default **RestTemplate** object created by Spring Boot.\n\nNowadays we only can set proxy for other resources.\n"},{"labels":["documentation"],"text":"We should look at using running sample code imported into our \".adoc\" files to prevent issues like #6312. Spring Security has done this already.\n"},{"labels":["documentation"],"text":"<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n\nThe code example in [45.6.2 Writing custom HealthIndicators](http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#_writing_custom_healthindicators) is missing an import for Health on the spring boot documentation.\n\nthe full import list should look like:\n\n\"\"\"\nimport org.springframework.boot.actuate.health.Health;\nimport org.springframework.boot.actuate.health.HealthIndicator;\nimport org.springframework.stereotype.Component;\n\"\"\"\n"},{"labels":["documentation"],"text":"There's a minor typo in the documentation for JmsListener (33.1.6 Receiving a message) which gives the following example:\n\nThen you can use in any \"@JmsListener\"-annotated method as follows:\n\n\"\"\"\n    @Component\n    public class MyBean {\n\n        @JmsListener(destination = \"someQueue\", **containerFactory=\"myFactory\"**)\n        public void processMessage(String content) {\n            // ...\n        }\n\n    }\n\"\"\"\n\nThe *\\* around the containerFactory shouldn't be there and causes compilation error's, looks like it was accidentally tagged as bold.\n"},{"labels":["documentation"],"text":"I have two dependencies in my gradle file like this:\n\n\"\"\"\ncompile \"org.springframework.session:spring-session:1.2.0.RELEASE\"\ncompile \"org.springframework.session:spring-session-data-redis:1.2.0.RELEASE\"\n\"\"\"\n\nMy project have couple of spring profiles and some of these are using redis http session feature but some do not.\n\nI have a configuration class annotated with @EnableRedisHttpSession and with property condition that triggers if we should use redis.\n\nWhen I used Spring Boot 1.2.5.RELEASE everything worked well. But after upgrade to 1.3.5.RELEASE I noticed that using of @EnableRedisHttpSession annotation doesn't matter and redis http session initializes anyway.\n\nI found that the trouble is in RedisHttpSessionConfiguration, it doesn't look to annotation and initializes all required beans anyway.\n\nCould you please check that and provide a way to disable redis http session without excluding dependency from the class path.\n\nAs workaround I wrote this configuration but it looks quite crutchy:\n\n\"\"\"\n@Configuration\n@EnableAutoConfiguration(exclude = RedisHttpSessionConfiguration.class)\npublic class RedisConfiguration extends RedisHttpSessionConfiguration\n{\n    private static final String REDIS_PROPERTY = \"spring.redis.host\";\n    private static final String COOKIE_NAME = \"MY_SESSION\";\n\n    @Bean\n    public ServletContextInitializer servletContextInitializer()\n    {\n        return new ServletContextInitializer()\n        {\n\n            @Override\n            public void onStartup(ServletContext servletContext) throws ServletException\n            {\n                servletContext.getSessionCookieConfig().setName(COOKIE_NAME);\n            }\n        };\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = REDIS_PROPERTY, havingValue = \"null\", matchIfMissing = true)\n    public SessionRepository defaultSessionRepository()\n    {\n        return new MapSessionRepository();\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = REDIS_PROPERTY)\n    public CookieSerializer cookieSerializer()\n    {\n        return new DefaultSessionSerializer();\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = REDIS_PROPERTY)\n    public RedisOperationsSessionRepository sessionRepository(@Qualifier(\"sessionRedisTemplate\") RedisOperations<Object, Object> sessionRedisTemplate, ApplicationEventPublisher applicationEventPublisher)\n    {\n        return super.sessionRepository(sessionRedisTemplate, applicationEventPublisher);\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = REDIS_PROPERTY)\n    public RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory connectionFactory, RedisOperationsSessionRepository messageListener)\n    {\n        return super.redisMessageListenerContainer(connectionFactory, messageListener);\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = REDIS_PROPERTY)\n    public RedisTemplate<Object, Object> sessionRedisTemplate(RedisConnectionFactory connectionFactory)\n    {\n        return super.sessionRedisTemplate(connectionFactory);\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = REDIS_PROPERTY)\n    public InitializingBean enableRedisKeyspaceNotificationsInitializer(RedisConnectionFactory connectionFactory)\n    {\n        return super.enableRedisKeyspaceNotificationsInitializer(connectionFactory);\n    }\n}\n\"\"\"\n"},{"labels":["documentation"],"text":"Tomcat has been configured to initialise its session id generator lazily so there should be no need to use /dev/urandom to speed up startup\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/index.html doesn't contain Javadoc for \"SpringBootTest\", \"SpringBootContextLoader\" etc.\n"},{"labels":["documentation"],"text":"Hi,\nI am trying to test a subset of a SpringBoot app with JUnit. As stated in the documentation ([here](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-configfileapplicationcontextinitializer-test-utility)), we should be able to use \"ConfigFileApplicationContextInitializer\".\n\nIn a JUnit test-case, I am trying to inject a some \"@Value\" properties from a \"application-dev.yml\" file (e.g. \"@Value(\"${my.pojo.name}\") String name;\"). But these values are not injected (I've got the String \"\"${my.pojo.name}\"\" injected) when using \"ConfigFileApplicationContextInitializer\" and the annotation \"@ContextConfiguration\" while it seems to work when using \"@SpringApplicationConfiguration\" with a SpringApplication.\n\n**Context**\nGiven a configuration class and a JUnit class:\n\n\"\"\" java\n@Configuration\npublic class PojoConfiguration {\n    @Value(\"${my.pojo.name}\")\n    public String name;\n\n  @Bean\n    public Pojo pojo() {\n        return new Pojo(name);\n    }\n }\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ActiveProfiles(\"dev\") \n@ContextConfiguration(classes = { PojoConfiguration.class }, initializers = ConfigFileApplicationContextInitializer.class)\npublic class PojoTest {\n    @Autowired\n    private Pojo myPojo;\n\n    @Test\n    public void testValue() {\n        Assert.assertEquals(myPojo.getName(), \"Arthur Accroc\");\n    }\n}\n\"\"\"\n\nand a \"application-dev.yml\":\n\n\"\"\" yaml\nmy:\n    pojo:\n        name: Arthur Accroc\n\"\"\"\n\n**Obtained**: \"PojoConfiguration.name\" has the value \"${my.pojo.name}\"\n**Expected**: \"PojoConfiguration.name\" has the value defined in the \"application-dev.yml\"\n\nYou can reproduce the issue with the demo.tar.gz in attachment.\n\nI've tested with SpringBoot version 1.2.7.RELEASE and 1.3.5.RELEASE.\n\nIt looks like other people have this issue ([here](http://stackoverflow.com/questions/33815563/using-configfileapplicationcontextinitializer-does-not-resolve-default-values-fo))\n\nThanks in advance,\n\nCédric.\n\n[demo.tar.gz](https://github.com/spring-projects/spring-boot/files/300970/demo.tar.gz)\n"},{"labels":["documentation"],"text":"Nothing obvious in the doc/javadoc of \"EnvironmentPostProcessor\" states it should be registered in \"META-INF/spring.factories\".  This leads to [some confusion](http://stackoverflow.com/questions/37472838/how-to-configure-a-custom-source-to-feed-spring-boots-configurationproperties/37482546?noredirect=1#comment62603880_37482546) as registering it as a bean has not  the expected effect.\n"},{"labels":[null,"documentation"],"text":"I am using Spring-Boot with JSPs and a jar deployment with an embedded Tomcat. Everything works fine.\n\nAfter reading the Spring-Boot Reference Documentation i am a bit confused:\nhttp://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-jsp-limitations\n\nIt says:\n\n> An executable jar will not work because of a hard coded file pattern in Tomcat.\n\nSo is this more a hint to not using JSPs or just a bug in the docs?\n\nHere is the github page of the project with this setup: https://github.com/synyx/urlaubsverwaltung\n"},{"labels":["documentation"],"text":"We should make it easier for people to see what auto-configuration is enabled by a particular test slice by documenting it. It would be quite straightforward if we fixed #6001 as we could read the values from \"spring.factories\".\n"},{"labels":["documentation"],"text":"Ref http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\n\nScroll to \"ELASTICSEARCH\" and click the link. 404 on GitHub.\n"},{"labels":["documentation"],"text":"Link: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-json-tests\n"},{"labels":["documentation"],"text":"Empirically I can only autowire a \"MockMvc\" if I use \"@WebTest\" (and that doesn't work at all for some applications, which is a separate topic). Surely if I have a \"@SpringBootTest\" it can make a \"MockMvc\" for me? Or am I missing something?\n"},{"labels":["documentation"],"text":"Spring Boot Caching integration provides support to disable caching by setting the property \"spring.cache.type\" to \"NONE\".\n\nHowever, this is not documented in the corresponding section [Caching](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-caching) of the Spring Boot Reference Guide.\n"},{"labels":["documentation"],"text":"There's a minor typo in the documentation for statsd ([50.8.3 Example: Export to Statsd](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready-metric-writers-export-to-statsd)) which gives the following example:\n\n\"\"\"\n@Bean\n@ExportMetricWriter\nMetricWriter metricWriter() {\n    return new StatsdMetricWriter(prefix, \"localhost\", \"8125\");\n}\n\"\"\"\n\nThe port parameter of the StatsdMetricWriter constructor takes an int not a String. So the port argument should be 8125 not \"8125\".\n"},{"labels":["documentation"],"text":"Using Spring Boot 1.4.0.M3, I tried the new \"@DataJpaTest\" annotation. I have found that using this annotation does NOT trigger a \"DataIntegrityViolationException\", while using \"@SpringBootTest\" instead does trigger it.\n\nI have a test project that shows the issue: https://github.com/wimdeblauwe/spring-boot-issue-5993/tree/master\n\nIf you run \"UserRepositoryIntegrationTest\" as is, it will fail. If you replace \"@DataJpaTest\" with \"@SpringBootTest\", it will succeed.\n"},{"labels":["documentation"],"text":"I find the \"POM\" part a bit confusing. Our starters are jar artifacts and all that's required is to add a groupId and artifactId. \n\nPOM may lead the user to think this is a BOM or that they should add the \"<type>pom</type>\" to the declaration to make it work.\n\nThoughts?\n"},{"labels":["documentation"],"text":"Raised by @snicoll in an email:\n\nThis [blog post](http://blog.benoitvallon.com/tips/getting-started-with-spring-boot/) is quite interesting regarding our project page. I think we should revisit (especially the CLI part).\n"},{"labels":["documentation"],"text":"We should add https://github.com/persapiens/jsf-spring-boot-starter to third-part list\n\n<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n"},{"labels":["documentation"],"text":"<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n\nDocumentation enhancement:\nCould you add to [24. Externalized Configuration](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config) a fact that \"@TestPropertySource\" properties/prop files have the highest precedence? Maybe it will save somebody a couple of hours\n"},{"labels":["documentation"],"text":"<!--\nThanks for raising a Spring Boot issue. What sort of issue are you raising?\n\nQuestion\n\nPlease ask questions about how to use something, or to understand why something isn't\nworking as you expect it to, on Stack Overflow using the spring-boot tag.\n\nBug report\n\nPlease provide details of the problem, including the version of Spring Boot that you\nare using. If possible, please provide a test case or sample application that reproduces\nthe problem. This makes it much easier for us to diagnose the problem and to verify that\nwe have fixed it.\n\nEnhancement\n\nPlease start by describing the problem that you are trying to solve. There may already\nbe a solution, or there may be a way to solve it that you hadn't considered.\n-->\n\nIn Appendix E. Dependency versions, the following entries are duplicate:\n\n\"\"\"\nspring-orm\nspring-boot\nspring-boot-test\n\"\"\"\n\nSee http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#appendix-dependency-versions\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/reference/htmlsingle/#cloud-deployment-cloud-foundry-services references the wrong class name.\n"},{"labels":["documentation"],"text":"Referencing https://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/reference/html/common-application-properties.html search the page for \"Redis\" and click the \"RedisProperties\" link.\n\n404.\n\nThe link lacks a \"data\" folder at the end of the path.\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/reference/htmlsingle/#boot-features-external-config provides a list in which properties are considered\n\nIn a web app environment, \"StandardServletEnvironment\" contributes 3, 4, and 5 but it also adds \"servletConfigInitParams\" and \"servletContextInitParams\".\n\nTo prevent any override surprises, the docs should probably list the ordering as\n\n> 1. Command line arguments.\n> 2. Properties from SPRING_APPLICATION_JSON (inline JSON embedded in an environment variable or system property)\n> 3. Servlet Config Init Params\n> 4. Servlet Context Init Params\n> 5. JNDI attributes from java:comp/env.\n> 6. Java System properties (System.getProperties()).\n> 7. OS environment variables.\n"},{"labels":["documentation"],"text":"<!-- \nThanks for raising a Spring Boot issue. Please provide a brief description of your problem along with the version of Spring Boot that you are using. If possible, please also consider putting together a sample application that reproduces the issue.\n--> \n\nThis linked project no longer exists: spring-boot-sample-ws\nPage: https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples\n"},{"labels":["documentation"],"text":"Section 74.5 in SpringBoot documentaion contains misleading information.\n\nDocumentation says:\n\n> Spring Boot works fine with higher level migration tools Flyway (SQL-based) and Liquibase (**XML**).\n\nShould be:\n\n> Spring Boot works fine with higher level migration tools Flyway (SQL-based) and Liquibase (**SQL/XML/YAML/JSON**).\n\nDocumenation says:\n\n> In general we prefer Flyway because it is easier on the eyes, and it isn’t very common to need platform independence: usually only one or at most couple of platforms is needed.\n\nThe  fact is: \n- Liquibase  plain SQL  migration scripts(just like Flyway)  and cross database written in SQL/XML/YAML/JSON (**if and only if  need it**, e.g. you prefer to run tests in h2 and use postgresql in production ).\n- Liquibase  provides the conexts which allow you to define which SQL commands will be executed in which environment. E.g you add test data in testing environment.\n- Liquibase  provides database diff tool, which is very handy when your write a next release migration tool and want to be sure you didn't miss anything.\n\nSo, f you want to keep an opinion based information, saying  \n\n> In general we prefer Flyway\n\nReplace it with\n\n> In general we prefer Flyway despite the fact, that it it doesn't support cross database migration, contexts and does not provide database diff tools.\n"},{"labels":["documentation"],"text":"<!-- \nThanks for raising a Spring Boot issue. Please provide a brief description of your problem along with the version of Spring Boot that you are using. If possible, please also consider putting together a sample application that reproduces the issue.\n--> \n\nWhen I set as follows:\n\n\"\"\"\nserver.error.whitelabel.enabled=false\n\"\"\"\n\nI see the following error:\n\n\"\"\"\n2016-04-18 20:17:30.975 ERROR 5152 --- [io-18080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet dispatcherServlet threw exception\n\njavax.servlet.ServletException: Circular view path [error]: would dispatch back to the current handler URL [/error] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\n    at org.springframework.web.servlet.view.InternalResourceView.prepareForRendering(InternalResourceView.java:205) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:145) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1257) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1037) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:720) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:468) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:391) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:318) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:445) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:304) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:181) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_05]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_05]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_05]\n\n2016-04-18 20:17:30.977 ERROR 5152 --- [io-18080-exec-1] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]\n\njavax.servlet.ServletException: Circular view path [error]: would dispatch back to the current handler URL [/error] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\n    at org.springframework.web.servlet.view.InternalResourceView.prepareForRendering(InternalResourceView.java:205) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:145) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:303) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1257) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1037) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.0.RC1.jar:4.3.0.RC1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:720) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:468) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:391) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:318) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:445) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:304) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:181) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_05]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_05]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_05]\n\"\"\"\n\nThis is a sample project reproducing the error: https://github.com/izeye/spring-boot-throwaway-branches/tree/rest-whitelabel\n"},{"labels":["documentation"],"text":"There's a small typo/copy-paste-error on https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4.0-M3-Release-Notes: The second bullet point should be \"v1.4.0 M2\" and not \"v1.4.0 M1\" (Its URL is correct).\n"},{"labels":["documentation"],"text":"Hi,\n\nthe minimum required JUnit version seems to be 4.12 for Spring Boot 1.4.0.M2. I had - for whatever reason a \n\n\"\"\"\n<properties>\n<junit.version>4.11</junit.version>\n</properties>\n\"\"\"\n\nin my pom (i guess i needed it while Boot had a lower version) and my tests failed with:\n\n\"\"\"\ninitializationError(com.example.DemoApplicationTests)  Time elapsed: 0.002 sec  <<< ERROR!\njava.lang.NoClassDefFoundError: Could not initialize class org.springframework.test.context.junit4.SpringRunner\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\"\"\"\n\nYou can check this by downloading a demo application from start.spring.io and add the above version, the build will fail.\n\nEasy to fix, hard to find. Would be good having this in the release notes.\n"},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/issues/2763#issuecomment-210112295\n"},{"labels":["documentation"],"text":"Section \"29.1.2 Connection to a production database\" of the Spring Boot documentation explains how to remove dependency to tomcat-jdbc:\n\n>  If you use the spring-boot-starter-jdbc or spring-boot-starter-data-jpa ‘starter POMs’ you will automatically get a dependency to tomcat-jdbc\n\nHowever, even if you remove tomcat-jdbc from the classpath but run your app in a Tomcat container, a Tomcat datasource will be preferred over any other datasource (I tried with HikariCP), unless you explicitly set the \"spring.datasource.type\" property.\n\nMy suggestion is to add a new sentence stating that:\n\n> Even if you remove tomcat-jdbc from the classpath but run your app in a Tomcat container, you will need to explicity set the \"spring.datasource.type\" property or a Tomcat datasource will be preferred over any other datasource.\n"},{"labels":[null,"documentation"],"text":"The [documentation](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-customizing-endpoints-programmatically) says to use \"org.springframework.boot.actuate.autoconfigure.EndpointWebMvcConfiguration\". The correct key, introduced in https://github.com/spring-projects/spring-boot/commit/71dbec381a70402ba24ebaabd73d41ce19244873, is \"org.springframework.boot.actuate.autoconfigure.ManagementContextConfiguration\". We should also document the use of \"@ManagementContextConfiguration\" on the configuration class that defines the custom endpoints.\n"},{"labels":["documentation"],"text":"It isn't mentioned at all in the reference docs. See #5654 for some background.\n"},{"labels":["documentation"],"text":"It seems that specifying \"logging.pattern.console\" in application.properties can only be used to override the logging pattern when using logback and it has no effect when using Log4j2, [the documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html) mentions that \"logging.pattern.level\" is only supported for logback, maybe it should say the same for \"logging.pattern.console\" and \"logging.pattern.file\"?\n\nLooking at \"spring-configuration-metadata.json\" seems to confirm this.\n"},{"labels":["documentation"],"text":"Spring Boot 1.3.2.RELEASE\n\nDuring initialization of Logback SpringBoot uses its own class SpringBootJoranConfigurator (that extends JoranConfigurator) to suppoer <springProperty/> configuration feature.\nAnd then it uses it like this:\n\n\"\"\"\nprivate void configureByResourceUrl(\n             LoggingInitializationContext initializationContext,\n             LoggerContext loggerContext, URL url) throws JoranException {\n       if (url.toString().endsWith(\"xml\")) {\n             JoranConfigurator configurator = new SpringBootJoranConfigurator(\n                           initializationContext);\n             configurator.setContext(loggerContext);\n             configurator.doConfigure(url);\n       }\n       else {\n             new ContextInitializer(loggerContext).configureByResource(url);\n       }\n}\n\"\"\"\n\nAt the same time Logback (when running with scan=true option) uses turbofilter ReconfigureOnChangeFilter to monitor for logback.xml file changes and when that change happens run this code to reconfigure itself:\n\n\"\"\"\nprivate void performXMLConfiguration(LoggerContext lc) {\n      JoranConfigurator jc = new JoranConfigurator();\n      jc.setContext(context);\n      StatusUtil statusUtil = new StatusUtil(context);\n      List<SaxEvent> eventList = jc.recallSafeConfiguration();\n      URL mainURL = ConfigurationWatchListUtil.getMainWatchURL(context);\n      lc.reset();\n      long threshold = System.currentTimeMillis();\n      try {\n      jc.doConfigure(mainConfigurationURL);\n      if (statusUtil.hasXMLParsingErrors(threshold)) {\n        fallbackConfiguration(lc, eventList, mainURL);\n      }\n      } catch (JoranException e) {\n      fallbackConfiguration(lc, eventList, mainURL);\n      }\n}\n\"\"\"\n\nand at that moment JoranConfigurator simply doesnt know how to process springProperty::\n\n> ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\n\nThis all makes springProperties unusable when running with logback autoreload feature enabled (scan=true)... Do you have any plans or thought on this issue?\n"},{"labels":["documentation"],"text":"<!-- \nThanks for raising a Spring Boot issue. Please provide a brief description of your problem along with the version of Spring Boot that you are using. If possible, please also consider putting together a sample application that reproduces the issue.\n--> \n\nThis just caught me by surprise. I was trying to add a \"@Configuration\" class to customize an application's existing configuration. It caused the \"@SpringBootConfiguration\" class to be ignored which caused my controller to disappear and tests to fail due to a 404.\n"},{"labels":["documentation"],"text":"<!-- \nThanks for raising a Spring Boot issue. Please provide a brief description of your problem along with the version of Spring Boot that you are using. If possible, please also consider putting together a sample application that reproduces the issue.\n--> \n\nSee https://github.com/spring-projects/spring-boot/issues/5423#issuecomment-197199948\n"},{"labels":["documentation"],"text":"<!-- \nThanks for raising a Spring Boot issue. Please provide a brief description of your problem along with the version of Spring Boot that you are using. If possible, please also consider putting together a sample application that reproduces the issue.\n--> \n\nIn particular, documentation for the module layout appears to be completely missing (other than Javadoc).\n"},{"labels":["documentation"],"text":"Could anyone please clarify instructions presented in [here](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html)? I will share the experience in part A below which hopefully will motivate anybody to find couple minutes to rewrite it in a more accessible language. Many people will be grateful and more enthusiastic as when you spend over an hour to deploy something you start to get upset and deeply respect your devops colleagues doing your errands at work in 5 minutes(max) .\n\nPart B is a specific problem running application with init.d again related to lack of documentation.\n\n**Part A:**\n\nMy aim is to prepare my own linux machine and CI enviornment with some basic linux knowledge. So I want to start spring boot as a service instead of generating .war and deploying to tomcat.\n\nUntil I followed the [steps](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html) to the end and ran spring boot app as a service I wasn't even sure if the script going to be embedded by spring-boot-maven-executable-script-in-maven-declaration-magic or I need to provide this script myself - the language used there is odd.\n\nIf you start reading from:\n\n\"The default executable script that can be embedded into Spring Boot jars will act as an init.d script when it is symlinked to /etc/init.d \". Then you have questions in your head if it \"can be embedded\" is that this extra maven configuration which makes it possible or this extra maven configuration makes it possible as well as creating the script for you?\n\nThinking. \"Ok...\" - So I ran it, I received one line with \"process started under PID\" (\"ok, no reassuring logs to tell that it is what I just ran, but something happened right?\")\n\nSince the application did not start successfully(127.0.0.1:8080 dead) I could not know if it ever started. So I kept re-reading until found  /var/app.log file (as my app name , symlink and jar is named 'app'). Reassured that I ran my app, I realized that the \"default profile\" was triggered instead of 'dev', which in my case not going to preconfigure data source so my next objective is to change profile ->\n\n**Part B: I** How to run my application under certain profile with this script? As there is no enough information in the documentation I am not even sure what to do.\n\nCiting:\n\n\"55.1.3 Customizing the startup script\n\nThe script accepts the following parameters as **environment variables**, so you can change the default behavior **in a script or on the command line**:\"\n\nSo I need to change some script which is somehow magically created for me in some magical location. Which is still not confirmed in my head until somebody kindly clarifies.\n\nSo how can I change the script which somehow works for my .jar and I don't know about it's existence? How can modify \"sudo service app start\" to start like:\njava -jar -Dspring.profiles.active=dev application-1.0-SNAPSHOT.jar\n\n I remember a fairy tale where good task was arranged by a king for some adventurer:\n\"Go there - don't know where, find something - don't know what\". I feel similar now. I admit all of this is just 'eez' basic linux ops, java stuff but thrown out of the context by this very useful feature but under-documented I am in struggle and need help.\n\nMkyong documentation on setting up tomcat8 as a service took me 5 min.. just for comparison.\n"},{"labels":["documentation"],"text":"[Gradle 2.12 introduces support for \"compile only\" dependencies](https://docs.gradle.org/2.12/release-notes#support-for-declaring-compile-time-only-dependencies-with-java-plugin), which seems to be a gap that was filled by Spring Boot Gradle plugin's \"providedRuntime\" scope.\n\nSo will Spring Boot treat these scopes as equivalent and do things like package \"compileOnly\" dependencies into the fat/runnable WAR file (under a different directory)?\n"},{"labels":["documentation"],"text":"The spring boot \"init.d\" startup does not work properly on FreeBSD. While I've found a few other issues that reference not supporting BSD, it is still implied that it works on generic UNIX systems which is not true in the documentation. Please either fix the script or modify the documentation with a warning and preferably a rc.d script that actually works on some BSD systems. \n"},{"labels":["documentation"],"text":"The current reference guide Appendix D.2 has the following sentence.\n\n> Armed with this information, we can load specific nested entries by simply seeking to appropriate part if the outer jar.\n\nIt should read \"... seeking to **the** appropriate part **of** ...\"\n"},{"labels":["documentation"],"text":"See http://stackoverflow.com/questions/35971862/custom-springboot-autoconfiguration-not-detecting-beans/35986676?noredirect=1#comment59628138_35986676\n"},{"labels":["documentation"],"text":"This is contrary to the expectation caused by the class javadoc:\n\n> An ApplicationListener that configures the LoggingSystem. If the environment contains a logging.config property a then that will be used to initialize the logging system, otherwise a default configuration is used.\n"},{"labels":["documentation"],"text":"I have found a minor issue on sentence formation:\n\nhttp://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#_supported_cache_providers\n\nIssue in section 32.1.2 JCache. Search for the sentence \" It might happen than more that one provider is present\", i think it should be \" It might happen that more than one provider is present\"\n"},{"labels":["documentation"],"text":"Should we be using [security.require-ssl](https://github.com/spring-projects/spring-boot/search?q=require-ssl) or [security.require_ssl](https://github.com/spring-projects/spring-boot/search?q=require_ssl)? I'm not completely sure, but the field is named [\"requireSsl\" in the SecurityProperties class](https://github.com/spring-projects/spring-boot/blob/0232bef85debf779739af2918253bdbe38ee58ed/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/SecurityProperties.java#L73), so I'd expect the configuration option to be named \"require-ssl\".\n"},{"labels":["documentation"],"text":"Via some feedback from @dcoxall, we could do a better job of documenting the starters. I think we're guilty of assuming that people will look in the poms to figure out what each starter does.\n\nA couple of ideas to improve the documentation:\n- List each starter with a description of what it contains and when you'd use it\n- Add an opinionated section that says if you are building X then you should use starter Y\n"},{"labels":["documentation"],"text":"The JarLauncher blindly attempts to load all files under /lib as if they are JAR files.  The documentation states that the filter is \"/lib/*.jar\", which is incorrect.  Attempting to place native resources under /lib/native, for instance, results in an IllegalStateException:\n\"java.lang.IllegalStateException: Unable to open nested entry 'lib/native/testNative.dll'. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\n\"\nWe cannot relocate the native library as it is being targeted by a specific relative path (unfortunate third-party design choice), so it would be nice if JarLauncher either a) worked as advertised or b) provided a mechanism to configure the filter differently.\n"},{"labels":["documentation"],"text":"The [launch script changes the working directory to the JAR directory](https://github.com/spring-projects/spring-boot/blob/81fdc99fb0c2a74936069d45a8d41f273a939de0/spring-boot-tools/spring-boot-loader-tools/src/main/resources/org/springframework/boot/loader/tools/launch.script#L217-L218). When configuration files in the working directory (or in config/) are required, this will break the application.\n"},{"labels":["documentation"],"text":"I'm using 1.3.2.\nI am experiencing a strange issue with regard to standard configuration files, profiles, and external files set with spring.config.location. I'm not really sure I understand the interplay correctly so maybe this is intended behavior.\n\n(The setup described below might seem a bit silly and is not my actual setup, but it is the easiest configuration of settings that allows me to reproduce the issue.)\n\nI have an application which has a resource in the classpath root called application-profileA.properties. Then, I start the application (packaged into a fat jar) and set the profile to profileA and define external configuration, like this:\n\n\"\"\"\njava -Dspring.profiles.active=profileA -Dspring.config.location=/full/path/to/application-external.properties -jar app.jar\n\"\"\"\n\n(using --sprint.profiles.active and --spring.config.location doesn't change anything)\n\nWhen the application starts, I see that the external file is not overriding the properties of the bundled properties file causing my application to fail startup. Here are a few logging statements that I see:\n\n\"\"\"\nActivated profiles profileA\nLoaded config file 'file:/full/path/to/application-external.properties'\n(a bunch of 'skipped' files)\nLoaded config file 'classpath:/application-profileA.properties'\nSkipped (empty) config file 'classpath:/application-profileA.properties' for profile profileA\n\"\"\"\n\nWhat is also strange is that once the application-profileA.properties file is loaded, and then another time is is skipped as being empty.\n\nWhen I don't set a profile, and change the name of the bundled file to application-default.properties (since the 'default' profile is used by default), the same error exists, with log output changed correspondingly:\n\n\"\"\"\nNo active profile set, falling back to default profiles: default\nLoaded config file 'file:/full/path/to/application-external.properties'\n(a bunch of 'skipped' files)\nLoaded config file 'classpath:/application-default.properties'\nSkipped (empty) config file 'classpath:/application-default.properties' for profile default\n\"\"\"\n\nNote also the final log line avobe, seems strange.\n\nWhen I change the bundled file to application.properties and do not activate any profile, it works the way I would expect it to, which makes me think there might be something wrong with regard to profile-related files. However, the log output is still strange (I mean the final line, this time it reports the external file as being empty for profile 'default'):\n\n\"\"\"\nNo active profile set, falling back to default profiles: default\nLoaded config file 'file:/full/path/to/application-external.properties'\n(a bunch of 'skipped' files)\nLoaded config file 'classpath:/application.properties'\nSkipped (empty) config file 'file:/full/path/to/application-external.properties' for profile default\n\"\"\"\n\nWhat my expectation are: when I start the application by activating 'profileA' and also specifying the external location, the bundled file application-profileA is used, and than the external file is used and is able to override the settings in the bundled file.\n\nAre my expectations wrong and is what I'm seeing correct, intended behavior when profile-related files come into play?\n"},{"labels":["documentation"],"text":"When configuring an application with Atomikos for JTA (more specifically setting up the transaction timeout), I turned to the spring boot documentation for available properties. The spring boot documentation states the following with regard to JTA properties:\n\n\"\"\"\n# JTA (JtaAutoConfiguration)\nspring.jta.*= # technology specific configuration\nspring.jta.log-dir= # Transaction logs directory.\n\"\"\"\n\nAnd then some Atomikos-specific settings for connectionfactory and datasource. However, when you look in the Atomikos documentation ([here](http://www.atomikos.com/Documentation/JtaProperties)), the specific property I was looking for (amongst others) is called \n\n> com.atomikos.icatch.default_jta_timeout\n\nHence, I would expect that setting a property of spring.jta.com.atomikos.icatch.default_jta_timeout would allow me to specify the transaction timeout. Unfortunately, if you look at the source of the [AtomikosJtaConfiguration.java](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/jta/AtomikosJtaConfiguration.java) you can see that the method atomikosProperties() specifies a properties prefix of spring.jta. This means that the property for default_jta_timeout will be picked up from the property spring.jta.default-jta-timeout.\n\nRegardless of what the properties need to be, I believe the documentation is not in line with how it works at the moment.\n"},{"labels":["documentation"],"text":"According to [Reload static content](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-reload-static-content) hot reloading of FreeMarker templates should work in the IDE as long as \"spring.freemarker.cache=false\". This does not work in IntelliJ (v 15.0.3) neither in debug nor in run mode. \n\nFrom the command line \"spring-boot:run\" doesn't work either which I guess [is expected](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.3-Release-Notes#spring-bootrun-resources). What's more surprising is that adding \"devtools\" has no impact. The only way to get it to work is to add this to the pom build plugin:\n\n\"\"\" xml\n<build>\n    <plugins>\n        <plugin>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-maven-plugin</artifactId>\n            <configuration>\n                <addResources>true</addResources>\n            </configuration>\n        </plugin>\n    </plugins>\n</build>\n\"\"\"\n\nThis is hardly intuitive. For once it should be documented clearly in the \"Reload static content\" section. In effect though \"devtools\" IMO is not working as advertised.\n"},{"labels":["documentation"],"text":"We're promoting devtools all the way in 1.3 so we should review this section.\n"},{"labels":["documentation"],"text":"I am experiencing some strange behaviour with spring boot when using @ConfigurationProperties on yaml files.\n\nIt seems that when i declare a pojo as follows and use config.yml to store my configuration settings\n@ConfigurationProperties(location = 'config.yml', prefix='settings')\n\nThat my command line arguments are lower in precedence than the values inside the config.yml file.  Reading the documentation i would expect that the Command line arguments are always higher.\n\nHowever, when i declare a pojo as follows and use application.yml to store my configuration settings\n@ConfigurationProperties(prefix='settings')\n\nThe command line arguments are higher in precedence.\n\nIs that expected behaviour?\n\nGithub project (https://github.com/vcetinick/spring-boot-yaml-test)\n\nI have written on stack overflow (http://stackoverflow.com/questions/35262664/spring-boot-configuration-behaviour-with-configurationproperties-and-command-li) \n"},{"labels":["documentation"],"text":"http://stackoverflow.com/questions/35115301/applicationpreparedevent-with-spring-boot-not-works\n"},{"labels":["documentation"],"text":"https://twitter.com/gz_k/status/693822039984095232. In particular \"start-class\" should be better documented I think. And we also need to make more clear that the repackage goal is invoked automatically.\n"},{"labels":["documentation"],"text":"Despite what [the docs](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html) say\n\n> To override the access rules without changing any other auto-configured features add a \"@Bean\" of type \"WebSecurityConfigurerAdapter\" with \"@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\"\n\nadding such a bean reverts everything to the spring-security defaults, ignoring any application properties. It does this even if it doesn't even override any \"configure\" methods.\n\nAs a non-exhaustive list: csrf is enabled, sessions are created, basic auth is disabled\n"},{"labels":["documentation"],"text":"When using the embedded tomcat server, by default, the class TomcatEmbeddedServletContainerFactory creates a temporary directory in the \"java.io.tmpdir\" directory, which would likely resolve to /tmp on a linux installation. The tomcat server then places compiled jsps and the lib jars into this work directory.\n\nI believe it is worth documenting that by default centos will clear out the /tmp directory periodically. This means that .jar and compiled jsps/tags are deleted by the tmpwatcher service. This can result in classnotfoundexceptions and other errors at run time. Most likely after 10days, which is the out of the box period.\n"},{"labels":["documentation"],"text":"We support configuring access logging for Tomcat and Undertow via the environment, but it looks like the only mention of it in the documentation is in the appendix.\n"},{"labels":["documentation"],"text":"The [Spring Boot Reference](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html) mentions several properties available to set up a JDBC datasource.\n\nSome drivers need to be set up with special properties for which there is no direct mapping to either property in application.properties or application.yml. Oracle ojdbc7.jar and its predecessors for example support \"defaultRowPrefetch\".\n\nAfter a long search I was told that a property \"spring.datasource.connection-properties\" exists (you can have a look at the corresponding [stack overflow answer](http://stackoverflow.com/questions/34856811/how-to-set-custom-connection-properties-on-datasource-in-spring-boot-1-3-x-with/34862312#34862312)) but I was unable to find out which component takes care of it _and_ it is not mentioned in the docs where I first had a look.\n\nI consider it helpful if the named property is mentioned in the docs because the reference is the first place to go for many developers.\n\nIf this is documented somewhere already please ignore my ignorance ;-)\n"},{"labels":["documentation"],"text":"We document that configuration read from configuration files in custom locations overrides configuration read from configuration files in default locations, but, if multiple custom locations are configured, we do not document their order of precedence which is that the last location wins.\n"},{"labels":["documentation"],"text":"We should make it clearer that ordering matters and it's best only on auto-configuration.\n"},{"labels":["documentation"],"text":"I created an executable jar with spring boot (spring-boot-maven-plugin, <executable>true</executable>)\nWhen run as the init.d service (as root), script executes .conf file with root privileges.\n\n\"\"\" bash\n[[ -r \"${jarfolder}/${configfile}\" ]] && source \"${jarfolder}/${configfile}\"\n\"\"\"\n\nman bash:\n\n\"\"\"\n       source filename [arguments]\n              Read  and  execute  commands from filename in the current shell environment and return the exit status of the last command executed from filename.  \n\"\"\"\n"},{"labels":["documentation"],"text":"According to the Spring Boot documentation, to enable yaml configuration for log4j2, the following dependency is required: \"com.fasterxml.jackson.dataformat:jackson-dataformat-yaml\".\n\nBut this will only work for projects that include the sprgin-boot-starter-web.jar dependency, because that will add the \"ObjectMapper\" dependency to the table, which is mandatory for Log4j yaml configuration.\n\nIf you're just starting a plain spring boot project with \"spring-boot-starter\" alone, if you don't explicitly add the \"com.fasterxml.jackson.core:jackson-databind\" dependency next to the \"com.fasterxml.jackson.dataformat:jackson-dataformat-yaml\", the yaml configuration will be ignored.\n\nThe ObjectMapper dependency is specified in the YamlConfigurationFactory of Log4j2: https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;a=blob;f=log4j-core/src/main/java/org/apache/logging/log4j/core/config/yaml/YamlConfigurationFactory.java;h=f3429bba91a95613df206138096edbfb7d1298d8;hb=HEAD\n\nIf not all dependencies are satisfied, the configuration is ignored. The affected documentation: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html#howto-configure-log4j-for-logging-yaml-or-json-config\n"},{"labels":["documentation"],"text":"People get confused.\n"},{"labels":["documentation"],"text":"Looks like folks are getting confused as how they should combine AspectJ with our annotation processor, see [this thread](http://stackoverflow.com/questions/34470682/configurationproperties-aspectj-maven-plugin-conflict) and #4825\n"},{"labels":["documentation"],"text":"Hi,\n\nI've created a [question](http://stackoverflow.com/questions/34438921/custom-config-location-and-config-name-on-spring-boot/34439157) on StackOverflow before to create this issue related with \"spring.config.location\" and \"spring.config.name\" properties.\n\nAfter some asks, I think that is better to create this issue for team discussion...\n\nI'm trying to customize Spring Boot config location and config name using \"spring.config.name\" and \"spring.config.location\" properties as I've saw on [Spring Boot reference guide](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties)\n\nI've created an [Spring Boot basic application](https://github.com/DISID/disid-proofs/tree/master/spring-boot-application-different-config-location) to test it.\n\nI'm able to customize it using OS environment variable like \"export SPRING_CONFIG_NAME=custom\" and/or \"export SPRING_CONFIG_LOCATION=classpath:/custom/location.properties\". That works fine!\n\nBut If I try to define \"spring.config.name=custom\" on default \"application.properties\" and then create a \"custom.properties\" file where create all application configuration properties, it's not working.\n\nI supose that \"spring.config.name\" and \"spring.config.location\" could be defined as environment variables only... but on [Spring Boot - Common application properties](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties) section, these properties appear like possible properties to include on \"application.properties\"/\"application.yml\" files...so:\n- Maybe an Spring Boot reference guide update to prevent these errors?\n- Maybe an update of Spring Boot code to detect if \"spring.config.name\" or \"spring.config.location\" are defined on [default locations](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files). If are defined, then use these property values to locate the other defined properties?\n\nRegards,\n"},{"labels":["documentation"],"text":"Shouldn't this be: \"${LOG_LEVEL_PATTERN:%-5p}\"\nNote the subtle position of the \"-\" dash. \nThis way a \"-\" is printed before the log level.\n\nOr is the \"-\" printed on purpose?\n\nNote this is both for constants \"CONSOLE_LOG_PATTERN\" and \"FILE_LOG_PATTERN\" in \"DefaultLogbackConfiguration\".\n"},{"labels":["documentation"],"text":"> Intellij users will need to remover to use the Build → Make Project action to achieve the same result.\n"},{"labels":["documentation"],"text":"Given the following maven project (for file content see: https://gist.github.com/mvitz/4965eb1db68a0ffa63bf) : \n\n\"\"\"\n$ tree\n.\n├── pom.xml\n└── src\n    └── main\n        └── java\n            └── com\n                └── FoobarApplication.java\n\n4 directories, 2 files\n\n$ pwd\n/tmp/foobar\n\"\"\"\n\nIf this project is imported into eclipse and run from there everything works as expected.\n\nBut if\n\n\"\"\"\n$ pwd\n/tmp/foo-bar\n\"\"\"\n\nrestart of the application after a change doesn't work any longer.\n\nTook me multiple hours to find out why my project didn't work.\n"},{"labels":["documentation"],"text":"See https://github.com/spring-projects/spring-boot/commit/67483bb73cd376dc236fecac9e1741f8b94a1939#commitcomment-14484474\n"},{"labels":["documentation"],"text":"I don't think we currently document that the names used in the health indicator endpoint are bean named (with \"HealthIndicator\" removed). We might also want to consider a way for users to override the name directly.\n"},{"labels":["documentation"],"text":"This could be an ordering issue and perhaps it's something we can't fix. We should at the very least update the docs.\n"},{"labels":["documentation"],"text":"What is the project used for?\nWhat features does it provide additionally to spring-boot-actuator?\n"},{"labels":["documentation"],"text":"As far as I can see neither \"%clr\" nor any of the specific colors such as \"{magenta}\" and \"{yellow}\" are documented.\n"},{"labels":["documentation"],"text":"I've been using \"@Order\" to manage ordering between auto-configuration classes that sequentially attempt to provide a missing bean but really shouldn't have any direct knowledge of each other. It appears that 1.3 stopped paying attention to the priority, and I got a no-unique failure the first time I tried to deploy to production. This should probably be mentioned in the release notes.\n"},{"labels":["documentation"],"text":"I tried to upgrade my current app from Spring Boot to 1.2.7 to 1.3.0 and got this exception:\n\n\"\"\"\n2015-11-16 21:52:01,504       26195 [main] ERROR (SpringApplication.java:826)- Application startup failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainEntityManagerFactory' defined in class XXX.MainDbConfiguration: Unsatisfied dependency expressed through constructor argument with index 0 of type [org.springframework.boot.autoconfigure.orm.jpa.EntityManagerFactoryBuilder]: : No qualifying bean of type [org.springframework.boot.autoconfigure.orm.jpa.EntityManagerFactoryBuilder] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.boot.autoconfigure.orm.jpa.EntityManagerFactoryBuilder] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:464)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n\"\"\"\n\nRelevant portion of config :\n\nApplication:\n\n\"\"\" java\n@Configuration\n@EnableAutoConfiguration\n@Import({\n    MainDbConfiguration.class,\n})\npublic class AppStarter {\n\n\"\"\"\n\nMainDbConfiguration:\n\n\"\"\" java\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackageClasses = NoOpRepositoryMarker.class,\n    entityManagerFactoryRef = \"mainEntityManagerFactory\",\n    transactionManagerRef = \"mainTransactionManager\"\n)\n@EntityScan(basePackageClasses = { Device.class, SMIBase.class })\npublic class MainDbConfiguration {\n\n/// other beans.\n\n@Bean(name = \"mainEntityManagerFactory\")\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder)\n        throws MalformedObjectNameException, NotCompliantMBeanException,\n        InstanceAlreadyExistsException, MBeanRegistrationException {\n        Map<String, String> properties = new HashMap<>();\n        properties.put(\"hibernate.show_sql\", \"false\");\n        properties.put(\"hibernate.format_sql\", \"true\");\n        properties.put(\"hibernate.use_sql_comments\", \"true\");\n        properties.put(\"hibernate.generate_statistics\", \"true\");\n        properties.put(\"hibernate.cache.region.factory_class\",\n            \"org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\");\n        LocalContainerEntityManagerFactoryBean factoryBean = builder\n            .dataSource(dataSource())\n            .packages(Device.class)\n            .properties(properties)\n            .persistenceUnit(\"main-pu\")\n            .build();\n        EntityManagerFactory managerFactory = factoryBean.getNativeEntityManagerFactory();\n        registerStatisticsMBean(managerFactory);\n\n        return factoryBean;\n    }\n}\n\"\"\"\n\nIf I downgrade to 1.2.7, issue disappears.\n"},{"labels":["documentation"],"text":"There seems to be a typo in [chapter 20.2](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-restart) (Automatic restart):\n\n\"\"\"\nIntellij users will need to remover to use the Build → Make Project action to achieve the same result.\n\"\"\"\n"},{"labels":["documentation"],"text":"In the Testing Spring Boot applications section of the documentation there are two references to MockMVC which should probably be MockMvc to match the class name.\n"},{"labels":["documentation"],"text":"Demo by Rossen failed\n"},{"labels":["documentation"],"text":"Document various logging things including how to get file without console.\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-use-exposing-spring-data-repositories-rest-endpoint\n\nThe class got renamed but the doc wasn't updated.\n"},{"labels":["documentation"],"text":"\"\"\" java\n@SpringBootApplication\npublic class TestApplication {\n    @Bean\n    public ConversionService conversionService(MyBean bean) {\n         assert bean.anotherBean == null; // it is a problem ;)\n         return null;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n}\n\n@Component\nclass MyBean {\n     @Autowired\n     public AnotherBean anotherBean;\n} \n\"\"\"\n\nBeans in parameters in ConversionService redeclaration method have null on Autowired fields.\n"},{"labels":["documentation"],"text":"Update the table in http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready-health-access-restrictions to use the full properties. It's not clear that \"Secure\" means \"management.secure\"\n"},{"labels":["documentation"],"text":"I'm not yet sure if this should just be something that we document, or if we should do something smarter. The DevTools currently rely on the application context's shutdown hook to close it during a restart. If you explicitly disable the shutdown hook you end up with a second context being refreshed while the first is still active. If you're working on a web app that fails due to an HTTP port clash.\n"},{"labels":["documentation"],"text":"As discussed on [#3784](https://github.com/spring-projects/spring-boot/issues/3784) I'm seeing a stacktrace on hot restart under certain conditions.\n\nHere is a simple example project that exhibits the issue [github project](https://github.com/RobMaskell/ElementCollectionIssue)\n\nSteps to reproduce\n- Start app\n- hit http://localhost:8080/addthing in browser\n- Open ThingController.java in STS and change the request mapping\n- hot restart should stacktrace\n\nOddly if I comment out these lines from application properties in this simple example\n\n\"\"\"\nspring.datasource.url: jdbc:h2:mem:collab\nspring.datasource.username: sa\nspring.datasource.password:\nspring.datasource.driver-class-name: org.h2.Driver\nspring.datasource.platform: org.hibernate.dialect.H2Dialect\n\"\"\"\n\nor change \"spring.jpa.hibernate.ddl-auto=create-drop\" to \"spring.jpa.hibernate.ddl-auto=create\" it doesn't happen.\n\n\"\"\"\n2015-10-09 18:05:57.481  INFO 12040 --- [     Thread-176] o.apache.catalina.core.StandardService   : Stopping service Tomcat\n2015-10-09 18:05:57.488  INFO 12040 --- [     Thread-176] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@55078655: startup date [Fri Oct 09 18:05:41 BST 2015]; root of context hierarchy\n2015-10-09 18:05:57.489  INFO 12040 --- [     Thread-176] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n2015-10-09 18:05:57.490  INFO 12040 --- [     Thread-176] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2015-10-09 18:05:57.490  INFO 12040 --- [     Thread-176] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export\n2015-10-09 18:05:57.492 ERROR 12040 --- [     Thread-176] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful\norg.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add \";DB_CLOSE_ON_EXIT=FALSE\" to the db URL) [90121-188]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.188.jar:1.4.188]\n    at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.188.jar:1.4.188]\n    at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.188.jar:1.4.188]\n    at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.188.jar:1.4.188]\n    at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1468) ~[h2-1.4.188.jar:1.4.188]\n    at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1443) ~[h2-1.4.188.jar:1.4.188]\n    at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:446) ~[h2-1.4.188.jar:1.4.188]\n    at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_51]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_51]\n    at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.0.26.jar:na]\n    at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.0.26.jar:na]\n    at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.0.26.jar:na]\n    at com.sun.proxy.$Proxy66.getAutoCommit(Unknown Source) ~[na:na]\n    at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:52) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:52) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:368) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:319) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:315) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1366) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:370) [hibernate-entitymanager-4.3.11.Final.jar:4.3.11.Final]\n    at sun.reflect.GeneratedMethodAccessor370.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_51]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_51]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:388) [spring-orm-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:541) [spring-orm-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at com.sun.proxy.$Proxy256.close(Unknown Source) [na:na]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:464) [spring-orm-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:261) [spring-beans-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:925) [spring-beans-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:932) [spring-beans-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:997) [spring-context-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:973) [spring-context-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.doClose(EmbeddedWebApplicationContext.java:150) [spring-boot-1.3.0.BUILD-SNAPSHOT.jar:1.3.0.BUILD-SNAPSHOT]\n    at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:893) [spring-context-4.2.0.RELEASE.jar:4.2.0.RELEASE]\n2015-10-09 18:05:57.492  INFO 12040 --- [     Thread-176] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete\n\"\"\"\n"},{"labels":["documentation"],"text":"Have this @Configuration class that requires a bean implementing JmsProperties which is declared in the @ConditionalOnBean\n\n\"\"\" java\n@Configuration\n@ConditionalOnBean(JmsProperties.class)\npublic class JmsConfiguration {\n\n    @Inject\n    private JmsProperties properties;\n    ...\n}\n\"\"\"\n\nGetting exception:\n\n\"\"\"\n   Caused by: \n   org.springframework.beans.factory.NoSuchBeanDefinitionException:        \n   No qualifying bean of type [com.....JmsProperties] found for dependency: \n\"\"\"\n\nIsn't the @ConditionalOnBean supposed to detect this missing bean and not try to instantiate the @Configuration class (and not inject the dependency in the first place)?\n"},{"labels":[null,"documentation"],"text":"In [the fine manual](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files), we read that (emphasis mine):\n\n> If spring.config.location contains directories (as opposed to files) they should end in / (and will be appended with the names generated from spring.config.name before being loaded). **The default search path classpath:,classpath:/config,file:,file:config/ is always used, irrespective of the value of spring.config.location.** In that way you can set up default values for your application in application.properties (or whatever other basename you choose with spring.config.name) and override it at runtime with a different file, keeping the defaults.\n\nHowever, @snicoll ventured the opinion that in fact, spring.config.location entirely replaces the default search path. If this is the case, could the documentation be corrected?\n"},{"labels":["documentation"],"text":"I have an application that uses starter-data-mongodb\n\n\"\"\" xml\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-mongodb</artifactId>\n        </dependency>\n\"\"\"\n\nand this application.yml\n\n\"\"\"\nspring:\n  data:\n    mongodb:\n      host: localhost\n\"\"\"\n\nthis works fine. \n\nThen I tried to upgrade the mongo-java driver to 3.0.4 and added this dependency\n\n\"\"\" xml\n        <dependency>\n            <groupId>org.mongodb</groupId>\n            <artifactId>mongo-java-driver</artifactId>\n            <version>3.0.4</version>\n        </dependency>\n\"\"\"\n\nand the application throws an IllegalArgumentException (credentialList can not be null)\nTo solve this I had to switch to uri config\n\n\"\"\"\nspring:\n  data:\n    mongodb:\n      uri: mongodb://localhost\n\"\"\"\n\n---\n\n\"\"\"\n2015-09-29 19:05:07.940  WARN 4396 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt\njava.lang.IllegalArgumentException: credentialList can not be null\n    at com.mongodb.assertions.Assertions.notNull(Assertions.java:37) ~[mongo-java-driver-3.0.4.jar:na]\n    at com.mongodb.connection.InternalStreamConnectionFactory.<init>(InternalStreamConnectionFactory.java:36) ~[mongo-java-driver-3.0.4.jar:na]\n    at com.mongodb.connection.DefaultClusterableServerFactory.create(DefaultClusterableServerFactory.java:57) ~[mongo-java-driver-3.0.4.jar:na]\n    at com.mongodb.connection.BaseCluster.createServer(BaseCluster.java:352) ~[mongo-java-driver-3.0.4.jar:na]\n    at com.mongodb.connection.MultiServerCluster.addServer(MultiServerCluster.java:251) ~[mongo-java-driver-3.0.4.jar:na]\n    at com.mongodb.connection.MultiServerCluster.<init>(MultiServerCluster.java:79) ~[mongo-java-driver-3.0.4.jar:na]\n\n\nCaused by: java.lang.IllegalArgumentException: credentialList can not be null\n    at com.mongodb.assertions.Assertions.notNull(Assertions.java:37)\n    at com.mongodb.connection.InternalStreamConnectionFactory.<init>(InternalStreamConnectionFactory.java:36)\n    at com.mongodb.connection.DefaultClusterableServerFactory.create(DefaultClusterableServerFactory.java:57)\n    at com.mongodb.connection.BaseCluster.createServer(BaseCluster.java:352)\n    at com.mongodb.connection.MultiServerCluster.addServer(MultiServerCluster.java:251)\n    at com.mongodb.connection.MultiServerCluster.<init>(MultiServerCluster.java:79)\n    at com.mongodb.connection.DefaultClusterFactory.create(DefaultClusterFactory.java:58)\n    at com.mongodb.Mongo.createCluster(Mongo.java:660)\n    at com.mongodb.Mongo.createCluster(Mongo.java:634)\n    at com.mongodb.Mongo.<init>(Mongo.java:279)\n    at com.mongodb.MongoClient.<init>(MongoClient.java:254)\n    at org.springframework.boot.autoconfigure.mongo.MongoProperties.createMongoClient(MongoProperties.java:227)\n    at org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration.mongo(MongoAutoConfiguration.java:69)\n    at \n\"\"\"\n"},{"labels":["documentation"],"text":"When using a plain configured {{DataSource}} it is quite easy to create multiple different instances using the \"{{DataSourceBuilder}} and as explained in the [documentation](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-two-datasources).\n\nWould be nice if a similar helper class/bean would be available for JNDI based datasources (or JNDI resources in general ? ). \n\nSomething along the lines of \n\n\"\"\"\n@Bean\n@Primary\n@ConfigurationProperties(prefix=\"datasource.primary\")\npublic DataSource primaryDataSource() {\n    return JndiDataSourceBuilder.create().build();\n}\n\n@Bean\n@ConfigurationProperties(prefix=\"datasource.secondary\")\npublic DataSource secondaryDataSource() {\n    return JndiDataSourceBuilder.create().build();\n}\n\"\"\"\n\nAnd of course a \"datasource.secondary.jndi-name=jdbc/one\" etc. in the configuration somewhere.\n\nSee http://stackoverflow.com/questions/32776410/configure-mutiple-datasource-in-spring-boot-with-jndi\n"},{"labels":["documentation"],"text":"See #3980 for background, specifically the stackoverflow link is enlightening.\n"},{"labels":[null,"documentation"],"text":"Can you please add comments for all sample projects in \"README\"? For example, currently there's no comment for \"spring-boot-sample-jpa\", and I'm not sure about the difference between \"spring-boot-sample-jpa\" and \"spring-boot-sample-data-jpa\".\n\nThanks!\n"},{"labels":["documentation"],"text":"Currently http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-git-commit-information says \n\n> A similar \"gradle-git\" plugin is also available for Gradle users, although a little more work is required to generate the properties file.\n\nThis functionality now can be achieved in Gradle as well by using https://plugins.gradle.org/plugin/com.gorylenko.gradle-git-properties plugin\n\n\"\"\" groovy\nplugins {\n  id \"com.gorylenko.gradle-git-properties\" version \"1.4.6\"\n}\n\"\"\"\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-devtools-restart-exclude. It should be \"spring.devtools.restart.additional-exclude\" not \"spring.devtools.restart.exclude.additional-exclude\"\n"},{"labels":["documentation"],"text":"\"spring.config.name\" and \"spring.config.location\" refers to a \"sourceType\" that no longer exists.\n"},{"labels":["documentation"],"text":"Unusually, LaunchedURLClassLoader doesn't delegate \"getResource\" and \"getResources\" calls to its parent, instead it consults the _root_ class loader and then jumps straight to \"findResource\" or \"findResources\". This is at odds with the delegation model that's described in \"ClassLoader.getResource\":\n\n>  This method will first search the parent class loader for the resource; if the parent is \"null\" the path of the class loader built-in to the virtual machine is searched.  That failing, this method will invoke \"findResource(String)\" to find the resource.\n\nWe should update the javadoc to describe the delegation model that's used.\n"},{"labels":["documentation"],"text":"Since the IDE is now able to fetch the possible values from the meta-data, we shouldn't hardcode them in the description.\n"},{"labels":["documentation"],"text":"From http://stackoverflow.com/questions/32317320/spring-boot-conditionalonproperty-behavior#comment52546653_32317320\n"},{"labels":["documentation"],"text":"@artembilan tried to inject \"local.server.port\" in its application and didn't realize he had to wait for the container to start to be able to retrieve the value\n\nThe [related section in the doc](http://docs.spring.io/spring-boot/docs/1.3.0.BUILD-SNAPSHOT/reference/htmlsingle/#howto-user-a-random-unassigned-http-port) could be improved to make that more obvious.\n"},{"labels":["documentation"],"text":"In current state the [\"Console output\"](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-logging-console-output) suggests that adding \"--debug\" flag will switch logging system and shows \"DEBUG\" messages. This true **but** only for on some selected Spring and Spring Boot logging channels.\nAdding \"--debug\" will **not** show \"DEBUG\" messages from application, some clarification in documentation is needed.\n"},{"labels":["documentation"],"text":"The [Externalized configuration section of the doc](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config) could be improved.\n\nTom Anderson suggests that we add a link on \"@PropertySource\" to the javadoc.\n"},{"labels":["documentation"],"text":"When I use \"spring-boot-starter-remote-shell\" in a spring boot project. When I use ssh client to input \n\n\"\"\"\nhelp \n\"\"\"\n\nwhich says:\n\n\"\"\"\nhelp: exception: NullPointerException\n\"\"\"\n\nand in the console of STS shows:\n\n\"\"\"\njava.lang.NullPointerException: null\n    at org.crsh.lang.impl.java.Compiler.compile(Compiler.java:56) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.lang.impl.java.JavaCompiler.compileCommand(JavaCompiler.java:59) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.lang.LanguageCommandResolver.resolveCommand(LanguageCommandResolver.java:128) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.lang.LanguageCommandResolver.resolveCommand2(LanguageCommandResolver.java:109) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.lang.LanguageCommandResolver.resolveCommand(LanguageCommandResolver.java:100) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.shell.impl.command.CRaSH.getCommand(CRaSH.java:100) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.shell.impl.command.CRaSHSession.getCommand(CRaSHSession.java:96) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.lang.impl.script.PipeLineFactory.create(PipeLineFactory.java:89) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.lang.impl.script.ScriptRepl.eval(ScriptRepl.java:88) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.shell.impl.command.CRaSHSession.createProcess(CRaSHSession.java:163) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.shell.impl.async.AsyncProcess.execute(AsyncProcess.java:172) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.console.Console.iterate(Console.java:219) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.console.Console.on(Console.java:158) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.console.Console.on(Console.java:135) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.console.jline.JLineProcessor.run(JLineProcessor.java:204) ~[crash.shell-1.3.1.jar:na]\n    at org.crsh.ssh.term.CRaSHCommand.run(CRaSHCommand.java:99) ~[crash.connectors.ssh-1.3.1.jar:na]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_51]\n\"\"\"\n\nThe error also occured on my extend command .\n"},{"labels":["documentation",null],"text":"We used to enable it by default and went super cautious in 1.2 somewhere and disabled it. I think maybe that was over cautious because it only filters requests that come from a whitelist of \"local\" proxy IPs.\n\nAlternatively could we log an error if we find an \"X-Forwarded-*\" header and the valve isn't installed.\n\nCc @rwinch \n"},{"labels":["documentation"],"text":"[The docs](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-understanding-auto-configured-beans) say:\n\n> You can browse the source code of \"spring-boot-autoconfigure\" to see the \"@Configuration\" classes that we provide (see the \"META-INF/spring.factories\" file).\n\nWe don't link to anything. We could link to the source root of \"spring-boot-autoconfigure\"'s source and the \"META-INF/spring.factories\" file.\n\nVia [StackOverflow](http://stackoverflow.com/questions/32049290/understanding-spring-boot-auto-configuration-behavior).\n"},{"labels":["documentation"],"text":"\"spring.datasource.name\" allows to customize the name of the embedded database. That key does not seem to be properly documented.\n"},{"labels":["documentation"],"text":"On this page http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html#howto-change-configuration-depending-on-the-environment\n\nIt says \"normally you would set a System profile\"; I think it means \"normally you would set a system property\".\n"},{"labels":["documentation"],"text":"The documentation has an example with \"/404\" that tends to imply that the name of the error page is the name of the view. It turns out that it's not working out-of-the-box. \n\nSee [StaticPagePathFinder](https://github.com/spring-io/sagan/blob/master/sagan-common/src/main/java/sagan/support/StaticPagePathFinder.java) and [the controller config](https://github.com/spring-io/sagan/blob/master/sagan-site/src/main/java/sagan/MvcConfig.java#L71-L77) in Sagan. We probably wrote the documentation based on that setup.\n"},{"labels":["documentation"],"text":"If a user want's to use a newer version of a library Boot uses, in Maven they can just set the property defined in \"spring-boot-dependencies\" and the version will upgraded. This for example will allow users of Spring Boot 1.2.x to use Spring Data Fowler with it (default is Evans).\n\n\"\"\" xml\n<spring-data-releasetrain.version>Fowler-SR2</spring-data-releasetrain.version>\n\"\"\"\n\nI could find this in the reference documentation. A similar (but slightly more involved) way of overriding dependencies is available for Gradle. Would be cool if this was documented, too.\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/exclude-dependency.html\n\n\"\"\" <configuration>\n          <excludes>\n            <excludeGroupIds>com.foo</excludeGroupIds>\n          </excludes>\n        </configuration>\n\"\"\"\n\nThis should be just \n\n\"\"\"\n<configuration>\n            <excludeGroupIds>com.foo</excludeGroupIds>         \n </configuration>\n\"\"\"\n\nSimilar in one more example .\n"},{"labels":["documentation"],"text":"Applying different styling to \"<code>\" when it's beneath an \"<a>\" should be sufficient\n"},{"labels":[null,"documentation"],"text":"It seems that we are missing a few hints based on the existing smart completion in Intellij IDEA < 1.3\n\nIt could be hints for 3rd party classes. I feel a bit nervous of adding them with no safety net. Maybe the annotation processor should fail the build if we try to write a hint for a key that does not exist?\n"},{"labels":["documentation"],"text":"I have read the documentation for 1.3.0.M2, and found a few places I'm not sure how to understand, or which contain some issues/wrong info. Here they are, it would be nice if someone could address them and either explain that they are correct and my understanding is incorrect, or tell if the documentation is wrong.\n- http://docs.spring.io/spring-boot/docs/1.3.0.M2/reference/htmlsingle/#howto-troubleshoot-auto-configuration:\n  \"Look for use of RelaxedEnvironment to pull configuration values explicitly out of the Environment. It often is used with a prefix.\"\n  What is RelaxedEnvironment in this context? There is no such class. What should be looked at?\n- http://docs.spring.io/spring-boot/docs/1.3.0.M2/reference/htmlsingle/#boot-features-external-config (Externalized configuration) says application.properties have higher precedence than @PropertySource annotated classes\n  but\n  http://docs.spring.io/spring-boot/docs/1.3.0.M2/reference/htmlsingle/#howto-change-the-location-of-external-properties\n  says\n  \"Properties added in this way (my note: @PropertySource on application sources) have precedence over any added using the default locations, but have lower priority than system properties, environment variables or the command line.\"\n  What is 'default locations' in this case? The always-read application.properties/.yml? If so, this contradicts the list from 'Externalized configuration'.\n- http://docs.spring.io/spring-boot/docs/1.3.0.M2/reference/htmlsingle/#howto-configure-logback-for-loggin says:\n  \"If you look at the default logback.xml in the spring-boot jar\"\n  But there seems to be no logback.xml, only base.xml.\n- http://docs.spring.io/spring-boot/docs/1.3.0.M2/reference/htmlsingle/#boot-features-banner\n  says that one can use ${application.version} and ${application.formatted-version} in banner.txt to customize it, and that these values should come from MANIFEST.MF. When I use them, the placeholders are left blank. That's probably because the manifest doesn't have properties like the ones mentioned ;d I tried adding 'Application-Version' and 'application.version', and this changed nothing, with the latter even failing the build as the syntax of the manifest is violated.\n  How is one supposed to define the application.(formatted-)version properties?\n"},{"labels":["documentation"],"text":"Quote from [documentation](http://docs.spring.io/spring-boot/docs/1.3.0.M2/reference/html/deployment-install.html):\n\n> With the exception of JARFILE and APP_NAME, the above settings can be placed in a .conf next to the jar. For example the jar /var/myapp/myapp.jar would attempt to source the configuration file /var/myapp/myapp.conf.\n\nPlease, provide an example of such file. Specifically, there may be example of passing options to JVM (by setting \"JAVA_OPTS\" variable), using \"RUN_ARGS\" and activating profile.\n"},{"labels":[null,"documentation"],"text":"In [Installation as a init.d service (System V)](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/deployment-service.html#_installation_as_a_init_d_service_system_v) chapter:\n\n> Tracks application PIDs using /var/run/<appname>/<appname>.pid\n\nbut in the chapter [Customizing the startup script](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/deployment-service.html#_customizing_the_startup_script):\n\n> PID_FOLDER The root name of the pid folder (/var/run by default).\n\nAs we can see there \"PID_FOLDER\" has wrong default value (\"/var/run\" instead of \"/var/run/<appname>\")\n"},{"labels":["documentation"],"text":"Custom validation of \"@ConfigurationProperites\" would deserve some love. We only have two occurrences of it: one in the code and one simple reference in the doc (sub-text: no test).\n"},{"labels":["documentation"],"text":"It would be nice to get a working example, how to use and configure two databases in spring boot. \n\nThe documentation says, that it is only required to create a datasource configuration with two different datasources. \n\nBut this does not work complete. The example application can show how to:\n- define and use different \"data-${platform}.sql\" files to add data to two different test databases\n- use the datasources in repositories where we define simple an interface which extends from the \"CrudRepository\" interface\n- create a test case where data will be written into one datasource and read from another and then mix the result into a controller to deliver both data (via REST for example) to the client\n\nI have not found any \"complete\" example for this. But it is mentioned in the documentation, that this is easy and supported by spring-boot .. so it would be nice to have such example.\n"},{"labels":["documentation"],"text":"#3434 added some new endpoints, we need to try to add them to the REST docs.\n"},{"labels":["documentation"],"text":"the reference documentation \"67.7 Use Two EntityManagers\" describe the declaration for a second EntityManagerFactory, but the usage is obmitted. usage examples should be added.\n\nfor example with spring data jpa:\n\n\"\"\"\n@Configuration\n@EnableJpaRepositories(value = \"...dataaccess.customer.repository\", \n         entityManagerFactoryRef = \"customerEntityManagerFactory\")\npublic class CustomerInitializer {}\n\"\"\"\n\n\"\"\"\n@Configuration\n@EnableJpaRepositories(value = \"...dataaccess.order.repository\", \n         entityManagerFactoryRef = \"orderEntityManagerFactory\")\npublic class OrderInitializer {}\n\"\"\"\n\nthx Rico\n"},{"labels":["documentation"],"text":"I have a spring boot application (1.3.0.M1) with Jersey endpoints. As soon as I make the jar executable - the endpoints are not detected. \n\nUsing following configuration in pom.xml:\n\n\"\"\" xml\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <configuration>\n                    <executable>true</executable>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\"\"\"\n\ngives me:\n\n\"\"\"\n{\"timestamp\":1435928140519,\"status\":404,\"error\":\"Not Found\",\n \"message\":\"Not Found\",\"path\":\"/ws/auth/token\"}\n\"\"\"\n\nSame starts working as soon as I comment out \"<executable>\" tag\n"},{"labels":["documentation"],"text":"After #3150  and #3390 commits, Jms local transaction works different. in 1.2.4, if there is a JDBC Transaction, it sync transactions internally, as documented, but in 1.2.5 snapshot, this feature is gone.\n"},{"labels":[null,"documentation"],"text":"I realised this after updating of my projects. I normally move \"lib/\" folder outside of the jar, but after this change, if I don't add \"loader.path=lib\", it doesn't recognise the lib folder as stated the the \"PropertiesLauncher\" itself.\n\nRelated issue: https://github.com/spring-projects/spring-boot/issues/2314\n"},{"labels":["documentation"],"text":"We do have a JMS section in the [Messaging section of the documentation](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-messaging) but we don't have one for AMQP/RabbitMQ\n"},{"labels":["documentation"],"text":"\"DataSourcePoolMetadata\" has 5 methods on the interface, but \"DataSourcePublicMetrics\" only exposes 2 of them.  The Spring Boot Docs say that all these will be exposed, but they aren't.\n\n> The maximum number connections (datasource.xxx.max).\n> The minimum number of connections (datasource.xxx.min).\n> The number of active connections (datasource.xxx.active)\n> The current usage of the connection pool (datasource.xxx.usage).\n"},{"labels":["documentation"],"text":"See https://jira.spring.io/browse/SPR-13152\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html says:\n\n> To switch off the Boot default configuration completely in a web application you can add a bean with @EnableWebSecurity.\n\nUnfortunately just by doing \"@EnableWebSecurity\" is not enough, my \"configure(AuthenticationManagerBuilder auth)\" method is still overriden (silently) by Spring Boot Security, additional step(s) are needed:\n1. When overriding \"configure(AuthenticationManagerBuilder auth)\", ensure do not call \"super\" (a strange pattern, IMHO)\n2. Override and expose \"authenticationManagerBean()\" (this time have to call \"super\" as usual) as \"@Bean\"\n\ni.e.\n\n\"\"\" java\n@Configuration\n@EnableWebSecurity(debug=true)\n@Profile(\"daemon\")\npublic class MyWebSecurityConfiguration extends\n        WebSecurityConfigurerAdapter {\n\n    @Inject\n    private Environment env;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        // do not call super, otherwise you'll get BeanCreationException: Error creating bean with name 'authenticationManagerBean' - org.springframework.beans.FatalBeanException: A dependency cycle was detected when trying to resolve the AuthenticationManager. Please ensure you have configured authentication.\n        final String sysadminPassword = env.getRequiredProperty(\"security.user.password\");\n        auth.inMemoryAuthentication()\n                .withUser(\"sysadmin\")\n                .password(sysadminPassword)\n                .roles(\"SYSADMIN\", \"ADMIN\", \"USER\");\n    }\n\n    // must be overriden and exposed as @Bean, otherwise boot's AuthenticationManagerConfiguration will take precedence\n    @Bean @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n...\n\"\"\"\n\n(an example code such as above would be good to put in the Spring Boot Security doc)\n"},{"labels":["documentation"],"text":"There is an error in documentation, the name of a property which enables [remote support](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-devtools-remote) is \"spring.devtools.remote.secret\" not \"spring.devtools.remote.password\"\n"},{"labels":["documentation"],"text":"Section [26.4 Log Levels](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-custom-log-levels) of the documentation provides an example logging configuration in \"yml\" format (for use in \"application.yml\") yet the rest of the section talks about \"application.properties\"\n"},{"labels":["documentation"],"text":"We're linking to Codehaus which is no more\n"},{"labels":["documentation"],"text":"While the application admin feature is internally used by the maven plugin, it can be useful in many other areas so we should properly document it.\n"},{"labels":[null,"documentation"],"text":"Document the new features introduced in #3082\n"},{"labels":["documentation"],"text":"The recent Spring Framework 4.2 RC1 release has introduced CORS first class support. It provides fine grained CORS support thanks to the \"@CrossOrigin\"annotation (nothing to do on Spring Boot side to support that except depending on Spring Framework 4.2 ...), but that may be interesting to provide a Spring Boot alternative to the \"CorsConfigurer\" Spring Framework JavaConfig API.\n\nA key class in Spring Framework CORS support is \"CorsConfiguration\", it allows to specify all the CORS properties to use. My proposal would be to add Spring Boot support for this kind of declaration for CORS global configuration:\n\n\"\"\" java\n@Bean\nCorsConfiguration cors() {\n        config.addAllowedOrigin(\"http://domain1.com\");\n        config.addAllowedHeader(\"header1\");\n}\n\"\"\"\n\nFor supporting mapped CORS configuration (since Spring Framework 4.2 support them), what about using bean names to specify the path pattern to use:\n\n\"\"\" java\n@Bean(name = \"/api\")\nCorsConfiguration corsForApi() {\n        config.addAllowedOrigin(\"http://domain1.com\");\n        config.addAllowedHeader(\"header1\");\n}\n\n@Bean(name = \"/resources\")\nCorsConfiguration corsForResources() {\n        config.addAllowedOrigin(\"http://domain2.com\");\n        config.addAllowedHeader(\"header2\");\n}\n\"\"\"\n\nThese beans could then be retrieved by Spring Boot Cors auto-configuration facilities in a Map<String, CorsConfiguration> and registered accordingly on the various \"AbstractHandlerMapping\" instances.\n\nAny thoughts ?\n"},{"labels":["documentation"],"text":"With \"--debug\" option I see the following messages:\n\n\"\"\"\n\nDEBUG [main] --- ConfigFileApplicationListener: Skipped config file 'file:./config/application-test.xml' for profile testresource not found\nDEBUG [main] --- ConfigFileApplicationListener: Skipped config file 'file:./config/application.xml' for profile testresource not found\n\"\"\"\n\nThere is a missing space in message. It should be: \"... for profile test resource not found\" instead of \"... for profile testresource not found\".\n\nI believe that this line should be fixed: https://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/java/org/springframework/boot/context/config/ConfigFileApplicationListener.java#L395\n"},{"labels":["documentation"],"text":"The application properties were documented in 84d3a34, but the new capabilities probably warrant a mention in the main actuator documentation in \"production-ready-features.adoc\".\n"},{"labels":["documentation"],"text":"Here's the method to upload the file:\r\n\r\n\"\"\"java\r\n@RequestMapping(consumes = \"multipart/form-data\", method = RequestMethod.POST, \r\n        value = \"/scan\", produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic String scan(MultipartFile file){\r\n      //code\r\n}\r\n\"\"\"\r\n\r\nBean configuations:\r\n\r\n\"\"\"java\r\n@Bean\r\npublic CommonsMultipartResolver multipartResolver() {\r\n    return new CommonsMultipartResolver();\r\n}\r\n\r\n@Bean\r\npublic MultipartConfigElement multipartConfigElement() {\r\n    MultipartConfigFactory factory = new MultipartConfigFactory();\r\n    factory.setMaxFileSize(\"500MB\");\r\n    factory.setMaxRequestSize(\"500MB\");\r\n    return factory.createMultipartConfig();\r\n}\r\n\"\"\"\r\n\r\npom.xml:\r\n\r\n\"\"\"xml\r\n<parent>\r\n    <groupId>org.springframework.boot\\</groupId>\r\n    <artifactId\\>spring-boot-starter-parent\\</artifactId>\r\n    <version>1.1.8.RELEASE\\</version>\r\n</parent>\r\n\"\"\"\r\n\r\nRequest:\r\n\r\n\"\"\"\r\nPOST /scan HTTP/1.1\r\nHost: localhost:9080\r\nCache-Control: no-cache\r\n\r\n----WebKitFormBoundaryE19zNvXGzXaLvS5C\r\nContent-Disposition: form-data; name=\"file\"; filename=\"generate.png\"\r\nContent-Type: image/png\r\n\r\n\r\n----WebKitFormBoundaryE19zNvXGzXaLvS5C\r\n\"\"\"\r\n- When run with spring boot 1.1.8, it works fine. Method parameter is correctly bound to the value.\r\n- When run with any other version (tried with 1.2.0, 1.2.3), method parameter is always set to null.\r\n  If I modify the method to include Request param like below:\r\n\r\n\"\"\"\r\npublic String scan(@RequestParam(\"file\") MultipartFile file){\r\n\"\"\"\r\n\r\nIt throws an exception saying 'Required MultipartFile parameter 'file' is not present'.\r\n\r\nI am running my spring boot app with embedded tomcat.\r\n"},{"labels":["documentation"],"text":"Hi in http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html there is simple sample of logging of specific package. It would be nice to add note how to set global (root) level, since especially with using YAML file it's not quite intuitive. Only following examples worked for me:\n##### application.properties:\n\n\"\"\"\nlogging.level.=ERROR\nor \nlogging.level.: ERROR\n\"\"\"\n\nthis does **not** work: \"logging.level.*=ERROR\"\n##### application.yaml:\n\n\"\"\"\nlogging:\n  level:\n    '': ERROR\n    org:\n      springframework: INFO\n\"\"\"\n\nor \n\n\"\"\"\nlogging:\n  level.: ERROR\n  level:\n    org:\n      springframework: INFO\n\"\"\"\n\nthis does **not** work:\n\n\"\"\"\nlogging:\n  level:\n    .: ERROR\n    org:\n      springframework: INFO\n\"\"\"\n\n\"\"\"\nlogging:\n  level:\n    '*': ERROR\n    org:\n      springframework: INFO\n\"\"\"\n\n\"\"\"\nlogging:\n  level.*: ERROR\n  level:\n    org:\n      springframework: INFO\n\"\"\"\n\nUsing v1.2.3.\n"},{"labels":["documentation"],"text":"As discussed in the [Spring Boot chat](https://gitter.im/spring-projects/spring-boot?at=5534a83b0e3138bb6be89331) I'd like to request additional documentation on specifying sources and the way \"spring.main.sources\" works.\n"},{"labels":["documentation"],"text":"In 13.2 Gradle\n\n\"\"\"\nbuildscript {\n    repositories { jcenter() }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:1.3.0.BUILD-SNAPSHOT\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'org.springframework.boot.spring-boot'\n\nrepositories { jcenter() }\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n}\n\"\"\"\n\nthe result as following\n\n\"\"\"\nE:\\gitrepo\\sf4\\myproject>gradle\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'E:\\gitrepo\\sf4\\myproject\\build.gradle' line: 11\n\n* What went wrong:\nA problem occurred evaluating root project 'myproject'.\n> Failed to apply plugin [id 'org.springframework.boot.spring-boot']\n   > Plugin with id 'org.springframework.boot.spring-boot' not found.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n\nTotal time: 13.488 secs\n\"\"\"\n\nand change to \n    apply plugin: 'spring-boot'\n\nit OK.\n"},{"labels":["documentation"],"text":"As raised here: https://github.com/spring-projects/spring-boot/issues/1254#issuecomment-91539892\n\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding\n"},{"labels":["documentation"],"text":"When I include the Flyway library in my classpath, Spring Boot correctly locates and executes my migrations. It does not, however, make use of my data.sql script, which I use to import fixture data for unit tests. Per the documentation, I am setting the \"jpa.hibernate.ddl-auto\" property to \"false\" so that Hibernate doesn't try to generate the schema itself. If I remove this property, then Spring boot _does_ load the data.sql file, but Hibernate is also clearly trying to generate the schema redundantly, which is at the very least unnecessary but also probably error prone.\n\nIs there a way to use Flyway along with the normal Spring Boot datasource initialization features?\n\n\"\"\"\n2015-03-30 16:04:09.851  INFO 56097 --- [    Test worker] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse\n2015-03-30 16:04:10.113  INFO 56097 --- [    Test worker] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:h2:mem:testdb (H2 1.4)\n2015-03-30 16:04:10.169  INFO 56097 --- [    Test worker] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.013s)\n2015-03-30 16:04:10.183  INFO 56097 --- [    Test worker] o.f.c.i.metadatatable.MetaDataTableImpl  : Creating Metadata table: \"PUBLIC\".\"schema_version\"\n2015-03-30 16:04:10.209  INFO 56097 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Current version of schema \"PUBLIC\": << Empty Schema >>\n2015-03-30 16:04:10.209  INFO 56097 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema \"PUBLIC\" to version 1 - create user info tables\n2015-03-30 16:04:10.242  INFO 56097 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema \"PUBLIC\" to version 2 - create recipe tables\n2015-03-30 16:04:10.251  INFO 56097 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Successfully applied 2 migrations to schema \"PUBLIC\" (execution time 00:00.070s).\n2015-03-30 16:04:10.364  INFO 56097 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'\n2015-03-30 16:04:10.378  INFO 56097 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\n2015-03-30 16:04:10.490  INFO 56097 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate Core {4.3.8.Final}\n2015-03-30 16:04:10.492  INFO 56097 --- [    Test worker] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2015-03-30 16:04:10.495  INFO 56097 --- [    Test worker] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist\n2015-03-30 16:04:10.795  INFO 56097 --- [    Test worker] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {4.0.5.Final}\n2015-03-30 16:04:10.853  INFO 56097 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2015-03-30 16:04:10.990  INFO 56097 --- [    Test worker] o.h.h.i.ast.ASTQueryTranslatorFactory    : HHH000397: Using ASTQueryTranslatorFactory\n2015-03-30 16:04:11.255  INFO 56097 --- [    Test worker] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export\n2015-03-30 16:04:11.267  INFO 56097 --- [    Test worker] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete\n2015-03-30 16:04:11.348  INFO 56097 --- [    Test worker] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/redacted/main/data.sql]\n\"\"\"\n"},{"labels":["documentation"],"text":"Backport https://github.com/spring-projects/spring-boot/pull/2742\n"},{"labels":["documentation"],"text":"Aside from the inconsistent naming, there is a problem with the \"spring.jmx.*\" configuration not being documented (it's not using \"@ConfigurationProperties\" either).\n"},{"labels":["documentation"],"text":"Some section names are not on pages, only in Table of Contents\n\ne.g. in 1.2.2.RELEASE\nhttp://docs.spring.io/autorepo/docs/spring-boot/current/reference/pdf/spring-boot-reference.pdf\n\n\"\"\"\n20. Packaging your application for production ....................................................... 37\n21. What to read next ............................................................................................. 38\n\"\"\"\n\nbut on those pages there is no section names\n"},{"labels":["documentation"],"text":"I'm using a non-standard location properties file, that includes both Spring Boot properties and my own application custom properties. It is loaded with a \"@PropertySource\" annotation on the class that I provide to \"SpringApplication.run\". This works fine for for instance \"server.address\" and \"server.port\", but it does not pick up \"logging.file\" or \"logging.path\". When I add an \"application.properties\" with only logging config, it does work.\n\nI'm guessing the logging bootstrap is so 'early' in the process that only the \"application.properties\" contents is read at that point, and no \"@PropertySource\" annotations are processed yet? This could be a design choice, but maybe it should be possible, in which case I think this is a bug.\n\nIf any more explanation or example code is needed, just let me know. Thanks!\n"},{"labels":["documentation"],"text":"If no dispatcher type is set on a FilterRegistrationBean, it should be the standard REQUEST-only filter.\n\nServlet specification 3.0, 6.2.5:\n\n\"\"\"\n... This is indicated by a <dispatcher> element with value REQUEST, or by the\nabsence of any <dispatcher> elements.\n\"\"\"\n\nHowever in FilterRegistrationBean.java, the default is this:\n\n\"\"\"\n    protected void configure(FilterRegistration.Dynamic registration) {\n        super.configure(registration);\n        EnumSet<DispatcherType> dispatcherTypes = this.dispatcherTypes;\n        if (dispatcherTypes == null) {\n            dispatcherTypes = (isAsyncSupported() ? ASYNC_DISPATCHER_TYPES\n                    : NON_ASYNC_DISPATCHER_TYPES);\n        }\n\"\"\"\n\nThis should be changed to ease migration with least surprise from web.xml or documented with a prominent note.\n"},{"labels":["documentation"],"text":"Hi there,\n\nI cannot configure flyway the I want because the \"FlywayProperties\" is missing on a lot of options. Specifically I'm currently creating the flyway bean like the following:\n\n\"\"\"\n    @DependsOn(\"dataSource\")\n    @Bean(name = { \"defaultPlatformFlywayConfiguration\", \"flyway\" })\n    protected Flyway defaultPlatformFlywayConfiguration() throws PropertyVetoException {\n        final Flyway flyway = new Flyway();\n        flyway.setDataSource(dataSource);\n        flyway.setInitDescription(\"First Platform Init\");\n        flyway.setTable(\"platform_schema_version\");\n        flyway.setSqlMigrationPrefix(environment.getProperty(\"my.platform.schema.export.prefix\", \"EXPORT\"));\n        flyway.setIgnoreFailedFutureMigration(true);\n        flyway.setInitOnMigrate(true);\n        flyway.setValidateOnMigrate(false);\n        flyway.setLocations(\"classpath:/db/migration\");\n        flyway.setSqlMigrationSuffix(\".sql\");\n\n        return flyway;\n    }\n\"\"\"\n\nCould you please allow customizing the \"validateOnMigrate\", \"initOnMigrate\", \"ignoreFailedFutureMigration\", \"table\" and \"initDescription\". \n\nAlso the documentation suggests I can add  \"flyway.sql-migration-suffix\" and \"flyway.sql-migration-prefix\" as properties:\n\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\n\nbut the file does not suggest so:\n\nhttps://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/flyway/FlywayProperties.java\n\nThanks.\n"},{"labels":["documentation"],"text":"Unless I misunderstood something, there is no easy way to run a script _only_ when the schema is generated\n- \"import.sql\" is an hibernate feature but only works with \"create\" (that drops the schema if necessary first) or \"create-drop\". With \"validate\" (create/update the schema if necessary), \"import.sql\" is not executed at all\n- \"data.sql\" and the like is executed every time we start the app. If we dont' drop the shema, our sql script must be idempotent\n\nIt may mostly be a demo purpose issue but what if we have an in memory DB locally and a cloud-based service in another environment? The local environment does not matter as  we create it at every run but the cloud thing may use an initialization at first start, reusing that for further deploys.\n\nThoughts?\n"},{"labels":["documentation"],"text":"In the documentation, we provide the various value of \"spring.jpa.hibernate.ddl-auto\". We don't document \"create\" while [it seems to be supported by Hibernate](http://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do)\n"},{"labels":["documentation"],"text":"[The Javadocs](http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/WebIntegrationTest.html#randomPort%28%29)  for WebIntegrationTest#randomPort() give an example using \"@Value(\"server.local.port\")\".  However, this does not work for two reasons.  First, the actual property (as mentioned in the [Spring Boot documentation](http://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html#howto-discover-the-http-port-at-runtime)) is \"local.server.port\", not \"server.local.port\".  Secondly, the value in the example is the String literal \"server.local.port\", not the value of the property (note the lack of surrounding \"${}\"), so the value injected would be the literal string, not the property value.\n\nExpected value in the documentation should be \"@Value(\"${local.server.port}\")\".\n"},{"labels":["documentation"],"text":"The spring data project has support for setting \"ReplicaSetSeeds\" via the \"MongoFactoryBean\".\n\nIt would be nice to be able to configure this via the mongo-autoconfigurer in the properties file along with the other mongo stuff.\n\nhttp://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoFactoryBean.html#setReplicaSetSeeds-com.mongodb.ServerAddress:A-\n\nhttp://docs.mongodb.org/manual/replication/\n"},{"labels":["documentation"],"text":"I am checking the APIs in the spring-boot-docs folder(https://github.com/spring-projects/spring-boot/tree/master/spring-boot-docs/src/main/asciidoc), and it seems that I found outdated APIs. I hope some contributors may confirm whether the followings are outdated or not: \n1. RandomAccessJarFile\n   https://github.com/spring-projects/spring-boot/blob/master/spring-boot-docs/src/main/asciidoc/appendix-executable-jar-format.adoc\n   The doc refers to the RandomAccessJarFile class, which does not exist anymore. \n2. ThymeleafViewResolver\n   https://github.com/spring-projects/spring-boot/blob/master/spring-boot-docs/src/main/asciidoc/howto.adoc\n   The doc refers to the ThymeleafViewResolver class. However, the issue, posted to https://github.com/thymeleaf/thymeleaf-spring/issues/64, says that the class is not used anymore.\n3. configurationPropertiesValidator\n   https://github.com/spring-projects/spring-boot/blob/master/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc\n   The doc refers to the configurationPropertiesValidator.  However, no class has this method. \n\nThanks in advance,\nSeonah\n"},{"labels":["documentation"],"text":"I see more and more people having reflection issues because they are using a Spring Boot version against an incompatible Spring Framework version.\n\nI believe that the vast majority of these use cases are due to an inconsistent upgrade of the project. We should update the documentation to better explain why relying on Spring Boot (only) is much easier as it brings the proper Spring Framework version to use.\n"},{"labels":["documentation"],"text":"Third parties are creating their own starters and it seems that \"spring-boot-starter\" is a natural prefix for them. Both activitii and camel have such starters.\n\nWouldn't it be a good idea for us to \"formally\" document some aspects of a 3rd party starter? For one, using a different prefix would be a good idea IMO. We could avoid ending up in a situation where we have two [\"spring-boot-starter-actuator\"](http://mvnrepository.com/artifact/org.activiti/spring-boot-starter-actuator) now.\n\nping @jbarrez & @hekonsek\n\nHere is what I suggest for what would be wrongly called \"spring-boot-starter-xyz\":\n- If \"xyz\" is small enough so that only one starter makes sense, name it \"xyz-spring-boot-starter\". After all, all your modules probably start with \"xyz\" already anyway\n- If you have more that one potential starters, just extend the prefix: \"xyz-first-spring-boot-starter\" - \"xyz-second-spring-boot-starter\".\n"},{"labels":["documentation"],"text":"I am checking the how-to guides in https://github.com/spring-projects/spring-boot/blob/master/spring-boot-docs/src/main/asciidoc/howto.adoc. \n\nThe page mentions the AutoConfigurationReport class in the following description:\n\n\"Troubleshoot auto-configuration\n\nThe Spring Boot auto-configuration tries its best to do the right thing, but sometimes things fail and it can be hard to tell why.\n\nThere is a really useful AutoConfigurationReport available in any Spring Boot ApplicationContext.\"\n\nI found no AutoConfigurationReport class in the project. I was wondering if the text description is outdated, and if the description should include ConditionEvaluationReport instead of AutoConfigurationReport.\n\nThanks in advance,\nSeonah\n"},{"labels":["documentation"],"text":"I was trying to use the \"PropertiesLauncher\" by specifying it in the manifest:\n\n\"\"\"\nmanifest {\n        attributes 'Main-Class': 'org.springframework.boot.loader.PropertiesLauncher',\n                'Start-Class': 'sample.Application'\n    }\n\"\"\"\n\nbut resulting manifest always has the \"PropertiesLauncher\" for both the \"Main-Class\" and the \"Start-Class\". This means that I get an error if I don't specify \"-Dloader.main=sample.Application\".\n\nIs there a way to override both?\n\nFurthermore, the jar cannot be started with \"java -jar\" unless the layout is set to ZIP:\n\n\"\"\"\nspringBoot {\n    layout = 'ZIP'\n}\n\"\"\"\n\nIt would be nice if this was in the documentation for the PropertiesLauncher.\n"},{"labels":["documentation"],"text":"I couldn't realize why the following property didn't work before looking into the Spring Boot source code:\n\n\"\"\"\nlogging.level.org.thymeleaf=TRACE\n\"\"\"\n\nI think it would be good if there is some documentation on LevelRemappingAppender somewhere.\n"},{"labels":["documentation"],"text":"In file https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointMBeanExportProperties.java property is ${spring.jmx.default_domain:} instead of ${spring.jmx.default-domain:}.\n\nRefer below link for details\n\nhttps://github.com/spring-cloud/spring-cloud-config/issues/73\n"},{"labels":["documentation"],"text":"We should mention that you _don't_ need to use \"@EnableHypermediaSupport\" by default and that if you do use it then you're opting in to configuring Spring HATEOAS yourself\n"},{"labels":["documentation"],"text":"Hi folks,\n\nthere is a minor documentation bug in the Javadoc comment of method\n\n\"\"\"\nvoid setSessionTimeout(int sessionTimeout, TimeUnit timeUnit);\n\"\"\"\n\nin the \"org.springframework.boot.context.embedded.ConfigurableEmbeddedServletContainer\" interface. \n\n\"\"\"\nThe session timeout in the specified {@link TimeUnit} (default 30 seconds). If 0 or negative then sessions never expire.\n\"\"\"\n\nshould be replaced by\n\n\"\"\"\nThe session timeout in the specified {@link TimeUnit} (default 30 minutes). If 0 or negative then sessions never expire.\n\"\"\"\n"},{"labels":["documentation"],"text":"Consider the following external \"application.properties\":\n\n\"\"\"\nspring.profiles.active=dev\nmy.property=external\n\"\"\"\n\nand the following \"src/main/resources/application-dev.properties\":\n\n\"\"\"\nmy.property=internal\n\"\"\"\n\nWhen running the application, \"my.property\" will resolve to \"internal\", whereas documentation clearly states that it should not be so:\n\n> Spring Boot uses a very particular PropertySource order that is designed to allow sensible overriding of values, properties are considered in the the following order:\n> ...\n> 6. Application properties outside of your packaged jar (application.properties including YAML and profile variants).\n> 7. Application properties packaged inside your jar (application.properties including YAML and profile variants).\n"},{"labels":["documentation"],"text":"Currently, \"logging.level\" is exposed as a \"Map<String,Object>\". Shouldn't that be \"Map<String,String>\" instead?\n"},{"labels":[null,"documentation"],"text":"The current Spring Boot documentation does provide documentation on using Spring Boot behind a proxy and how to enable SSL. However, it could be improved to include:\n- How to setup load balancing. Some documentation and a config example on how to use nginx might be useful for this.\n- How to support clustered environments (i.e. Sessions)\n\nRelated https://github.com/spring-projects/spring-boot/issues/1117 https://github.com/spring-projects/spring-boot/pull/2071\n"},{"labels":["documentation"],"text":"[Logging manual](http://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html) needs an explatation how to disable logger configuration.\n\nProblem is that you set \"-Dlogback.configurationFile=...\" as specified in logback manual, and then spend an hour in debugger trying to understand how to disable spring-boot override of that configuration.\n\nSpring-boot defaults are cool, but should be easy to turn off.\n"},{"labels":["documentation"],"text":"We changed the archive detection login in #2056 but we didn't change the documentation so the help page still refers to that suffix \"/\"\n"},{"labels":["documentation"],"text":"Updating JPA spring boot project to 1.2.1-RELEASE will cause a \"java.lang.UnsupportedClassVersionError\" when running with Java 6:\n\n\"\"\"\nCaused by: java.lang.UnsupportedClassVersionError: javax/transaction/SystemException : Unsupported major.minor version 51.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:637)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:621)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:249)\n    at org.jboss.logging.Logger$1.run(Logger.java:2252)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2227)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2214)\n    at org.hibernate.jpa.internal.HEMLogging.messageLogger(HEMLogging.java:45)\n    at org.hibernate.jpa.internal.HEMLogging.messageLogger(HEMLogging.java:41)\n    at org.hibernate.ejb.HibernatePersistence.<clinit>(HibernatePersistence.java:46)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at java.lang.Class.newInstance0(Class.java:357)\n    at java.lang.Class.newInstance(Class.java:310)\n    at javax.persistence.spi.PersistenceProviderResolverHolder$PersistenceProviderResolverPerClassLoader$CachingPersistenceProviderResolver.getPersistenceProviders(PersistenceProviderResolverHolder.java:177)\n    at javax.persistence.spi.PersistenceProviderResolverHolder$PersistenceProviderResolverPerClassLoader.getPersistenceProviders(PersistenceProviderResolverHolder.java:84)\n    at javax.persistence.Persistence.getProviders(Persistence.java:69)\n    at javax.persistence.Persistence.access$000(Persistence.java:23)\n    at javax.persistence.Persistence$1.isLoaded(Persistence.java:109)\n    at org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.isReachable(JPATraversableResolver.java:56)\n    at org.hibernate.validator.internal.engine.resolver.DefaultTraversableResolver.isReachable(DefaultTraversableResolver.java:137)\n    at org.hibernate.validator.internal.engine.resolver.CachingTraversableResolverForSingleValidation.isReachable(CachingTraversableResolverForSingleValidation.java:46)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.isReachable(ValidatorImpl.java:1396)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.isValidationRequired(ValidatorImpl.java:1381)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraint(ValidatorImpl.java:542)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:487)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:451)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:403)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:206)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:92)\n    at org.springframework.validation.DataBinder.validate(DataBinder.java:767)\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.validate(PropertiesConfigurationFactory.java:284)\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.doBindPropertiesToTarget(PropertiesConfigurationFactory.java:253)\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.bindPropertiesToTarget(PropertiesConfigurationFactory.java:225)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:296)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1558)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    ... 47 common frames omitted\n\n\"\"\"\n"},{"labels":["documentation"],"text":"If you're using stock Gradle, you need to use a resolution strategy. For example, \n\n\"\"\" groovy\nconfigurations.all {\n    resolutionStrategy {\n        eachDependency {\n            if (it.requested.group == 'org.apache.tomcat.embed') {\n                it.useVersion '7.0.56'\n            }\n        }\n    }\n}\n\"\"\"\n\nVia [Stack Overflow](http://stackoverflow.com/questions/27913451/how-to-specify-servlet-api-version-in-gradle/27919081)\n\nThis will become much more Maven-like if we move to the dependency management plugin (#2133)\n"},{"labels":["documentation"],"text":"Hello,\nI've faced an issue with resolving Groovy Templates when try to run SpringBoot application : https://github.com/melix/springboot-groovytemplates\n\nWhen I try to hit any url I get 404 error. When I dig deeper and debug template resolving stack I found and \"IOException\" in \"org.springframework.web.servlet.view.groovy.GroovyMarkupConfigurer#resolveTemplate\"\nSeems like \"groovy.text.markup.MarkupTemplateEngine$TemplateGroovyClassLoader\" class loader can't allocate resources in \"templates/\" folder.\n\nBTW, when I run this application with \"gradle run\" everything works as expected and templates resolver works great. I debug such run mode and debug stack looks similar to Idea's one.\n\nDoes anybody know what can cause such unexpected behavior?\n"},{"labels":[null,"documentation"],"text":"https://github.com/spring-projects/spring-boot/issues/2271#issuecomment-69150124\n"},{"labels":["documentation"],"text":"see here http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-customizing-configurableembeddedservletcontainerfactory-directly\n\nin sample code:\n\n\"\"\" java\n@Bean\npublic EmbeddedServletContainerFactory servletContainer() {\n    TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\n    factory.setPort(9000);\n    factory.setSessionTimeout(10, TimeUnit.MINUTES);\n    factory.addErrorPages(new ErrorPage(HttpStatus.404, \"/notfound.html\");\n    return factory;\n}\n\"\"\"\n\nthe line \n\n\"\"\" java\nfactory.addErrorPages(new ErrorPage(HttpStatus.404, \"/notfound.html\");\n\"\"\"\n\nshould be \n\n\"\"\" java\nfactory.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, \"/notfound.html\"));\n\"\"\"\n"},{"labels":["documentation"],"text":"Suppose I have an @ConfigurationProperties class such as \n\n\"\"\"\n@ConfigurationProperties(prefix = \"foo.bar\")\nclass BazProperties {\n\n  @BeanProperty\n  @Required\n  var simple : String = null\n\n  @BeanProperty\n  @Required\n  var compoundName : Int = 30\n}\n\"\"\"\n\nThe docs don't appear to explicitly define how this class's properties map to command line args and OS environment variables, e.g. FOO_BAR_COMPOUNDNAME and/or FOO_BAR_COMPOUND_NAME \n"},{"labels":["documentation"],"text":"Just a bad link.\n\nhttp://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#_auto_configured_healthindicators\n"},{"labels":["documentation"],"text":"\"TomcatEmbeddedServletContainerFactory\" has \"addAdditionalTomcatConnectors()\" which allows to have both SSL and non-SSL connectors (see #2167).\n\nThis is missing for Undertow.\n"},{"labels":["documentation"],"text":"Currently the documentation of how to get a WAR deployment up and running with Boot is spread between [multiple](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#build-tool-plugins-maven-packaging) [places](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-convert-an-existing-application-to-spring-boot).\n\nIt would be cool to have a canonical place to be able to point user to that need WAR deployments.\n"},{"labels":["documentation"],"text":"It is quite possible to include a library which is exposing a  Filter/Servlet bean. Please introduce a mechanism for exclusion. \n\nHere is the relevant section of code:\n\norg.springframework.boot.context.embedded.ServletContextInitializerBeans#addAdaptableBeans \n\n\"\"\"\n    private void addAdaptableBeans(ListableBeanFactory beanFactory) {\n        MultipartConfigElement multipartConfig = getMultipartConfig(beanFactory);\n        addAsRegistrationBean(beanFactory, Servlet.class, new ServletRegistrationBeanAdapter(multipartConfig));\n        addAsRegistrationBean(beanFactory, Filter.class, new FilterRegistrationBeanAdapter());\n        for (Class<?> listenerType : ServletListenerRegistrationBean.getSupportedTypes()) {\n            addAsRegistrationBean(beanFactory, EventListener.class, (Class<EventListener>) listenerType, new ServletListenerRegistrationBeanAdapter());\n        }\n    }\n\"\"\"\n#2171 is also related to this issue.\n"},{"labels":["documentation"],"text":"under section \"29.2.1\" there  is a typo, a 'g' is missing:\n\n<pre>\nto access Mono databases\n</pre>\n"},{"labels":["documentation"],"text":"Looks like cut-n-paste error.  Everywhere in comments it refers to \"ApplicationPidFileWriter\" and PID.\n"},{"labels":["documentation",null],"text":"The reference manual states that the default security password will be logged at \"INFO\" log level, but it does not mention what the logger category is.\n\nThus if you fine tune your logging settings such that the default security password is no longer logged, you literally have to search through the source code to discover that the category is \"org.springframework.boot.autoconfigure.security\".\n\nSo please document this in the reference manual.\n"},{"labels":["documentation"],"text":"Found that key in the release notes but we have no meta-data for it.\n"},{"labels":["documentation"],"text":"When building a Spring Boot 1.1.9.RELEASE application with Spring Boot Actuator enabled, I cannot seem to disable the built in management.health checks. The health checks in question are:\n\n\"\"\"\nmanagement.health.db.enabled=false\nmanagement.health.diskspace.enabled=false\nmanagement.health.mongo.enabled=false\nmanagement.health.rabbit.enabled=false\nmanagement.health.redis.enabled=false\nmanagement.health.solr.enabled=false\n\"\"\"\n\nAfter adding these lines to my application.properties file, I get errors on app start such as:\n\n\"\"\"\nException in thread \"main\" org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'managementServerProperties': Could not bind properties; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'health[diskspace][enabled]' of bean class [org.springframework.boot.actuate.autoconfigure.ManagementServerProperties]: Cannot access indexed value in property referenced in indexed property path 'health[diskspace][enabled]'; nested exception is org.springframework.beans.NotReadablePropertyException: Invalid property 'health[diskspace][enabled]' of bean class [org.springframework.boot.actuate.autoconfigure.ManagementServerProperties]: Bean property 'health[diskspace][enabled]' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:300)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:252)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1546)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:706)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:762)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:109)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n    at com.premierinc.chna.Application.main(Application.java:24)\nCaused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'health[diskspace][enabled]' of bean class [org.springframework.boot.actuate.autoconfigure.ManagementServerProperties]: Cannot access indexed value in property referenced in indexed property path 'health[diskspace][enabled]'; nested exception is org.springframework.beans.NotReadablePropertyException: Invalid property 'health[diskspace][enabled]' of bean class [org.springframework.boot.actuate.autoconfigure.ManagementServerProperties]: Bean property 'health[diskspace][enabled]' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:947)\n    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:923)\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:82)\n    at org.springframework.validation.DataBinder.applyPropertyValues(DataBinder.java:728)\n    at org.springframework.validation.DataBinder.doBind(DataBinder.java:624)\n    at org.springframework.boot.bind.RelaxedDataBinder.doBind(RelaxedDataBinder.java:93)\n    at org.springframework.validation.DataBinder.bind(DataBinder.java:609)\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.doBindPropertiesToTarget(PropertiesConfigurationFactory.java:275)\n    at org.springframework.boot.bind.PropertiesConfigurationFactory.bindPropertiesToTarget(PropertiesConfigurationFactory.java:225)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:297)\n    ... 18 more\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'health[diskspace][enabled]' of bean class [org.springframework.boot.actuate.autoconfigure.ManagementServerProperties]: Bean property 'health[diskspace][enabled]' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.beans.BeanWrapperImpl.getPropertyValue(BeanWrapperImpl.java:726)\n    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:944)\n    ... 27 more\n\"\"\"\n\nBasically, I don't want Spring reporting that services are down that I don't even have in my project, but when I try to disable them, the app breaks. I have custom health checks that I want to register, but that's all I want.\n\nAm I missing something obvious?\n\nThanks!\n"},{"labels":["documentation"],"text":"The [reference manual appendix](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#common-application-properties) lists connection-pool-specific \"DataSource\" properties like \"spring.datasource.max-idle\" that aren't in the \"DataSourceProperties\" bean. I've found scattered information in other GitHub issues, SO answers, and the [reference manual](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-configure-a-datasource) that the properties are passed through to the connection-pool-specific \"DataSource\" type. But I'm not finding an explanation of how those properties are passed through to the \"DataSource\" in the reference manual, which would help diffuse some of the magic and make it easier to understand which properties can be specified.\n\nIt's possible I'm not grasping this because I haven't found an explanation of what it means to apply \"@ConfigurationProperties\" to a \"@Bean\" method. Any pointers there would help too.\n"},{"labels":["documentation"],"text":"Since the paas shutdown :(\n"},{"labels":["documentation"],"text":"If a legacy web application need to register objects with \"Servlet\" framework before \"SpringBootServletInitializer.onStartup\", it can implement it's own \"WebApplicationInitializer\" and provide the precedence through the \"Ordered\" interface.\n\n\"SpringServletContainerInitializer\" sorts all discovered \"WebApplicationInitializers\" through \"AnnotationAwareOrderComparator\" class.  In case if the \"WebApplicationInitializer\" does not implement \"Ordered\"interface or is not annotated with \"@Order\" annotation, it is assigned \"LOWEST_PRECEDENCE\".\n\nI think it is better to add \"Ordered\" implementation to \"SpringBootServletInitializer\" and assign default precedence to \"0\".\n\nThis issue came as a work around after regression of https://github.com/spring-projects/spring-boot/issues/2070 failed\n"},{"labels":["documentation"],"text":"https://youtrack.jetbrains.com/issue/IDEA-134098\n"},{"labels":["documentation"],"text":"Hi, \n\nThe docs at this page: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#build-tool-plugins-gradle-packaging\n\nand tutorial at this page: http://spring.io/guides/gs/convert-jar-to-war/\n\ntalks about how to repackage the boot application to a war file. But in order to run the application in a servlet container, you need to have a subclass implementation of SpringBootServletInitializer class. \n\nThis is explained in the tutorial: http://spring.io/guides/gs/convert-jar-to-war-maven/\n\nSo, please also update the Gradle tutorial appropriately.\n"},{"labels":["documentation"],"text":"I'm fiddling with RC2 and found this javadoc comment that confuses me.\n[ConfigurableEmbeddedServletContainer.setSessionTimeout](https://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/java/org/springframework/boot/context/embedded/ConfigurableEmbeddedServletContainer.java#L51-L56)\n\nThe comment says that the default is 30 seconds. But if I don't specify \n\"server.sessionTimeout\" in the app's application.properties file the sessionTimeout value is zero. \n\nAnd then the method [TomcatEmbeddedServletContainerFactory.configureContext](https://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/java/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.java#L346-L351) calls TomcatEmbeddedContext.setSessionTimeout with a value of zero and this overwrites the Tomcat default of 30 minutes.\n"},{"labels":["documentation"],"text":"Weblogic deployment works buy you have to jump though a couple of hoops. We should document that:\n\n1) You need to extends \"SpringBootServletInitializer\" **AND** implement \"WebApplicationInitializer\" directly\n\n2) You need to add a WEB-INF/weblogic.xml to favor bundled SLF4J:\n\n\"\"\" xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wls:weblogic-web-app\n    xmlns:wls=\"http://xmlns.oracle.com/weblogic/weblogic-web-app\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd\">\n    <wls:container-descriptor>\n        <wls:prefer-application-packages>\n            <wls:package-name>org.slf4j</wls:package-name>\n        </wls:prefer-application-packages>\n    </wls:container-descriptor>\n</wls:weblogic-web-app>\n\"\"\"\n"},{"labels":["documentation"],"text":"See #2073\n"},{"labels":["documentation"],"text":"If we had a \"@ConfigurationProperty(ignore=true)\" then we could flag the \"additionalProperties\" field of \"ShellProperties\" as it exposes something that we can't bind from simple values.\n"},{"labels":["documentation"],"text":"the \"debug\" property should have an entry in the meta-data.\n"},{"labels":["documentation"],"text":"The class-level javadoc of \"ApplicationPidFileWriter\" states that the PID file location can be configured via \"Environment\" property \"spring.application.pidfile\" whereas it actually looks up \"spring.pidfile\".\n"},{"labels":["documentation"],"text":"The release notes of 1.2 says that the property endpoints.health.restrict-anonymous-access can be set to false to be able to display more detailed information on /health endpoint.\nHowever, the property does not seem to have any effect. Looking in the source code it does not seems to be aligned with release notes at all.\nCan you please check if this property should be added to source code?\n"},{"labels":["documentation"],"text":"I can't find any usage of this property. Maybe it's simply outdated?\n"},{"labels":["documentation"],"text":"any key that starts with \"info\" is added to the \"InfoEndpoint\" so it's a key on its own and deserve some metadata love.\n"},{"labels":["documentation"],"text":"Logging.level should be defined in \"additional-spring-configuration-metadata.json\"\n"},{"labels":[null,"documentation"],"text":"#1353 is an important change that we need to document in the ref guide and the upgrade instructions.\n"},{"labels":["documentation"],"text":"\"\"\"\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-jetty</artifactId>\n        <exclusions>\n            <exclusion>\n                <groupId>org.eclipse.jetty.websocket</groupId>\n                <artifactId>*</artifactId>\n            </exclusion>\n        </exclusions>\n    </dependency>\n\"\"\"\n"},{"labels":["documentation"],"text":"We have decided to rename \"dataType\" to \"type\" for configuration item metadata. The manual metadata hasn't been updated and still refers to \"dataType\"\n"},{"labels":["documentation"],"text":"http://docs.spring.io/spring-boot/docs/1.2.0.BUILD-SNAPSHOT/reference/htmlsingle/#howto-use-jetty-9\n"},{"labels":["documentation"],"text":"It would be handy to find the new configuration properties for the mail default configuration in the reference documentation.\n"},{"labels":["documentation"],"text":"Documantation states that minimal Spring version for Spring boot 1.2.0.RC1 is 4.1.\n\nWhile actual required version is 4.1.2.\n\nUsing 4.1.1 will result an exception in BeanTypeRegistry.get(ListableBeanFactory beanFactory) method as DefaultListableBeanFactory doesn't have isAllowEagerClassLoading() method.\n"},{"labels":["documentation"],"text":"The section on Spock makes no mention of \"@WebAppConfiguration\". The section on JUnit uses \"@WebAppConfiguration\" inconsistently in its various examples. We should probably also mention that \"@IntegrationTest\" can be used with Spock.\n"},{"labels":["documentation"],"text":"Ensure that everything in the release notes is also covered in the reference docs.\n"},{"labels":["documentation"],"text":"[Chapter 25](http://docs.spring.io/spring-boot/docs/1.1.8.RELEASE/reference/htmlsingle/#boot-features-security) talks about a \"WebConfigurerAdapter\" class (twice). I assume this should be \"WebSecurityConfigurerAdapter\".\n"},{"labels":["documentation"],"text":"Some are camel case at the moment.\n"},{"labels":["documentation"],"text":"I found the following is required in Gradle to get a fat jar working when cannot use the \"spring-boot-gradle-plugin\" plugin:\n\n\"\"\" groovy\nimport com.github.jengelman.gradle.plugins.shadow.transformers.*\n\n// Can't use Boot's nested jar packaging due to environment constrained classloader\napply plugin: 'com.github.johnrengelman.shadow'\n\nshadowJar {\n  zip64 true\n\n  exclude 'META-INF/*.SF'\n  exclude 'META-INF/*.DSA'\n  exclude 'META-INF/*.RSA'\n\n  // Required for Spring\n  mergeServiceFiles()\n  transform(AppendingTransformer) { resource = 'reference.conf'  }\n  transform(AppendingTransformer) { resource = 'META-INF/spring.handlers'  }\n  transform(AppendingTransformer) { resource = 'META-INF/spring.schemas'  }\n  transform(AppendingTransformer) { resource = 'META-INF/spring.tooling'  }\n  transform(PropertiesFileTransformer) { paths = ['META-INF/spring.factories' ] }\n\n  // ...\n}\n\"\"\"\n\nThe docs should strongly recommend the \"shadow\" / \"shade\" plugins for environmentally constrained classloaders¹ because resource transformation is a requirement. Without it, essential beans such as converters, property placeholder configurers, etc. go missing from Spring Boot's autoconfiguration (i.e. \"spring.factories\"). The result is very difficult to diagnose.\n\n¹environmentally constrained classloaders: A system classloader not under your control. \n"},{"labels":["documentation"],"text":"a7e1ec842d263301f32eb1195d1936d436c1db13\n"},{"labels":["documentation",null],"text":"The meta-data generator takes \"simple\" javadoc on field. We need to add those on our properties so that the meta-data exposes a relevant \"description\" attribute for them.\n"},{"labels":["documentation"],"text":"If a Gradle project is using the Boot plugin to provide version numbers, publishing a Maven pom for the project will fail as Gradle isn't smart enough to include the Boot-provided versions in the pom. To successfully publish a Gradle-generated pom, the pom has to be configured to either use Boot's starter parent or import its dependency management. We mention this in the documentation and provide and example of the required configuration.\n\nAlso see #1716 which is tracking the possibility of doing something automatically.\n"},{"labels":["documentation"],"text":"Both the manual and the release notes need some love\n"},{"labels":["documentation"],"text":"It seems that \"@ConfigurationProperties\" doesn't evaluate Spring Expression Language, but \"@Value\" does. That means in cases where configuration may contain expressions, \"@Value\" can't transparently be replaced with \"@ConfigurationProperties\". This was a bit of a surprise and took me a while to diagnose. For example:\n\napplication.properties:\n\n\"\"\" properties\ntest.expression=#{1+1}\n\"\"\"\n\nTestValue.java:\n\n\"\"\" java\n@Component\npublic class TestValue {\n    private @Value(\"${test.expression}\") String expression;\n\n    @PostConstruct\n    public void print() {\n        System.out.println(\"Test Value: \" + expression);\n    }\n}\n\"\"\"\n\nTestConfigurationProperties.java\n\n\"\"\" java\n@Component\n@ConfigurationProperties(\"test\")\n@Getter @Setter\npublic class TestConfigurationProperties {\n    private String expression;\n\n    @PostConstruct\n    public void print() {\n        System.out.println(\"Test ConfigurationProperties: \" + expression);\n    }\n}\n\"\"\"\n\nprints:\n\n> Test ConfigurationProperties: #{1+1}\n> Test Value: 2\n\nIt seems like it would be reasonably straightforward to perform this evaluation, or to add an argument to \"@ConfigurationProperties\". Any thoughts?\n"},{"labels":["documentation"],"text":"I've noticed we have a lot of \"\"'' chars in the documentation since upgrading asciidoctor\n"},{"labels":["documentation"],"text":"In gradle I often use the processResources task to [filter properties files](http://mrhaki.blogspot.com/2010/11/gradle-goodness-add-filtering-to.html), using syntax like \"appversion=@version@\". However, it appears that Spring Boot's \"bootRun\" task doesn't pick up the output of the \"processResources\" task, only the input. For example, if you tried to read the \"appversion\" property using \"bootRun\" you would see \"@version@\", not the version defined in the build.gradle file (say \"0.1.1\"). If you build a jar or war file, though, the filtered property is used correctly.\n"},{"labels":["documentation"],"text":"I have an application defined this way:\n\n\"\"\" java\n@ComponentScan\n@Configuration\n@EnableAutoConfiguration\npublic class Application extends SpringBootServletInitializer {\n    private static final Class<Application> APPLICATION_CLASS = Application.class;\n\n    public static void main(final String[] args) {\n        SpringApplication.run(APPLICATION_CLASS, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(final SpringApplicationBuilder application) {\n        return application.sources(APPLICATION_CLASS);\n    }\n}\n\"\"\"\n\nand a ServerEndpoint:\n\n\"\"\" java\n@ServerEndpoint(value = \"/websocket\")\npublic class WebSocketTest {\n    private static Set<Session> clients = Collections.synchronizedSet(new HashSet<Session>());\n\n    @OnMessage\n    public void onMessage(String message, Session session) throws IOException {\n        synchronized (clients) {\n            for (Session client : clients) {\n                if (!client.equals(session)) {\n                    client.getBasicRemote().sendText(message);\n                }\n            }\n        }\n    }\n\n    @OnOpen\n    public void onOpen(Session session) {\n        clients.add(session);\n    }\n\n    @OnClose\n    public void onClose(Session session) {\n        clients.remove(session);\n    }\n}\n\"\"\"\n\npom.xml:\n\n\"\"\" xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>websocket</groupId>\n    <artifactId>websocket</artifactId>\n    <version>1.0-SNAPSHOT</version>\n    <packaging>war</packaging>\n\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>1.2.0.M1</version>\n    </parent>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-websocket</artifactId>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n\"\"\"\n\nnow when i run this war as a standalone application i am unable to connect to the websocket, when i deploy this war to a standalone tomcat connection can be successfull established. there seems to be something missing in the embedded configuration when using websockets in standalone mode\n"},{"labels":["documentation"],"text":"Defining a property with JNDI is overriding the property defined as system property, which is not in sync with the documentation regarding property resolution\n\n1.Command line arguments.\n2. Java System properties (System.getProperties()).\n3. OS environment variables.\n4. JNDI attributes from java:comp/env\n...\n\nI have tested it with JBoss EAP 6.3.0 GA and Wildfly 8.1.0.Final, and with Spring Boot 1.1.7 and 1.1.8 release.\n\nIn the standalone.xml I did the following change:\n\n\"\"\" xml\n <subsystem xmlns=\"urn:jboss:domain:naming:2.0\">\n       <bindings>\n           <simple name=\"java:/greeting.name\" value=\"Walter\" type=\"java.lang.String\"/>\n        </bindings>\n       <remote-naming/>\n </subsystem>\n\"\"\"\n\nand using ./standalone.sh -Dgreeting.name=\"Skyler\" \n\nthe localhost:8080/env clearly returns the \"greeting.name\" as systemProperty\n\nHowever the property \"greeting.name\" will be resolved to \"Walter\" instead of \"Skyler\"\n"},{"labels":["documentation"],"text":"Identifiers can be quoted globally (for example to avoid clash with reserved keywords in table names etc ...).\n\nThis can be achieved with the hibernate property :\n\nhibernate.globally_quoted_identifiers=true\n\n\"JpaProperties$Hibernate\" should be modified so that it can add this property to Hibernate's properties.\n"},{"labels":["documentation"],"text":"After upgrading to 1.1.7 we no longer receive the real RemoteIpAddress in authentication events but the proxy server’s IP. If I set \"server.tomcat.remote_ip_header=x-forwarded-for\" in application.properties it works again.\n\nI think this issue could be related with this change: 468b6cb\n\nIf I read the documentation [here](https://github.com/spring-projects/spring-boot/blob/97dcd246682e60aac7bcffee5ea55e859a2927c4/spring-boot-docs/src/main/asciidoc/howto.adoc#use-tomcat-behind-a-front-end-proxy-server), I get the impression that the x-forwarded-for should be used (on) by default. Am I wrong?\n"},{"labels":["documentation"],"text":"I think the 1.1.x docs should probably link to the latest 4.0.x docs as 1.1 uses Spring 4.0.x\n"},{"labels":[null,"documentation"],"text":"The bug happens with 1.1.5.RELEASE and 1.2.0.BUILD-SNAPSHOT.\n\nUsing this project: https://github.com/spring-guides/gs-convert-jar-to-war-maven/tree/master/complete , deployed as a WAR to IBM WebSphere 8.0.0.9 (However, it works correctly on Tomcat), when I visit a non-existent page (For example: \"curl -i http://localhost:9080/gs-convert-jar-to-war-maven/nonexistent\"), I get HTTP 200 response and a blank page:\n\n\"\"\"\nHTTP/1.1 200 OK\nX-Powered-By: Servlet/3.0\nContent-Language: en-US\nTransfer-Encoding: chunked\nDate: Thu, 18 Sep 2014 05:04:26 GMT\n\n\"\"\"\n\n(This is the whole response, there is no body)\n\nAnd I get this stack trace in the WebSphere logs:\n\n\"\"\"\n[9/18/14 8:04:26:866 AST] 0000002d SystemOut     O com.ibm.ws.logging.WsLogger deliverOrBuffer 2014-09-18 08:04:26.866  WARN 1996 --- [ebContainer : 9] c.i.w.w.srt.SRTServletResponse           : WARNING: Cannot set status. Response already committed.\n\n[9/18/14 8:04:26:869 AST] 0000002d SystemOut     O   2014-09-18 08:04:26.869 ERROR 1996 --- [ebContainer : 9] o.s.boot.context.web.ErrorPageFilter     : Forwarding to error page from request [/nonexistent] due to exception [Cannot forward. Response already committed.]\n\njava.lang.IllegalStateException: Cannot forward. Response already committed.\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:1149)\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:194)\n        at org.springframework.boot.context.web.ErrorPageFilter.handleErrorStatus(ErrorPageFilter.java:134)\n        at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:111)\n        at org.springframework.boot.context.web.ErrorPageFilter.access$000(ErrorPageFilter.java:58)\n        at org.springframework.boot.context.web.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:87)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:100)\n        at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:960)\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1064)\n        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3815)\n        at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\n        at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:981)\n        at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1662)\n        at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:200)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:453)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:515)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:306)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:277)\n        at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:214)\n        at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:113)\n        at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\n        at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n        at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n        at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n        at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n        at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n        at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n        at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1702)\n\n\n[9/18/14 8:04:26:870 AST] 0000002d SystemOut     O   2014-09-18 08:04:26.870 ERROR 1996 --- [ebContainer : 9] o.s.boot.context.web.ErrorPageFilter     : Cannot forward to error page for/gs-convert-jar-to-war-maven/nonexistent (response is committed), so this response may have the wrong status code\n\njava.lang.IllegalStateException: Cannot forward. Response already committed.\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:1149)\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:194)\n        at org.springframework.boot.context.web.ErrorPageFilter.handleErrorStatus(ErrorPageFilter.java:134)\n        at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:111)\n        at org.springframework.boot.context.web.ErrorPageFilter.access$000(ErrorPageFilter.java:58)\n        at org.springframework.boot.context.web.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:87)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:100)\n        at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:960)\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1064)\n        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3815)\n        at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\n        at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:981)\n        at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1662)\n        at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:200)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:453)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:515)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:306)\n        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:277)\n        at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:214)\n        at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:113)\n        at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:175)\n        at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n        at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n        at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n        at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n        at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n        at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n        at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1702)\n\n\n\"\"\"\n"},{"labels":["documentation",null],"text":"Hi,\nsince gradle 2.1 it be came easier to apply plugins to your build script, it would be nice if spring-boot would be available via the gradle plugin portal\n"},{"labels":["documentation"],"text":"In the [docs here](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready-application-info) there is mention of using syntax like this this in application.properties to access a version number via actuator:\n\n\"\"\"\ninfo.build.version=${project.version}\n\"\"\"\n\nWhen using gradle, the project.version does not seem to be populated though, resulting in actuator just printing the \"${project.version}\" characters, not resolving the code to the version.\n\nFor the sake of testing that these variables can be resolved, I also tested this and it worked fine:\n\n\"\"\"\ninfo.build.random=${random.long}\n\"\"\"\n\nThe docs state that this is a Spring Boot Maven feature, but I was hoping it would work for Gradle too.  Is this expected to work for Gradle or is there an alternative perhaps?\n\nIf it's of any help, here it my build.gradle file contents:\n\n\"\"\"\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath('org.springframework.boot:spring-boot-gradle-plugin:1.1.5.RELEASE')\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\napply plugin: 'java'\napply plugin: 'war'\napply plugin: 'spring-boot'\n\n\ndependencies {\n    // tag::jetty[]\n    compile('org.springframework.boot:spring-boot-starter-web') {\n        exclude module: 'spring-boot-starter-tomcat'\n    }\n    compile('org.springframework.boot:spring-boot-starter-jetty')\n    // end::jetty[]\n    // tag::actuator[]\n    compile('org.springframework.boot:spring-boot-starter-actuator')\n    // end::actuator[]\n}\n\nversion = '1.0.0'\n\"\"\"\n"},{"labels":["documentation"],"text":"https://github.com/spring-projects/spring-boot/commit/f7cffce695100864ed0ab2376df68da5d96d2f32#commitcomment-7653830\n"},{"labels":["documentation",null],"text":"The start page is nice, we should point it out on the quick start.\n"},{"labels":["documentation"],"text":"Changing the property \"flyway.prefix\" has no effect. Whatever value is set for the prefix, the file name has to follow the default schema \"V<VERSION>__<NAME>.sql\".\n"},{"labels":["documentation"],"text":"I am checking the Spring Boot features in https://github.com/spring-projects/spring-boot/blob/master/spring-boot-docs/src/main/asciidoc/spring-boot-features.adoc. The page mentions the ConfigurableEmbeddedServletContainerFactory class in the following description: \n\n24.2.3 Customizing embedded servlet containers […]\n\nProgrammatic customization [...]\n\nEmbeddedServletContainerCustomizer provides access to the ConfigurableEmbeddedServletContainerFactory which includes numerous customization setter methods. […]\nCustomizing ConfigurableEmbeddedServletContainerFactory directly […]\n\nHowever, by checking this git repository , I found the ConfigurableEmbeddedServletContainerFactory class does not exist anymore, because it has been changed to the ConfigurableEmbeddedServletContainer class.\n\nI was wondering if the text description is outdated, and if the description should include ConfigurableEmbeddedServletContainer instead of ConfigurableEmbeddedServletContainerFactory.\n\nThanks in advance,\nSeonah\n"},{"labels":["documentation"],"text":"Documentation about the run mojo of the spring-boot plugin (http://docs.spring.io/spring-boot/docs/1.1.5.RELEASE/maven-plugin/run-mojo.html), for the addResources parameter, states that   resources will be included twice if the parameter is set to true (\"Since resources will be added directly, and via the target/classes folder they will appear twice if ClassLoader.getResources() is called.\"). In practice, resources present both in their source directory and in target/classes will have their target/classes file deleted (see https://github.com/spring-projects/spring-boot/blob/master/spring-boot-tools/spring-boot-maven-plugin/src/main/java/org/springframework/boot/maven/RunMojo.java#L263).\n\nI can understand the need for removal of target/classes content (although this is a bit disturbing), but then it should be stated explicitly in the parameter description.\n"},{"labels":["documentation"],"text":"What is the purpose of the \"spring.profiles\" property?\n\nIn the Spring Boot reference documentation (as well as in the Spring Framework reference documentation) I find examples of both \"spring.profiles.active\", \"spring.profiles.default\" and in the case of Spring Boot also \"spring.profiles.include\" which explain their usage.\nHowever, in the Spring Boot reference docs there is also (at least) three examples of just using the bare  \"spring.profiles\" property. Please elaborate on the usage of \"spring.profiles\", how it relates to the other \"spring.profiles.*\" properties, precedence rules, overwrite rules, etc. \n\nFrom my personal tries and errors, I found that \"spring.profiles\" is neither accessible from  \"Environment.getActiveProfiles()\" nor from \"Environment.getDefaultProfiles()\". I also noticed that it seems to determine which \"application-${profile}.properties\" gets selected?\n\nReferences:\n- http://docs.spring.io/spring-boot/docs/1.1.x/reference/htmlsingle/#common-application-properties (here it is stated that \"spring.profiles= # comma list of active profiles\")\n- http://docs.spring.io/spring-boot/docs/1.1.x/reference/htmlsingle/#boot-features-adding-active-profiles\n- http://docs.spring.io/spring-boot/docs/1.1.x/reference/htmlsingle/#boot-features-external-config-multi-profile-yaml\n"},{"labels":["documentation"],"text":"Add a requirements section in the documentation that defines clearly that we require a Servlet 3.0 container and Java 6. Maybe some other obvious requirements that might help newcomers.\n"},{"labels":["documentation"],"text":"I've set both logging.path and logging.file properties. The log file name is same as the logging.file property, but it is created in the directory I run the app, not the logging.path.\nI'm using 1.1.5.RELEASE version.\n"},{"labels":[null,"documentation",null,null,null],"text":"# Purpose\r\n\r\nThis RFC describes a possible journey of a future Backstage plugin developer as they build a plugin that touches many different aspects of a Backstage. The story invents many new things that are not part of Backstage today, but are things that I'm suggesting we should add as long term or north star goals. The idea is to discuss what parts of the story makes sense to aim for, and what we'd want to do differently or not at all. The \"chapters\" are numbered to make it a bit easier to comment on parts of the story.\r\n\r\n# The Protagonist\r\n\r\nSam is an experienced developer that has worked with Backstage for a while, and knows the best practices and tools available to build plugins. Sam also likes music and wants to have a theme tune for every service in Backstage.\r\n\r\n# The End\r\n\r\nSam built a Spotify plugin for Backstage that allows service owners to define a theme tune for their service. The theme tune plays whenever a user visits the service page in Backstage. The plugin is published to NPM and available for any organization to easily install and add to their Backstage installation.\r\n\r\n# 1. A New Plugin\r\n\r\nSam chooses to develop this plugin in a standalone project and creates a new plugin using \"npx @backstage/cli create-plugin\", which detects that it's not being run in an existing project and therefore creates a separate plugin repo.\r\n\r\nSpinning up the frontend with \"yarn start\", Sam goes to work with getting the base functionality of a Spotify web player going. By installing a couple of dependencies and whipping together a nice UI, the player is pretty much done.\r\n\r\n# 2. The Auth Menace\r\n\r\nSam realizes users need to be authenticated towards the Spotify API to be able to play music, and Backstage doesn't support Spotify login yet. Sam adds the \"@backstage/plugin-auth-backend\" as local development middleware in the project, and provides the necessary wrapping logic and configuration for the \"passport-spotify\" strategy. The Spotify auth provider is now available in the local development backend, and by adding a frontend \"SpotifyAuth\" Utility API that implements the \"OAuthApi\" type, it's now working in the frontend too.\r\n\r\n\"\"\"ts\r\nconst spotifyAuthApiRef = createApiRef<OAuthApi>({\r\n  id: 'core.auth.spotify',\r\n  description: 'Provides authentication towards Spotify APIs',\r\n});\r\n\"\"\"\r\n\r\nSam realizes that Spotify auth might be useful to others, and that it would be more convenient if it was a part of the Backstage Core. After submitting and merging a Pull Request with the additions to the \"@backstage/plugin-auth-backend\" and \"@backstage/core\" packages, Spotify auth is now available for everyone to use. Since the Backstage Core team also adds it to the public demo server, Sam can now get rid of it in the local setup and rely on the shared development auth providers instead.\r\n\r\nThe only thing left now is making sure that users of the plugin provide Spotify auth in the app. Sam ensures this by adding \"spotifyAuthApiRef\" to the plugin's list of required APIs, as well as listing it in the requirements section in the README.\r\n\r\n\"\"\"md\r\n## Requirements\r\n\r\nThis plugin requires the following APIs to function:\r\n\r\n- \"spotifyAuthApiRef\" from \"@backstage/core@^1.1.0\"\r\n\"\"\"\r\n\r\n# 3. The Catalog Awakens\r\n\r\nSam now has a working player and a method for users to log in to listen to music, but the goal is to provide theme songs for services. Sam adds this functionality by defining a new metadata annotation called \"sam.wise/spotify-track-id\". The annotation's value is a Spotify track ID and can be defined in a component like this:\r\n\r\n\"\"\"yaml\r\napiVersion: backstage.io/v1\r\nkind: Component\r\nmetadata:\r\n  name: my-component\r\n  annotations:\r\n    sam.wise/spotify-track-id: '4uLU6hMCjMI75M1A2tKUQC'\r\nspec:\r\n  type: service\r\n\"\"\"\r\n\r\nSam creates a JSON schema that documents the annotation and allows it to be used in validation and documentation for organizations that choose to adopt the plugin.\r\n\r\n\"\"\"json\r\n{\r\n  \"sam.wise/spotify-track-id\": {\r\n    \"$id\": \"https://raw.githubusercontent.com/sam/backstage-spotify-theme/master/annotation.json#/sam.wise/spotify-track-id\",\r\n    \"type\": \"string\",\r\n    \"title\": \"Spotify Track Annotation\",\r\n    \"description\": \"Spotify track ID to associated with the entity\",\r\n    \"examples\": [\"4uLU6hMCjMI75M1A2tKUQC\"]\r\n  }\r\n}\r\n\"\"\"\r\n\r\n# 4. The Rise of Widgets\r\n\r\nSam also wraps the music player in an entity page widget. This allows anyone that wants to use the plugin to add the player to any of their entity layout templates, which will make it show up for every entity of that kind.\r\n\r\n\"\"\"tsx\r\nexport const PlayerWidget = plugin.createEntityWidget({\r\n  component: WebPlayer,\r\n  locations: ['header', 'card', 'footer'],\r\n  cardSize: [2, 4],\r\n});\r\n\"\"\"\r\n\r\nThe widget receives information about the entity in whose page it's being embedded, which makes it simple to grab the track id from the annotations and hook up the player.\r\n\r\nSam also modifies the standalone plugin development setup to include this new widget inside a basic entity page, adding it to a couple of different places where users of the plugin may want to put the player, just to make sure they all work.\r\n\r\n# 5. The First User\r\n\r\nAt this point the only things that anyone that wants to use Sam's plugin needs to do is to add https://raw.githubusercontent.com/sam/backstage-spotify-theme/master/annotation.json#/sam.wise/spotify-track-id to their catalog schema, import and add the \"PlayerWidget\" on the desired entity template pages, and make sure they're providing Spotify auth.\r\n\r\nSam soon sees the first \"Used by\" show up on GitHub, and feedback starts rolling in. Users really like the plugin, and some a requesting the possibility to select a theme tune when creating a new component. Sam jumps on the idea and adds a new creation hook that is exported by the plugin. The hook can be installed either in a single, all, or component templates that match a label. It adds a field as a part of the component creation process with a nice search box that allow users to search for a track that they want to use as the theme tune.\r\n\r\n# 6. Return to the Repo\r\n\r\nSam is pretty content at this point, but would like to make it easier for users to change the track after creation, preferable using the same search box that was made for the creation form. By adding an edit button to the \"PlayerWidget\", and a nice empty state, Sam is able to provide the appropriate hooks in the GUI to open up a search dialog.\r\n\r\nTo save the selected track, Sam uses the \"RepoApi\" to suggest a change to the entity definition file. This will create a Pull Request for organizations that use GitHub, a Merge Request for users of GitLab, and so on.\r\n\r\n\"\"\"ts\r\nconst repoApi = useApi(repoApiRef);\r\nconst alertApi = useApi(alertApiRef);\r\n\r\nconst onSave = async () => {\r\n  const { url } = await repoApi.createChangeRequest({\r\n    title: \"Change theme tune to ${track.title} by ${track.artist}\",\r\n    changes: [\r\n      {\r\n        path: entityYamlPath,\r\n        content: newEntityYamlContent,\r\n      },\r\n    ],\r\n  });\r\n\r\n  alertApi.post({ message: \"Requested change, ${url}\" });\r\n};\r\n\"\"\"\r\n\r\nNow it's much simpler for users to change the theme tune, as they no longer need to go look up a track ID and edit a yaml file. Instead, they can now stay inside Backstage and search for the track and request the change from there. In addition, the requested change can be reviewed by the regular process of each organization.\r\n\r\n# 7. The User Strikes Back\r\n\r\nSam's plugin is pretty popular at this point, and has been picked up and used by many organizations. But some users start voicing concerns that they have too many different hand-crafted annotations in their entity descriptions, and would like to be able to avoid some of them. They really like the theme tunes though, and wish they could keep them without having to put them in the entity description, even if that means it won't go through the regular source control review process.\r\n\r\nOne day Sam receives a Pull Request for the plugin. It adds an option to use the Database provided by \"@backstage/backend-common\" to store the track ID. It's all packaged into a new backend plugin that will also extend the catalog backend with schema and functionality to automatically load the value of the \"sam.wise/spotify-track-id\" annotation from the backend plugin and database. The backend plugin also extends the common GraphQL schema with a mutation that updates the track ID in the database.\r\n\r\nOn the frontend the Pull Request doesn't change much. It defines the save action that was previously using the \"RepoApi\" in its own API.\r\n\r\n\"\"\"ts\r\ntype ThemeTuneStorageApi = {\r\n  save(entity: Entity, trackId: string): Promise<void>;\r\n};\r\n\"\"\"\r\n\r\nThe plugin also provides two different implementations of the API, one that uses the old behavior of the \"RepoApi\", and a new one that calls the \"GraphQL\" API. The new API relies on the \"IdentityApi\" as a mechanism for authorizing changes, instead of source control reviews. The \"IdentityApi\" provides a token that is included in the request to the backend, which then must match the owner of the component for which the user is trying to change the theme tune.\r\n\r\n> Author breaking the 4th wall here. I actually think every GraphQL request should include the ID token of the user, but invented a reason to include it here anyway.\r\n\r\nThe API is selected based on a configuration parameter for the plugin, but defaults to the original \"RepoApi\" behavior.\r\n\r\n\"\"\"ts\r\nif (config.getBoolean('storeTrackInDatabase')) {\r\n  return new GraphQLThemeTuneStore(graphqlClient, identityApi, alertApi);\r\n} else {\r\n  return new RepoThemeTuneStore(repoApi, alertApi);\r\n}\r\n\"\"\"\r\n\r\nSam is amazed by the pure awesomeness of this change, replies with a and hits merge.\r\n\r\n# 8. Attack of the Clones\r\n\r\nSam just released v1.8.4 of the plugin, and at this point it's so popular that a couple of other plugins has started depending on the \"sam.wise/spotify-track-id\" annotation. One such plugin being the \"spotify-album-art\" plugin that can display the album art of the theme tune as the background of the entity header. Sam thinks it's all pretty cool, but doesn't like that the annotation that was once an internal concern of the plugin is now becoming a standard in the community.\r\n\r\nIn order to standardize the annotation in Backstage, Sam submits a Pull Request to the Backstage Core repo. The request suggest a new well-known metadata annotation called \"spotify.com/track-id\", with the same schema definition as Sam's label, and refers to Sam's own plugin and the \"spotify-album-art\" plugin as existing usages. The Backstage maintainers merge the Pull Request, after checking with the folks over at Spotify that they're cool with the annotation, and faffing about over some minor grammar mistake in the annotation description.\r\n\r\nWith the annotation now available inside Backstage Core, Sam releases v2 of the plugin, which uses the new annotation. It can still consume the old annotation for backwards compatibility, but new users of the plugin no longer need to add the https://raw.githubusercontent.com/sam/backstage-spotify-theme/master/annotation.json#/sam.wise/spotify-track-id extension to their catalog schema, as it's now part of the core schema. The new release of Sam's plugin specifies a dependency on Backstage with a minimum version set to the same release as the one were the annotation was added to the core schema.\r\n\r\n<details>\r\n  <summary></summary>\r\n\r\n# 9. Revenge of the Sam\r\n\r\nSam, now in full control of all theme tunes in Backstage, releases v2.0.1, which switches all tracks to 4uLU6hMCjMI75M1A2tKUQC. Sam wanted to do something more nefarious, but since Backstage sandboxes sensitive actions and is mostly read-only with strict CSP, Sam's hands were tied.\r\n\r\n</details>\r\n"},{"labels":["documentation",null],"text":"## Need\r\n\r\nBackstage is currently poorly documented. The existing documentation lacks a clear structure making it hard to get an overview. This RFC outlines a suggested structure for the docs we want to have. It does not propose the actual contents.\r\n\r\n## Proposed solution\r\n\r\nSuggested TOC:\r\n\r\n- What is Backstage?\r\n  - Introduction\r\n  - Main concepts\r\n  - Architecture\r\n- Getting started\r\n  - Installation\r\n  - Running Backstage locally\r\n  - Production deployments\r\n    - Create an App\r\n    - App configuration\r\n      - Configuring App with plugins\r\n      - Customize the look-and-feel of your App\r\n    - Deployment scenarios\r\n- Features\r\n  - Software Catalog\r\n    - System model\r\n    - YAML File Format\r\n    - Extending the model\r\n    - External integrations\r\n  - Scaffolding service\r\n    - Configure templates\r\n    - Adding templates\r\n  - Authentication and identity\r\n- Plugins\r\n  - Creating a new plugin\r\n  - Developing a plugin\r\n  - Backends and APIs\r\n    - Proxying\r\n    - Backstage backend plugin\r\n    - Existing API\r\n  - Designing for Backstage\r\n    - Backstage Design Language System (DLS)\r\n    - Storybook -- reusable UI components\r\n    - Figma resources\r\n  - Testing\r\n  - Publishing\r\n    - Open source and NPM\r\n    - Private/internal (non-open source)\r\n- API references\r\n  - JavaScript/TypeScript API\r\n  - Backend APIs\r\n- Tutorials\r\n  - How to do X\r\n  - How to do Y\r\n- Architectural Decision Records (ADRs)\r\n- Contribute\r\n- Support\r\n- FAQ\r\n\r\n## Implementation\r\n\r\nThese docs should be stored in the \"/docs\" folder and be published to \"backstage.io/docs\".\r\n\r\n## Questions\r\n\r\n* Should \"Service Catalog\", \"Identity\" and \"Scaffolding service be grouped together?\r\n* Do we need a more clear separation between frontend and backend?\r\n\r\n"},{"labels":[null,"documentation"],"text":"It's currently not clearly documented how the frontend-backend integrations are meant to look, and what choices there are to make when building plugin backends.\r\n\r\nNow that things are solidifying, we should add this documentation, probably copying parts of the internal backend RFC. Make sure that it contains overview diagrams detailing the various possible architectures:\r\n\r\n- Frontend calls services directly \r\n- Frontend proxies through the backend to reach services\r\n- Frontend calls small \"glue\" backend plugin that talks to services\r\n- Frontend calls separate integration backend that talks to services \r\n- Other?\r\n"},{"labels":[null,"documentation"],"text":"Following the newly created \"github\" provider, document the steps required and how the code is organized and what to think about."},{"labels":[null,"documentation"],"text":"Add OpenAPI spec for the auth/provider API, so it is easy for the community to add a new provider. If that proves insufficient, complement with markdown docs."},{"labels":[null,"documentation",null],"text":"API endpoints for users, groups, org hierarchy, etc entities."},{"labels":[null,"documentation"],"text":"Write documentation about how to consume backing services from Backstage.\r\n\r\nOutline the difference between (1) just frontend plugin talking directly to a service, (2) frontend talking via the Backstage proxy to a service, (3) frontend with accompanying Backstage backend part. Give guidance on when to choose which one."},{"labels":["documentation",null,null],"text":"<!--- Thanks for suggesting a new plugin! -->\r\n<!--- If you plan to work on this plugin, please Assign yourself or your team member(s) -->\r\n\r\n## Summary\r\n\r\nThe following illustration shows how a future potential solution for API discoverability and API documentation could look in Backstage. The initial focus is Service APIs.\r\n\r\n![Screenshot 2020-04-23 at 11 46 26](https://user-images.githubusercontent.com/190856/80085145-2144e180-8558-11ea-8e0e-1e6fb6a51348.png)\r\n\r\n* In the left-hand column, API development, engineers build their API (gRPC API with Protocol Buffers or REST API with Open API) together with the code.\r\n* In the right-hand column, Discovery, you have three ways to discover: 1) Through the Service 2) Using a catalogue to **browse** APIs by use case 3) Through Search. This plugin should expose 1 and 2. \r\n* In the middle column, API user experience, you are in Backstage and you select your API version. The API is shown in a Swagger-like manner and you are able to interact with the API endpoints.\r\n\r\nFor inspiration, inspecting the API of a backend service is shown in this short video: https://youtu.be/vcDL9tOv7Eo?t=80\r\n\r\n<!--- Provide a general summary of the plugin and how it should work -->\r\n\r\n## Project websites (if applicable)\r\n\r\nhttps://swagger.io/docs/specification/about/\r\nhttps://developers.google.com/protocol-buffers\r\nhttps://github.com/thiagobustamante/typescript-rest-swagger\r\n\r\n<!--- Add a link to the open source project or product this plugin will integrate with, if existing -->\r\n\r\n## Context\r\n\r\n<!--- Providing additional context -->\r\n\r\nAPI documentation should be a first class citizen in the Backstage system model: https://github.com/spotify/backstage/issues/390\r\n"},{"labels":["documentation",null,null],"text":"<!--- Provide a general summary of the feature request in the Title above -->\r\n\r\nContext https://labs.spotify.com/2020/04/14/when-should-i-write-an-architecture-decision-record/\r\n\r\nPing @jomaxx -- author of ^\r\n\r\n## Feature Suggestion\r\n<!--- If you're looking for help, please see https://backstage.io/ --->\r\n<!--- Tell us how we could improve your experience -->\r\n\r\nStore architectural decisions somewhere in the repo.\r\n"},{"labels":[null,"documentation",null,null,null],"text":"<!--- Provide a general summary of the feature request in the Title above -->\r\n\r\n## Feature Suggestion\r\n<!--- If you're looking for help, please see https://backstage.io/ --->\r\n<!--- Tell us how we could improve your experience -->\r\n\r\nMake it possible to toggle dark/light mode inside Storybook. This will allow for easier verification that components behave correctly in both themes. \r\n\r\n## Possible Implementation\r\n<!--- Not obligatory, but ideas as to the implementation of the addition or change -->\r\n\r\nhttps://medium.com/encode/setting-up-storybook-with-material-ui-and-styled-components-5bdacb6db866\r\n\r\n## Context\r\n<!--- What are you trying to accomplish? -->\r\n<!--- Providing context (e.g. links to configuration settings, stack trace or log data) -->\r\n<!--- helps us come up with a solution that is most useful in the real world -->"},{"labels":[null,"documentation",null,null,null],"text":"<!--- Provide a general summary of the feature request in the Title above -->\r\n\r\n## Feature Suggestion\r\n\r\nDocument how to contribute to Storybook as well as how to run it locally.\r\n\r\n<!--- If you're looking for help, please see https://backstage.io/ --->\r\n<!--- Tell us how we could improve your experience -->\r\n\r\n## Possible Implementation\r\n<!--- Not obligatory, but ideas as to the implementation of the addition or change -->\r\n\r\nA new Markdown file in \"/docs\" linked to from the main Documentation section in the README.\r\n\r\n## Context\r\n\r\nHaving good documentation will increase the likelihood of someone helping to create and maintain components.\r\n\r\n<!--- What are you trying to accomplish? -->\r\n<!--- Providing context (e.g. links to configuration settings, stack trace or log data) -->\r\n<!--- helps us come up with a solution that is most useful in the real world -->"},{"labels":[null,"documentation",null,null],"text":"We're super excited to be designing in the open. In the coming weeks, we'll be refining our process of how we (Backstage designers at Spotify) collaboratively work with internal and external contributors to design a better DX for teams all over the world.\r\n\r\nThe 'Designing for Backstage' doc will ideally cover some of these bases:\r\n1. Design principles - what does Backstage uphold when it comes to building rad DX?\r\n2. Design practice - how do we work? how can you work with us?\r\n3. Resources and assets - where to access design guidelines, etc.\r\n4. More to come! This will be an iterative doc - we're happy to take input from the community to see what you all need.\r\n\r\nExample (flows for how we might all work together):\r\n<img width=\"2061\" alt=\"Open source design flow\" src=\"https://user-images.githubusercontent.com/61153904/77538112-77622e80-6e9f-11ea-8074-4e0fb9a5319f.png\">\r\n"},{"labels":[null,"documentation"],"text":"<!--- Provide a general summary of the feature request in the Title above -->\r\n\r\nSetup publishing to storybook.backstage.io during CI.\r\n\r\n## Feature Suggestion\r\n<!--- If you're looking for help, please see https://backstage.io/ --->\r\n<!--- Tell us how we could improve your experience -->\r\n\r\n## Possible Implementation\r\n<!--- Not obligatory, but ideas as to the implementation of the addition or change -->\r\n\r\n## Context\r\n<!--- What are you trying to accomplish? -->\r\n<!--- Providing context (e.g. links to configuration settings, stack trace or log data) -->\r\n<!--- helps us come up with a solution that is most useful in the real world -->"},{"labels":["documentation"],"text":"As the project is adopted and matures, there will be a need to standardize on the inputs for features and bugs.  \r\n\r\nThis will allow maintainers to have data that they deem necessary to determining the scope of a feature, or the difficulty of resolving a bug.\r\n\r\nhttps://help.github.com/en/github/building-a-strong-community/about-issue-and-pull-request-templates"},{"labels":["documentation",null],"text":"Show examples of Spotify integrations/plugins to demonstrate how Backstage can be used.\r\n\r\nExample from CI/CD view of a Website:\r\n\r\n<img width=\"1552\" alt=\"Screenshot 2020-03-02 at 16 21 38\" src=\"https://user-images.githubusercontent.com/190856/76859417-95091580-6859-11ea-8eb2-5e109cf42e48.png\">\r\n"},{"labels":["documentation",null],"text":"May depend on #283 .\r\n\r\nPrimarily we want to have a DEPLOYMENT.md file that outlines some basic deployment options.\r\n\r\nPick a primary very simple example means of deployment, for example GitHub pages. This will make it easy for integrators to get up and running."},{"labels":["documentation",null,null],"text":"![Screenshot 2020-03-17 at 09 29 09](https://user-images.githubusercontent.com/190856/76836842-c7068180-6831-11ea-888f-148d25fd44f2.png)\r\n\r\nServer ID: 687207715902193673\r\n"},{"labels":["documentation",null,null,null],"text":"Create more example plugins showing typical infrastructure use-cases. Possible examples include:\r\n\r\n- [ ] Open API / Swagger view for services\r\n- [ ] PagerDuty (see #240)\r\n- [ ] Google Cloud Project creation\r\n- [ ] Show open pull requests for Backstage on GitHub\r\n- [ ] GitHub Actions\r\n- [ ] Stack Overflow - unanswered / new questions about backstage\r\n- [ ] Kube Web View - https://github.com/hjacobs/kube-web-view\r\n- [ ] ArgoCD - https://argoproj.github.io/argo-cd/\r\n- [ ] CircleCI\r\n- [ ] Drone CI\r\n- [ ] Jenkins\r\n- [x] Lighthouse -  [Done](https://github.com/spotify/backstage/tree/master/plugins/lighthouse)! \r\n- [ ] Pants - https://www.pantsbuild.org\r\n- [ ] ...\r\n\r\nPlease create separate issues if you start working on these, and add a link in this issue."},{"labels":["documentation"],"text":"- [ ] Visualise project roadmap and which parts are available now\r\n- [ ] Don't use REST API -- only REST\r\n"},{"labels":[null,"documentation"],"text":"Example: https://github.com/spotify/scio/blob/master/CONTRIBUTING.md"},{"labels":["documentation"],"text":"Should be as forwards-compatible as possible. Few references to files etc.\r\n\r\n- [ ] Update architecture image"},{"labels":["documentation"],"text":"Backend parts are not done yet. No need to have them in the beginning of the README. "},{"labels":["documentation",null,null],"text":"So I create a plugin and it gets added to the main app. What if this plugin should not be open sourced? How do we I move it to an internal repo and stil use it in the main Backstage app?\r\n\r\nThis needs to be documented, and ideally supported in the CLI."},{"labels":["documentation",null],"text":"Any reason why these steps could not be automated? I don't see any situations where you create a new plugin and don't want to try it out.\r\n\r\n<img width=\"910\" alt=\"Screenshot 2020-02-28 at 12 33 44\" src=\"https://user-images.githubusercontent.com/190856/75545467-a7481e80-5a26-11ea-9ca0-f050fe4d8021.png\">\r\n"},{"labels":[null,"documentation"],"text":"<img width=\"752\" alt=\"Screenshot 2020-02-28 at 12 29 45\" src=\"https://user-images.githubusercontent.com/190856/75545243-13765280-5a26-11ea-87c7-e8fa30dcf28f.png\">\r\n"},{"labels":["documentation",null],"text":"I don't really understand what this means \"Run yarn start in the plugin directory to start it\":\r\n\r\n<img width=\"570\" alt=\"Screenshot 2020-02-28 at 12 21 44\" src=\"https://user-images.githubusercontent.com/190856/75544809-0147e480-5a25-11ea-83ec-7e235685c827.png\">\r\n\r\nMaybe \"cd\" into that newly created repo?"},{"labels":[null,"documentation"],"text":"\"\"\"\r\nTypeError [ERR_INVALID_ARG_TYPE]: The \"path\" argument must be of type string. Received type undefined\r\n    at validateString (internal/validators.js:112:11)\r\n    at Object.join (path.js:1039:7)\r\n    at noopServiceWorkerMiddleware (/Users/stefan/code/github/backstage/frontend/node_modules/react-dev-utils/noopServiceWorkerMiddleware.js:14:26)\r\n    at Layer.handle [as handle_request] (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/layer.js:95:5)\r\n    at trim_prefix (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:317:13)\r\n    at /Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:284:7\r\n    at Function.process_params (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:335:12)\r\n    at next (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:275:10)\r\n    at launchEditorMiddleware (/Users/stefan/code/github/backstage/frontend/node_modules/react-dev-utils/errorOverlayMiddleware.js:20:7)\r\n    at Layer.handle [as handle_request] (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/layer.js:95:5)\r\n    at trim_prefix (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:317:13)\r\n    at /Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:284:7\r\n    at Function.process_params (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:335:12)\r\n    at next (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/index.js:275:10)\r\n    at handleWebpackInternalMiddleware (/Users/stefan/code/github/backstage/frontend/node_modules/react-dev-utils/evalSourceMapMiddleware.js:42:7)\r\n    at Layer.handle [as handle_request] (/Users/stefan/code/github/backstage/frontend/node_modules/express/lib/router/layer.js:95:5)\r\n\"\"\""},{"labels":[null,"documentation"],"text":"<img width=\"1552\" alt=\"Screenshot 2020-02-09 at 16 17 55\" src=\"https://user-images.githubusercontent.com/190856/74104722-cce4b500-4b57-11ea-9782-ed8a75b3c942.png\">\r\n"},{"labels":["documentation"],"text":"### Use case description\r\n\r\nI am interested in doing some contributions, fixing bugs, etc. But I'm finding it difficult to get started because it isn't clear how the software works.\r\n\r\n* [ ] I know how to write JavaScript, but I'm not a \"JavaScript Developer\". Not everyone is familiar with Node-centric things, and providing a little more context can be useful.\r\n\r\n* [ ] If I fork/clone the repo, what's next? Is there a build step? How do I run my local version of \"serverless\" that's not pulled from npm? I see that there is a [userguide for AWS](https://www.serverless.com/framework/docs/providers/aws/guide/), but it doesn't _appear_ to answer most of my questions below about developing the software itself and things to pay attention to.\r\n\r\n* [ ] What is the _flow_ of the internals of the software? Are there layers (software layers, not Lambda layers) I should be aware of? I know that in a \"serverless.yml\" file there is a resources section which supports CloudFormation-as-YAML. But what about the other parts of the config? How is the config file parsed and what do you do with the data you find?\r\n\r\n* [ ] \"CONTRIBUTING.md\" talks about the process of determining what to work on, generally, but not _how_ to work on the project. \"README.md\" appears to be focused on the end-user, not a potential developer/contributor. \"tests/README.md\" appears to assume that everyone has the same context as the author. I've written a TON of unit tests over the years, but what test framework(s) are you using (the docs don't say), and where can I go to read more about how those frameworks work?\r\n\r\n* [ ] [tests/README.md#testing-templates](https://github.com/serverless/serverless/blob/master/tests/README.md#testing-templates) appears to assume that I have an \"~/.aws/credentials\" file on my system, which I don't because I use [aws-vault](https://github.com/99designs/aws-vault) to encrypt my credentials and there are [better ways to pass credentials into Docker containers](https://ryanparman.com/posts/2019/running-aws-vault-with-local-docker-containers/). Without going in and reverse-engineering the code, will the tests work with my setup? Or do they make assumptions that may or may not be true?\r\n\r\n* [ ] I've spent a little time looking at the source code, and now it seems even more opaque how to get started. What's the difference between \"classes\", \"plugins\", and \"utils\"? There's an awful lot of code in \"utils\". Comments like [this](https://github.com/serverless/serverless/blob/85e9cd4455bb631be921a12a37f2174fd50ecec6/lib/classes/Variables.js#L18-L44) are (I assume) helpful. I don't expect that level of detail throughout the codebase, but if we could at least get some signposts so that we can get a sense of how the pieces fit together, that would be helpful.\r\n\r\nTo be clear, I don't blame you. Most onboarding documentation in OSS is lacking. My suggestion is to think about this like a job, and you've just hired a new person who's a smart engineer, but doesn't know anything about your application. Their previous projects had their own idiosyncrasies. You want them to have a good onboarding experience and to get up and running quickly. Write documentation as through you are explaining the system to a developer on their first day, and you can have some really good results.\r\n\r\nThank you."},{"labels":["cat/plugin","cat/standalone","documentation"],"text":"I have created a serverless project for python on AWS, which works fine... until I try to re-use the project directly after checkout. Any CLI command exits with the following error:\r\n\"\"\"\r\n sls help\r\n \r\n Serverless Error ---------------------------------------\r\n \r\n  Serverless plugin \"serverless-python-requirements\" not found. Make sure it's installed and listed in the \"plugins\" section of your serverless config file.\r\n \r\n  Get Support --------------------------------------------\r\n     Docs:          docs.serverless.com\r\n     Bugs:          github.com/serverless/serverless/issues\r\n     Issues:        forum.serverless.com\r\n \r\n  Your Environment Information ---------------------------\r\n     Operating System:          linux\r\n     Node Version:              12.16.1\r\n     Framework Version:         1.67.3 (standalone)\r\n     Plugin Version:            3.6.6\r\n     SDK Version:               2.3.0\r\n     Components Version:        2.29.0\r\n\"\"\"\r\nI installed Serverless with the method \"Install as a standalone binary\". The node_modules folder wasn't checked in, but package.json and package-lock.json are versioned with serverless.yml, and the plugin is also present in serverless.yml. Is this a bug, or am I missing some initialization step?"},{"labels":["cat/aws-event-cloudfront","documentation","help wanted","needs feedback"],"text":"# Bug Report\r\n\r\n## Description\r\nThe documentation for cloudfront is very thin (https://serverless.com/framework/docs/providers/aws/events/cloudfront/). There's a few examples, but there's no complete documentation of all supported params. Since its likely that users have to use a \"Resources\" object to describe the Cloudfront distribution in detail, this event type is potentially quite complex to get right. It would be good of the documentation was a bit richer.\r\n\r\nFor example, there's no mention of the fact that \"CustomOriginConfig\" is a required field if using non-s3 origins.\r\n\r\nAs an example: I notice that in code, the \"QueryString\" attribute is hard-coded to \"false\" (https://github.com/serverless/serverless/blob/c0ec32b4e0f2e3dacce12a614db92dfba6e526a6/lib/plugins/aws/package/compile/events/cloudFront/index.js#L181), which means that I probably have to \"overwrite\" the entire origin attribute. I'm suspecting this is quite common for uses-cases where cloudfront/lambda@edge is involved so it would be good if that was documented. \r\nIn short: Make it as easy as possible to get cloudfront/lambda@edge right using serverless - also for non-trivial/real-life apps."},{"labels":["documentation","question"],"text":"please provide documentation on steps to integrate cucumber, jmeter, selenium to CodePipeline\r\n\r\n- #12345\r\n"},{"labels":["documentation","good first issue"],"text":"### Description\r\n\r\n- Improve the documentation about the SQS part : https://serverless.com/framework/docs/providers/aws/events/sqs/\r\n\r\n**As a new serverless user, I'm having trouble understanding how to configure the SQS queue to call lambda after reading the doc;**\r\n\r\nFew question I've asked myself after reading this doc and started to copy paste the code:\r\n\r\n**1/** In the example, we have under the \"event\" node, a lot of \"sqs\" keys; Are they all needed ? Or are they just different format ?\r\n\r\n\"\"\"yaml\r\n    events:\r\n      - sqs: arn:aws:sqs:region:XXXXXX:MyFirstQueue\r\n      - sqs:\r\n          arn:\r\n            Fn::GetAtt:\r\n              - MySecondQueue\r\n              - Arn\r\n        - sqs:\r\n            arn:\r\n              Fn::ImportValue: MyExportedQueueArnId\r\n        - sqs:\r\n            arn:\r\n              Fn::Join:\r\n                - ':'\r\n                - - arn\r\n                  - aws\r\n                  - sqs\r\n                  - Ref: AWS::Region\r\n                  - Ref: AWS::AccountId\r\n                  - MyOtherQueue\r\n\"\"\"\r\n\r\nDepending on this answer, it should be added in the code block that they are \"just different format\" (if they are);\r\n\r\nMaybe you should put 2 code blocks; the first one with the \"minimal\" configuration, and another one containing the other format you can use;\r\n\r\n\r\n**2/** What about IAM permissions ? I've come across somes issues but there's nothing official; What are the permission needed to allow a lambda to be called when there's item in the SQS queue ?\r\n\r\n**3/** the function name is different between the first part of the doc and the \"batchSize\" feature; Resulting in this question: is this built in function that reduce the number of message recieved and should be put \"as in the doc\" ?\r\nOr should we add the \"batchSize\" attribute under the event configured for our **own** function ? \r\n\r\nThank you;"},{"labels":["documentation","help wanted","provider/kubeless"],"text":"<!--\r\n1. If you have a question and not a bug report please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This bug may have already been documented\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nThe documentation for Serverless X Kubeless is wrong regarding one of the example provided by the documentation:\r\n\r\n\"\"\"yml\r\nservice: service-name\r\nprovider:\r\n  name: kubeless\r\n  environment:\r\n    SYSTEM_NAME: mySystem\r\n    TABLE_NAME: tableName1\r\n\r\nplugins:\r\n  - serverless-kubeless\r\n\r\nfunctions:\r\n  users:\r\n    # The kubernetes secret  will be mounted at \"/secret1\"\r\n    # Note that the secret cannot have any \"/\"'s in the name\r\n    handler: handler.users\r\n    environment:\r\n    # The environment variable \"PROD_USER_PASSWORD\" would be set to \"happy\"\r\n      - name: PROD_USER_PASSWORD\r\n        valueFrom:\r\n            secretKeyRef:\r\n              - name: secret1\r\n                key: password\r\n\"\"\"\r\nThe dash in yaml is for collection, while the \"secretKeyRef\" should contain an object with 2 properties instead.\r\n\r\nIt causes massive crashes from Kubeless that ends up up being unable to list functions anymore and refuse any updates on any functions until the problem is fixed. \r\n\r\nWhile the reaction from kubeless to this configuration error should probably be handled better, I believe we could fix the documentation on SLS as well by moving from:\r\n\"\"\"\r\n    environment:\r\n    # The environment variable \"PROD_USER_PASSWORD\" would be set to \"happy\"\r\n      - name: PROD_USER_PASSWORD\r\n        valueFrom:\r\n            secretKeyRef:\r\n              - name: secret1\r\n                key: password\r\n\"\"\"\r\nTo:\r\n\"\"\"\r\n    environment:\r\n    # The environment variable \"PROD_USER_PASSWORD\" would be set to \"happy\"\r\n      - name: PROD_USER_PASSWORD\r\n        valueFrom:\r\n            secretKeyRef:\r\n              name: secret1\r\n              key: password\r\n\"\"\"\r\n* What stacktrace or error message from your provider did you see?\r\nNothing. SLS and SLS-Kubeless don't raise any error to this configuration.\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: \r\nserverless: 1.43.0\r\nserverless-kubeless : 0.7.1\r\n* ***Operating System***: \r\nDebian stretch\r\n"},{"labels":["cat/aws-event-cognito","documentation"],"text":"# This is a Bug Report\r\n\r\n## Description\r\n\r\n* What went wrong?\r\n\r\nWhen reading https://github.com/serverless/serverless/blob/master/docs/providers/aws/events/cognito-user-pool.md it's unclear as to how the example is applying the logical resource name\r\n\r\n* What did you expect should have happened?\r\n\r\nThe example clearly illustrates how the logical resource name is applied"},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug report please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This bug may have already been documented\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\nWhen reading the Serverless documentation, links are not differentated from regular text. That means it's not always obvious when you can click to find more information.\r\n\r\nExpected: links are underlined or colored or bolded to make them obvious.\r\nActual: links look exactly the same as the other text, and are only underlined on hover.\r\n\r\nThis page has two links, but you wouldn't know just from looking at it.\r\nhttps://serverless.com/framework/docs/providers/aws/events/\r\n![image](https://user-images.githubusercontent.com/1423865/56823670-232b7600-681a-11e9-8729-0d331825c32d.png)\r\n"},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug report please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This bug may have already been documented\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\nI used examples from https://serverless.com/framework/docs/providers/aws/guide/iam/ to build a demo project but got an error on deploy.\r\n\r\nIt turns out the issue was that the \"version\" on the \"PolicyDocument\" had a value of \"2017\" but it should have been \"2012-10-17\".\r\n\r\nI was planning on submitting a PR to fix this but then found that this has been fixed for 2 years in the documents in the repo, https://github.com/serverless/serverless/blob/master/docs/providers/aws/guide/iam.md.\r\n\r\nWhy is this not reflected in the website?\r\n"},{"labels":["cat/aws-event-api-gateway","documentation","good first issue"],"text":"# This is a Documentation Proposal\r\n\r\n## Description\r\n\r\nServerless officially supports the \"MOCK\" integration method. Though documentation has no information about it. It only mentions that it is 'supported'.\r\n\r\n> Use \"http\" for integrating with an HTTP back end, \"http-proxy\" for integrating with the HTTP proxy integration or **\"mock\"** for testing without actually invoking the back end.\r\n\r\nThe last point is false, as setting an endpoint with integration type \"mock\" returns 500.\r\n\r\nA working example should be provided.\r\n"},{"labels":["documentation","enhancement"],"text":"<!--\r\n1. If you have a question and not a bug report please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This bug may have already been documented\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nThere are areas in the boxes where hovering over will change the colour of the background, but it's not actually a link. Only the shaded area here and the logo itself are 'clickable':\r\n![image](https://user-images.githubusercontent.com/4953590/53702254-e8e6bf00-3dfc-11e9-93ec-bf02888fd22e.png)\r\n\r\n## Additional Data\r\n\r\nPR ready"},{"labels":["cat/aws-event-api-gateway","documentation"],"text":"<!--\r\n1. If you have a question and not a feature request please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This feature may have already been requested\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Update Documentation for API gateway HTTP_PROXY\r\n\r\n* The documentation is still showing CF\r\nhttps://serverless.com/framework/docs/providers/aws/events/apigateway/#setting-an-http-proxy-on-api-gateway\r\n\r\nSimilar or dependent issues:\r\n* https://github.com/serverless/serverless/pull/3534#issuecomment-463277409\r\n"},{"labels":["cat/dx","documentation","good first issue"],"text":"<!--\r\n1. If you have a question and not a feature request please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This feature may have already been requested\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Description\r\n\r\n* What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.\r\n\r\nIt is no longer recommended to install and manage node executables globably. Npm 5.2 ( released in July 2017 ) shipped with a new built in executable called npx which facilitates better practices for installing and running node packaged executables. This facilitates managing serverless as a dev dependency which can more easily be pinned to a target version on a project level.\r\n\r\n* If there is additional config how would it look\r\n\r\nhttps://link.medium.com/8G7zaNViZR\r\n\r\n\r\nSimilar or dependent issues:\r\n* This prevents issues like https://github.com/serverless/serverless/issues/4889\r\n\r\nI'm willing to open a PR on this but wanted to gauge interest first\r\n"},{"labels":["cat/dx","documentation","good first issue"],"text":"<!--\r\n1. If you have a question and not a bug report please ask first at http://forum.serverless.com\r\n2. Please check if an issue already exists. This bug may have already been documented\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\nLine number 3 is in the code sample body on the handler.js code sample on this page:  \r\nhttps://serverless.com/framework/docs/providers/azure/events/timer/  \r\nIt doesn't seem like I can fix this in markdown so I figured I'd create an issue\r\n\r\n![inkedscreenshot_2018-11-14 serverless framework - azure functions events - timer_li](https://user-images.githubusercontent.com/9397068/48487078-24786180-e7eb-11e8-9ff4-8ac07743247e.jpg)\r\n\r\n* What went wrong?\r\n* What did you expect should have happened?\r\n* What was the config you used?\r\n* What stacktrace or error message from your provider did you see?\r\n\r\nSimilar or dependent issues:\r\n* #12345\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n* ***Operating System***:\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:\r\n"},{"labels":["cat/aws-event-s3","documentation"],"text":"https://serverless.com/framework/docs/providers/aws/events/s3/\r\nline five is still reference photos bucket. Why ?\r\n"},{"labels":["cat/dashboard","documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Documentation Bug Report\r\n\r\n## Description\r\n\r\n### What went wrong?\r\n\r\nReceived this message during \"sls deploy\":\r\n\r\n> Serverless: WARNING: Missing \"tenant\" and \"app\" properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.\r\n\r\nI checked the documentation for info on it and got nothing.\r\n\r\n### What did you expect should have happened?\r\n\r\nThe [documentation page](https://serverless.com/framework/docs/providers/spotinst/guide/serverless.yml/#serverlessyml-reference) should have some info on this.\r\n\r\nI finally found an example on a dashboard.serverless.com page:\r\n\r\n> In your serverless.yml file, be sure to add your Serverless Platform Application and Tenant, like this:\r\n> \r\n> \"\"\"yaml\r\n> service: my-service\r\n> app: MY_SPECIFIC_APP_NAME\r\n> tenant: MY_SERVERLESS_ACCOUNT_NAME\r\n> provider:\r\n>   name: aws\r\n>   runtime: nodejs4.3\r\n> functions:\r\n>   hello:\r\n>     handler: handler.hello\r\n> \"\"\"\r\n\r\nEdit: found this in the serverless/platform docs: https://github.com/serverless/platform/blob/master/docs/getting-started.md#specify-the-tenant-and-application"},{"labels":["cat/deployment","documentation","enhancement"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\nI would like to be able to disable the default log group creation.  We already have logic that removes log groups for functions that no longer exist.\r\n\r\nWe're attempting to reduce the resource count due to the hard 200 resource limit of CFN.  The Log groups are unnecessary resources for us and could drastically reduce our count."},{"labels":["cat/variable","documentation","good first issue"],"text":"# This is a Feature Proposal (Documentation Request)\r\n\r\n## Description\r\n\r\nIs there any documentation of the Serverless class itself? The main use case is how to use the instance that's passed to Javascript files by the variable system.\r\n\r\nFor example, in the docs, there's this code snippet, which suggests you can access config and instance methods:\r\nhttps://serverless.com/framework/docs/providers/aws/guide/variables#reference-variables-in-javascript-files\r\n\r\n\"\"\"js\r\n// config.js\r\nmodule.exports = (serverless) => {\r\n  serverless.cli.consoleLog('You can access Serverless config and methods as well!');\r\n\r\n  return {\r\n    property1: 'some value',\r\n    property2: 'some other value'\r\n  }\r\n}\r\n\"\"\"\r\n\r\nIs there any documentation on how to do this? For example access config values, resolve variables, access options, available methods.\r\n"},{"labels":["documentation","question"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\n* What went wrong?\r\nI get an error message when trying to deploy (\"SLS_DEBUG=* serverless deploy -v\"):\r\n\"\"\"\r\n  Serverless Error ---------------------------------------\r\n\r\n  Access Denied\r\n\"\"\"\r\n* What did you expect should have happened?\r\nNo errors should have appeared\r\n\r\n* What was the config you used?\r\nserverless.yml:\r\n\"\"\"yaml\r\nprovider:\r\n  name: aws\r\n  runtime: java8\r\n\r\npackage:\r\n  artifact: target/mayday-default-SNAPSHOT.jar\r\n\r\nfunctions:\r\n  hello:\r\n    handler: mayd.main.Handler\r\n\"\"\"\r\n* What stacktrace or error message from your provider did you see?\r\n\"\"\"\r\nServerlessError: Access Denied\r\n    at BbPromise.fromCallback.catch.err (/usr/local/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:262:11)\r\nFrom previous event:\r\n    at persistentRequest (/usr/local/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:250:13)\r\n    at doCall (/usr/local/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:206:9)\r\n    at BbPromise (/usr/local/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:219:14)\r\nFrom previous event:\r\n    at persistentRequest (/usr/local/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:204:38)\r\n    at Object.request.requestQueue.add [as promiseGenerator] (/usr/local/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:240:49)\r\n    at Queue._dequeue (/usr/local/lib/node_modules/serverless/node_modules/promise-queue/lib/index.js:153:30)\r\n    at /usr/local/lib/node_modules/serverless/node_modules/promise-queue/lib/index.js:109:18\r\nFrom previous event:\r\n    at Queue.add (/usr/local/lib/node_modules/serverless/node_modules/promise-queue/lib/index.js:94:16)\r\n    at AwsProvider.request (/usr/local/lib/node_modules/serverless/lib/plugins/aws/provider/awsProvider.js:240:39)\r\n    at AwsDeploy.getMostRecentObjects (/usr/local/lib/node_modules/serverless/lib/plugins/aws/deploy/lib/checkForChanges.js:33:26)\r\nFrom previous event:\r\n    at AwsDeploy.checkForChanges (/usr/local/lib/node_modules/serverless/lib/plugins/aws/deploy/lib/checkForChanges.js:20:8)\r\nFrom previous event:\r\n    at Object.aws:deploy:deploy:checkForChanges [as hook] (/usr/local/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:112:10)\r\n    at BbPromise.reduce (/usr/local/lib/node_modules/serverless/lib/classes/PluginManager.js:372:55)\r\nFrom previous event:\r\n    at PluginManager.invoke (/usr/local/lib/node_modules/serverless/lib/classes/PluginManager.js:372:22)\r\n    at PluginManager.spawn (/usr/local/lib/node_modules/serverless/lib/classes/PluginManager.js:390:17)\r\n    at AwsDeploy.BbPromise.bind.then (/usr/local/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:101:48)\r\nFrom previous event:\r\n    at Object.deploy:deploy [as hook] (/usr/local/lib/node_modules/serverless/lib/plugins/aws/deploy/index.js:97:10)\r\n    at BbPromise.reduce (/usr/local/lib/node_modules/serverless/lib/classes/PluginManager.js:372:55)\r\nFrom previous event:\r\n    at PluginManager.invoke (/usr/local/lib/node_modules/serverless/lib/classes/PluginManager.js:372:22)\r\n    at PluginManager.run (/usr/local/lib/node_modules/serverless/lib/classes/PluginManager.js:403:17)\r\n    at variables.populateService.then (/usr/local/lib/node_modules/serverless/lib/Serverless.js:102:33)\r\n    at runCallback (timers.js:672:20)\r\n    at tryOnImmediate (timers.js:645:5)\r\n    at processImmediate [as _immediateCallback] (timers.js:617:5)\r\nFrom previous event:\r\n    at Serverless.run (/usr/local/lib/node_modules/serverless/lib/Serverless.js:89:74)\r\n    at serverless.init.then (/usr/local/lib/node_modules/serverless/bin/serverless:42:50)\r\n\"\"\"\r\nSimilar or dependent issues:\r\n* --\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: 1.27.2\r\n* ***Operating System***: Linux\r\n* ***Stack Trace***: See above\r\n* ***Provider Error messages***:\r\n* Policy in effect:\r\n\"\"\"JSON\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Sid\": \"VisualEditor0\",\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"lambda:CreateFunction\",\r\n                \"ec2:AuthorizeSecurityGroupIngress\",\r\n                \"ec2:DeleteSubnet\",\r\n                \"states:DeleteStateMachine\",\r\n                \"iam:CreateRole\",\r\n                \"ec2:AttachInternetGateway\",\r\n                \"cloudformation:CreateChangeSet\",\r\n                \"iam:PutRolePolicy\",\r\n                \"dynamodb:DeleteTable\",\r\n                \"cloudformation:ContinueUpdateRollback\",\r\n                \"ec2:DeleteRouteTable\",\r\n                \"dynamodb:DescribeTable\",\r\n                \"ec2:CreateInternetGateway\",\r\n                \"cloudformation:UpdateStack\",\r\n                \"ec2:DeleteInternetGateway\",\r\n                \"cloudformation:List*\",\r\n                \"s3:HeadBucket\",\r\n                \"cloudformation:ExecuteChangeSet\",\r\n                \"iam:GetRole\",\r\n                \"lambda:ListFunctions\",\r\n                \"lambda:GetEventSourceMapping\",\r\n                \"ec2:CreateTags\",\r\n                \"ec2:CreateRouteTable\",\r\n                \"kinesis:CreateStream\",\r\n                \"iam:DeleteRole\",\r\n                \"ec2:DetachInternetGateway\",\r\n                \"dynamodb:CreateTable\",\r\n                \"kinesis:DeleteStream\",\r\n                \"cloudformation:DeleteStack\",\r\n                \"lambda:ListEventSourceMappings\",\r\n                \"ec2:DeleteVpc\",\r\n                \"lambda:DeleteEventSourceMapping\",\r\n                \"ec2:CreateSubnet\",\r\n                \"cloudformation:ValidateTemplate\",\r\n                \"ec2:DeleteNetworkAclEntry\",\r\n                \"cloudformation:CreateUploadBucket\",\r\n                \"cloudformation:CancelUpdateStack\",\r\n                \"ec2:CreateVpc\",\r\n                \"cloudformation:UpdateTerminationProtection\",\r\n                \"lambda:GetAccountSettings\",\r\n                \"lambda:CreateEventSourceMapping\",\r\n                \"cloudformation:EstimateTemplateCost\",\r\n                \"ec2:CreateSecurityGroup\",\r\n                \"iam:DeleteRolePolicy\",\r\n                \"ec2:CreateNetworkAcl\",\r\n                \"ec2:ModifyVpcAttribute\",\r\n                \"ec2:DeleteNetworkAcl\",\r\n                \"states:CreateStateMachine\",\r\n                \"lambda:UpdateEventSourceMapping\",\r\n                \"lambda:UpdateFunctionConfiguration\",\r\n                \"kinesis:DescribeStream\",\r\n                \"cloudformation:Describe*\",\r\n                \"cloudformation:PreviewStackUpdate\",\r\n                \"ec2:Describe*\",\r\n                \"s3:ListAllMyBuckets\",\r\n                \"cloudformation:CreateStack\",\r\n                \"ec2:DeleteSecurityGroup\",\r\n                \"ec2:CreateNetworkAclEntry\",\r\n                \"cloudformation:Get*\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        },\r\n        {\r\n            \"Sid\": \"VisualEditor1\",\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"s3:CreateBucket\",\r\n                \"apigateway:GET\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:apigateway:*::/restapis\",\r\n                \"arn:aws:s3:::*\"\r\n            ]\r\n        },\r\n        {\r\n            \"Sid\": \"VisualEditor2\",\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"s3:DeleteObjectTagging\",\r\n                \"apigateway:*\",\r\n                \"s3:DeleteObjectVersion\",\r\n                \"s3:GetObjectVersionTagging\",\r\n                \"s3:ReplicateTags\",\r\n                \"s3:RestoreObject\",\r\n                \"s3:PutObjectVersionTagging\",\r\n                \"s3:DeleteObjectVersionTagging\",\r\n                \"s3:ListMultipartUploadParts\",\r\n                \"s3:ReplicateObject\",\r\n                \"s3:GetObjectVersionTorrent\",\r\n                \"s3:PutObject\",\r\n                \"s3:GetObjectAcl\",\r\n                \"s3:GetObject\",\r\n                \"s3:GetObjectTorrent\",\r\n                \"s3:AbortMultipartUpload\",\r\n                \"s3:GetObjectVersionAcl\",\r\n                \"s3:GetObjectTagging\",\r\n                \"s3:PutObjectTagging\",\r\n                \"s3:GetObjectVersionForReplication\",\r\n                \"s3:DeleteObject\",\r\n                \"s3:ReplicateDelete\",\r\n                \"s3:GetObjectVersion\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:apigateway:*::/restapis/GATEWAY_ID/*\",\r\n                \"arn:aws:s3:::*/*\"\r\n            ]\r\n        },\r\n        {\r\n            \"Sid\": \"VisualEditor3\",\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": \"lambda:*\",\r\n            \"Resource\": \"arn:aws:lambda:*:*:function:${project}*\"\r\n        },\r\n        {\r\n            \"Sid\": \"VisualEditor4\",\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"lambda:CreateFunction\",\r\n                \"lambda:List*\",\r\n                \"lambda:Update*\",\r\n                \"lambda:Get*\"\r\n            ],\r\n            \"Resource\": \"arn:aws:lambda:*:*:function:${project}*\"\r\n        }\r\n    ]\r\n}\r\n\"\"\""},{"labels":["documentation"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Description\r\n\r\n* I feel like one of the strengths of this project is the documentation, which has a lot of helpful content and is easy on the eyes 😊 I did notice there are some things that could be cleaned up in terms of style and grammar -- capitalization, punctuation, consistent terminology, things like that. I have some experience in technical writing and would be happy to submit my suggestions, but wanted to run it by the team first. Thanks and hope that sounds helpful!\r\n\r\n## Additional Data\r\n\r\nn/a"},{"labels":["documentation","needs feedback"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Description\r\n\r\n* *What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.*\r\n\r\nI have been trying to wrap my head around creating a Serverless plugin, but I've found it to be very confusing. Mainly I am confused by the \"lifecycleEvents\" and the \"hooks\".\r\n\r\nA few things I think would be helpful to add to the docs:\r\n1. A chronological list describing each lifecycleEvent.\r\n2. More realistic examples of plugins. The blog posts linked in the docs (https://serverless.com/blog/writing-serverless-plugins/) are a decent overview, but don't provide enough detail for creating a useful plugin.\r\n3. **MOST IMPORTANTLY**: Documentation on the \"pluginManager\". I've tried to learn from the code in other plugins, but none of the ones I've looked at use the \"pluginManager\". This is problematic, since it makes their lifecycleEvents mostly useless. The best (and only) resource I've come across explaining the \"pluginManager\" is this blog post:\r\nhttps://serverless.com/blog/advanced-plugin-development-extending-the-core-lifecycle/\r\nIf nothing else, it would be nice if a link to this was added in the docs. It took me a while to figure out why I couldn't hook to another plugin's events, but it ended up being because those events were never fired, since the code just called methods rather than using the \"pluginManager\".\r\n\r\n\r\n* *If there is additional config how would it look*\r\nN/A\r\n\r\nSimilar or dependent issues:\r\nnope\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n* ***Operating System***:\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:\r\n"},{"labels":["documentation","question"],"text":"I'm using serverless 1.26.1, and I'm trying to follow this example [Reference Variables in Javascript Files](https://serverless.com/framework/docs/providers/aws/guide/variables/#reference-variables-in-javascript-files):\r\n\r\n\"\"\"javascript\r\nmodule.exports = (serverless) => {\r\n  serverless.cli.consoleLog('You can access Serverless config and methods as well!');\r\n\r\n  return {\r\n    property1: 'some value',\r\n    property2: 'some other value'\r\n  }\r\n}\r\n\"\"\"\r\n\r\nBut \"serverless\" is always undefined. Has it changed since it was documented? \r\n\r\n"},{"labels":["cat/dx","documentation","help wanted"],"text":"# This is a Bug Report\r\n\r\nThis is raised to capture an action from #4787 - I'm guessing it's more a bug than a feature request.\r\n\r\n## Description\r\n\r\nFor bug reports:\r\n* What went wrong: I had to rise an issue to find out that serverless can load a serverless.js config file, rather than having to hack about with yml to achieve more complicated/computed configurations.\r\n* What did you expect should have happened: I should have seen this in the documentation.\r\n\r\nSimilar or dependent issues:\r\n* #4787\r\n* #4828\r\n* #4827\r\n\r\n## Additional Data\r\n\r\nI'm very busy this week, but when get a moment I'll put together a PR against this issue with how I thought the documentation should have guided me."},{"labels":["documentation","good first issue","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a request for improved documentation:\r\n## Description\r\nIt is pretty difficult from serverless documentation to understand how to configure \r\n\r\n    restApiRootResourceId\r\n    restApiId\r\n\r\nsee: https://forum.serverless.com/t/multiple-services-under-directory/3803\r\n\r\nA little more examples in the documentation section would help a lot.\r\n"},{"labels":["documentation"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nBrowsing the [Go example](https://github.com/serverless/serverless/tree/master/docs/providers/aws/examples/hello-world/go), I don't see any sample code + \".yml\". For the other languages there's a sample handler, so I was wondering if I was missing something or it hasn't been implemented yet."},{"labels":["cat/packaging","documentation","question"],"text":"# This is a documentation Bug Report AND a packaging feature request\r\n\r\n## Description\r\n\r\nThe node dev dependency removal (and possibly for others) works by adding the detected dependencies into the exclude parameters; this means that explicit inclusions take precedence over the dev dependency exclusion.\r\n\r\n### Documentation Bug\r\n\r\nWhile it would be handy if there was a nice way around this, I can see why it is how it is, so perhaps just documenting this in the [include/exclude](https://serverless.com/framework/docs/providers/aws/guide/packaging/#exclude--include) docs would be handy.\r\n\r\n### Feature Request\r\n\r\nThis specific behaviour was (and is) a problem for me because I'd prefer to default exclude everything and then explicitly include the things that I want (the number of random things I create in my project during development is potentially infinite, the number of things that I actually want to deploy from there are not), but doing this means that I need to add an include rule for \"node_modules/**\" which then takes precedence over the dev dependency exclusion rules and so all the dev dependencies are included anyway.\r\n\r\nIf there was a way to have dev dependency exclusion be the final step, instead of slotting into the normal include-beats-exclude precendence, that would be helpful.\r\n\r\n## Additional Data\r\n\r\nNot really related to the problem, but...\r\n\r\n* ***Serverless Framework Version you're using***: 1.25.0\r\n* ***Operating System***: Linux\r\n* ***Stack Trace***: N/A\r\n* ***Provider Error messages***: N/A\r\n"},{"labels":["documentation"],"text":"https://github.com/serverless/serverless/blob/cb822ad505d817ee6230e0d149bc85177f6ac808/lib/classes/Error.js#L51\r\n\r\nRunning \"SLS_DEBUG=*\" in (some versions of?) bash sets \"SLS_DEBUG\" to the contents of the current directory:\r\n\r\n\"\"\"shell\r\n$ ls\r\nbar     baz     foo\r\n$ SLS_DEBUG=*\r\n$ echo $SLS_DEBUG\r\nbar baz foo\r\n$ bash --version\r\nGNU bash, version 3.2.57(1)-release (x86_64-apple-darwin17)\r\nCopyright (C) 2007 Free Software Foundation, Inc.\r\n\"\"\"\r\n\r\nSince it seems like serverless only checks for the presence of the environment variable and not its contents, this should be fine, but seems kind of odd/maybe confusing. It also might cause an issue if run in an empty directory.\r\n\r\nShould documentation be modified to suggest doing \"SLS_DEBUG=\"*\"\" or \"SLS_DEBUG=1\"?\r\n"},{"labels":["documentation","enhancement"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n## Description\r\nConsider the following lambda function\r\n\"\"\"\r\nmodule.exports.backupDataToS3 = (event, context, callback) => {\r\n\tconst AWS = require('aws-sdk');\r\n\tconst S3 = new AWS.S3();\r\n\tconst allParams = event.Records.map((record) => {\r\n\t\tconst fileName =  record.kinesis.partitionKey;\r\n\t\tconst fileLocation = process.env.S3_BUCKET_NAME;\r\n\t\tconst buf = Buffer.from(record.kinesis.data, 'base64').toString();\r\n\t\tconst params = {\r\n\t\t\t'Body': buf,\r\n\t\t\t'Bucket': fileLocation,\r\n\t\t\t'Key': fileName\r\n\t\t};\r\n\t\treturn params;\r\n\t});\r\n\tconst allPromises = allParams.map((p) => {\r\n\t\treturn S3.putObject(p).promise();\r\n\t});\r\n\r\n\tPromise.all(allPromises)\r\n\t\t.then((results) => {\r\n\t\t\tcallback(null, 'saved ' + results.length + ' records');\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tcallback(err);\r\n\t\t});\r\n};\r\n\"\"\"\r\nIt uses \"Promise\" to backup data coming from a kinesis stream to a pre-defined S3 bucket as per \"process.env.S3_BUCKET_NAME\". \r\nIf this lambda were to be run inside a VPC, with the required \"iamRoleStatements\", it will timeout. \r\n\"\"\"\r\niamRoleStatements:\r\n    - Effect: \"Allow\"\r\n      Action:\r\n        - \"s3:*\"\r\n      Resource: \"<insert_bucket_arn_here>\" \r\n\"\"\"\r\nThe reason for this is because a new VPC end point is to be created for accessing s3 resources  as part of the VPC's configuration. \r\n(https://aws.amazon.com/blogs/aws/new-access-resources-in-a-vpc-from-your-lambda-functions/). Please refer to \"Things to Know\" section in the linked article. \r\n\r\nI think it would be a good idea to include this information as part of documentation. Please let me know if I am correct in my bug report, and I can send a PR with the updated docs. \r\nI was not sure if this was a \"Bug\" in the framework, but flagged it in this way so that documentation can get updated.\r\n\r\n## Additional Data\r\n\r\n* Serverless Framework: 1.19.0\r\n* Operating System: MacOS High Sierra\r\n\r\n"},{"labels":["documentation"],"text":"# This is a Bug Report\r\n\r\n## Description\r\n\r\nKubeless is missing in \"getting started\" sidebar menu\r\n\r\n## Additional Data\r\n\r\nn/a"},{"labels":["documentation"],"text":"# This is a  Feature Proposal\r\n\r\n## Description\r\n\r\nFrom Serverless version 1.20 there is a new provider for Serverless, Kubeless.\r\n\r\nWe need to create a /docs section for it\r\n\r\n"},{"labels":["documentation","help wanted"],"text":"# This is a Bug Report\r\n\r\n## Description\r\n\r\nOn the [serverless.yml](https://serverless.com/framework/docs/providers/aws/guide/serverless.yml/) example page. A dynamodb is added to the CloudFormation outputs. \"Fn:GetAtt\" [cannot get the arn of a DynamoDb Table](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dynamodb-table.html#w2ab2c21c10d282c13b4).\r\n\r\n[it looks like \"Ref\" should be used instead](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dynamodb-table.html#w2ab2c21c10d282c13b2)\r\n\r\nSimilar or dependent issues:\r\n* #4079"},{"labels":["documentation","help wanted"],"text":"# This is a Bug Report\r\n\r\n## Description\r\n\r\nIn the documentation on the [page with an example serverless.yml file](serverless.com/framework/docs/providers/aws/guide/serverless.yml) the format for the example output is incorrect.\r\n\r\nIt reads:\r\n\"\"\"\r\n  Outputs:\r\n    UsersTableArn:\r\n      Description: The ARN for the User's Table\r\n      Value:\r\n        \"Fn::GetAtt\": [ usersTable, Arn ]\r\n      Export: ${self:service}:${opt:stage}:UsersTableArn\r\n\"\"\"\r\n\r\nBut based on the documentation for cloudformation outputs this should be:\r\n\"\"\"\r\n  Outputs:\r\n    UsersTableArn:\r\n      Description: The ARN for the User's Table\r\n      Value:\r\n        \"Fn::GetAtt\": [ usersTable, Arn ]\r\n      Export: \r\n        Name: ${self:service}:${opt:stage}:UsersTableArn\r\n\"\"\"\r\nUsing this as an example will lead to:\r\n\"The CloudFormation template is invalid: Template format error: Output UsersTableArn is malformed. The Export field of every Outputs member must be a Map.\"\r\n\r\nSimilar or dependent issues:\r\n* https://github.com/serverless/site/issues/120 \r\n\r\n\r\n\r\n"},{"labels":["documentation"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nhttps://github.com/serverless/serverless/pull/4019 (and https://github.com/serverless/serverless/pull/4044) introduced an improvement to the docs which included a link to the issue for the \"Shared API Gateway\" feature (https://github.com/serverless/serverless/issues/3078).\r\n\r\nThis link should be removed once https://github.com/serverless/serverless/issues/3078 is resolved."},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nFor feature proposals:\r\n* What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.\r\n\r\nWhen searching available properties in serverless.yml, I usually read [Serverless.yml Reference Page](https://serverless.com/framework/docs/providers/aws/guide/serverless.yml/#serverlessyml-reference). However, Several available properties are not listed.\r\n\r\nIMO, we should list all available properties and write up more detail of each properties in the page so that the page makes it easy for users to understand how to use the yaml file.\r\n\r\nThe page is the most important to get a syntax of the yaml file.\r\n\r\n* If there is additional config how would it look\r\nThe doc format would be something like:\r\n\"\"\"\r\n# Serverless.yml Reference\r\n## Available properties\r\nHere is a list of all available properties\r\n\r\n## The detail of all top-level propertoes\r\n### provider\r\nHere is a detail of top level property\r\n\r\n### pakage\r\n\r\n### function\r\n\r\n\"\"\"\r\n"},{"labels":["documentation","help wanted"],"text":"# This is a Bug Report\r\n\r\n## Description\r\n\r\nI used the **example** code ([docu](https://serverless.com/framework/docs/providers/aws/guide/resources/#override-aws-cloudformation-resource)) for overriding \"\"\"AWS::Logs::LogGroup\"\"\" retention time. I only adjusted the name because of the name of my function.\r\n\r\n* What went wrong?\r\n\r\nThe deployment has been successful but the retention time wasn't changed.\r\n\r\n* What did you expect should have happened?\r\n\r\nThat the \"\"\"AWS::Logs::LogGroup\"\"\" retention time for the function would have been adjusted to the defined value.\r\n\r\n* What was the config you used?\r\n\r\n\\-\r\n\r\n* What stacktrace or error message from your provider did you see?\r\n\r\n\\- \r\n\r\n* Solution\r\n\r\n**Function name**: my-function\r\n**normalizedFunctionName**: MyDashfunction\r\n\r\nAfter using \"\"\"MyDashfunction\"\"\" (instead of \"\"\"MyDashFunction\"\"\") as **normalizedFunctionName** which is not compliance with the documentation, retention time has been adjusted correctly.\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: 1.18.0\r\n* ***Operating System***: Ubuntu 14.04\r\n* ***Stack Trace***: -\r\n* ***Provider Error messages***: -"},{"labels":["documentation","help wanted"],"text":"# This is a Suggestion\r\n\r\n## Description\r\n\r\nThe main website has features documented that are not yet available in the latest release of Severless. This makes it to where developing against the documentation may result in unexplained errors or behavior.\r\n\r\nIn particular, the documentation published on the main website references that [JavaScript files can be read into a \"serverless.yaml\" configuration without a named export](https://serverless.com/framework/docs/providers/aws/guide/variables/#reference-variables-in-javascript-files):\r\n\r\n> References can be either named or **unnamed exports**. ... For an **unnamed export** you'd write \"${file(../myFile.js)}\".\r\n\r\nI tried to make use of this feature, but kept getting an error referring to the fact that \".split('.')\" was being applied on an undefined object. Eventually, I realized that Serverless was [making use of the colon (\":\") syntax](https://github.com/serverless/serverless/blob/v1.17.0/lib/classes/Variables.js#L234-L235) mentioned on the same documentation page, but not being listed as required:\r\n\r\n\"\"\"\r\nlet jsModule = variableString.split(':')[1];\r\njsModule = jsModule.split('.')[0];\r\n\"\"\"\r\n\r\nOf course, the latest version of this code on \"master\" supports what is documented on the main website. Nevertheless, the latest version the user is capable of utilizing, v1.17.0, does not have support for this. **The problem is that there is no indication on the main website that the documentation reflects as-of-yet unreleased features. In fact, the documentation says it is for version 1.16.0, which is also incorrect.**\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: v1.17.0 (latest)\r\n* ***Operating System***: N/A\r\n* ***Stack Trace***: N/A\r\n* ***Provider Error messages***: N/A\r\n"},{"labels":["documentation"],"text":"![screen shot 2017-07-17 at 11 38 34](https://user-images.githubusercontent.com/3584893/28281482-7bb2d492-6ae4-11e7-8428-389abe9641f2.png)\r\n\r\nThe page goes out of bounds to the right (which sucks) and I'm unable to horizontally scroll (which _really_ sucks). div._39ts3 docs-content has \"overflow:hidden\".\r\n\r\nSee: https://serverless.com/framework/docs/providers/aws/guide/resources/#aws-cloudformation-resource-reference"},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nFor bug reports:\r\n* What went wrong?\r\nhttps://serverless.com/framework/docs/providers/aws/guide/resources#aws-cloudformation-resource-reference\r\nTable is too wide for most screen sizes, and is not scrollable.\r\n![serverless table error](https://user-images.githubusercontent.com/17853493/28206372-81ed1b88-687d-11e7-8954-745020fd975f.PNG)\r\n\r\n* What did you expect should have happened?\r\nTable to fit in screen width (preferable) or be scrollable.\r\n\r\n* What was the config you used?\r\nGoogle Chrome; also seen in Edge.\r\n\r\n* What stacktrace or error message from your provider did you see?\r\nN/A\r\n\r\nFor feature proposals:\r\n* What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.\r\nN/A\r\n* If there is additional config how would it look\r\nN/A\r\n\r\nSimilar or dependent issues:\r\n* N/A\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\nN/A\r\n* ***Operating System***:\r\nWindows 10\r\n* ***Stack Trace***:\r\nN/A\r\n* ***Provider Error messages***:\r\nN/A\r\n"},{"labels":["documentation"],"text":"# This is a Documentation request\r\n\r\n## Description\r\n\r\nDocument on how to run integration tests locally (assuming that's feasible)\r\n\r\nCurrently running:\r\n\r\n\"\"\"\r\nnpm run simple-integration-test\r\n\"\"\"\r\n\r\nI receive multiple errors as:\r\n\r\n\"\"\"\r\nServerlessError: The AWS security token included in the request is invalid / expired.\r\n\"\"\"\r\n\r\n![screen shot 2017-07-10 at 20 40 48](https://user-images.githubusercontent.com/122434/28034020-476321a8-65b0-11e7-9fe7-935d09bccd1f.png)\r\n\r\n## Additional Data\r\n\r\n* Serverless @ master (https://github.com/serverless/serverless/commit/f0b1474f1e49d69c39e27e3c8def929569e20bed)\r\n* macOS v10.12.5\r\n* Node.js v6.10.3 & v8.1.3\r\n\r\n"},{"labels":["documentation","good first issue"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nFrom master, when browsing [documentation from Github](https://github.com/serverless/serverless/tree/master/docs), platform specific quick-start guides links are broken, showing a 404. For example AWS Quick-start is\r\n\"\"\"https://github.com/serverless/serverless/blob/master/docs/providers/aws/guide/quick-start\"\"\"\r\nWhile the file is named\r\n\"\"\"https://github.com/serverless/serverless/blob/master/docs/providers/aws/guide/quick-start.md\"\"\"\r\n\r\nSo this is working fine from Serverless docs site https://serverless.com/framework/docs, but it would be great to avoid a 404 when consulting it from Github.\r\n"},{"labels":["documentation","good first issue"],"text":"# This is a Bug Report\r\n\r\n## Description\r\nTrying to create a .Net core function using serverless.\r\n1. The installation documentation doesnt mention anything about supported versions of .Net core\r\n2. The documentation states run \"build.cmd\" with powershell, that file doesn't exist in a create project\r\n3. \"Serverless create\" seems to create a project based on \"project.json\" - this is outdated (but since there's no mention of the .Net core versions supported there's no way to know if this should work or not.\r\n4. Running \"build.ps1\" errors out stating that the working dir does not contain a project or solution file (I'm running .Net core 1.0.4)\r\n\r\nIn general, we need way better documentation before Serverless can be used with .Net core-based lambda functions.\r\n"},{"labels":["documentation","good first issue"],"text":"Currently the type is pointing to \"eventHub\". I think it should be \"serviceBus\"\r\nhttps://serverless.com/framework/docs/providers/azure/events/servicebus/"},{"labels":["documentation","good first issue"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nThe README has a nice section on Contributing, which mentions a number of labels that interested developers can use to find things:\r\n\r\n> Check out our [exp/beginner](https://github.com/serverless/serverless/labels/exp/beginner), [exp/intermediate](https://gi\\\r\nthub.com/serverless/serverless/labels/exp/intermediate) or [exp/expert](https://github.com/serverless/serverless/labels/e\\\r\nxp/expert) labels to find issues we want to move forward on with your help.\r\n\r\nHowever, none of these labels exist, nor do they seem to have ever existed.\r\n\r\nIn the Contributing doc, there is something similar, but this time the labels do exist:\r\n\r\n> Check out our [help-wanted](https://github.com/serverless/serverless/labels/status/help-wanted) or [easy-pick](https://github.com/serverless/serverless/labels/status/easy-pick) labels to find issues we want to move forward on with your help.\r\n\r\nIt would be good if the two docs pointed to the same [help-wanted](https://github.com/serverless/serverless/labels/status/help-wanted) and [easy-pick](https://github.com/serverless/serverless/labels/status/easy-pick) labels.\r\n\r\n## Additional Data\r\n\r\nIt's great that you've gone to the trouble of labeling issues like this, and providing entry points for developers to get involved.  Thanks for doing it."},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# Docs / Feature Proposal\r\n\r\n## Description\r\n\r\nThe current [quickstarts](https://serverless.com/framework/docs/providers/aws/guide/quick-start/\r\n) suggests to use the template \"aws-nodejs\". Which has two drawbacks:\r\n\r\na) It doesn't show an end2end experience. \r\nb) Has a bloated serverless.yml. Even if it's just the comments.\r\n\r\n## Proposal\r\n\r\nI would suggest using the \"hello-world\" template in the quickstart including the http get event. As it\r\n\r\na) Shows the simplest end2end experience. Including an event.\r\nb) Has the most simple serverless.yml without overwhelming the user. Additionally the cors code could be removed.\r\n"},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Description\r\nInstead of globally installing Serverless, could we only globally install a CLI shim that checks the current directory's \"node_modules\" for Serverless? This way we can add a \"devDependency\" directly to our \"package.json\" and lock it from there rather than having to do it in \"serverless.yml\". \r\n\r\nThere should be little-to-no changes from a developer's perspective."},{"labels":["cat/dx","documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nI'm a first-time contributor, and on the surface I'm not 100% sure of where to start. It would be awesome if there was some documentation on the internal architecture of Serverless and how all the (internal) plugins hook into Serverless' lifecycle."},{"labels":["documentation","good first issue"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nhttps://github.com/serverless/serverless/pull/3534 added new API Gateway integration types. The docs should be updated and explain how, when and why they should be used (brought up by @mikefrancis in https://github.com/serverless/serverless/pull/3534#issuecomment-301468434)."},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a (Bug Report / Feature Proposal)\r\nDocumentation update\r\n## Description\r\nInstructions to setup Azure credentials [here](https://github.com/serverless/serverless/blob/master/docs/providers/azure/guide/credentials.md) needs to updated to match latest [npm package](https://www.npmjs.com/package/serverless-azure-functions)\r\nFor bug reports:\r\n* What went wrong?\r\nAzure plugin is now updated to support interactive logging. Documentation needs to updated to reflect new changes.\r\n* What did you expect should have happened?\r\n* What was the config you used?\r\n* What stacktrace or error message from your provider did you see?\r\n\r\nFor feature proposals:\r\n* What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.\r\n* If there is additional config how would it look\r\n\r\nSimilar or dependent issues:\r\n* #12345\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n* ***Operating System***:\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:\r\n"},{"labels":["documentation","good first issue"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\nInclude some note or documentation stating that environment variables are not applied when running cli command \"severless deploy function -f FUNCTION_NAME\" and instead are only applied on \"serverless deploy\"\r\n\r\nIf this behaviour should already exist it is not working on v1.11.0\r\n"},{"labels":["documentation","good first issue"],"text":"There's at least one place where the documentation still says Serverless is AWS-only, which is isn't:\r\nhttps://serverless.com/framework/docs/providers/aws/guide/credentials/\r\n\r\nSomeone should take a pass through and find these issues and correct them. Any page that isn't meant to serve as a reference for what providers are supported should probably avoid listing them explicitly to avoid needing these updates on an ongoing basis."},{"labels":["documentation","good first issue"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nThe \"--verbose\" option makes it possible to print out all the \"Outputs\" in the CloudFormation template when using e.g. the \"info\" command.\r\n\r\nHowever this option is currently a little bit hidden so users might have a hard time to figure out that something like this exists.\r\n\r\nIn #2788 and we've discussed to print the \"Outputs\" by default. @tobyhede was kind enough to PR #3416 which adds this feature. However after some time thinking through this we might be better off to just add a little bit more documentation around this feature rather than displaying all the information about the CloudFormation template on every deploy / info command use.\r\n\r\n/cc @brianneisler @eahefnawy "},{"labels":["cat/aws-iam","documentation","good first issue"],"text":"# This is a Bug Report\r\n\r\n## Description\r\nThe IAM docs at https://serverless.com/framework/docs/providers/aws/guide/iam/ in multiple places show \"Version: '2017'\". The version *should* be '2012-10-17'.  The examples as documented won't deploy as the version isn't valid.  \r\n\r\nI looked at the markdown file at https://github.com/serverless/serverless/blob/master/docs/providers/aws/guide/iam.md to fix it but it shows the correct version? \r\n\r\nHow can we get this changed in the live docs?\r\n"},{"labels":["documentation","help wanted"],"text":"# This is a Bug Report\r\n\r\n## Description\r\n\r\nFor bug reports:\r\n* What went wrong? service.provider.profile was overwritten by my default credentials (I'm assuming that they were my EnvironmentCredentials or EnvironmentProfile, but not sure)\r\n* What did you expect should have happened? service.provider.profile seems to be more specific than my default environment credentials/profile\r\n* What was the config you used?\r\nprovider:\r\n  name: aws\r\n  runtime: nodejs4.3\r\n  profile: customprofilehere\r\n  region: eu-west-1\r\n* What stacktrace or error message from your provider did you see?\r\nNone, but function was deployed to wrong account.\r\n\r\nFor feature proposals:\r\n* What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.\r\nSuggestions on things that could be done to make sls better:\r\n1. Update docs so it's clear which is the credentials lookup order\r\nhttps://serverless.com/framework/docs/providers/aws/guide/credentials/\r\n\r\n2. Print to terminal profile name used on deploy command.\r\n\r\n3. Change credentials lookup order on\r\nhttps://github.com/serverless/serverless/blob/master/lib/plugins/aws/provider/awsProvider.js\r\n\r\nCurrently this is the order:\r\n    // add specified credentials, overriding with more specific declarations\r\n    impl.addCredentials(result, this.serverless.service.provider.credentials); // config creds\r\n    impl.addProfileCredentials(result, this.serverless.service.provider.profile);\r\n    impl.addEnvironmentCredentials(result, 'AWS'); // creds for all stages\r\n    impl.addEnvironmentProfile(result, 'AWS');\r\n    impl.addEnvironmentCredentials(result, \"AWS_${stageUpper}\"); // stage specific creds\r\n    impl.addEnvironmentProfile(result, \"AWS_${stageUpper}\");\r\n \r\nNot sure if this is correct but this is my suggestion\r\n    // add specified credentials, overriding with more specific declarations\r\n    impl.addEnvironmentCredentials(result, 'AWS'); // creds for all stages\r\n    impl.addEnvironmentProfile(result, 'AWS');\r\n    impl.addCredentials(result, this.serverless.service.provider.credentials); // config creds\r\n    impl.addProfileCredentials(result, this.serverless.service.provider.profile);\r\n    impl.addEnvironmentCredentials(result, \"AWS_${stageUpper}\"); // stage specific creds\r\n    impl.addEnvironmentProfile(result, \"AWS_${stageUpper}\");\r\n\r\n* If there is additional config how would it look\r\n\r\nSimilar or dependent issues:\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: 1.9.0\r\n* ***Operating System***: mac 10.11\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:"},{"labels":["documentation","good first issue"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nThe dotnet core tooling and sdk are versioning quickly and often making breaking changes. The aws-csharp template depends on specific versions of the sdk and tooling. The documentation doesn't include this info anywhere.\r\n\r\nI propose an update to the docs, probably in the csharp hello world example just after the serverless installation guide, that instructs on how to get the right version of the sdk and tooling installed."},{"labels":["documentation","help wanted"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\n[In the code, you can supply a pre-packaged artifact for your lambda](https://github.com/serverless/serverless/blob/master/lib/plugins/aws/deploy/compile/functions/index.js#72).\r\n\r\nThe use of this feature is discussed here and marked as a valid bug:\r\nhttps://github.com/serverless/serverless/issues/2837\r\n\r\nThis feature is not documented in the [function docs](https://serverless.com/framework/docs/providers/aws/guide/functions/) or the \"[comprehensive serverless.yml](https://serverless.com/framework/docs/providers/aws/guide/serverless.yml/)\" example.\r\n\r\nDocumenting this feature will support users in taking advantage of it."},{"labels":["cat/aws-event-api-gateway","documentation","good first issue"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nThe resource reference in the docs (https://serverless.com/framework/docs/providers/aws/guide/resources/#aws-cloudformation-resource-reference) should be updated to reflect the normalization of path variables in the URL (as brought up by @HyperBrain --> https://github.com/serverless/serverless/issues/2359#issuecomment-285294811)\r\n"},{"labels":["documentation"],"text":"The link on this page to 'Azure Node Simple' example code is broken. I can't find the example anywhere.\r\n\r\nhttps://serverless.com/framework/docs/providers/azure/examples/\r\n\r\n"},{"labels":["documentation","good first issue"],"text":"# This is a Bug Report\r\n\r\n## Description\r\n\r\nWhen trying to reference the ${accountId} and ${region} variables in my serverless.yml, I get the following error message:\r\n\r\n\"\"\"\r\nInvalid variable reference syntax for variable region.\r\nYou can only reference env vars, options, & files. You\r\ncan check our docs for more info.\r\n\"\"\"\r\n\r\nI assumed that you could use them because of the documentation found [here](https://serverless.com/framework/docs/providers/aws/guide/iam/#one-custom-iam-role-for-all-functions)\r\n\r\nMy serverless.yml file:\r\n\r\n\"\"\"\r\nservice: test\r\nprovider:\r\n  name: aws\r\n  runtime: nodejs4.3\r\nresources:\r\n  Resources:\r\n    MyRole:\r\n      Type: \"AWS::IAM::Role\"\r\n      Properties:\r\n        AssumeRolePolicyDocument:\r\n          Version: \"2012-10-17\"\r\n          Statement:\r\n            - Effect: \"Allow\"\r\n              Principal:\r\n                Service:\r\n                  - lambda.amazonaws.com\r\n              Action: \"sts:AssumeRole\"\r\n        Policies:\r\n          - PolicyName: cloudWatchLogging\r\n            PolicyDocument:\r\n              Version: \"2012-10-17\"\r\n              Statement:\r\n                Effect: Allow\r\n                Action:\r\n                  - logs:CreateLogGroup\r\n                  - logs:CreateLogStream\r\n                  - logs:PutLogEvents\r\n                  - logs:DescribeLogStreams\r\n                Resource:\r\n                  - arn:aws:logs:${region}:${accountId}:log-group:/aws/lambda/*:*:*\r\nfunctions:\r\n  hello:\r\n    handler: handler.hello\r\n\"\"\"\r\n\r\n\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n1.6.1\r\n* ***Operating System***:\r\nMacOS\r\n* ***Stack Trace***:\r\n\"\"\"\r\n  Serverless Error ---------------------------------------\r\n \r\n     Invalid variable reference syntax for variable region.\r\n     You can only reference env vars, options, & files. You\r\n     can check our docs for more info.\r\n \r\n  Get Support --------------------------------------------\r\n     Docs:          docs.serverless.com\r\n     Bugs:          github.com/serverless/serverless/issues\r\n \r\n  Your Environment Information -----------------------------\r\n     OS:                 darwin\r\n     Node Version:       6.6.0\r\n     Serverless Version: 1.6.1\r\n\"\"\"\r\n\r\n"},{"labels":["documentation"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a [Minor] Bug Report\r\n\r\nhttps://www.npmjs.com/package/serverless\r\n\r\nThe package pages doesn't feature a readme:\r\n\r\n![image](https://cloud.githubusercontent.com/assets/571200/22387223/6a11adde-e48f-11e6-9422-352dad7c1859.png)\r\n\r\nOne would probably be desirable.\r\n\r\n## Description\r\n\r\nFor bug reports:\r\n* What went wrong?\r\n* What did you expect should have happened?\r\n* What was the config you used?\r\n* What stacktrace or error message from your provider did you see?\r\n\r\nFor feature proposals:\r\n* What is the use case that should be solved. The more detail you describe this in the easier it is to understand for us.\r\n* If there is additional config how would it look\r\n\r\nSimilar or dependent issues:\r\n* #12345\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n* ***Operating System***:\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:\r\n"},{"labels":["documentation"],"text":"https://github.com/serverless/serverless/pull/3150 and https://github.com/serverless/serverless/pull/3131 introduce the OpenWhisk provider support 🎉 \r\n\r\nThis change makes it necessary to rethink the current documentation structure and remove some duplication."},{"labels":["documentation"],"text":"@dannykingme mentioned in #3150 that the homepage for the documentation will get cluttered as we add more providers there.\r\n\r\nWe should revisit and update the homepage so that it's easier for users to see what Serverless offers."},{"labels":["documentation","good first issue"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\n\"serverless deploy\" creates a \".serverless\" directory with files in it. It's not initially clear whether these need to be kept, are safe to delete, or should be checked into .git.  (From further review and testing, it appears that the directory can be safely deleted). \r\n\r\nThere is a bit of documentation about this directory already, but it's hard to find the docs until you realize that the directory is related to the \"deploy\" command or that the files in it are called \"Artifacts\". \r\n\r\nWhat would be helpful is a simple \"README.md\" that gets created in the directory at explains what the files in are for, whether they can be safely deleted and whether the directory should be checked into it. People curious about the directory would naturally find that file without wading through all the online docs trying to figure out the details of the directory. \r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n\r\nserverless 1.5.1\r\n\r\n* ***Operating System***:\r\n\r\nUbuntu 16.04\r\n\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:\r\n"},{"labels":["documentation"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\n* What went wrong?\r\n\r\n> $ sls deploy function -f xyz --noDeploy\r\n> Serverless: Deploying function: xyz...\r\n> Serverless: Packaging function: xyz...\r\n> Serverless: Uploading function: xyz (834.32 KB)...\r\n> Serverless: Successfully deployed function: xyz\r\n> $\r\n\r\n* What did you expect should have happened?\r\n\r\nThe function to be packaged but not deployed, similarly to what \"sls deploy --noDeploy\" does.\r\nThe underlying reason for this is to verify that my packaging instructions in serverless.yml produce the correct zip file.\r\n\r\n* What was the config you used?\r\n\r\n\"\"\"yaml\r\npackage:\r\n  individually: true\r\nfunctions:\r\n  xyz:\r\n    handler: xyz.handler\r\n    package:\r\n      exclude:\r\n        - ./**\r\n      include:\r\n        - source/xyz.js\r\n        - source/abc.js\r\n        - lib/node_modules/qwerty/**\r\n\"\"\"\r\n\r\n* What stacktrace or error message from your provider did you see?\r\nnothing\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n1.5.0\r\n* ***Operating System***:\r\nUbuntu Linux 16.10\r\n* ***Stack Trace***:\r\nnone\r\n* ***Provider Error messages***:\r\nnone"},{"labels":["documentation","good first issue"],"text":"# This is a (Feature Proposal)\r\n\r\n## Description\r\n\r\nThis role configuration should be described here:\r\nhttps://serverless.com/framework/docs/providers/aws/guide/functions/#vpc-configuration\r\n\"\"\"\r\niamRoleStatements:\r\n    - Effect: Allow\r\n      Action:\r\n        - ec2:CreateNetworkInterface\r\n      Resource: '*'\r\n    - Effect: Allow\r\n      Action:\r\n        - ec2:DeleteNetworkInterface\r\n        - ec2:DescribeNetworkInterfaces\r\n      Resource: 'arn:aws:ec2:${self:provider.region}:*:network-interface/*'\r\n\"\"\"\r\n\r\nAlso should add all securityGroupIds to Inbounds Rules, like below:\r\n![screenshot 2017-01-09 23 02 33](https://cloud.githubusercontent.com/assets/3084181/21789993/710de602-d6c0-11e6-9032-0d519ee53fe7.png)\r\n"},{"labels":["documentation"],"text":"When using \"aws-java-maven\" template, it seems that one has to add \"integration: lambda\" to the http events definition. Otherwise the API Gateway stuff won't be set up correctly and calling the HTTP Gateway endpoint as shown in the getting started video will not succeed.\r\n\r\nSome information about this should be added to the comments in the generated serverless.yml and ideally, it should also be mentioned in the documentation or getting started videos.\r\n\r\nInterestingly, \"integration: lambda\" setting does not seem to be required when using the nodejs template.\r\n\r\nTested with serverless 1.3.0"},{"labels":["documentation"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nThe \"examples\" are not used anymore / are moved to a dedicated repository. The README in the docs should be updated to point to that repository rather than linking to examples in the docs directory.\r\n\r\nHere's the README in question:\r\nhttps://github.com/serverless/serverless/tree/master/docs"},{"labels":["documentation","help wanted"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nProvider independent plugin docs (such as \"create\", \"slstats\" or \"plugin\") should be moved outside the \"aws\" directory in docs."},{"labels":["documentation"],"text":"Recently we've made a change to deploy a new lambda version on every deployment. We need to document this so users would know what to expect."},{"labels":["documentation"],"text":"For it to work you also have to define a Usage Plan and manually add the API key to the Usage Plan in your AWS console.\r\n\r\nMaybe this should be documented as well here https://serverless.com/framework/docs/providers/aws/events/apigateway/#setting-api-keys-for-your-rest-api\r\n\r\n\r\n\r\n"},{"labels":["documentation","good first issue"],"text":"# This is a documentation suggestion\r\n\r\n## Description\r\n\r\nIt would be nice to have a tiny section at the end of the credentials page of the documenation that shows users how to test their credentials. \"serverless info\" would do the trick. These 'Hello World' type of confirmations that things are working smoothly go a long way : )"},{"labels":["documentation"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Bug Report\r\n\r\n## Description\r\n\r\nFor bug reports:\r\n* What went wrong? I searched the docs for \"tracking\"\r\n* What did you expect should have happened? I expected to see the documentation related to the automated usage tracking Serverless performs\r\n* What was the config you used? N/A\r\n* What stacktrace or error message from your provider did you see? N/A\r\n\r\nSimilar or dependent issues:\r\n* N/A\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***: https://docs.serverless.com, Nov 21st @ 3:32p PST\r\n* ***Operating System***: Chrome on OSx\r\n* ***Stack Trace***: N/A\r\n* ***Provider Error messages***: N/A\r\n"},{"labels":["documentation"],"text":"<!--\r\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\r\n2. Please check if an issue already exists so there are no duplicates\r\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\r\n4. Fill out the whole template so we have a good overview on the issue\r\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\r\n6. Please follow the template, otherwise we'll have to ask you to update it\r\n-->\r\n\r\n# This is a Feature Proposal\r\n\r\n## Description\r\n\r\n* it should be there \"memorySize\" sample attr on \"create\" plugins's template\r\n\r\nIn default of \"aws\" provider,  the \"memorySize\" value is \"1024\"\r\nYes, it is documented, and we can overrider on provider or function section.\r\nbut… there is no comment or like one on \"create\"'s template.\r\nIt effects cost of function, so it's not small different!\r\n\r\nI think that... in many case, 1024 MB is too large for use, but some user will think \"So large config are not used\"\r\n\r\n## proposal for solve\r\n\"\"\"yaml\r\nprovider:\r\n  name: aws\r\n  runtime: nodejs4.3\r\n\r\n# you can overwrite defaults here\r\n#  stage: dev\r\n#  region: us-east-1\r\n#  memorySize: 1024\r\n\"\"\"\r\n\r\n\r\n \r\nLike that: https://github.com/serverless/serverless/compare/master...hinaloe:create-template-add-memorysize\r\n\r\n<!--\r\nSimilar or dependent issues:\r\n* #12345\r\n\r\n## Additional Data\r\n\r\n* ***Serverless Framework Version you're using***:\r\n* ***Operating System***:\r\n* ***Stack Trace***:\r\n* ***Provider Error messages***:\r\n-->"},{"labels":["documentation","good first issue"],"text":"# This is a Feature Proposal\r\n\r\n## Description\r\n\r\nIf users want to build artifacts for deployment by themselves they can set the artifact option in the packaging config through the variable syntax (and in the future thanks to #2657 even fully dynamically). This allows to separate the build and deployment of artifacts easily.\r\n\r\nWe need to document this.\r\n\r\nSimilar or dependent issues:\r\n* #2659\r\n* #2473\r\n* #2660 \r\n\r\n"},{"labels":["documentation","good first issue"],"text":"Our hero @svdgraaf got some valuable info from AWS support team about API Keys & Usage Plans. The conclusion is that AWS confirmed some bugs and outdated docs. We should add those to our docs (even before they do 😛 )\n\n\"\"\"\nSorry to hear that you are having issue with API gateway using CloudFormation.\n\nThe reason that you are experiencing this error is that you have eenabled\"Usage Plan\" in your account. Once you enable \"Usage Plan\", the \"old\" way of associating API key will not work. Without Usage Plan [1], you perform the following tasks to create API key for your API Gateway: \n1. Create an API key.\n2. Enable it on specific API methods.\n3. Deploy the API to a stage. \n4. Associate the key with the API stage.\n5. Distribute the key to your customers and ask them to supply it in calls to the enabled API methods.\n\nAbove steps are the steps CFN follows to associate the API key to API methods. However, as I mentioned, these steps no longer work in your account since you have \"Usage Plan\" enabled. WITH Usage Plan, you will need follow the steps in the follow link to set up API keys: https://urldefense.proofpoint.com/v2/url?u=http-3A__docs.aws.amazon.com_apigateway_latest_developerguide_api-2Dgateway-2Dapi-2Dusage-2Dplans.html&d=DQICaQ&c=9g4MJkl2VjLjS6R4ei18BA&r=2dPqsGzLsM5X1Sc2gkAF8unhoC3OwUJgq5TTSOU3Vug&m=dnu_7fL5s8WeCyL3ftm_ptZiSfuM4V3RdDVzsU-CKqk&s=cOD8xbgr4L0e9fJpISFfpxaX0RJGp_wudKLjeTNZsV8&e= . I will need check with our service team engineer regarding API keys with Usage Plan, and see if there is a way associating the key using CFN.\n\n- Why doesn't CF given any errors, but doesn't deploy correctly?\nThis is probably a bug. I will let our service team engineers know about this.\n\n- Is there a way to associate the api keys with a usage plan through CF?\nI have performed couple tests in my lab, and I was not able to associate the key using CFN. I will escalate this issue. As for now, please manually associate your API key as you have done.\n\n- Can you perhaps switch this account to the non-usage plan functionality like with our other accounts?\nI do not have permissions to make this change. I will escalate this issue to our service team, and see if they can revert your account back to the \"non-usage plan\"\n\nQ: \" Also, the ApiKey resource, doesn't return the actual value (as stated in the documentation), but return the CloudFormation LogicalId, which makes some sense, but now there is no way to fetch the Api Key value directly from CF, see this quote from the docs:\n\n> Ref: When the logical ID of this resource is provided to the Ref intrinsic function, Ref returns the API key, such as AbCdEfG01234567890ExampleKey.\" \"\n\nI was able to reproduce the issue. I need more time to look into this issue. Thanks.\n\nI will work with both CloudFormation service team and API Gateway service team to get this issue fixed. Thank you for your patience!\n\"\"\"\n\nThanks again @svdgraaf \n"},{"labels":["documentation","good first issue"],"text":"There is no single place where user can find all possible fields and values. There is https://github.com/serverless/serverless/blob/master/lib/plugins/create/templates/aws-nodejs/serverless.yml but it's pretty messy imho. Main problems:\n- it's not clear how can I override provider setting\n- it's not clear what are the defaults\n- I guess it's intended for beginners but there are things like \"resources\" or \"package.artifact\" which are pretty advanced\n\nOf course some values are provider specific and should be described in provider's docs.\n"},{"labels":["documentation"],"text":"<!--\n1. If you have a question and not a bug/feature request please ask it at http://forum.serverless.com\n2. Please check if an issue already exists so there are no duplicates\n3. Check out and follow our Guidelines: https://github.com/serverless/serverless/blob/master/CONTRIBUTING.md\n4. Fill out the whole template so we have a good overview on the issue\n5. Do not remove any section of the template. If something is not applicable leave it empty but leave it in the Issue\n6. Please follow the template, otherwise we'll have to ask you to update it\n-->\n# This is a Feature Proposal\n## Description\n\nAt the moment we don't have any way to track or understand how easy our onboarding process is for users. We have to fully rely on asking people or tracking issues that come up through the forum, gitter or our issues. This might lead to a warped view because users who have not been able to go through the first onboarding and didn't deploy a service might not even talk to us at all.\n\nTo make sure we get better insights into this we want to add different messages throughout the onboarding process so we get that feedback from users.\n\nIdeas we could do:\n- Add onboarding questionaire link to Serverless Error message so people give us quick feedback when they get blocked\n- Adding contact email to Error so they reach out\n- Add questionaire to Docs Guide (at the end of the guide, at the provider setup page, ...) to communicate with users.\n- Do an onboarding study with different groups of people\n  - Users that have no AWS experience\n  - Users with AWS experience, but who haven't use serverless or Lambda in the past\n  - Users with AWS experience, who haven't used serverless in the past but where serverless is used at their company\n- ???\n\nSimilar or dependent issues:\n- #2160 \n"},{"labels":["documentation","good first issue"],"text":"The CLI shows that the user can use SLS_DEBUG to get a stack trace when an error occurred. However it's not shown how he can enable it.\n\nWe should add a comment next to the error message that the user can enable it by exporting the \"SLS_DEBUG\" variable.\n"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nWhen using ThreeJS in JavaScript I was able to render only one mesh (without using a Scene) doing:\r\n\"\"\"javascript\r\nrenderer.setRenderTarget(my_target);\r\nrenderer.clear();\r\n\r\nrenderer.render(my_mesh, camera);\r\n\"\"\"\r\n\r\nThis is very useful for doing some pre-processing things (in my case, rendering water caustics in shaders using a water mesh as input).\r\n\r\nMy issue is that I cannot perform the same in TypeScript, the \"render\" method takes a \"Scene\" as first argument, so my code does not compile.\r\n\r\nShould I open a PR fixing the type definition? I don't see any documentation specifying that my code is valid (that the render method can actually take a mesh as input).\r\n\r\n##### Three.js version\r\n\r\nr112\r\n"},{"labels":["documentation"],"text":"##### Docs have no information about Events\r\nhttps://threejs.org/docs/index.html#examples/en/controls/OrbitControls\r\n\r\n\"\"\"\r\nvar changeEvent = { type: 'change' };\r\nvar startEvent = { type: 'start' };\r\nvar endEvent = { type: 'end' };\r\n\"\"\"\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [x] r116\r\n- [ ] ...\r\n\r\n"},{"labels":["documentation"],"text":"##### Description of the problem\r\nThe documentation for **Matrix4.compose** states:\r\n\r\n> \"Sets this matrix to the transformation composed of position, quaternion and scale. Internally this calls makeRotationFromQuaternion( quaternion ) followed by scale( scale ), then finally setPosition( position ).\"\r\n\r\nMy understanding was always that you should scale before doing the rotation otherwise you can end up with unusual scaling (skewing).\r\n\r\nSo it should be (IMHO): scale, rotation, translation\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [x] r115\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"Hello!\r\n\r\nYour library/framework is obviously amazing.  I believe you are accidentally not exporting the \"controls\" folder right now with your NPM package.\r\n\r\nIt means that actually the only way to access commonly used library members such as \"TrackballControls\" is like so: https://github.com/vasturiano/three-render-objects/pull/5\r\n\r\nPerhaps intentional but wanted to point out just in case.\r\n\r\n<details>\r\n\r\n<summary>(here's the \"Three.d.ts\")</summary>\r\n\r\n\"\"\"\r\nexport * from './polyfills';\r\nexport * from './renderers/WebGLMultisampleRenderTarget';\r\nexport * from './renderers/WebGLCubeRenderTarget';\r\nexport * from './renderers/WebGLRenderTarget';\r\nexport * from './renderers/WebGLRenderer';\r\nexport * from './renderers/shaders/ShaderLib';\r\nexport * from './renderers/shaders/UniformsLib';\r\nexport * from './renderers/shaders/UniformsUtils';\r\nexport * from './renderers/shaders/ShaderChunk';\r\nexport * from './scenes/FogExp2';\r\nexport * from './scenes/Fog';\r\nexport * from './scenes/Scene';\r\nexport * from './objects/Sprite';\r\nexport * from './objects/LOD';\r\nexport * from './objects/InstancedMesh';\r\nexport * from './objects/SkinnedMesh';\r\nexport * from './objects/Skeleton';\r\nexport * from './objects/Bone';\r\nexport * from './objects/Mesh';\r\nexport * from './objects/LineSegments';\r\nexport * from './objects/LineLoop';\r\nexport * from './objects/Line';\r\nexport * from './objects/Points';\r\nexport * from './objects/Group';\r\nexport * from './textures/VideoTexture';\r\nexport * from './textures/DataTexture';\r\nexport * from './textures/DataTexture3D';\r\nexport * from './textures/CompressedTexture';\r\nexport * from './textures/CubeTexture';\r\nexport * from './textures/CanvasTexture';\r\nexport * from './textures/DepthTexture';\r\nexport * from './textures/Texture';\r\nexport * from './geometries/Geometries';\r\nexport * from './materials/Materials';\r\nexport * from './loaders/AnimationLoader';\r\nexport * from './loaders/CompressedTextureLoader';\r\nexport * from './loaders/DataTextureLoader';\r\nexport * from './loaders/CubeTextureLoader';\r\nexport * from './loaders/TextureLoader';\r\nexport * from './loaders/ObjectLoader';\r\nexport * from './loaders/MaterialLoader';\r\nexport * from './loaders/BufferGeometryLoader';\r\nexport * from './loaders/LoadingManager';\r\nexport * from './loaders/ImageLoader';\r\nexport * from './loaders/ImageBitmapLoader';\r\nexport * from './loaders/FontLoader';\r\nexport * from './loaders/FileLoader';\r\nexport * from './loaders/Loader';\r\nexport * from './loaders/LoaderUtils';\r\nexport * from './loaders/Cache';\r\nexport * from './loaders/AudioLoader';\r\nexport * from './lights/SpotLightShadow';\r\nexport * from './lights/SpotLight';\r\nexport * from './lights/PointLight';\r\nexport * from './lights/RectAreaLight';\r\nexport * from './lights/HemisphereLight';\r\nexport * from './lights/DirectionalLightShadow';\r\nexport * from './lights/DirectionalLight';\r\nexport * from './lights/AmbientLight';\r\nexport * from './lights/LightShadow';\r\nexport * from './lights/Light';\r\nexport * from './lights/AmbientLightProbe';\r\nexport * from './lights/HemisphereLightProbe';\r\nexport * from './lights/LightProbe';\r\nexport * from './cameras/StereoCamera';\r\nexport * from './cameras/PerspectiveCamera';\r\nexport * from './cameras/OrthographicCamera';\r\nexport * from './cameras/CubeCamera';\r\nexport * from './cameras/ArrayCamera';\r\nexport * from './cameras/Camera';\r\nexport * from './audio/AudioListener';\r\nexport * from './audio/PositionalAudio';\r\nexport * from './audio/AudioContext';\r\nexport * from './audio/AudioAnalyser';\r\nexport * from './audio/Audio';\r\nexport * from './animation/tracks/VectorKeyframeTrack';\r\nexport * from './animation/tracks/StringKeyframeTrack';\r\nexport * from './animation/tracks/QuaternionKeyframeTrack';\r\nexport * from './animation/tracks/NumberKeyframeTrack';\r\nexport * from './animation/tracks/ColorKeyframeTrack';\r\nexport * from './animation/tracks/BooleanKeyframeTrack';\r\nexport * from './animation/PropertyMixer';\r\nexport * from './animation/PropertyBinding';\r\nexport * from './animation/KeyframeTrack';\r\nexport * from './animation/AnimationUtils';\r\nexport * from './animation/AnimationObjectGroup';\r\nexport * from './animation/AnimationMixer';\r\nexport * from './animation/AnimationClip';\r\nexport * from './animation/AnimationAction';\r\nexport * from './core/Uniform';\r\nexport * from './core/InstancedBufferGeometry';\r\nexport * from './core/BufferGeometry';\r\nexport * from './core/Geometry';\r\nexport * from './core/InterleavedBufferAttribute';\r\nexport * from './core/InstancedInterleavedBuffer';\r\nexport * from './core/InterleavedBuffer';\r\nexport * from './core/InstancedBufferAttribute';\r\nexport * from './core/BufferAttribute';\r\nexport * from './core/Face3';\r\nexport * from './core/Object3D';\r\nexport * from './core/Raycaster';\r\nexport * from './core/Layers';\r\nexport * from './core/EventDispatcher';\r\nexport * from './core/DirectGeometry';\r\nexport * from './core/Clock';\r\nexport * from './math/interpolants/QuaternionLinearInterpolant';\r\nexport * from './math/interpolants/LinearInterpolant';\r\nexport * from './math/interpolants/DiscreteInterpolant';\r\nexport * from './math/interpolants/CubicInterpolant';\r\nexport * from './math/Interpolant';\r\nexport * from './math/Triangle';\r\nexport * from './math/MathUtils';\r\nexport * from './math/Spherical';\r\nexport * from './math/Cylindrical';\r\nexport * from './math/Plane';\r\nexport * from './math/Frustum';\r\nexport * from './math/Sphere';\r\nexport * from './math/Ray';\r\nexport * from './math/Matrix4';\r\nexport * from './math/Matrix3';\r\nexport * from './math/Box3';\r\nexport * from './math/Box2';\r\nexport * from './math/Line3';\r\nexport * from './math/Euler';\r\nexport * from './math/Vector4';\r\nexport * from './math/Vector3';\r\nexport * from './math/Vector2';\r\nexport * from './math/Quaternion';\r\nexport * from './math/Color';\r\nexport * from './math/SphericalHarmonics3';\r\nexport * from './extras/objects/ImmediateRenderObject';\r\nexport * from './helpers/SpotLightHelper';\r\nexport * from './helpers/SkeletonHelper';\r\nexport * from './helpers/PointLightHelper';\r\nexport * from './helpers/HemisphereLightHelper';\r\nexport * from './helpers/GridHelper';\r\nexport * from './helpers/PolarGridHelper';\r\nexport * from './helpers/DirectionalLightHelper';\r\nexport * from './helpers/CameraHelper';\r\nexport * from './helpers/BoxHelper';\r\nexport * from './helpers/Box3Helper';\r\nexport * from './helpers/PlaneHelper';\r\nexport * from './helpers/ArrowHelper';\r\nexport * from './helpers/AxesHelper';\r\nexport * from './extras/curves/Curves';\r\nexport * from './extras/core/Shape';\r\nexport * from './extras/core/Path';\r\nexport * from './extras/core/ShapePath';\r\nexport * from './extras/core/Font';\r\nexport * from './extras/core/CurvePath';\r\nexport * from './extras/core/Curve';\r\nexport * from './extras/ImageUtils';\r\nexport * from './extras/ShapeUtils';\r\nexport * from './extras/PMREMGenerator';\r\nexport * from './renderers/webgl/WebGLBufferRenderer';\r\nexport * from './renderers/webgl/WebGLCapabilities';\r\nexport * from './renderers/webgl/WebGLClipping';\r\nexport * from './renderers/webgl/WebGLExtensions';\r\nexport * from './renderers/webgl/WebGLGeometries';\r\nexport * from './renderers/webgl/WebGLIndexedBufferRenderer';\r\nexport * from './renderers/webgl/WebGLInfo';\r\nexport * from './renderers/webgl/WebGLLights';\r\nexport * from './renderers/webgl/WebGLObjects';\r\nexport * from './renderers/webgl/WebGLProgram';\r\nexport * from './renderers/webgl/WebGLPrograms';\r\nexport * from './renderers/webgl/WebGLProperties';\r\nexport * from './renderers/webgl/WebGLRenderLists';\r\nexport * from './renderers/webgl/WebGLShader';\r\nexport * from './renderers/webgl/WebGLShadowMap';\r\nexport * from './renderers/webgl/WebGLState';\r\nexport * from './renderers/webgl/WebGLTextures';\r\nexport * from './renderers/webgl/WebGLUniforms';\r\nexport * from './constants';\r\nexport * from './Three.Legacy';\r\n\r\nexport as namespace THREE;\r\n\"\"\"\r\n\r\n</details>"},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nThe official docs for [TorusKnotGeometry](https://threejs.org/docs/#api/en/geometries/TorusKnotGeometry) and [TorusKnotBufferGeometry](https://threejs.org/docs/#api/en/geometries/TorusKnotBufferGeometry) has misleading code examples. To achieve that one as in the docs developers need to use \"MeshLambertMaterial\", not \"MeshBasicMaterial\" as written in the docs. It gives completely different output than in the code examples which you can see in the CodeSandboxes below.\r\n\r\nIf you'll take a look into the color \"0xffff00\" in code examples, it cannot match, because it's yellow. Not like in the visualisation light blue...\r\n\r\nIt looks like these docs should be improved to give a real code, because based on these I couldn't reproduce the effect, at all. Possibly it would be \"MeshLambertMaterial\" with \"AmbientLight\"/\"PointLight\" (or any other lights - couldn't fully reproduce on my own). For other settings of this visualisation I've followed [creating a scene manual](https://threejs.org/docs/#manual/en/introduction/Creating-a-scene).\r\n\r\n* [CodeSandbox using MeshLambertMaterial based on official code example](https://codesandbox.io/s/torusknotbuffergeometry-using-meshlambertmaterial-cqj6s)\r\n* [CodeSandbox using MeshBasicMaterial based on official code example](https://codesandbox.io/s/torusknotbuffergeometry-using-meshbasicmaterial-9t6dg)\r\n\r\n##### Three.js version\r\n\r\n- [x] 110 (latest at CDN)\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n\r\n##### OS\r\n\r\n- [x] Not applicable\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n\r\n- [x] None"},{"labels":["documentation"],"text":"\r\n[MDN - Math.random()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random) says the function returns a a floating-point number in the range 0 to less than 1 (inclusive of 0, but not 1), MDN doesn't describe in math expression.\r\n\r\nhttps://github.com/mrdoob/three.js/blob/aec286294515e5a4f60a00e7daf05fe1558e9aaa/docs/api/en/math/Vector2.html#L337\r\n\r\n I am not sure it make sense or better, change \"a random value [0-1]\"  to  \"a random value [0-1)\" , \"a random value [0~1)\" or \"a random value [0,1)\".\r\n\r\nHow about \"Sets the x and y components of this vector to a random value in the range 0 to less than 1 (inclusive of 0, but not 1)\".\r\n\r\n"},{"labels":[null,"documentation"],"text":"From the documentation and typescript definition, curvePath.\"getPointAt()\" has 2 params, with the second being \"optionalTarget\", but in reality this isn't implemented.\r\n\r\nhttps://github.com/mrdoob/three.js/blob/master/src/extras/core/CurvePath.js#L58"},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nIt seems lack of some properties in \"MeshPhysicalMaterial\" document.\r\n\r\nhttps://threejs.org/docs/#api/en/materials/MeshPhysicalMaterial\r\n\r\nEver what I noticed are\r\n- clearcoatNormalScale\r\n- clearcoatNormalMap\r\n- sheen\r\n- transparency\r\n\r\n\r\nWe should update.\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r113\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"I documented \".vertexTangents\" on the Material class (https://threejs.org/docs/#api/en/materials/Material) but it only makes sense for materials that support a normal map. Moreover, it produces an error with MeshPhongMaterial: https://github.com/mrdoob/three.js/issues/18565#issuecomment-584979724.\r\n\r\nNot sure if we should fix it to work with Phong, or just say it's only for Standard and Physical materials. Either way the docs should be updated."},{"labels":["documentation"],"text":"It seems that **documentation entries** for\r\n- **THREE.LightProbe**\r\n- **THREE.LightProbeGenerator**\r\nare missing ..\r\n(missing entries in <three.js>/docs/list.js)\r\n\r\nLightProbe were integrated around r104.\r\n\r\nWhat I only found is a doc entry for\r\n- THREE.LightProbeHelper\r\n\r\nBTW, maybe a tiny tool would be helpful,\r\nthat could check the accordance between\r\nthe source code classes tree,\r\nand their corresponding doc entries/file existance .. ?\r\n\r\nPls drop me a word, if I could contribute ..\r\n(.. is LightProbe developer Info available ?)\r\n"},{"labels":[null,"documentation"],"text":"It seems the documentation names a function [\".isClockwise()\"](https://threejs.org/docs/index.html#api/en/extras/ShapeUtils.isClockwise) while the source code is written as [\".isClockWise()\"](https://github.com/mrdoob/three.js/blob/45418089bd5633e856384a8c0beefced87143334/src/extras/ShapeUtils.js#L26).\r\n\r\nNote the difference is in the \"w\" vs. \"W\"."},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nThe [\"Drawing lines\"](https://threejs.org/docs/#manual/en/introduction/Drawing-lines) documentation uses **Geometries** in the code snippet. It should be updated to use **BufferGeometries**.\r\n\r\nUsing **BufferGeometry** is pretty much the same number of lines of code:\r\n\"\"\"\r\nconst geometry = new THREE.BufferGeometry();\r\n  \r\nconst points = [];\r\npoints.push(new THREE.Vector3( -10, 0, 0) );\r\npoints.push(new THREE.Vector3( 0, 10, 0) );\r\npoints.push(new THREE.Vector3( 10, 0, 0) );\r\n\r\ngeometry.setAttribute( 'position', new THREE.Float32BufferAttribute( points, 3 ) );\r\n\"\"\"\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [ ] r112\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"Threejs is so great -- I hope I'm helping.  It's not a big deal anyhow, but:\r\n\r\nthreejs.org/docs/#manual/en/introduction/Creating-a-scene\r\nhas the \"<style>\"\r\n\"\"\"css\r\ncanvas { width: 100%; height: 100% }\r\n\"\"\"\r\nwhich is unreferenced.  Leaving it out makes no difference.  It is mis-leading.  \r\nI was pursuing if there was a difference between rendering to a \"canvas\" or a \"div\".\r\nRegards, Dave"},{"labels":["documentation",null],"text":"Docs: \r\nCurvePath overwrited Curve's getPoint, getPoints, getSpacedPoints and copy functions, and has different behavior.\r\nShould we write documentation about these functions?\r\nOr, at least add function names in CurvePath to inform users about the overwriting?"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nThree.js doesn't currently have a typescript section to the docs (that i could see, certainly).\r\n\r\nDescribe the bug or feature request in detail:\r\n\r\nWe should look to add an MVP doc for typescript to the docs which can list common issues and some more detail about how it works.\r\n\r\nAt the moment the typescript documentation is spread across the web on SO and in closed issues here in this repo\r\n\r\n##### Three.js version\r\n r111 ^\r\n\r\n\r\n##### Browser\r\n- [x] All of them\r\n\r\n##### OS\r\n- [x] All of them\r\n\r\n\r\n"},{"labels":[null,"documentation"],"text":"https://threejs.org/docs/#api/en/helpers/SkeletonHelper\r\n\r\n> Constructor\r\n> SkeletonHelper( object )\r\n> object -- can be any object that has an array of Bones as a sub object.\r\n> For example, a Skeleton or a SkinnedMesh.\r\n\r\nSkinnedMesh works, not Skeleton. Documentation does not seem to reflex how it works in the code. SkeletonHelper calls a function called \"getBoneList\" which only collects bones from object.children, does not look at object.bones, which explains why it doesn't work.\r\n\r\nThe simple solution is to just change the documentation to say any object with an array of children and not mention skeleton as an example or replace it with Bone. \r\n\r\nOr fix getBoneList to check for the existence of object.bones and load the data from there.\r\n\r\n"},{"labels":["documentation"],"text":"I'd be willing to write documentation for node-based materials in three.js, but need to get a couple questions answered before I feel comfortable doing so.\r\n\r\n1. Is \"StandardNodeMaterial\" the material that should be documented, and not \"MeshStandardNodeMateral\"? I believe that's true, based on https://github.com/mrdoob/three.js/pull/14572#issuecomment-430067719 and the goal that \"MeshStandardNodeMaterial\" will just be a drop-in replacement for \"MeshStandardMaterial\" but the docs would be very different if this is wrong.\r\n2. Which syntax (see https://github.com/mrdoob/three.js/pull/17105 and https://github.com/mrdoob/three.js/pull/17265) should be documented? \r\n \r\nI'd prefer to document only one recommended material class, and one recommended syntax style, at the beginning — even if multiple will be available. I'm a bit nervous about having many syntax permutations in use so early with this API.\r\n\r\n/cc @sunag @bhouston "},{"labels":[null,"documentation"],"text":"##### Description of the problem\r\nThe DRACOLoader configuration documentation example is wrong: as it is a folder, it needs to end with \"/\"\r\n\r\n\"\"\"JavaScript\r\n// Specify path to a folder containing WASM/JS decoding libraries.\r\nloader.setDecoderPath( '/examples/js/libs/draco' ); // <- '/examples/js/libs/draco/'\r\n\"\"\"\r\n\r\nThis issue also appears in the GLTFLoader docs example:\r\n\r\n\"\"\"JavaScript\r\nvar dracoLoader = new THREE.DRACOLoader();\r\ndracoLoader.setDecoderPath( '/examples/js/libs/draco' ); // <- '/examples/js/libs/draco/'\r\nloader.setDRACOLoader( dracoLoader );\r\n\"\"\"\r\n\r\nFollowing the code from the docs results in an \"uncaught exception: Object\".\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [x] r110\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\nN/A"},{"labels":["documentation"],"text":"https://threejs.org/docs/#api/en/core/Object3D.getObjectByProperty\r\n\r\nThe documentation states that the getObjectBy... functions search through the children of an object. The implementation however seems to be such, that if the parent itself satisfies the condition, it gets returned instead.\r\n\r\neither the implementation or the documentation should probably adjusted"},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nThe \"origin\" and \"direction\" vector arguments are inconsistently passed by reference in \"THREE.Ray\"'s constructor and passed by value in its \".set\" method.\r\nThis has the effect that the vectors initially passed in the constructor are unexpectedly modified when calling \".set\".\r\n\r\n**Example:**\r\n\"\"\"\r\nlet o0 = new THREE.Vector3(1, 2, 3);\r\nlet d0 = new THREE.Vector3(4, 5, 6);\r\nlet ray = new THREE.Ray(o0, d0);\r\nlet o1 = new THREE.Vector3(3, 2, 1);\r\nlet d1 = new THREE.Vector3(6, 5, 4);\r\nray.set(o1, d1);\r\n\"\"\"\r\n\"o0\" and \"d0\" now contain the values of \"o1\" and \"d1\".\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [x] r109\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":[null,"documentation"],"text":"did not find where to fix this:\r\n![Screen Shot 2019-10-13 at 23 56 18 ](https://user-images.githubusercontent.com/242577/66723068-30164300-ee15-11e9-8ee0-2c5087384b2f.png)\r\n"},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nFrom #17505. In r109 we have \"InstancedMesh\". But no the document and TS definition yet. Let's add them in r110.\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r109\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nThe [OBJLoader2 docs](https://threejs.org/docs/#examples/en/loaders/OBJLoader2) seem out of date. They mention methods like loadMtl and setMaterials which no longer exist AFAICT\r\n\r\n##### Three.js version\r\n\r\n- [X] Dev\r\n- [X] r108\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":[null,"documentation"],"text":"##### Description of the problem\r\n\r\nhttps://threejs.org/examples/?q=tga#webgl_materials_texture_tga\r\nnot working at all. aslo had a lot of issues in tga loader and couldnt use it but im most concerned about this demo, its just a blank page.\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [ ] r108\r\n- [x ] latest\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [] All of them\r\n- [x ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\ni3 7400 | r9 280x"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nRegarding Controls documents, currently Three.js has only \"OrbitControls\" document. I think it's helpful to users if we have all the Controls documents.\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r108\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"At https://threejs.org/docs/index.html#manual/en/introduction/FAQ, the link for the example of _How can scene scale be preserved on resize?_ is not working. Currently, it points to http://jsfiddle.net/Q4Jpu/."},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nI've just spent like 5-6 hours trying to figure out why \"canvas.toDataURL()\" was constantly giving me a blank image, in other words: why \"preserveDrawingBuffer: true\" did not have any effect.\r\n\r\nI was able to narrow down the problem to the three.js library, so I investigated the WebGLRenderer, and this is what I've found in the constructor:\r\n\"_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\"\r\n\r\nThis means, if you pass a context as a parameter, some of the context attributes will be ignored, including (but not limited to): \"preserveDrawingBuffer\", \"antialias\", \"premultipliedAlpha\", and \"alpha\" just to mention a few important ones.\r\n\r\nNow you might ask, why would one pass a WebGLRenderingContext to the WebGLRenderer's constructor. The answer is:\r\n**That is the recommended way to create a WebGL2 renderer, based on the [docs](https://threejs.org/docs/#manual/en/introduction/How-to-use-WebGL2) !**\r\n\r\nThis is a pretty huge problem, I think we should implement (and recommend) a better way to get a WebGL2 Renderer,  or at least, put a huge **WARNING** to the related pages on the docs for now.\r\n\r\nIt's very misleading the way it is now, because I provide the necessary parameters, and they're simply ignored, not even a warning in the console appears, or whatsoever. Programmers can waste a lot of time figuring out why those parameters don't have any effect, just like I did.\r\n\r\nMaybe we should put a \"console.warn\" above the \"_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\" line: if the context was provided, warn the users that the given attributes (that were passed along with the context) will be ignored, and they should give those parameters to the context itself upon creation.\r\nModifying those parameters on the go according to the given ones would be even better, but it seems it's not possible: [link](https://stackoverflow.com/questions/17153833/how-do-i-set-the-attributes-of-a-webgl-context-after-it-has-been-created)\r\n\r\nI can create a PR with a warning like that, but we should discuss it first.\r\n\r\n##### Three.js version\r\n- [x] r107\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n"},{"labels":["documentation",null],"text":"On https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene I read:\r\n\r\n>Before you can use three.js, you need somewhere to display it. Save the following HTML to a file on your computer, along with a copy of three.js in the js/ directory, and open it in your browser.\r\n\r\nIt would be very nice if you could jsfiddle or codepen for the examples.\r\n\r\nSame here: https://threejs.org/docs/index.html#manual/en/introduction/How-to-run-things-locally"},{"labels":["documentation",null],"text":"Hello\r\nI dont want to repeat myself so I'll just copy from my original [Three.js Forum Post](https://discourse.threejs.org/t/post-processing-documentation/8787)\r\n\r\nAre there any plans to add \"Postprocessing/EffectComposer\" pages to the documentation? When I was just starting out, it held me back from using it's potentially wonderful features, and I suspect some other beginners had that problem as well.\r\nI understand that post processing is not a core feature of \"Three.js\", but neither are model loaders, and yet they have a very sweet dedicated page, as well as an example page for each (most popular) loader. [Animation system](https://threejs.org/docs/index.html#manual/en/introduction/Animation-system) might be another example.\r\n\r\nI've always found it a little bizarre, that not a single reference to \"EffectComposer\" can be found in the docs. I think even a single page about it, with say \"FilmPass\" or \"DotScreenPass\" could potentially be very helpful.\r\nRight now it sort of feels like post processing is the black sheep of the family who doesn't get invited for christmas. \r\n\r\n\r\nI really like the idea of \"EffectComposer\" and \"How to use post-processing\" propositions by @Mugen87 (given in the forum post linked at the beginning)"},{"labels":["documentation"],"text":"It's a very common occurrence, on the forums/SO, to stumble by people having difficulties integrating existing shader chunks with their own custom shaders. \r\n\r\nMost of the problem lies in the lack of a documentation for these. Having to dig through each chunk, determine each of their dependencies and required defines/uniforms makes it for quite a bit of work. \r\n\r\nI'm sure it has been considered before, but is there any good reasons for not having these docs, besides being a lot of work? Finding a good way to organize the documentation could be tricky, but having this sort of information available is bound to be beneficial in the long run.\r\n\r\nI would be more than happy to contribute with the creation of the documents, given that we can find an appropriated way of organizing and showcasing all the information required for each chunk. I think this is an all or nothing kind of deal.\r\n\r\nInterested in hearing thoughts about this and possible counter arguments against having these docs.\r\n"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nIn the documentation page for ShaderMaterial, the current property description for morphTarget:\r\n\"Defines whether the material uses morphTargets; true morphTarget attributes to this shader\"\r\nis not clear and needs review.\r\n\r\nsee [https://threejs.org/docs/#api/en/materials/ShaderMaterial](https://threejs.org/docs/#api/en/materials/ShaderMaterial)\r\n\r\n##### Three.js version\r\n- [x] r106\r\n\r\n"},{"labels":["documentation"],"text":"Documentation of lerp and lerpVectors says:\r\n\r\n> alpha - interpolation factor in the closed interval [0, 1].\r\n\r\nBut implementation is not clamped, unclamped version is more generic and useful than clamped, so just please update the documentation.\r\n\r\nhttps://github.com/mrdoob/three.js/blob/ce97f8b14b19c5130f0c48f27ffe0dec5dce042f/src/math/Vector3.js#L508"},{"labels":["documentation"],"text":"In the Docs -> ExtrudeGeometry & ExtrudeBufferGeometry, it's extrudePath option should be Curve not CurvePath."},{"labels":[null,"documentation"],"text":"##### Description of the problem\r\n\r\nSteps:\r\n\r\n1. go to https://threejs.org/docs/#examples/loaders/TGALoader\r\n2. click on \"en\" and pick \"zh\" (gets 404)\r\n3. click on \"zh\" and pick \"en\" (gets 404)\r\n\r\nI'm guessing this means the file doesn't have a translation? But then selecting english doesn't take me back to the english. \r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [X] r105\r\n- [ ] ...\r\n\r\n"},{"labels":[null,"documentation"],"text":"I have been trying to get familiar with three.js and while reading the documentation on threejs.org under [WebGL2](https://threejs.org/docs/index.html#manual/en/introduction/How-to-use-WebGL2) , the link at the bottom for the example of [WebGL2 / materials / texture3d / volume](https://threejs.org/examples/#webgl2_materials_texture3d_volume) doesn’t display and makes the div panel - div contentWrapper - div content upset when the link is followed.\r\n\r\nLooking into this more, it looks like there is no html file linked in the debugger. Attached are two images, one that is working and the one mentioned above that is not. I’m not getting a 404, just a white screen. Perhaps this was removed and the link just needs to be deleted from WebGL2 ? Checking the github, I see no reference to this file in the examples. Perhaps it was renamed?\r\n\r\n![error](https://user-images.githubusercontent.com/10055468/58705614-b9a10900-837d-11e9-85c9-b35c5de42e20.PNG)\r\n\r\n![working](https://user-images.githubusercontent.com/10055468/58705624-c32a7100-837d-11e9-800a-65d23fb14fde.PNG)\r\n\r\n\r\n@looeee provided the correct example link on discourse as https://threejs.org/examples/#webgl2_materials_texture3d with a mention of the site design changes and the handling of incorrect URLs possibly at play.\r\n\r\n\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [ ] r105\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"##### Description of the problem\r\nCurrently the text formatting is inconsistent and introduces irregular spacings in the article. This creates problem for having clear & consistent type hierarchy, which is important for users to parse information quickly.\r\n\r\n- Example 1: the \"<br>\" tag after \"<h1> \" at the top of the article is unnecessary, the extra spacing doesn't look good. \r\n![Screen Shot 2019-05-30 at 11 06 30 AM](https://user-images.githubusercontent.com/406636/58654100-03311b80-82cc-11e9-8337-2608556830d0.png)\r\n \r\n- Example 2: This page has double \"<br>\" tags in single paragraph, the formatting creates unnecessary gaps.\r\n![Screen Shot 2019-05-30 at 11 09 33 AM](https://user-images.githubusercontent.com/406636/58654118-104e0a80-82cc-11e9-8a1b-11dbdbe91ca0.png)\r\n\r\n- Example 3: The paragraph bellow \"<h2>Constructor<h2>\" is missing \"<p>\" tag, and results in very tight spacing.\r\n![Screen Shot 2019-05-30 at 11 23 04 AM](https://user-images.githubusercontent.com/406636/58654860-b3ebea80-82cd-11e9-9d3d-dbf57e658b35.png)\r\n\r\n\r\nRecommendation: avoid \"<br>\" globally when formatting content, use \"<h1> <h2> <h3> <p>\" properly to create clear type hierarchy. \r\n"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nSometime in the last hour or so the style on the docs got updated.\r\n\r\nThings are about 20% more spaced out which I personally find far less usefull. I'm certainly not against new styles but just a vote that this style doesn't make the docs more readable it makes them less, at least for me.\r\n\r\nold:\r\n\r\n<img width=\"1203\" alt=\"Screen Shot 2019-05-31 at 0 58 55\" src=\"https://user-images.githubusercontent.com/234804/58646148-c3a41700-833f-11e9-979d-c657350f7bb7.png\">\r\n\r\n\r\nnew:\r\n\r\n<img width=\"1203\" alt=\"Screen Shot 2019-05-31 at 0 59 17\" src=\"https://user-images.githubusercontent.com/234804/58646158-c9016180-833f-11e9-8fe6-eddbf1d930a5.png\">\r\n\r\nIn fact it's funny, the new docs have a larger font but end up with less whitespace both in terms of actual whitespace and in terms of proportional whitespace which I think is one reason it appears much less readable. Of course adding more whitespace so it's the same proportions as it was would put even less info on the screen.  In any case, just pointing out that the smaller font with the larger whitespace made it more readable for me since areas were separated more.\r\n\r\n\r\nMaybe it's all just personal preference but I also prefer code to be in a monospace font. Not suggesting the paragraphs of text be monospace, only API names if possible. \r\n\r\nI know this is all subjective, just my 2¢ since I reference the docs several times a day."},{"labels":["documentation"],"text":"I was wondering if it would be possible to use some inline \"<code>\" in the documentation for actual code.\r\nFor example here we are using a \"<strong>\" tag.\r\n![image](https://user-images.githubusercontent.com/6048794/58154947-21b36900-7c73-11e9-894b-0c1d273365ca.png)\r\n\r\nAlso, I noticed that even on the new docs (in the dev branch) the strong tags are rendered without bold. Is there a reason for that?\r\n\r\nThanks!"},{"labels":["documentation"],"text":"![Screen Shot 2019-05-22 at 2 23 28 ](https://user-images.githubusercontent.com/242577/58138916-b482e200-7c38-11e9-94d7-3f81e0f14957.png)\r\n\r\nhttps://threejs.org/docs/#api/en/extras/curves/EllipseCurve"},{"labels":["documentation"],"text":"Hi!\r\nI'm interested in translating the documentations into French after noticing some of my students are sometimes struggling with English terms.\r\n\r\nI wanted to know if there was a specific process for that and also a way to link a version of the translate page to the English one.\r\nI mean, does every English page have a version number that could be linked to any translation so users know if the page he is currently reading in another language is up to date or not.\r\n\r\nThanks!"},{"labels":["documentation"],"text":"It looks like some of the object inheritance is inconsistently display in the docs. [Box3Helper](https://threejs.org/docs/#api/en/helpers/Box3Helper) is listed as inheriting from just \"LineSegments →\" while the [SkinnedMesh](https://threejs.org/docs/#api/en/objects/SkinnedMesh) page displays the fully inheritance chain as \"Object3D → Mesh →\". Is there a preferred format? I think I prefer showing the full inheritance chain so it's more immediately clear how an object can be used. In that case the Box3Helper page should display \"Object3D → Line → LineSegments →\".\r\n\r\nWould it be worth making a helper function to generate that list like the other links in the docs?"},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nNo \"updateWorldMatrix()\" in \"Object3D\" document.\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r103\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"It'd be great to have 'how to import this' near the top of documentation for example files, as we add support for them. Like:\r\n\r\n\"\"\"js\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\n\"\"\"\r\n\r\nWe get enough questions here and in the forums where people are surprised something isn't part of the core library, and this might help with some of that."},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nThere is no entry for \"MeshDistanceMaterial\". There is an [example](https://threejs.org/examples/?q=point#webgl_shadowmap_pointlight) that uses \"MeshDistanceMaterial\", ~~but  it also uses a [\"customDistanceMaterial\"](https://github.com/mrdoob/three.js/blob/5fa442d2d4478f6ef1a8697a969abeef92b51507/examples/webgl_shadowmap_pointlight.html#L103) property that isn't explained either in the docs.~~\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [x] r103\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"##### Description of the problem\r\n\r\nNo \".setFramebuffer()\" in \"WebGLRenderer\" document.\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r103\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"### Description\r\n\r\nWhen you do \"renderer.setRenderTarget()\" then attempt to \"renderer.render()\" ,\r\nit doesn't work properly.\r\nHowever, when you pass \"null\" instead of \"undefined\" , it works properly\r\n\r\n[Documentation](https://threejs.org/docs/#api/en/renderers/WebGLRenderer.setRenderTarget) and [type definition](https://github.com/mrdoob/three.js/blob/7a7d6e222bcf7b7b6eff48cf0e9132b6a236ce3b/src/renderers/WebGLRenderer.d.ts#L343) says giving \"undefined\" to the \"setRenderTarget\" is not wrong usage.\r\n(and type definition says we should not use \"null\" here)\r\n\r\nDemo:\r\n\r\nhttps://codepen.io/FMS-Cat/pen/LaKJvG?editors=0010\r\n\r\n### Code / Stack Trace\r\n\r\nThis is a stack trace:\r\n\r\n![image](https://user-images.githubusercontent.com/7824814/55127058-33383300-5152-11e9-9aaa-1907acb0db68.png)\r\n\r\nThis part makes a mess I guess:\r\n\r\nhttps://github.com/mrdoob/three.js/blob/7a7d6e222bcf7b7b6eff48cf0e9132b6a236ce3b/src/renderers/WebGLRenderer.js#L1208-L1218\r\n\r\n### How should we fix this?\r\n\r\nI completely recognize what went wrong, so I can propose these solutions:\r\n\r\n- Accept both \"undefined\" and \"null\" as a render target\r\n  - Automatically replace \"undefined\" render target with \"null\" , at beginning of \"setRenderTarget\"\r\n  - Most preferable imo?\r\n- Ban \"undefined\" render target\r\n  - Also good to prevent confusion\r\n\r\nWhich one do you prefer? I'm not good at this context"},{"labels":[null,"documentation"],"text":"##### Description of the problem\r\n\r\n##### Three.js version\r\n\r\n- [x] r102\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n\r\n##### Problem\r\n\r\nAs written in the docs of Lensflare (https://threejs.org/docs/#examples/objects/Lensflare) there should be an option at the LensflareElement to change the blending-mode.\r\nBut this option is never read in the sourcecode (https://github.com/mrdoob/three.js/blob/dev/examples/js/objects/Lensflare.js) in Line 275"},{"labels":[null,"documentation"],"text":"##### Description of the problem\r\n\r\nSome code indentations in the documentation look broken\r\n\r\nFor example\r\n\r\nhttps://threejs.org/docs/#manual/en/introduction/Matrix-transformations\r\n\r\n![image](https://user-images.githubusercontent.com/7637832/53645780-f5dca480-3c7c-11e9-92d4-b5dd40eaa210.png)\r\n\r\nI'm not a CSS expert, but I guess it's caused by \"white-space: pre-wrap;\" in \"docs/page.css\"?\r\n\r\n##### Three.js version\r\n\r\n- [*] Dev\r\n- [ ] r102\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation"],"text":"##### Description of the problem\r\nIn math module i.e. Matrix3 or Matrix4 has property  _elements_ of type [number].\r\nBut in documentation and in TS typings it's stated as typed array(Float32Array).\r\nSo \"new Matrix3().elements instanceof Float32Array\" is gonna be false.\r\n\"\"\"\r\n function Matrix3() {\r\n\r\n\tthis.elements = [\r\n\r\n\t\t1, 0, 0,\r\n\t\t0, 1, 0,\r\n\t\t0, 0, 1\r\n\r\n\t];\r\n\"\"\"\r\n\r\nmaybe it would be better change it to something like\r\n\"\"\" \r\nfunction Matrix3() {\r\n\tthis.elements = new Float32Array([\r\n\r\n\t\t1, 0, 0,\r\n\t\t0, 1, 0,\r\n\t\t0, 0, 1\r\n\r\n\t]);\r\n\"\"\"\r\n\r\n\r\n##### Three.js version\r\n- [x] Dev\r\n\r\n##### Browser\r\n- [x] All of them\r\n\r\n##### OS\r\n- [x] All of them\r\n\r\n"},{"labels":[null,"documentation"],"text":"https://threejs.org/docs/#api/en/materials/Material.customDepthMaterial\r\n\r\nhttps://threejs.org/docs/#api/en/materials/Material.customDistanceMaterial\r\n\r\nThese are not properties of materials. As far as I can see from the [couple](https://threejs.org/examples/#webgl_buffergeometry_instancing_lambert) of [examples](http://threejs.org/examples/#webgl_shadowmap_pointlight) where they are used, they should be properties of \"Mesh\", or perhaps \"Object3D\". \r\n\r\nBy default, these properties are not initialised at all, even to undefined, and the only reference to them in the source is a couple of lines in \"WebGLShadowMap\" here:\r\n\r\nhttps://github.com/mrdoob/three.js/blob/074290d3823ada31cade0c70c976be09213c99f9/src/renderers/webgl/WebGLShadowMap.js#L263-L278\r\n\r\nPerhaps we could initialise them in \"Object3D\" as \r\n\r\n\"\"\"\r\nfunction Object3D() {\r\n\r\n    ... \r\n    \r\n    this.customDepthMaterial = undefined;\r\n    this.customDistanceMaterial= undefined;\r\n    ...\r\n}\r\n\"\"\"\r\n\r\nand then document them correctly?"},{"labels":["documentation",null],"text":"I have a suggestion for a clearer description of the displacementScale property in the MeshPhongMaterial object.\r\n\r\nApplies to the documentation for r99.\r\n\r\nThe text is now:\r\n\r\n> How much the displacement map affects the mesh (where black is no displacement, and white is maximum displacement). Without a displacement map set, this value is not applied. Default is 1.\r\n\r\nMy suggestion is:\r\n\r\n> Mesh vertices will be displaced depending on the intensity of the pixels (black is no displacement,  white is maximum displacement). This property defines how far, measured in local coordinate units, a vertex will move when maximally displaced. The default value is 1.\r\n\r\nAm open for other ideas as well."},{"labels":[null,"documentation"],"text":"##### Description of the problem\r\n#14846 stripped the localization from the \"[path]\" placeholder to get the links to the source files working again but the edit button in the top right needed that to point to the localized docs file.\r\n\r\nhttps://github.com/mrdoob/three.js/blob/12450bedbef53649992cf55f10d7c1b9a253570f/docs/page.js#L102-L106\r\n\r\nFirst noticed in https://github.com/mrdoob/three.js/pull/14750#issuecomment-414792240 as far as I can tell. A previous hotfix(hiding the button) was applied in 0c58464ab1b37451d6440025bc5d8c0095fec8da, but got removed with the release of r96."},{"labels":["documentation"],"text":"The documentation for \"Line\", \"LineSegments\", \"Mesh\", and \"Points\" don't specify which materials those objects are allowed to be created with. It seems from the names of materials that materials beginning with \"Mesh\" (e.g. \"MeshBasicMaterial\", \"MeshDepthMaterial\", \"MeshLambertMaterial\", \"MeshNormalMaterial\", \"MeshPhongMaterial\", \"MeshPhysicalMaterial\", \"MeshStandardMaterial\", and \"MeshToonMaterial\") should only be applied to \"Mesh\"s, materials beginning with \"Line\" (e.g. \"LineBasicMaterial\" and \"LineDashedMaterial\") should only be applied to \"Line\" and \"LineSegments\", and \"PointsMaterial\" should only be applied to \"Points\". Is it correct that only a certain subset of materials should be applied to certain objects? If this is the case, can that be documented in the documentation or code? I'm fine with making the PR to update the documentation if that's the case, but I thought I should ask if this is the case first. (The reason for this issue is because of the discussion started here: https://github.com/DefinitelyTyped/DefinitelyTyped/pull/27413)."},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nAs the title indicates.\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r97\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nI think we need \"How to use WebGL 2.0\" section in the document. Probably what we need in the section are\r\n\r\nHow to detect WebGL 2.0 availability.\r\n\r\n    if ( WEBGL.isWebGL2Available() === false ) {\r\n\r\n        document.body.appendChild( WEBGL.getWebGL2ErrorMessage() );\r\n\r\n    }\r\n\r\nHow to use WebGL 2.0 renderer.\r\n\r\n    var canvas = document.createElement( 'canvas' );\r\n    var context = canvas.getContext( 'webgl2' );\r\n    var renderer = new THREE.WebGLRenderer( { canvas: canvas, context: context } );\r\n\r\nHow to write GLSL ES3.0 with [Raw]ShaderMaterial.\r\n\r\n    <script id=\"vs\" type=\"x-shader/x-vertex\">\r\n    #version 300 es\r\n\r\n    void main() {\r\n\r\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\r\n    }\r\n    </script>\r\n    <script id=\"fs\" type=\"x-shader/x-fragment\">\r\n    #version 300 es\r\n\r\n    precision highp float;\r\n    precision highp int;\r\n    out vec4 out_FragColor;\r\n\r\n    void main() {\r\n\r\n        out_FragColor = vec4( 1.0 );\r\n\r\n    }\r\n    </script>\r\n\r\n    var material = new THREE.ShaderMaterial( {\r\n        vertexShader: document.getElementById( 'vs' ).textContent.trim(),\r\n        fragmentShader: document.getElementById( 'fs' ).textContent.trim()\r\n    } );\r\n\r\nAnd the links to WebGL 2.0 examples. (And, WebGL 2.0 features we're supporting right now?)\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r97\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nRight now we don't have \"WebVR contents creation\" section in the document. (Let me know if I'm missing.) Then users who wanna create WebVR contents need to pick up necessary info from \"WebGLRenderer\" doc and \"WebVR\" examples.\r\n\r\nI think having WebVR section in the document is very useful to such users. (Actually I had missed I must use \"renderer.setAnimationLoop\" so I spent so long time to fix.)\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [ ] r96\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":[null,"documentation"],"text":"##### Description of the problem\r\n\r\nThe bottom of the doc page of [InstancedBufferGeometry](https://threejs.org/docs/index.html#api/en/core/InstancedBufferGeometry) has a link to the source [src/en/core/InstancedBufferGeometry.js](https://github.com/mrdoob/three.js/blob/master/src/en/core/InstancedBufferGeometry.js) which is broken.\r\n\r\n##### Three.js version\r\n\r\n- [x] r96\r\n\r\n##### Browser\r\n\r\n- [x] Opera\r\n- [x] Chrome\r\n- [x] and maybe all others\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n\r\n![untitled](https://user-images.githubusercontent.com/20371270/44948837-b9df9880-ae2d-11e8-9368-50cb98e9345d.png)\r\n\r\n»(◕‸◕)«"},{"labels":["documentation"],"text":"Hi, We are a team from china who love open source.We want to translate the documentation into \r\nChinese. About now our plan is to translate pages and convert them into static pages. \r\nSo I want to know how we can put these pages into this repo , or merge them into the threejs.org documentation part?\r\nPleased to hear reply."},{"labels":["documentation"],"text":"I noticed the code samples on the \"LoadingManager\" page don't appear to be formatted correctly\r\n\r\nhttps://threejs.org/docs/#api/loaders/managers/LoadingManager\r\n\r\n##### Three.js version\r\n\r\n- [X] Dev\r\n- [X] r95\r\n"},{"labels":["documentation"],"text":"The current docs for \"Material.needsUpdate\" say \r\n\r\n> .needsUpdate : Boolean\r\n>\r\n> Specifies that the material needs to be updated at the WebGL level. Set it to true if you made changes that need to be reflected in WebGL.\r\n\r\nBut AFAIK most material parameters don't need \"needsUpdate\" set? Is it documented anywhere which material parameters might need \"needsUpdate\" set?"},{"labels":["documentation",null],"text":"(Since docs are part of the repository, I'm assuming this is the right place to suggest this)\r\n\r\nCurrently all internal links don't use href attribute, and as a result they can't be opened in a new tab with ctrl+click or right click, making the docs much harder to navigate."},{"labels":["documentation",null],"text":"The results are not sorted in close-to-far order. I can't seem to find anything in [the code ](https://github.com/mrdoob/three.js/blob/master/src/objects/Mesh.js) trying to sort the result.\r\nAm I missing something?"},{"labels":["documentation",null],"text":"This is a problem with the documentation of threejs, not threejs itself, I got redirected by the [IRC chat](https://webchat.freenode.net/?channels=three.js) by a red colored user \"bai\" to place this bug here.\r\n\r\n# Steps:\r\n\r\n1. go to https://threejs.org/docs/index.html#api/lights/DirectionalLight\r\n2. Press middle mouse button on any link on the page, for example \"DirectionalLightShadow\"\r\n\r\n# Expection:\r\n\r\nSince it has the pointer cursor, I expect the browser to open the page on a new tab\r\n\r\n# Reality:\r\n\r\nThe browser executes the scroll using middle mouse button interaction\r\n\r\n# Why is this a problem\r\n\r\nThis is a problem because when new developers come to the documentation, and seeing an first impression from breaking the UX flow most people are used with, is a bad sign and encourages new people to go away.\r\n\r\n"},{"labels":["documentation",null],"text":"##### Description of the problem\r\n\r\nI was recently bitten by some very unintuitive and difficult to trace behavior.\r\n\r\nWhen adding a child Object3D to a parent Object3D, such as in scene.add(mesh), there is understandably the invariant that a child can only have one parent, so it is set to the parent. However, I believe it is overly aggressive in maintaining that invariant.\r\n\r\nWhat is not clear, from the method name (add), the documentation, or even intuition, is that if the child already has a parent, it will be forcibly evicted from it's current parents \"children\" array.\r\n\r\nThis caused a huge problem for me, as I imported a mesh hierarchy from a Three.JS official 3D model loader, which created an object graph internally. I appreciate the library taking this initiative for me. I was iterating over the children in that imported file and adding them to my scene in different places, but I was randomly missing a few of the children, roughly half of them.\r\n\r\nIt took far too long to discover that \"scene.add(item)\" will perform an \"item.parent.remove(item)\" beforehand. I feel cheated by the method being named \"add\", when in fact it is more akin to \"steal\". It is against the intuition of that \"add\" means. \r\n\r\nI still don't even know the best way to do this - should I copy the Object3D's as I iterate over them and add the copy to the scene?\r\n\r\nWhat I think would be more intuitive is for the \"add\" method to throw an exception if adding the item would violate the single-parent invariant, and provide a new method, perhaps \"transfer\", \"assign\", or \"steal\", that will steal it from it's current parent if necessary. At the very least, please document this behaviour, as kidnapping is simply not okay.\r\n\r\n* [jsfiddle](https://jsfiddle.net/cpa8dgag/)\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [X] r92\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":[null,"documentation"],"text":"Hi mrdoob/team,\r\n\r\nMany times while going through the documentation I would like to ctrl/cmd+click on links pointing to particular class documentation to open in new tab. Because the <a> elements don't even contain href attribute, it simply doesn't work. Similarly, I can't right click and \"Open in new tab\".\r\n\r\nI'm not providing an example because you can pick any documentation page and look for any documentation-linked class name to see the problem.\r\n\r\nThe documentation of three.js is pretty good and I'm thankful! Just wondering if it'd not be too much work to perhaps update the onclick listener / setFragmentUrl function to consider if a modifier is pressed. (I understand the lack of href is because you want the doc page to be like an SPA).\r\n\r\nThank you for your consideration and have a great day,\r\nMichal"},{"labels":["documentation",null],"text":"After seeing this:\r\n\r\nhttps://github.com/mrdoob/three.js/blob/dev/src/renderers/WebGLRenderer.js#L1991-L2061\r\n\r\nI propose adding some kind of documentation to let the world know that there is magic happening under the hood.\r\n\r\n\r\n>Texture classes have a transform property. Materials can use multiple textures, but also have a single transform property. \r\nBecause a single material, with a single transform property can have many textures with many unique transform properties - Three.js does voodoo magic under the hood to chose which texture's transform to honor. \r\nThis is the list ~[insert list]~.\r\n\r\n\r\n## edit\r\n\r\n1. map\r\n2. specularMap\r\n3. displacementMap\r\n4. normalMap\r\n5. bumpMap\r\n6. roughnessMap\r\n7. metalnessMap\r\n8. alphaMap\r\n9. emissiveMap \r\n\r\nMaybe warn the user that if they have some kind of transform on the emissive map, it will be completely ignored, and the user can expect to see the transform belonging to **any** other 8 map slots that come before?\r\n\r\n##### Three.js version\r\n\r\n- [x] Dev\r\n- [x] r89\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] macOS\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] iOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n"},{"labels":["documentation",null],"text":"It seems nothing shows up when I filter on 'triangulateShape' on https://threejs.org/docs/\r\nIs that intended behavior? Can you reproduce?"},{"labels":["documentation",null,null],"text":"This may sound like a request for a help but it could also fall under Feature Request for a documentation for Editor. I've been looking for a documentation of the API/methods for the editor and I can't seem to find it.\r\n\r\nWhat I'm trying to do is add a custom Object under default Add menu or change default Grid steps and sizes or something basic as change the camera to Ortho. These things can be done Three.js, however for editor, it usually requires some extra API/methods, like \"editor.execute( New AddObjectCommand( obj ) );\" or methods related to signals.\r\n\r\nSpent entire 2 weekends reading and searching for methods. I find one but then again, after a while when I try to do something new like say loading json I need to scour through the files and search for Loader methods for editor.\r\n\r\nIs there a doc for editor or request even for the basic tasks would be great?!\r\n"},{"labels":["documentation",null],"text":"It would be very useful if somebody would create an additional documentation page that explains the different caching mechanism of \"three.js\":\r\n\r\n- It should be highlighted that a caching system is an important part of a 3D library in order to reduce the overhead implied by recreating or resetting something already done. The goal is to minimize the communication between \"three.js\" and the WebGL API, because those API calls can be expensive.\r\n- Provide an overview what kind of entities are cached in \"three.js\" (e.g. Materials, Geometries, Textures...).\r\n- Explain, what the \".dispose()\" methods do and why they are important.\r\n\r\nIn the past, i've seen many questions about caching and code where \".dispose()\" is not used correctly. An additional documentation page will provide a better understanding of this important topic.\r\n\r\nThe page could be integrated in the \"Next Steps\" section."},{"labels":["documentation",null],"text":"Hi,\r\n \r\n  the documentation about WebGLRenderer states that:\r\n\r\n.gammaInput  If set, then it expects that all textures and colors are premultiplied gamma. Default is false.\r\n\r\n.gammaOutput If set, then it expects that all textures and colors need to be outputted in premultiplied gamma. Default is false.\r\n\r\nMy understanding by examining the code is instead that:\r\n- if gammaInput is true, textures in material are considered sRGB (e.g. diffuseTexture), so the fetched value is linearised before using it in calculations; however, colours (e.g. diffuse color) that are passed to the shader are considered as in linear space.\r\n- if gammaInput is false, instead, textures and colors are considered as linear\r\n- if gammaOutput is true, the final color computed by material shaders is gamma-encoded, otherwise not.\r\n\r\nIf my understanding is correct, I think the documentation is misleading.\r\nIn any case, using the MeshStandardMaterial, we should always use gammaOutput=true, right? Otherwise the display will show a wrong color - or are there any other gamma operations outside the shaders?\r\n\r\nThanks!\r\n\r\n\r\n\r\n"},{"labels":["documentation",null],"text":"##### Description of the problem \r\n\r\nBy structured uniform, I mean a uniform of the form:\r\n\r\n    struct parameters {\r\n        float scale, height, width, offset, baseline;\r\n    };\r\n    uniform parameters transition_model;\r\n\r\nCurrently, the [uniform documentation](https://threejs.org/docs/?q=unifor#Reference/Core/Uniform) only states that\r\n\r\n> Uniform structures and arrays are also supported.\r\n\r\nbut doesn't go into further detail on how to set such uniforms using three.js. I had to figure out the proper syntax by stepping through the source code. For future reference, the syntax is:\r\n\r\n    material.uniforms = {\r\n        transition_model: { value: {\r\n            scale: pScale,\r\n            height: pHeight,\r\n            width: pWidth,\r\n            offset: pOffset,\r\n            baseline: pBaseline\r\n        }\r\n    }\r\n\r\n[This old issue thread](https://github.com/mrdoob/three.js/issues/2720) is the only reference I could find on structured uniforms in three.js. Moreover, said issue doesn't conclude on a single syntax (nor is the correct syntax even mentioned).\r\n\r\nIt would be nice to have this topic covered in the official documentation. Just like there already is a nice example of regular (non-structured) uniform usage.\r\n\r\n##### Three.js version\r\n\r\n- [ ] Dev\r\n- [x] r84\r\n- [ ] ...\r\n\r\n##### Browser\r\n\r\n- [x] All of them\r\n- [ ] Chrome\r\n- [ ] Firefox\r\n- [ ] Internet Explorer\r\n\r\n##### OS\r\n\r\n- [x] All of them\r\n- [ ] Windows\r\n- [ ] Linux\r\n- [ ] Android\r\n- [ ] IOS\r\n\r\n##### Hardware Requirements (graphics card, VR Device, ...)\r\n\r\n\r\n"},{"labels":["documentation",null],"text":"I'm trying to write a few converters in my languages of choice to translate various output formats into the JSON Scene Format v4 but I cannot seem to find an exhaustive, formal specification document anywhere. Does one exist, even in draft status? \r\n\r\nFor instance, in strongly typed languages (and generally for validation) it would be useful to know exactly what field values may be expected. Would it be possible to build a formal schema based on the [JSON schema](http://json-schema.org/) specification for this purpose?\r\n\r\n"},{"labels":["documentation"],"text":"##### Description of the problem\n\nthere is no mention of overbright values >1.0 being allowed in THREE.Color. Although they work completely fine and are an important feature imo (p.e. for emissive materials)\n\nit simply states 'value between 0 and 1. Default is 1.'\n\nmaybe add 'bigger than 1 is handled as overbright'\n\n[http://threejs.org/docs/?q=standard#Reference/Math/Color](http://threejs.org/docs/?q=standard#Reference/Math/Color)\n##### Three.js version\n- [ ] Dev\n- [x] r79\n- [ ] ...\n##### Browser\n- [x] All of them\n- [ ] Chrome\n- [ ] Firefox\n- [ ] Internet Explorer\n##### OS\n- [x] All of them\n- [ ] Windows\n- [ ] Linux\n- [ ] Android\n- [ ] IOS\n##### Hardware Requirements (graphics card, VR Device, ...)\n"},{"labels":["documentation",null],"text":"##### Description of the problem\n\nCurrently, MeshStandardMaterial does not refer to any background material nor contain any description of how it's shading functions differently from the other Material models.  \"Standard\" is not descriptive at all.  My understanding is that it is trying to move move in the direction of Physically Based Rendering, but it's not totally clear what the nuances of that shift might be.  \n\nI'm happy to help update the docs, as I am working to integrate the Rect light work with the Standard Material, but either some background info, or pointers to good background materials would be helpful for me to do that.  \n##### Three.js version\n- [X] Dev\n"},{"labels":["documentation"],"text":"Hi, I only found out this method of changing the up-axis of camera on a blog post on Stack Overflow (http://stackoverflow.com/questions/15480910/three-js-way-to-change-the-up-axis)\n\nIt is a really useful feature.\nShould someone add this to one of the documentation page?\n"},{"labels":["documentation"],"text":"UniformsUtils.merge use the clone method that does not seem to clone by reference. So uniforms variables are not update into the shader\n\nSo this, is not working:\n\n\"\"\" javascript\nuniforms = {\n     time: { type: \"f\", value: 1.0 },\n};\n\nvar material = new THREE.ShaderMaterial( {\n     uniforms: THREE.UniformsUtils.merge( [\n         THREE.UniformsLib[ \"common\" ],\n         uniforms\n     ] ),\n     ...\n     ...\n\nuniforms.time.value ++;\n\"\"\"\n\nHere my workaround\n\n\"\"\" javascript\nuniforms = THREE.UniformsUtils.merge([\n    THREE.UniformsLib[ \"common\" ],\n    myuniforms\n]);\n\nuniforms.time={ type: \"f\", value: 1.0 };\n\nvar groundMaterial = new THREE.ShaderMaterial( {\n     uniforms: uniforms,\n     ...\n     ...\n\nuniforms.time.value ++;\n\"\"\"\n\n[r71]\n"},{"labels":["good first issue","help wanted","kind/documentation","sig/node"],"text":"<!-- Please only use this template for submitting enhancement requests -->\r\n\r\n**What would you like to be added**:\r\n\r\nThe documentation suggests that \"The default pull policy is IfNotPresent\"\r\nThis is not the case when imagePullPolicy is defined under the spec section in a Pod definition without a specific value. \r\n\r\nExample:\r\n\"\"\"\r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  labels:\r\n    run: nginx-test\r\n  name: nginx-test\r\nspec:\r\n  containers:\r\n  - image: nginx\r\n    name: nginx-test\r\n  imagePullPolicy:\r\n\r\n\"\"\"\r\nThis will result in a Pod having imagePullPolicy as Always.\r\n\r\n**Why is this needed**:\r\n\r\nThis is needed for clarification of the default behaviour.\r\nIt is necessary for the appropriate handling of helm charts, in cases that the imagePullPolicy is empty.\r\n"},{"labels":["good first issue","help wanted","kind/documentation","sig/scheduling"],"text":"We have recently changed how plugin args are parsed, defaulted and (#90859) validated.\r\n\r\nThe process is more complicated than most standard API uses.\r\nWe need to document this, probably in a new \"pkg/scheduler/framework/plugins/README.md\".\r\n\r\nDetails for out-of-tree plugins can go to https://kubernetes.io/docs/concepts/scheduling-eviction/scheduling-framework/\r\n\r\n/kind documentation\r\n/sig scheduling\r\n/help"},{"labels":["help wanted","kind/documentation","sig/auth"],"text":"**What happened**:\r\n\r\nAfter rotating the SA public and private keys, the API server is unable to validate tokens minted off the old private key.\r\n\r\n\r\n**What you expected to happen**:\r\n\r\nBased on the documentation and the notes in [34029](https://github.com/kubernetes/kubernetes/pull/34029) and [20165](https://github.com/kubernetes/kubernetes/issues/20165), I would have expected the API server to accept the token that was created by the previous private key.\r\n\r\n\r\n**Environment**:\r\n\r\n$ kubectl version\r\n\r\nClient Version: version.Info{Major:\"1\", Minor:\"18\", GitVersion:\"v1.18.2\", GitCommit:\"52c56ce7a8272c798dbc29846288d7cd9fbae032\", GitTreeState:\"clean\", BuildDate:\"2020-04-16T11:56:40Z\", GoVersion:\"go1.13.9\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"18\", GitVersion:\"v1.18.2\", GitCommit:\"52c56ce7a8272c798dbc29846288d7cd9fbae032\", GitTreeState:\"clean\", BuildDate:\"2020-04-30T20:19:45Z\", GoVersion:\"go1.13.9\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n\r\n$ kind version\r\nkind v0.8.1 go1.14.2 linux/amd64\r\n\r\n$ cat /etc/os-release \r\nNAME=\"CentOS Linux\"\r\nVERSION=\"7 (Core)\"\r\nID=\"centos\"\r\nID_LIKE=\"rhel fedora\"\r\nVERSION_ID=\"7\"\r\nPRETTY_NAME=\"CentOS Linux 7 (Core)\"\r\nANSI_COLOR=\"0;31\"\r\nCPE_NAME=\"cpe:/o:centos:centos:7\"\r\nHOME_URL=\"https://www.centos.org/\"\r\nBUG_REPORT_URL=\"https://bugs.centos.org/\"\r\n\r\nCENTOS_MANTISBT_PROJECT=\"CentOS-7\"\r\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\r\nREDHAT_SUPPORT_PRODUCT=\"centos\"\r\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\r\n\r\n$ uname -a\r\nLinux kube 3.10.0-1127.el7.x86_64 #1 SMP Tue Mar 31 23:36:51 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n\r\n**Steps to reproduce**\r\n\r\nI was experimenting with certificate and service account key rotation. To test the SA key rotation process, I fired up a Kind cluster with the following configuration:\r\n\r\n$ kind create cluster --name test --config kind\r\n\r\n\"\"\"\r\nkind: Cluster\r\napiVersion: kind.sigs.k8s.io/v1alpha3\r\nnodes:\r\n- role: control-plane\r\n- role: worker\r\n- role: worker\r\n\"\"\"\r\nOnce the cluster was up, I copied the existing SA public key to saold.pub:\r\n\r\n$ docker exec -it test-control-plane sh\r\n$ cd /etc/kubernetes/pki\r\n$ cp sa.pub saold.pub\r\n$ mkdir bak && mv sa.* bak\r\n\r\nAnd minted new sa keys with kubeadm:\r\n\r\n$ kubeadm init phase certs sa\r\n\r\nThen I added \"- --service-account-key-file=/etc/kubernetes/pki/saold.pub\" to /etc/kubernetes/manifests/kube-apiserver.yaml. Next I restarted the API server and controller manager to pick up the changes:\r\n\r\n\"\"\"\r\nroot      3617 31.0  3.8 446240 310908 ?       Ssl  01:37   0:09 kube-apiserver --advertise-address=172.18.0.4 --allow-privileged=true --authorization-mode=Node,RBAC --client-ca-file=/etc/kubernetes/pki/ca.crt --enable-admission-plugins=NodeRestriction --enable-bootstrap-token-auth=true --etcd-cafile=/etc/kubernetes/pki/etcd/ca.crt --etcd-certfile=/etc/kubernetes/pki/apiserver-etcd-client.crt --etcd-keyfile=/etc/kubernetes/pki/apiserver-etcd-client.key --etcd-servers=https://127.0.0.1:2379 --insecure-port=0 --kubelet-client-certificate=/etc/kubernetes/pki/apiserver-kubelet-client.crt --kubelet-client-key=/etc/kubernetes/pki/apiserver-kubelet-client.key --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname --proxy-client-cert-file=/etc/kubernetes/pki/front-proxy-client.crt --proxy-client-key-file=/etc/kubernetes/pki/front-proxy-client.key --requestheader-allowed-names=front-proxy-client --requestheader-client-ca-file=/etc/kubernetes/pki/front-proxy-ca.crt --requestheader-extra-headers-prefix=X-Remote-Extra- --requestheader-group-headers=X-Remote-Group --requestheader-username-headers=X-Remote-User --secure-port=6443 --service-account-key-file=/etc/kubernetes/pki/sa.pub --service-account-key-file=/etc/kubernetes/pki/saold.pub --service-cluster-ip-range=10.96.0.0/12 --tls-cert-file=/etc/kubernetes/pki/apiserver.crt --tls-private-key-file=/etc/kubernetes/pki/apiserver.key\r\n\r\nroot      3499  6.2  0.4 159676 34784 ?        Ssl  01:37   0:02 kube-controller-manager --allocate-node-cidrs=true --authentication-kubeconfig=/etc/kubernetes/controller-manager.conf --authorization-kubeconfig=/etc/kubernetes/controller-manager.conf --bind-address=127.0.0.1 --client-ca-file=/etc/kubernetes/pki/ca.crt --cluster-cidr=10.244.0.0/16 --cluster-name=test --cluster-signing-cert-file=/etc/kubernetes/pki/ca.crt --cluster-signing-key-file=/etc/kubernetes/pki/ca.key --controllers=*,bootstrapsigner,tokencleaner --enable-hostpath-provisioner=true --kubeconfig=/etc/kubernetes/controller-manager.conf --leader-elect=true --node-cidr-mask-size=24 --requestheader-client-ca-file=/etc/kubernetes/pki/front-proxy-ca.crt --root-ca-file=/etc/kubernetes/pki/ca.crt --service-account-private-key-file=/etc/kubernetes/pki/sa.key --service-cluster-ip-range=10.96.0.0/12 --use-service-account-credentials=true\r\n\"\"\"\r\n\r\nNow that the API server was configured to use the old as well as the new public keys, I deleted the coredns SA token to see if everything continued to work:\r\n\r\n$ kubectl delete secret coredns-token-lpx72 -n kube-system\r\nsecret \"coredns-token-lpx72\" deleted\r\n\r\nAfter a few queries were issued, I was a bit confused when I saw the following log entries:\r\n\r\n\"\"\"\r\nCoreDNS logs:\r\n  coredns-66bff467f8-plr9h coredns E0509 01:46:30.772785       1 reflector.go:153] pkg/mod/k8s.io/client-go@v0.17.2/tools/cache/reflector.go:105: Failed to list *v1.Endpoints: Unauthorized\r\n\r\nAPI server logs:\r\n  kube-apiserver-test-control-plane kube-apiserver E0509 01:48:34.113219       1 authentication.go:53] Unable to authenticate the request due to an error: [invalid bearer token, Token has been invalidated]\r\n\"\"\"\r\nNext I deleted the coredns pods, and the Unauthorized messages went away. Based on @liggitt's comment in issue [22351](https://github.com/kubernetes/kubernetes/issues/22351):\r\n\r\n_\"if you have changed the service account token signing key, existing tokens in etcd will no longer validate\"_\r\n\r\nThis would explain the Unauthorized messages. But issue [34029](https://github.com/kubernetes/kubernetes/pull/34029) appears to add support for multiple keys, and @ericchiang's comment in [20165](https://github.com/kubernetes/kubernetes/issues/20165) leads me to believe things should continue working when the private key is rotated:\r\n\r\n_\"API servers can already be given multiple public keys to validate service account JWTs (#34029). This lets you introduce a new key pair over time for validation before changing it in the controller manager as the active signing key.\"_\r\n\r\nI have looked everywhere for an answer to this, but my searching hasn't turned up much. Could someone clarify what *should* happen if the SA keys are rotated, a token is signed with the new key, and the API server is configured to use the old and new public keys? I'll be glad to submit a documentation PR to clarify this for others.\r\n"},{"labels":["kind/documentation","sig/node"],"text":"**What would you like to be added**:\r\n\r\n**Updated issue description:**\r\n\r\n\"imagePullPolicy: Always\" resolves the image with the registry, and if it resolves to a sha that is not already pulled to the node, pulls the image content. If the resolved sha is already pulled to the node, it uses the already-pulled content. The documentation does not make this clear.\r\n\r\n\r\n**Original issue description:**\r\n\r\nCurrently the options for the container \"imagePullyPolicy\" is limited to \"Always\" and \"IfNotPresent\". It would be useful to have an additional option of \"IfModified\" when combined with a tag. If the docker digest for the \"arch + os\" has changed then pull a newer image. Maybe this needs to happen upstream in docker first?\r\n\r\nA sample tag entry from the docker registry v2 API:\r\n\r\n\"\"\"\r\n{\r\n      \"creator\": 7,\r\n      \"id\": 2110,\r\n      \"image_id\": null,\r\n      \"images\": [\r\n        {\r\n          \"architecture\": \"amd64\",\r\n          \"features\": \"\",\r\n          \"variant\": null,\r\n          \"digest\": \"sha256:1ae98b2c895d1ceeba8913ff79f422f005b7f967a311da520a88ac89180b4c39\",\r\n          \"os\": \"linux\",\r\n          \"os_features\": \"\",\r\n          \"os_version\": null,\r\n          \"size\": 87342331\r\n        }\r\n      ],\r\n      \"last_updated\": \"2017-04-06T20:16:24.015937Z\",\r\n      \"last_updater\": 2215,\r\n      \"last_updater_username\": \"stackbrew\",\r\n      \"name\": \"centos5\",\r\n      \"repository\": 54,\r\n      \"full_size\": 87342331,\r\n      \"v2\": true\r\n    }\r\n\"\"\"\r\n\r\n**Why is this needed**:\r\n\r\nWould eliminate needless downloads from a registry where the image version has not changed. Acting similar to e-tags/if-modified-since tags in HTTP."},{"labels":["kind/documentation","sig/testing"],"text":"**What would you like to be added**:\r\nRemove \"go test ./...\" example from [testing guide](https://github.com/kubernetes/community/blob/master/contributors/devel/sig-testing/testing.md).\r\n\r\n**Why is this needed**:\r\nWhile trying to get all unit tests to run locally, I tried using this and it doesn't work, at least not from the Kubernetes root.\r\n\r\nThe reason it doesn't work is that it is not equivalent to \"make test\", because \"make test\" [specifically excludes](https://github.com/kubernetes/kubernetes/blob/b48f5af2602bf097c11c6a252bc7f82a7c096206/hack/make-rules/test.sh#L34-L60) some directories when it runs unit tests.\r\n\r\nOn a side note, I think it is actually a little confusing presenting both \"make test\" and \"go test\" alternatives intermixed within the testing guide. I wonder if the \"go test\" examples would be better off consolidated in their own section toward the end of the guide. \r\n"},{"labels":["kind/documentation","kind/feature","sig/docs"],"text":"**What would you like to be added**:\r\nThe documentation around the APIs, e.g., as seen in field comments in https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/policy/v1beta1/generated.proto, uses \"white list\" and \"whitelist\", and I suggest changing this to use allowlist instead.\r\n\r\nFor future internal code and type names, I suggest avoiding terms like \"whilelist\" and \"blacklist\" entirely.\r\n\r\n**Why is this needed**:\r\nhttps://developers.google.com/style/inclusive-documentation#features-and-users describes this pretty well. Associating \"white\" with good/allowed and \"black\" with bad/disallowed cannot be disentangled from systemic racism. In contrast, allowlist and denylist exactly and merely describe the functions of these fields and variables.\r\n\r\nhttps://github.com/kubernetes/kubernetes/search?p=2&q=%22whitelist%22+OR+%22white+list%22+OR+%22blacklist%22+OR+%22black+list%22&unscoped_q=%22whitelist%22+OR+%22white+list%22+OR+%22blacklist%22+OR+%22black+list%22"},{"labels":["kind/documentation","sig/auth"],"text":"Hey,\r\n\r\nI have a question regarding validating if PSP is applied, as well as an enhancement request on clarifying this.\r\n\r\nIt seems to me that when a Pod is validated with a PSP, a \"\"kubernetes.io/psp\"\" annotation is added with the name of the used pod security policy as its value. It is not obvious if that mechanism can be relied on, especially since it is not documented in the PSP documentation - https://kubernetes.io/docs/concepts/policy/pod-security-policy/.\r\n\r\nHowever, it can be found to be relied on per the psp/rbac examples readme:\r\nhttps://github.com/kubernetes/examples/blob/master/staging/podsecuritypolicy/rbac/README.md#testing-access\r\n\r\n## \"Show me the code\"\r\n\r\nThe \"\"kubernetes.io/psp\"\" is defined in [pkg/security/podsecuritypolicy/util/util.go#L29](https://github.com/kubernetes/kubernetes/blob/v1.18.0/pkg/security/podsecuritypolicy/util/util.go#L29) and the annotation is written into the pod object in [plugin/pkg/admission/security/podsecuritypolicy/admission.go#L139](https://github.com/kubernetes/kubernetes/blob/v1.18.0/plugin/pkg/admission/security/podsecuritypolicy/admission.go#L139). I haven't debugged this piece of code nor have I tested if it is invoked in all possible paths, and so on. That's also partially why I want to make this issue: to confirm this detail ;).\r\n\r\n## TLDR\r\n\r\n**What would you like to be added**:\r\nDocumentation about the \"kubernetes.io/psp\" annotation in Pod Security Policy docs.\r\n\r\n**Why is this needed**:\r\nTo know how to check if a given Pod was validated by a given PSP. This can be very important when using managed kubernetes services, as some providers add a \"privileged\" PSP by default, to keep backwards compatibility.\r\n\r\nIt will also be useful for auditors to have a ground truth for this behaviour and have a place to link to :)."},{"labels":["help wanted","kind/documentation","sig/auth"],"text":"<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\nI have a client that needs to watch just one object, and I want to write RBAC that grants it only the privilege to watch one object.  But I can not do that because a watch only operates on lists.\r\n#89755 \r\n\r\n**What you expected to happen**:\r\nI expected to be able to write a client that watches only one object and grant it only the privilege to do that.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:\r\n- Kubernetes version (use \"kubectl version\"):\r\n- Cloud provider or hardware configuration:\r\n- OS (e.g: \"cat /etc/os-release\"):\r\n- Kernel (e.g. \"uname -a\"):\r\n- Install tools:\r\n- Network plugin and version (if this is a network-related bug):\r\n- Others:\r\n"},{"labels":["kind/documentation","sig/cluster-lifecycle"],"text":"**What happened**: Installation documentation is incorrect\r\n\r\n**What you expected to happen**:\r\nWhen installed for **container linux** according to the link - https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/\r\nthe kubelet service does not work. \r\n\r\nThe problem is in the code below:\r\n\"curl -sSL \"https://raw.githubusercontent.com/kubernetes/kubernetes/${RELEASE}/build/debs/kubelet.service\" | sed \"s:/usr/bin:/opt/bin:g\" > /etc/systemd/system/kubelet.service\r\nmkdir -p /etc/systemd/system/kubelet.service.d\r\ncurl -sSL \"https://raw.githubusercontent.com/kubernetes/kubernetes/${RELEASE}/build/debs/10-kubeadm.conf\" | sed \"s:/usr/bin:/opt/bin:g\" > /etc/systemd/system/kubelet.service.d/10-kubeadm.conf\"\r\n\r\nthe location https://raw.githubusercontent.com/kubernetes/kubernetes/v1.18.0/buld/debs/kubelet.service\r\nhttps://raw.githubusercontent.com/kubernetes/kubernetes/v1.18.0/build/debs/10-kubeadm.conf\r\ndoes not contain the file and if files are taken, let's say from v1.16.4 release - that does not work and the service fails to start. "},{"labels":["kind/documentation","sig/apps","triage/support"],"text":"kubectl run nginx --image=nginx --replicas=5\r\n\r\nFlag --replicas has been deprecated, has no effect and will be removed in the future.\r\n\r\n\r\n- Kubernetes version (use \"kubectl version\"): 1.18.0\r\n- OS (e.g: \"cat /etc/os-release\"): ubuntu 18.04\r\n"},{"labels":["area/kubeadm","kind/documentation","lifecycle/stale","sig/cluster-lifecycle","sig/docs"],"text":"**What happened**:\r\nfailed to join node using kubeadm because conntrack is not found on ContainerLinux distributions.\r\n\r\n**What you expected to happen**:\r\nkubeadm should work without any error. \r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\nexecute \r\n\"kubeadm init phase preflight\"\r\non ContainerLinux\r\n\"\"\"\r\nip-172-16-65-137 ~ # kubeadm init phase preflight\r\nW0329 10:17:52.672484    8589 configset.go:202] WARNING: kubeadm cannot validate component configs for API groups [kubelet.config.k8s.io kubeproxy.config.k8s.io]\r\n[preflight] Running pre-flight checks\r\nerror execution phase preflight: [preflight] Some fatal errors occurred:\r\n        [ERROR FileExisting-conntrack]: conntrack not found in system path\r\n[preflight] If you know what you are doing, you can make a check non-fatal with \"--ignore-preflight-errors=...\"\r\nTo see the stack trace of this error execute with --v=5 or higher\r\nip-172-16-65-137 ~ # cat /etc/*release\r\nDISTRIB_ID=\"Container Linux by CoreOS\"\r\nDISTRIB_RELEASE=2191.5.0\r\nDISTRIB_CODENAME=\"Rhyolite\"\r\nDISTRIB_DESCRIPTION=\"Container Linux by CoreOS 2191.5.0 (Rhyolite)\"\r\nNAME=\"Container Linux by CoreOS\"\r\nID=coreos\r\nVERSION=2191.5.0\r\nVERSION_ID=2191.5.0\r\nBUILD_ID=2019-09-04-0357\r\nPRETTY_NAME=\"Container Linux by CoreOS 2191.5.0 (Rhyolite)\"\r\nANSI_COLOR=\"38;5;75\"\r\nHOME_URL=\"https://coreos.com/\"\r\nBUG_REPORT_URL=\"https://issues.coreos.com\"\r\nCOREOS_BOARD=\"amd64-usr\"\r\nip-172-16-65-137 ~ # lsmod |grep con\r\nxt_conntrack           16384  0\r\nnf_conntrack_ipv4      16384  0\r\nnf_conntrack_netlink    45056  0\r\nnfnetlink              16384  2 nf_conntrack_netlink,ip_set\r\nnf_conntrack          139264  6 xt_conntrack,nf_conntrack_ipv4,nf_nat,nf_nat_ipv4,nf_conntrack_netlink,ip_vs\r\nnf_defrag_ipv6         20480  2 nf_conntrack,ip_vs\r\nnf_defrag_ipv4         16384  1 nf_conntrack\r\nlibcrc32c              16384  3 nf_conntrack,nf_nat,ip_vs\r\nip-172-16-65-137 ~ # kubeadm version\r\nkubeadm version: &version.Info{Major:\"1\", Minor:\"18\", GitVersion:\"v1.18.0\", GitCommit:\"9e991415386e4cf155a24b1da15becaa390438d8\", GitTreeState:\"clean\", BuildDate:\"2020-03-25T14:56:30Z\", GoVersion:\"go1.13.8\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\nip-172-16-65-137 ~ #\r\n\"\"\"\r\n\r\n**Anything else we need to know?**:\r\n\r\nrelated issue: \r\n\r\nhttps://github.com/kubernetes/kops/issues/5671\r\nhttps://github.com/coreos/fedora-coreos-config/issues/325\r\n\r\n**Environment**:\r\n- Kubernetes version (use \"kubectl version\"): 1.18.0\r\n- Cloud provider or hardware configuration: aws\r\n- OS (e.g: \"cat /etc/os-release\"): coreos 2191.5.0\r\n- Kernel (e.g. \"uname -a\"): 4.19.68-coreos\r\n- Install tools: kubeadm\r\n- Network plugin and version (if this is a network-related bug): not appliable\r\n- Others:\r\n"},{"labels":["area/release-eng","kind/documentation","kind/feature","lifecycle/stale","priority/important-soon","sig/release","sig/testing"],"text":"**What would you like to be added**:\r\n- Update bazel to v2.2.0: https://github.com/kubernetes/kubernetes/pull/89430\r\n- Document how to update bazel in kubernetes/kubernetes\r\n\r\n**Why is this needed**:\r\nref: https://github.com/kubernetes/kubernetes/issues/88553#issuecomment-602411809\r\n\r\n/assign @justaugustus @ixdy @fejta @BenTheElder @Katharine \r\ncc: @kubernetes/release-engineering \r\n/sig testing release\r\n/area release-eng\r\n/milestone v1.19\r\n/priority important-soon\r\n/kind feature documentation"},{"labels":["kind/documentation","lifecycle/stale","sig/api-machinery"],"text":"<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\nColleagues had questions about workqueue and I realized that the answers are painfully scattered throughout the code.\r\n\r\n1. The introduction to the workqueue abstraction is in doc.go.  While this is not necessarily wrong, I will point out that my colleague did not find it.  The comment on the golang type \"Type\" --- which is one implementation of the interface \"Interface\" --- in \"queue.go\" points to \"doc.go\".  The declaration of \"RateLimitingInterface\" does _not_ direct the reader to \"doc.go\".\r\n\r\n2. The need to call \"Done\" is not explained in any of the interface types.  It is stated on one method implementation.  I think that Done needs to be called for all the interfaces, and so should be documented in the root interface.\r\n\r\n**What you expected to happen**:\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:\r\n- Kubernetes version (use \"kubectl version\"):\r\n- Cloud provider or hardware configuration:\r\n- OS (e.g: \"cat /etc/os-release\"):\r\n- Kernel (e.g. \"uname -a\"):\r\n- Install tools:\r\n- Network plugin and version (if this is a network-related bug):\r\n- Others:\r\n"},{"labels":["kind/cleanup","kind/documentation","lifecycle/stale","sig/architecture","sig/docs"],"text":"<!-- Please only use this template for submitting enhancement requests -->\r\n\r\n**What would you like to be added**:\r\nMigrate the content currently at https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#resources to a new URL inside https://k8s.io/docs/reference/\r\n\r\nStore a placeholder README at the old location, to:\r\n- signpost readers there\r\n- ensure existing bookmarks continue to work, at least somewhat\r\n- draw a measure of PageRank (etc) from existing inbound hyperlinks\r\n\r\n**Why is this needed**:\r\n- https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md is not localized and there is not an obvious route to localize it\r\n- Most reference documentation lives inside https://k8s.io/docs/reference/\r\n- The website search does not include the page at https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md\r\n- There are multiple ways of linking to the API conventions including broken links to https://git.k8s.io/community/contributors/devel/api-conventions.md#resources\r\n  - that means that there are already some grounds for changing the URL, at least for those affected pages\r\n\r\n/sig docs\r\n/sig architecture\r\n/kind documentation"},{"labels":["kind/documentation","sig/cluster-lifecycle","sig/node"],"text":"<!-- Please only use this template for submitting enhancement requests -->\r\n\r\n**What would you like to be added**:\r\n\r\nHi, I have followed this document to setup a cluster successfully on fedora coreos (container linux)\r\nhttps://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/\r\n\r\nThe following steps are also needed \r\nsetenforce 0\r\nsed -i 's/^SELINUX=enforcing$/SELINUX=permissive/' /etc/selinux/config\r\n\r\nNote:\r\n    Setting SELinux in permissive mode by running setenforce 0 and sed ... effectively disables it. This is required to allow containers to access the host filesystem, which is needed by pod networks for example. You have to do this until SELinux support is improved in the kubelet.\r\n\r\n    Some users on RHEL/CentOS 7 have reported issues with traffic being routed incorrectly due to iptables being bypassed. You should ensure net.bridge.bridge-nf-call-iptables is set to 1 in your sysctl config, e.g.\r\n\r\n    cat <<EOF > /etc/sysctl.d/k8s.conf\r\n    net.bridge.bridge-nf-call-ip6tables = 1\r\n    net.bridge.bridge-nf-call-iptables = 1\r\n    EOF\r\n    sysctl --system\r\n\r\n    Make sure that the br_netfilter module is loaded before this step. This can be done by running lsmod | grep br_netfilter. To load it explicitly call modprobe br_netfilter.\r\n\r\n**Why is this needed**:\r\n kubeadm init will fail without the above steps"},{"labels":["area/ecosystem","kind/documentation","lifecycle/rotten","sig/api-machinery","sig/docs"],"text":"<!-- Please only use this template for submitting enhancement requests -->\r\n\r\n**What would you like to be added**:\r\nWebhook authors should be aware that the metadata.namespace of submitted objects is not trustworthy in Mutating Webhooks, and may be blank in Validation Webhooks. The namespace needs to always be read out of the AdmissionReview object.\r\n\r\n\r\n**Why is this needed**:\r\nIf a webhook author does not test their code with a modified kubectl default namespace, a validating webhook may incorrectly think a resource is being created in the \"default\" namespace.\r\nNamespaces that mismatch between the URL and resource are not blocked by the apiserver until after the object has been sent to Mutating webhooks. A mutating webhook that reads the wrong namespace field may be vulnerable to information disclosure in error messages, or in extreme cases acting as a Confused Deputy if the webhook has side effects (please do not make a mutating webhook with side effects).\r\n\r\nThe correct fix for these problems is to fix the webhook code via developer education. Improve the docs so this is obvious.\r\n\r\n/sig api-machinery\r\n/sig docs\r\n/area ecosystem"},{"labels":["kind/documentation","sig/cli"],"text":"<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\n\r\n\"kubectl taint --help\" says:\r\n\r\n\"\"\"\r\n...\r\nExamples:\r\n   ...\r\n  # Add to node 'foo' a taint with key 'bar' and no value\r\n  kubectl taint nodes foo bar:NoSchedule\r\n\"\"\"\r\n\r\nThat doesn't work:\r\n\r\n\"\"\"\r\n$ kubectl taint nodes foo bar:NoSchedule\r\nerror: at least one taint update is required\r\n\"\"\"\r\n\r\nIt doesn't matter whether there is a node \"foo\" or not. It doesn't seem to contact the API at all.\r\n\r\n**What you expected to happen**:\r\n\r\nExamples form the help texts should work.\r\n\r\n**Anything else we need to know?**:\r\n\r\nLooking at https://github.com/kubernetes/kubernetes/blob/7d15d41eb87f8e6977a8947efe3edf7a75c1d01d/pkg/kubectl/cmd/taint/taint.go#L121-L156, it seems to want either a \"=\" or \"-\" in the argument. Indeed, \"kubectl taint nodes foo bar=:NoSchedule\" does work and does the right thing, i.e. set a taint with key \"bar\" and no value.\r\n\r\n\r\n**Environment**:\r\n\r\n\"\"\"\r\n$ kubectl version\r\nClient Version: version.Info{Major:\"1\", Minor:\"17\", GitVersion:\"v1.17.1\", GitCommit:\"d224476cd0730baca2b6e357d144171ed74192d6\", GitTreeState:\"clean\", BuildDate:\"2020-01-15T15:50:25Z\", GoVersion:\"go1.13.6\", Compiler:\"gc\", Platform:\"darwin/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"15\", GitVersion:\"v1.15.7\", GitCommit:\"6c143d35bb11d74970e7bc0b6c45b6bfdffc0bd4\", GitTreeState:\"clean\", BuildDate:\"2019-12-11T12:34:17Z\", GoVersion:\"go1.12.12\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n$\r\n\"\"\""},{"labels":["kind/documentation","sig/storage"],"text":"<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\n\r\nIn below README files, URLs are written. But these URL include version name(master, release-1.0, etc...) which are enclosed in <> and not shown in md files.\r\n\r\n- https://github.com/kubernetes/kubernetes/blob/master/test/e2e/testing-manifests/storage-csi/external-snapshotter/README.md\r\n\r\n- https://github.com/kubernetes/kubernetes/blob/master/test/e2e/testing-manifests/storage-csi/external-provisioner/README.md\r\n\r\n- https://github.com/kubernetes/kubernetes/blob/master/test/e2e/testing-manifests/storage-csi/external-resizer/README.md\r\n\r\n- https://github.com/kubernetes/kubernetes/blob/master/test/e2e/testing-manifests/storage-csi/external-attacher/README.md\r\n\r\n**What you expected to happen**:\r\n\r\nURL will be shown correctly.\r\n\r\n\r\n"},{"labels":["kind/documentation","sig/docs","sig/node","triage/support"],"text":"Guys,\r\nI have a cluster with 2 nodes.\r\n\r\n![image](https://user-images.githubusercontent.com/48793689/70149542-523e7b80-1676-11ea-9e70-03fd24bac1d0.png)\r\n\r\nMy pod is running on spain. As you see in the following the camel-k-kit is in error. \r\n![image](https://user-images.githubusercontent.com/48793689/70149562-62565b00-1676-11ea-8448-d1e9aecb3954.png)\r\n\r\nThe reason for the error is a failure to download an image from my local insecure docker registry.\r\n\r\n![image](https://user-images.githubusercontent.com/48793689/70149662-99c50780-1676-11ea-97d8-fefc51a8e3c4.png)\r\n\r\n\r\nYou can see the image in my catalog.\r\n![image](https://user-images.githubusercontent.com/48793689/70149686-a6496000-1676-11ea-84dc-79d178e158b2.png)\r\n\r\n![image](https://user-images.githubusercontent.com/48793689/70155754-d433a200-1680-11ea-9d2d-e4fec3b55bf7.png)\r\n\r\n\r\nand from spain (the k8s worker running the pod)\r\n![image](https://user-images.githubusercontent.com/48793689/70152890-01318600-167c-11ea-9dee-a45d0618a623.png)\r\n\r\n\r\nI've actually had this working on another k8s cluster, in pretty much exactly the same configuration (I think).\r\n\r\nI am behind a corporate proxy, so I have to setup various files.\r\n\r\n/etc/systemd/system/docker.service.d/http-proxy.conf\r\n![image](https://user-images.githubusercontent.com/48793689/70149774-cda02d00-1676-11ea-864f-c31f278083dd.png)\r\n\r\nI also configure ~root/.docker/config.json on spain (k8s worker) and benin (k8s master)\r\n![image](https://user-images.githubusercontent.com/48793689/70149881-ffb18f00-1676-11ea-9b80-2fff5f7e6c2b.png)\r\n\r\n\r\nHow do I diagnose the failure to download the image from my private docker instance running on 10.93.97.123:5007?\r\n\r\n\r\n\r\n/sig architecture\r\n\r\n\r\n"},{"labels":["kind/documentation","kind/feature","lifecycle/rotten","sig/testing"],"text":"**What would you like to be added**:\r\nPublishing of the docs related to the e2e.test binary as part of the release cycle.\r\n\r\n**Why is this needed**:\r\nThere are _lots_ of flags defined to customize test behavior but in order to view them you have to access the e2e binary directly which most people dont do (using Sonobuoy or some other tool to run the tests elsewhere; only interacting with the test image).\r\n\r\nIn addition, historically the flags weren't even usable via the conformance test image since it didn't recognize any other flags. But with v1.16+ there is a method to add arbitrary flags to the test invocation so more and more users are asking about tweaking various behaviors.\r\n\r\nAt this time, when asked, I have to point them to the code where the flags are defined but this is not the best experience.\r\n\r\n** Proposed approach **:\r\nFollowing the steps here: https://github.com/spf13/cobra#generating-documentation-for-your-command we add a new flag to the e2e.test binary \"--generate-docs\" which, if specified, will generate markdown/man pages (one? both?) and output them. Then this output is captured and published (where?).\r\n\r\nThe implementation is very straight forward but I am unsure about the release process and where the best place to put these docs would be: k/k? k/community? k/sig-release? cncf/conformance alongside the list of conformance tests?"},{"labels":["kind/documentation","sig/docs"],"text":"**What happened**:\r\n\r\nI have compared the API operations between the Namespace design spec and the Namespace 1.16 API reference and found a couple of inconsistencies.\r\n\r\nNamespace design spec can be found at \r\nhttps://github.com/kubernetes/community/blob/master/contributors/design-proposals/architecture/namespaces.md\r\n\r\nNamespace 1.16 API reference can be found at \r\nhttps://kubernetes.io/docs/reference/generated/kubernetes-api/v1.16/#namespace-v1-core\r\n\r\nDiscrepancy #1:  1.16 API reference does not mention support for FINALIZE action for Namespace API i.e. PUT /api/{version}/namespaces/{namespace}/finalize is missing\r\n\r\nDiscrepancy #2:  Namespace design doc does not mention support for PATCH action \r\ni.e. PATCH /api/v1/namespaces/{name} is missing\r\n\r\n**What you expected to happen**:\r\n\r\nBoth documents should be aligned and consistent.\r\n\r\n\r\n/sig kind/documentation\r\n/cc @liggitt\r\n\r\n"},{"labels":["kind/documentation","sig/network"],"text":"<!-- Please only use this template for submitting enhancement requests -->\r\n\r\n**What would you like to be added**:\r\nchange grep argument from \"ipvs\" to \"ip_vs\" in \"lsmod | grep -e ipvs -e nf_conntrack_ipv4\" command so it matches correct ipvs modules. This is in \"pkg/proxy/ipvs/README.md\" file.\r\n**Why is this needed**:\r\ndocumentation is misleading and command does not work correctly making people thing that ipvs modules are not loaded"},{"labels":["kind/documentation","lifecycle/rotten","sig/instrumentation"],"text":"<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**: Kubernetes didn't update the **endpoints** object if **service** had a targetPort with name instead of \r\n\r\n**What you expected to happen**: Endpoints to be updated.\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\nOur cluster is up-to-date, but it has a lot of ancient residues like this yaml file from a very old metrics-server installation: https://github.com/kubernetes/kubernetes/blob/master/cluster/addons/metrics-server/metrics-server-service.yaml\r\n\r\nThis yaml file describes metrics-server **service** as:\r\n\r\n\"\"\"\r\n  ports:\r\n  - port: 443\r\n    protocol: TCP\r\n    targetPort: https\r\n\"\"\"\r\n\r\nSo we updated Kubernetes from 1.13 to 1.15 and it failed to update the endpoints object.\r\n\r\nChanging targetPort: https to targetPort: 443 solves the issue.\r\n\r\nMaking it back https removes the pod address from endpoints, so it's a pretty consistent behavior.\r\n\r\n**Anything else we need to know?**: It's not like I care about using names on ports definitions on services, but I didn't find any mentions to not being able to use it anywhere on the release notes so I'm guessing it's really a bug.\r\n\r\n**Environment**: \r\n- Kubernetes version (use \"kubectl version\"): 1.15.3\r\n- Cloud provider or hardware configuration: on-prem\r\n- OS (e.g: \"cat /etc/os-release\"): CoreOS 2191.5.0 but i dont think its relevant.\r\n- Kernel (e.g. \"uname -a\"): 4.19.68-coreos #1 SMP Wed Sep 4 02:59:18 -00 2019 x86_64 \r\n- Install tools: by hand.\r\n- Network plugin and version (if this is a network-related bug): -\r\n- Others: -\r\n"},{"labels":["kind/documentation","sig/docs"],"text":"<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**:\r\n\r\nthe default DaemonSetUpdateStrategyType was changed to Ondelete by default, but the document still say that the default value was \"RollingUpdate\"\r\n\r\nrefer doc https://kubernetes.io/docs/tasks/manage-daemon/update-daemon-set/#daemonset-update-strategy.\r\n\r\n\r\n\r\n**What you expected to happen**:\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\r\n**Anything else we need to know?**:\r\n\r\n**Environment**:\r\n- Kubernetes version (use \"kubectl version\"):\r\n- Cloud provider or hardware configuration:\r\n- OS (e.g: \"cat /etc/os-release\"):\r\n- Kernel (e.g. \"uname -a\"):\r\n- Install tools:\r\n- Network plugin and version (if this is a network-related bug):\r\n- Others:\r\n"},{"labels":["kind/documentation","lifecycle/rotten","sig/contributor-experience"],"text":"When I make test, It just can not pass.\r\nSome of the error message is:\r\n\"\"\"\r\n    --- FAIL: TestEncryptionProviderFlag/ENCRYPTION_PROVIDER_CONFIG_is_set (0.09s)\r\n        configure_helper_test.go:133: Start kubernetes api-server\r\n            WARNING: ALL of ETCD_APISERVER_CA_KEY, ETCD_APISERVER_CA_CERT, ETCD_APISERVER_SERVER_KEY, ETCD_APISERVER_SERVER_CERT, ETCD_APISERVER_CLIENT_KEY and ETCD_APISERVER_CLIENT_CERT are missing, mTLS between etcd server and kube-apiserver is not enabled.\r\n            configure-helper.sh: line 2097: local: -n: invalid option\r\n            local: usage: local [option] name[=value] ...\r\n        configure_helper_test.go:134: Failed to run configure-helper.sh: exit status 2\r\n\"\"\"\r\n\r\nI did a lot investigate, and I fonund that the usage \"local -n\" requires bash version >= 4.3.\r\nI wonder is there any need that this should be added to a \"Requirements\" section?\r\n\r\n/sig contributor-experience\r\n/area community-management\r\n/kind documentation"},{"labels":["kind/documentation","sig/cli"],"text":"Per #72519, serviceAccountName (and serviceAccount) are not removed when they are deleted from a resource spec. which is then passed to \"kubectl apply\".\r\n\r\nI hit this exact bug, and there is nothing in the docs at https://kubernetes.io/docs/concepts/cluster-administration/manage-deployment/#kubectl-apply to warn about the existence of special cases like that.\r\n\r\nIf there is no obvious fix that would address non-removal of special cases, then this caveat should be mentioned."},{"labels":["kind/documentation","sig/release"],"text":"We have a document on how to do cherry picks:\r\nhttps://github.com/kubernetes/community/blob/master/contributors/devel/sig-release/cherry-picks.md#initiate-a-cherry-pick\r\n\r\nBut we don't have a document which lays out what PRs are good candidates for cherry-picks, do we? This will help both reviewers and release managers when the times comes to make a decision. This is a good source to point at for folks in the community when they come asking for specific cherry-picks.\r\n\r\n/sig release"},{"labels":["area/security","kind/documentation","priority/backlog","sig/auth","wg/security-audit"],"text":"This issue was reported in the [Kubernetes Security Audit Report](https://github.com/kubernetes/community/blob/master/wg-security-audit/findings/Kubernetes%20Final%20Report.pdf)\r\n\r\n**Description**\r\nA PodSecurityPolicy allows a cluster administrator to specify what settings a given service account should be able to provide when creating a Pod on a cluster. If a cluster operator attempts to create a Pod with a setting not allowed by the PodSecurityPolicy associated to their account, the Pod will fail to create and return a validation error.\r\n\r\nAn attacker can bypass hostPath volume mount restrictions imposed by a PodSecurityPolicy by using the HostPath type of PersistentVolumes, and mounting the PersistentVolume through the use of a PersistentVolumeClaim. This allows the attacker access to any directory of the underlying Kubernetes node host.\r\n\r\nAs currently implemented, the PodSecurityPolicy is not granular enough to provide protections for PersistentVolumeClaim volumes. The hostPath volume supports the ability to specify allowed paths for a given Pod to mount. This restriction is not available for the PersistentVolumeClaim, and does not propagate to the hostPath PersistentVolume.\r\n\r\nThe validations for PersistentVolumes currently only ensure mount options are correct, and that the provided target path does not contain ‘..’.\r\n\r\n**Exploit Scenario**\r\nEve gains access to Alice’s Kubernetes cluster with a service account able to create PersistentVolumes, PersistentVolumeClaims, and Pods, but restricted from mounting hostPath volumes. Eve uses her access to create a hostPath PersistentVolume and a corresponding PersistentVolumeClaim. Eve then creates a Pod mounting the PersistentVolumeClaim, effectively bypassing the PodSecurityPolicy restriction and allowing Eve to gain access to the node host filesystem where the Pod was scheduled.\r\n\r\nSee Appendix C for a proof of concept for this attack.\r\n\r\n**Recommendation**\r\nShort term, document the limitations of the allowedPaths restrictions in the PodSecurityPolicy.\r\n\r\nLong term, add support for PersistentVolumeClaim restrictions within the PodSecurityPolicy. As a whole, the PodSecurityPolicy needs more granular controls to account for resources provided by association, such as PersistentVolumeClaims to PersistentVolumes.\r\n\r\n**Anything else we need to know?**:\r\n\r\nSee #81146 for current status of all issues created from these findings.\r\n\r\nThe vendor gave this issue an ID of TOB-K8S-038 and it was finding 1 of the report.\r\n\r\nThe vendor considers this issue High Severity.\r\n\r\nTo view the original finding, begin on page 21 of the [Kubernetes Security Review Report](https://github.com/kubernetes/community/blob/master/wg-security-audit/findings/Kubernetes%20Final%20Report.pdf)\r\n\r\n**Environment**:\r\n\r\n- Kubernetes version: 1.13.4"},{"labels":["area/usability","help wanted","kind/documentation","lifecycle/frozen","priority/backlog","sig/auth"],"text":"Is there a realistic scenario where a user would want to impersonate an arbitrary group but NOT also want system:authenticated? I think we should always add system:authenticated. Forgetting it results in some hard-to-debug behaviour with kubectl inexplicably failing every 10 mins.\r\n\r\nBasically, I want to reopen this discussion: https://github.com/kubernetes/kubernetes/pull/44076#discussion_r110657420 .\r\n\r\n/sig auth\r\n\r\n**What happened**:\r\nTried to impersonate a group, did not know we needed to add system:authenticated, and inexplicably every 10 minutes our command would error until we did another kubectl command without impersonation:\r\n\"\"\"\r\n$ kubectl get po --as=asdf --as-group=asdf\r\nerror: the server doesn't have a resource type \"po\"\r\n$ kubectl get po\r\n# Works\r\n$ kubectl get po --as=asdf --as-group=asdf\r\n# Works for 10 minutes\r\n\"\"\"\r\n\r\nIt turns out that every 10 minutes kubectl needs to repopulate its discovery cache and for that, the user needs to have permission to \"get\" /api (typically provided by system:discovery bound to system:authenticated). Since we didn't know we had to add --as-group=system:authenticated we had a hard time debugging. Found this comment https://github.com/kubernetes/kubernetes/issues/73123#issuecomment-456185028 much later.\r\n\r\n**What you expected to happen**:\r\nCan do \"kubectl get po --as=asdf --as-group=asdf\" as much as I want without seeing errors\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**:\r\n\"\"\"bash\r\n$ kubectl get po --as=asdf --as-group=asdf\"\r\n# Works\r\n$ rm -rf /Users/mattwon/.kube/cache/discovery\r\n$ kubectl get po --as=asdf --as-group=asdf\"\r\nerror: the server doesn't have a resource type \"po\"\r\n\"\"\"\r\n**Anything else we need to know?**: If we decide we can't do this, at least I'd like to add mention of this \"gotcha\" here https://kubernetes.io/docs/reference/access-authn-authz/authentication/#user-impersonation\r\n\r\n**Environment**:\r\nkubernetes master"},{"labels":["kind/documentation","priority/important-soon","sig/release"],"text":"This issue is a bucket placeholder for collaborating on the \"Known Issues\" additions for the 1.15 Release Notes. If you know of issues or API changes that are going out in 1.15, please comment here so that we can coordinate incorporating information about these changes in the Release Notes.\r\n\r\n/assign @jeefy @saschagrunert @alokpatra\r\n\r\n/sig release\r\n/milestone v1.15"},{"labels":["kind/documentation","priority/important-longterm","sig/auth"],"text":"The \"PodSecurityContext\" type has a field called \"RunAsNonRoot\" to indicate that a container must run as non-root user. The description for this field includes the sentence \"If unset or false, no such validation will be performed.\", which would mean that setting the field to \"false\" or to \"nil\" (unset) have the same effect:\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/04f59751ecc4206c8b078d3a29e303617d90a978/pkg/apis/core/types.go#L2759-L2767\r\n\r\nHowever, the PodSecurityPolicy provider implementation handles the \"nil\" (unset) case differently, and thus does differentiate between unset or \"false\" values:\r\n\r\nhttps://github.com/kubernetes/kubernetes/blob/ace60e8acb2c62e006884a654936d7e30a67824b/pkg/security/podsecuritypolicy/provider.go#L167-L173\r\n\r\nThe API type documentation should be updated to clarify this behaviour and reflect the actual PodSecurityPolicy implementation.\r\n\r\n/sig node"},{"labels":["area/e2e-test-framework","kind/documentation","lifecycle/active","priority/important-longterm","sig/testing"],"text":"write documentation under test/e2e/framework or under the community repo on how to test your changes locally using kind/kubetest.\r\n\r\nxref https://github.com/kubernetes/kubernetes/issues/75601\r\n\r\n/assign\r\n/kind documentation\r\n/area e2e-test-framework\r\n"},{"labels":["kind/documentation","priority/important-soon","sig/auth"],"text":"<!-- Please use this template while reporting a bug and provide as much info as possible. Not doing so may result in your bug not being addressed in a timely manner. Thanks!\r\n\r\nIf the matter is security related, please disclose it privately via https://kubernetes.io/security/\r\n-->\r\n\r\n\r\n**What happened**: Followed the documentation on [PSP RunAsGroup](https://kubernetes.io/docs/concepts/policy/pod-security-policy/#users-and-groups) rules to limit group Id's to non-superuser (root) using the \"MustRunAsNonRoot\" rule. The creation attempt failed with:\r\n\"\"\"\r\nThe PodSecurityPolicy \\\"ibm-restricted-psp\\\" is invalid: spec.runAsGroup.rule: Unsupported value: \\\"MustRunAsNonRoot\\\": supported values: \\\"MustRunAs\\\", \\\"RunAsAny\\\", \\\"MayRunAs\\\"\" \r\n\"\"\"\r\nFrom PSP yaml:\r\n\"\"\"\r\n  runAsGroup:\r\n    rule: 'MustRunAsNonRoot'\r\n\"\"\"\r\n\r\n**What you expected to happen**: Successfully create a new PSP for non-superuser (root) group privileges using available rule values (which actually seems to be \"MustRunAs\", \"MayRunAs\", \"RunAsAny\" according the the [api code](https://github.com/kubernetes/api/blob/f34d25ed03b6a1ade5115e61bfe61b8a60efd865/policy/v1beta1/types.go#L388-L400))\r\n\r\n**How to reproduce it (as minimally and precisely as possible)**: Attempt to create a PSP with a \"RunAsGroup\" rule set to \"MustRunAsNonRoot\"\r\n\r\n**Anything else we need to know?**: I don't think so\r\n\r\n**Environment**:\r\n- Kubernetes version (use \"kubectl version\"): \"v1.14.0\", looks to affect \"v1.13\", and \"v1.12\" doc as well\r\n- Cloud provider or hardware configuration: IBM Cloud\r\n- OS (e.g: \"cat /etc/os-release\"):\r\n\"\"\"\r\nNAME=\"Ubuntu\"\r\nVERSION=\"16.04.5 LTS (Xenial Xerus)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 16.04.5 LTS\"\r\nVERSION_ID=\"16.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\nVERSION_CODENAME=xenial\r\nUBUNTU_CODENAME=xenial\r\n\"\"\"\r\n- Kernel (e.g. \"uname -a\"): \"Linux verify-cluster 4.4.0-116-generic #140-Ubuntu SMP Mon Feb 12 21:23:04 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\"\r\n- Install tools:\r\n- Others:\r\n"},{"labels":["kind/documentation","lifecycle/rotten","sig/docs"],"text":"**What would you like to be added**:\r\nAdd documentation to pod about the binding subresource.\r\n\r\n**Why is this needed**:\r\nCurrently the pod binding API is documented but marked as deprecated, in favour of the pod/binding subresource. However there is no documentation on that endpoint.\r\n"},{"labels":["kind/documentation","sig/release"],"text":"This issue is a bucket placeholder for collaborating on the \"Known Issues\" additions for the 1.14 Release Notes. If you know of issues or API changes that are going out in 1.14, please comment here so that we can coordinate incorporating information about these changes in the Release Notes.\r\n\r\n/assign @dstrebel @jeefy @onyiny-ang @alenkacz\r\n\r\n/sig release\r\n/milestone v1.14"},{"labels":["documentation",null],"text":"In https://github.com/jquery/jquery/blob/master/README.md\r\n\r\n\"git clone git://github.com/jquery/jquery.git\"\r\n\r\nCould you like to add the following sentence?\r\n\r\n\"git clone https://github.com/jquery/jquery.git\"\r\n\r\nIt is helpful to write it for people who cannot use ssh connection."},{"labels":["documentation"],"text":"<!--\r\nFeature Requests:\r\n  Please read https://github.com/jquery/jquery/wiki/Adding-new-features\r\n  Most features should start as plugins outside of jQuery.\r\n\r\nBug Reports:\r\n  Note that we only can fix bugs in the latest version of jQuery.\r\n  Briefly describe the issue you've encountered\r\n  *  What do you expect to happen?\r\n  *  What actually happens?\r\n  *  Which browsers are affected?\r\n  Provide a *minimal* test case, see https://webkit.org/test-case-reduction/\r\n  Use the latest shipping version of jQuery in your test case!\r\n  We prefer test cases on JS Bin (https://jsbin.com/qawicop/edit?html,css,js,output) or CodePen (https://codepen.io/mgol/pen/wNWJbZ)\r\n\r\nFrequently Reported Issues:\r\n  * Selectors with '#' break: See https://github.com/jquery/jquery/issues/2824\r\n-->\r\n\r\n### Description ###\r\n\r\nSetup code for working in Node environment doesn't work with jsdom version \"^15.2.1\"\r\nThe npm package link: https://www.npmjs.com/package/jquery#node\r\n\r\n\"\"\"js\r\nrequire(\"jsdom\").env(\"\", function(err, window) {\r\n    if (err) {\r\n        console.error(err);\r\n        return;\r\n    }\r\n \r\n    var $ = require(\"jquery\")(window);\r\n});\r\n\"\"\"\r\n\r\nGot error:\r\n\r\n\"\"\"bash\r\nrequire(\"jsdom\").env(\"\", function(err, window) {\r\n                 ^\r\nTypeError: require(...).env is not a function\r\n...\r\n\"\"\"\r\n\r\n### Dependencies versions ###\r\n\r\n\"\"\"json\r\n\"jsdom\": \"^15.2.1\",\r\n\"jquery\": \"^3.4.1\",\r\n\"\"\"\r\nnode version: v10.16.0\r\nnpm version: 6.12.0\r\nos: macOS 10.13.6 (17G6030)\r\n\r\nPlease update the setup code for Node.\r\n"},{"labels":[null,null,"documentation"],"text":"With this ticket we need to:\r\n1. Check the new (maybe old ones too) grunt commands and how to they fit with each other. For example \"grunt test\" does not work if jquery is not builded, if you execute \"grunt build\" though, \"grunt test\" still does not work.\r\n1. Some grunt commands (like \"grunt karma:firefox\", \"grunt karma:chrome\") appear to not work. Those commands (maybe others too) should either fixed and documented or removed in order to not confuse the user\r\n1. Documentation needs to be provided. (readme.md?)\r\n\r\nOn side note: I wonder if java is still required in order to execute the tests, if it is, we need to provided additional documentation (or provide a reference) for it\r\n\r\n/cc @Krinkle \r\n  \r\n  "},{"labels":[null,"documentation",null,null],"text":"As [discussed](https://irc.jquery.org/%23jquery-meeting/default_%23jquery-meeting_20160704.log.html#t12:54:24) in the core meeting, we should deprecate \"on\"/\"trigger\" [event shorthand methods](https://github.com/jquery/jquery/blob/305f193aa57014dc7d8fa0739a3fefd47166cd44/src/event/alias.js) in a pre-4.0 minor release.\r\n\r\n*EDIT by @mgol*: I fixed the meeting link, it used to point to the latest day on IRC."},{"labels":["documentation"],"text":"It makes more sense to have it in the repo.\n"},{"labels":["documentation",null,null],"text":"We have some legacy code in tests kept mostly to keep \"1.x\" & \"2.x\" branches in sync. Now that we have only one branch it's high time to clean up all that. Most of that will probably be support comments for various ancient browsers.\n"},{"labels":["documentation"],"text":"Misspelled \"if\" in a few places:\nhttps://github.com/jquery/jquery/search?utf8=%E2%9C%93&q=iff\n"},{"labels":["documentation"],"text":"- Add a note about how AMD modules are compiled – especially how var modules are treated differently – in the CONTRIBUTING.md.\n\nSee discussion in https://github.com/jquery/jquery/pull/2718\n"},{"labels":["documentation"],"text":"AMD mode in qunit test suite could be extremely useful when developing jQuery, i.e. without waiting on the \"grunt watch\" results on direct \"grunt build\" command.\n\nI think we should include this in our README\n"},{"labels":["documentation"],"text":"Ref https://github.com/jquery/jquery/issues/2134#issuecomment-102510442\n\nWe now (modulo particularly hairy backwards compatibility issues) consider it safe to assume that all function input matches a documented signature, and therefore allow functions to throw exceptions rather than fail silently. This should be captured somewhere, and my first thought was [CONTRIBUTING.md](https://github.com/jquery/jquery/blob/master/CONTRIBUTING.md).\n"},{"labels":["documentation",null],"text":"I guess it is time to do this.\n1. Move them to \"deprecated\" module\n2. Add warnings into \"jquery-migrate\"\n3. Update the docs\n"},{"labels":["documentation"],"text":"When referring to Github tickets and PRs we use [the common \"gh-\" notation](http://contribute.jquery.org/commits-and-pull-requests/#references) for Github tickets and PRs. We want to avoid using \"#\" notatation entirely in commits and issues to avoid confusion between the two trackers and to avoid Github accidentally linking refs to our old tracker. In our meeting this week we had discussed using [trac-12344](http://bugs.jquery.com/ticket/12344) notation. For commits we can either use the short \"trac-12344\" notation or the full \"http://bugs.jquery.com/ticket/12344\" URL.\n\nRef https://github.com/jquery/contribute.jquery.org/issues/102\n"},{"labels":["documentation"],"text":"In line 124 of README.md, the following command is suggested to check out the latest stable version of jQuery:\n\n\"\"\" bash\ngit pull; git checkout $(git describe --abbrev=0 --tags)\n\"\"\"\n\nIn particular, \"git describe --abbrev=0 --tags\" is meant to return the most recent tag, which should also be the last jQuery version number.\n\nThis doesn't work because, on the master branch, it returns \"2.1.0-beta1\" which is far from the latest stable version, even if it is the latest reachable tag.\n\nThe problem is that the tags with the version numbers are generally made on separate branches, and therefore they are unreachable with the \"describe\" command.\n\nWith the branching and tagging system used in jQuery, there doesn't seem to be an easy way to get the latest tag ([link](http://stackoverflow.com/questions/19925288/how-do-you-figure-out-the-previous-tag-in-such-a-workfow?)). Also, given the different versions (1.x and 2.x, now 3.x and Compat 3.x), it can be hard to define which one corresponds to the latest stable version, if any.\n\nMy suggestion would be to remove the notion of automatically getting the latest stable version through a git command.\n"},{"labels":[null,"documentation"],"text":"http://api.jquery.com/data/ states under \"Additional notes\" that \".data(\"key\", undefined)\" should behave identically to \".data(\"key\")\". It doesn't however. The former appears to return the object \".data()\"is being called on.\n\nI have reproduced this at http://jsfiddle.net/vizmo/hymz2vxu/3/ using several current jQuery versions.\n"},{"labels":["documentation"],"text":"In line 57 of README, the command 'grunt -v' is suggested to make sure 'grunt' is installed, but the '-v' option is actually verbose mode. \nThe one wanted is \"-V\" (uppercase), which prints the grunt version.\n"},{"labels":["documentation"],"text":"Upon upgrading to 0.127.0, I received the following error:\r\n\r\n\".flowconfig:15 Unsupported option specified! (suppress_comment)\"\r\n\r\nI figured this must be a result of the new error suppression stuff, so I figured I would go to \"flow.org\" and see what changes I should make to my config to resolve the issue. I found a bunch of documentation that no longer applies:\r\n\r\nhttps://flow.org/en/docs/config/options/#toc-suppress-comment-regex\r\n"},{"labels":["documentation"],"text":"Since this is an open-source project, the priorities for it should be open and public as well. If the maintainers think they shouldn't be, then at least a clarification about that fact would be wonderful.\r\n\r\nI'd suggest a public to-do list, a Github \"project\" or a regularly updated roadmap."},{"labels":["documentation","flow-tool"],"text":"In the 0.124.0 release notes: https://github.com/facebook/flow/releases/tag/v0.124.0 a new \"update-suppressions\" subcommand is mentioned for \"flow-dev-tools\", I'm not able to see this anywhere?\r\n\r\nTrying to run it as I assume it would be ran results in:\r\n\"\"\"\r\n../flow/tool update-suppressions --bin node_modules/.bin/flow .\r\nUnsupported command \"update-suppressions\"\r\nusage: /Users/osmestad/Code/flow/packages/flow-dev-tools/bin/tool [COMMAND]\r\n\r\nValid values for COMMAND:\r\nadd-comments     Adds flow comments\r\nbabel            Runs babel\r\nconvert          Converts legacy tests to new j0nx\r\nerror-summary    Shows a list of how many times each error message occurs in a flow check\r\nhelp             Shows usage message\r\nnew-test         Creates a new empty test\r\nrecord           Records tests\r\nremove-comments  Removes unused flow comments\r\ntest             Runs tests\r\n\"\"\"\r\n\r\n\r\n"},{"labels":["documentation"],"text":"v0.118 added a new lint, \"unsafe-addition\", which warns if either operand of an addition is \"null\" or \"void\" but it's not documented yet."},{"labels":["documentation","error messages"],"text":"[This commit](https://github.com/facebook/react-native/commit/d9b84450a19c95eeae1f5e3c6a32983690e1ecbe) (cc @panagosg7 ) has added these config options to the default \".flowconig\" template in new React Native projects starting from 0.62:\r\n\r\n\"\"\"\r\nexperimental.well_formed_exports=true\r\nexperimental.types_first=true\r\n\"\"\"\r\n\r\nFrom what I can see, neither of these options are documented anywhere (would expect them to be [here](https://flow.org/en/docs/config/options/#toc-available-options)).\r\n\r\nThe issue I think people will have with \"experimental.well_formed_exports=true\", is that it will introduce hundreds of errors into any mature codebase.  The [Flow docs for React components](https://flow.org/en/docs/react/components/#toc-stateless-functional-components) suggest to type functional components like so:\r\n\r\n\"\"\"js\r\nfunction MyComponent(props: Props) {\r\n\"\"\"\r\n\r\nThis will lead to an error under \"well_formed_exports\", as (from what I understand) they need to be typed like so:\r\n\r\n\"\"\"js\r\nfunction MyComponent(props: Props): React.Node {\r\n\"\"\"\r\n\r\nThe error message doesn't even make it clear that this option is the reason.  It makes it sounds like it's the lint rule's fault (\"signature-verification-failure=warn\"), but turning that to \"off\" makes no difference:\r\n\r\n\"\"\"\r\nCannot build a typed interface for this module. You should annotate the exports of this module with types. Missing type annotation at function return: (\"signature-verification-failure\")\r\n\"\"\"\r\n\r\nThe only way I was able to remove these hundreds of new errors (as I didn't have time to update hundreds of export signatures), was process of elimination trying disabling various lines in the flowconfig until the errors disappeared."},{"labels":["documentation"],"text":"<!--\r\nPlease explain what documentation is missing or incorrect.\r\n-->\r\n\r\n\"options\" supports \"enums: true\", but missing in [readme.md](https://github.com/facebook/flow/blob/master/packages/flow-parser/README.md#options)\r\n\r\n\r\n"},{"labels":["discussion","documentation"],"text":"This is not a bug but something I suggest including in the documentation for flow as I can see others running into a similar problem.\r\n\r\nIf you do not add // @flow to index.js files you have that are re-exporting your components, the type checking will not work on any imports from those index.js files.\r\n\r\nOf course this makes perfect sense once I knew what the cause was. it was losing the types since it importing from a file that was not set up for flow (even though the source file was). It is very easy to forget those index.js files even exist though, and it caused some serious frustration and almost made me give up on flow before I found out what was happening. \r\n\r\nI highly suggest mentioning this in the documentation to save others from that headache and wasted time.\r\n"},{"labels":["Accepting PRs","Effort: easy","documentation"],"text":"On https://flow.org/en/docs/libdefs/creation/, in the sentence:\r\n> please see the docs on the .flow files\r\n\r\n\".flow files\" links to https://flow.org/en/docs/libdefs/declarations , but this page is a 404.\r\nI'm not sure what the correct link would be though."},{"labels":["documentation"],"text":"I created new wiki pages which can be found in my fork.\r\n\r\n- https://github.com/moroine/flow/wiki/Getting-Started\r\n- https://github.com/moroine/flow/wiki/Learning-Ocaml\r\n- https://github.com/moroine/flow/wiki/Developing"},{"labels":["Typing: refinements","Typing: unions/intersections","documentation","feature request"],"text":"Flow version: 0.107.0\r\n\r\nHere's the flow-try that shows some cases that should work, but doesn't in fact:\r\nhttps://flow.org/try/#0C4TwDgpgBAglC8UDeAfKAjAhgJwFxQGdhsBLAOwHMAaKALwHt78yBXAW3QmyhQF8AoUJCgAhBMjRZa+IqUo8B-AGYsyAY2Al6ZKMAhEAFADdMAGxb78cNCICUyflCgklUY2YsEAdFmz2kjk5QAPTBUAAqABbQ2qYgUNgQZlAA7vTYANbkFLqR2VAAJvqknAXOOgX0auwQZMCYmtqBTqHOwFCx8WyYGfqEtQTQ5LpcbAQdrmr0RVCYZGVk9O3DethjE7rg0IlK5BBstcDNIWGcapgsg86uPjgI8IgA5I+5tanQaWSP7RQQyzrAaJQNSmC6DY4mcz6LwMegAbkCAicgRcbkhnlu3BQaHR0N89yej38x1aAFEyJE5moIGUwIkjFpLlAIAAPTBsMCmaDAehQbq9fpkK4rUbjeiTabQOZlITbCC7Mj7Q4k04sdpKUz0FLOcaaohQaKJKCLbWA8hZeSAhpojyWWA8US2FXMoxvQH0FgUSIYJbeqbzEiNIUJeV7TbCHkYaAwCG27ywhFOJFQFGuAyy8VQXHefEAQgeUEesmyRIcQROUAAypEPaYFktmdhsOkaJhxqjMTrjQ3MIRiPlAW9A0Xu+0Y+Xs7daImoMnU24M65J-iHk9VEUFTTSwFy61q7X6+0uM3sK32zd8SRxuvQ4qZdEdO4oQR8HZY8+pzO505UemtpnlzuVdC2LSht2dS9xl7UCck6e0QD+KANS1Qp6H0L52h2MNIyfTwrCdCc4xhRgv0Cec-0gACiNhAlCxUdQg3A3cwgAdQgEhsDKdA1Q6DIaDpegsHQOJCBrFg60bE8AH5nWQ7UsLvKBiN5SNOA2WVmQ5UB3wxWEDFsUjkRaMJK1MEgvWAESChcJQuEOHUCAsKhAlaRJQT0cZI0iYBgDAF9QgoQNIhYdAvCmNhgiUTBqXQRgMkizUUmCK9HP0YIAHYABZ0oAVnIxcszjABtR5YUeABdWjHlYDguCYoJWgAMUSvsSFMUxcnNTzKXaXC7RgGx7G49ozES69PN5aLqQIcZlJ06EE0RMjjINHy-NwAKgpCsL6AiqKYrihKtWSmbPAy7K8p-NNsxK3wKuJQiP0WpNlorbzfP84JAsBbbwsi6KIFi+h4rkk7UoIc7cvIm7SsYe6yyCSdntnV7f0eO7ykK58HoakyxIkxYjybFsMDuODWSvf57R+8Y+pfWACMR6iSKWgQgA"},{"labels":["documentation"],"text":"This page https://flow.org/en/docs/libdefs/creation/#toc-declaring-a-module states \"defining modules that are accessed via a relative require/import path will be documented soon\". Is this available yet? It seems the line has been around for 2 years now.\r\n"},{"labels":["documentation"],"text":"<!--\r\nPlease explain what documentation is missing or incorrect.\r\n-->\r\n\r\n~~[Vim editor integration docs](https://flow.org/en/docs/editors/vim/) reference \"flow-language-server\", which is archived~~\r\n[Emacs editor integration docs](https://flow.org/en/docs/editors/emacs/) reference \"flow-for-emacs\", which is archived\r\n\r\nIt'd be great to have full examples on these pages rather than mostly linking to other projects. I switch between editors often and flow is somewhat of a chore to setup in each editor I try. I think smoother integration in general would make Flow that much better.\r\n\r\nEdit: I may have been wrong about Vim docs, \"flow-language-server\" is the ale setting, not a reference to the archived project. I may have uncovered a bug and blamed the docs."},{"labels":["documentation"],"text":"The [documentation on importing & exporting types](https://flow.org/en/docs/types/modules/#toc-importing-and-exporting-types) does not mention how one could export a type as a value of an object, such as:\r\n\r\n\"\"\"\r\n// @flow\r\n\r\nexport default {\r\n  something: {| a: string |},\r\n};\r\n\"\"\"\r\n\r\nThe above example is not correct & does not work. How would one do this, so that the documentation can be updated?"},{"labels":["documentation"],"text":"<!--\r\nPlease explain what documentation is missing or incorrect.\r\n-->\r\n\r\nI've learned about function statics and callable objects after the release of 0.99. They're really cool, have been there for a while, but are not very well documented in the docs.\r\n\r\nWould love work on this if this issue is accepted, and would like some guidance on what should be documented and / or where they should go.\r\n"},{"labels":["documentation"],"text":"The [values](https://flow.org/en/docs/types/utilities/#toc-values) documentation correctly specifies that: \"\"$Values<T>\" represents the union type of all the value types (**not the values, but their types**!) of the enumerable properties in an \"Object Type T\"\" (bolded emphasis mine)\r\n\r\nHowever, you can get the union of all the values themselves if you freeze the object first. Here's an example from #627:\r\n\r\n\"\"\"\r\nconst messageType = Object.freeze({\r\n  TEXT: 0,\r\n  CREATE_THREAD: 1,\r\n});\r\ntype MessageType = $Values<typeof messageType>;\r\n\r\n// works, as expected\r\nconst workingEx: MessageType = messageType.TEXT;\r\n\r\n// errors, but wouldn't have errored if messageType was not frozen since 2 is a number\r\nconst test: MessageType = 2;\r\n\"\"\"\r\n\r\nThe documentation of \"$Values<T>\" should be updated to mention this important distinction which is valuable for enums."},{"labels":["Has PR","documentation"],"text":"There are several \"read-only\" types in Flow that hide the mutating methods from \"Object\", \"Array\", \"Map\", \"WeakMap\", \"Set\", \"WeakSet\" to ensure the program does not unintentionally modify reference-type objects, arrays, maps, sets in-place: \r\n- \"$ReadOnly\"\r\n- \"$ReadOnlyArray\"\r\n- \"$ReadOnlyMap\"\r\n- \"$ReadOnlyWeakMap\"\r\n- \"$ReadOnlySet\"\r\n- \"$ReadOnlyWeakSet\"\r\n\r\nThe collection types were added here https://github.com/facebook/flow/commit/1e71f2358d5d989183aee8c8e9f97b68fa4577f4 on Oct 24, 2018 and according to a comment in https://github.com/facebook/flow/issues/2333#issuecomment-462238460 released in v0.86.\r\n\r\nLooks like only \"$ReadOnly\" and \"$ReadOnlyArray\" are documented:\r\n- https://flow.org/en/docs/types/utilities/#toc-readonly\r\n- https://flow.org/en/docs/types/arrays/#toc-readonlyarray\r\n\r\nHere they are in the Flow source code:\r\n- https://github.com/facebook/flow/blob/64064e93639fe9c03d8ba8b59cc4f658f3af3327/lib/core.js#L200-L240\r\n- https://github.com/facebook/flow/blob/64064e93639fe9c03d8ba8b59cc4f658f3af3327/lib/core.js#L544-L553\r\n- https://github.com/facebook/flow/blob/64064e93639fe9c03d8ba8b59cc4f658f3af3327/lib/core.js#L572-L575\r\n- https://github.com/facebook/flow/blob/64064e93639fe9c03d8ba8b59cc4f658f3af3327/lib/core.js#L585-L593\r\n- https://github.com/facebook/flow/blob/64064e93639fe9c03d8ba8b59cc4f658f3af3327/lib/core.js#L610-L612\r\n\r\n_This issue contents is designed to also serve as a temporary documentation until the real documentation is added._"},{"labels":["documentation"],"text":"It looks like your certificate is no longer valid"},{"labels":["documentation"],"text":"https://flow.org/en/docs/lang/refinements/ starts out \"Refinements are a frequently used aspect of any type system.\"  My understanding is that many (most?) type systems don't have refinements, in the sense used here.  Reporting so that it can be fixed or I can learn something."},{"labels":["Closed: duplicate","documentation"],"text":"These builtin types, introduced in 1e71f2358d5d989183aee8c8e9f97b68fa4577f4, are undocumented and hard to discover without looking at the flow codebase itself.\r\n\r\n"},{"labels":["documentation"],"text":"<!--\r\nPlease explain what documentation is missing or incorrect.\r\n-->\r\n\r\nhttps://flow.org/en/docs/types/objects/#toc-object-type\r\n\r\n>However, if you need to opt-out of the type checker, and don’t want to go all the way to any, you can instead use Object. Object is unsafe and should be avoided.\r\n\r\nThis is incorrect now, because \"Object\" _is_ \"any\"\r\n\r\n"},{"labels":["documentation"],"text":"As per [flow's documentation](https://flow.org/en/docs/types/generics/#toc-generics-track-values-around), generics in flow tracks values around.\r\n\r\nThat means that this will raise an error:\r\n\r\n\"\"\"js\r\nfunction identity<T>(value: T): T {\r\n  if (typeof value === 'string') {\r\n    // $ExpectError\r\n    return '';\r\n  }\r\n\r\n  return value;\r\n}\r\n\"\"\"\r\n\r\nAs far as I can tell, the documentation does not mention how to best type a function like this. Given that flow has first class support for generics, I'm assuming there is a way to specify that the function returns a sub-type of the input type. Specifically a way to avoid less safe typings like these:\r\n\r\n\"\"\"js\r\nfunction identity<T>(value: T): (T | string) {\r\n  ...\r\n}\r\n\"\"\"\r\n\r\nor\r\n\r\n\"\"\"js\r\nfunction identity(value: mixed): mixed {\r\n  ...\r\n}\r\n\"\"\"\r\n\r\nIf for some reasons there is no way to accomplish this with flow, I think it would also be valuable to put that in the documentation. I've spent a multiple hours try to figure this one out. \r\n\r\nThanks!"},{"labels":["Accepting PRs","Website","documentation"],"text":"<!--\r\nPlease explain what documentation is missing or incorrect.\r\n-->\r\n\r\n\r\nThe FAQ page should cover (at the very least):\r\n1. disjoint unions\r\n2. refinement invalidation\r\n3. writing HOCs\r\n4. annotating exports"},{"labels":["documentation","help wanted"],"text":"The documentation for Flow integration with Atom contains references to packages that are no longer maintained and do not appear to work with the latest version of Flow.\r\n\r\nSee https://flow.org/en/docs/editors/atom/."},{"labels":["documentation","feature request","help wanted"],"text":"I didn't know where else to put this but here's a codemod to convert \"Function\" to \"(...args: Array<any>) => any\" and \"Object\" to \"{ [key: string]: any }\". They can help you maintain a bit more type info when upgrading to 0.88.\r\n\r\n## Remove \"Function\"\r\n\r\n\"\"\"\"js\r\n/*\r\njscodeshift \\\r\n  --ignore-config .prettierignore \\\r\n  --ignore-pattern *dist* \\\r\n  --ignore-pattern *codemods* \\\r\n  --ignore-pattern *node_modules* \\\r\n  -t ./codemods/remove-function-type.js .\r\n*/\r\n\r\nconst token = '(...args: Array<any>) => any';\r\nexport default (file: File, api: API) => {\r\n  const j = api.jscodeshift;\r\n  const root = j(file.source);\r\n  let changed = false;\r\n\r\n  // const props: PropTypes = {}\r\n  root.find(j.GenericTypeAnnotation).replaceWith(path => {\r\n    const { node } = path;\r\n    if (node.id.name !== 'Function') {\r\n      return node;\r\n    }\r\n    changed = true;\r\n    node.id.name = token;\r\n    return node;\r\n    // we need to workaround https://github.com/benjamn/recast/pull/252\r\n  });\r\n\r\n  if (!changed) {\r\n    return file.source;\r\n  }\r\n\r\n  return (\r\n    root.toSource().replace(new RegExp(token, 'g'), '((...args: Array<any>) => any)')\r\n  );\r\n};\r\n\r\nexport const parser = 'flow';\r\n\"\"\"\"\r\n\r\n## Remove \"Object\"\r\n\r\n\"\"\"\"lang=js\r\n/*\r\njscodeshift \\\r\n  --ignore-config .prettierignore \\\r\n  --ignore-pattern *dist* \\\r\n  --ignore-pattern *codemods* \\\r\n  --ignore-pattern *node_modules* \\\r\n  -t ./codemods/remove-object-type.js .\r\n*/\r\n\r\nconst token = '__object_type_token__';\r\nexport default (file: File, api: API) => {\r\n  const j = api.jscodeshift;\r\n  const root = j(file.source);\r\n  let changed = false;\r\n  root.find(j.GenericTypeAnnotation).replaceWith(path => {\r\n    const { node } = path;\r\n    if (node.id.name !== 'Object') {\r\n      return node;\r\n    }\r\n    changed = true;\r\n    node.id.name = token;\r\n    return node;\r\n  });\r\n\r\n  if (!changed) {\r\n    return file.source;\r\n  }\r\n\r\n  return (\r\n    root.toSource().replace(new RegExp(token, 'g'), '({[key: string]: any})')\r\n  );\r\n};\r\n\r\nexport const parser = 'flow';\r\n\"\"\"\"\r\n\r\nHope that helps others!"},{"labels":["documentation"],"text":"Docs [here](https://flow.org/en/docs/config/options/#toc-esproposal-export-star-as-enable-ignore-warn) say:\r\n\r\n> The default value of this option is \"warn\", which gives a warning on use since this proposal is still very early-stage.\r\n\r\nBut in Flow 0.81, this option seems to do nothing. I have \"export * from ...\" in my project (to export types, in fact) and it works perfectly with no warning, no matter what setting I set for \"esproposal.export_star_as\""},{"labels":["documentation"],"text":"The page https://flow.org/en/docs/config/declarations/ has no menus.\r\n\r\nLink  on it is in https://flow.org/en/docs/config/ page."},{"labels":["Typing: destructors","Typing: unions/intersections","documentation"],"text":"$ObjMap mixes up return values when mapping functions. By \"mixes up\" i mean that I get errors showing that flow is considering the union of all return types collectively for each function individually.\r\n\r\n* [docs im referring to](https://flow.org/en/docs/types/utilities/#toc-objmap)\r\n* [try it in the playground](https://flow.org/try/#0PTAEAEDMBsHsHcBQiSmgUwC4HIDOp4AnAS03VAENRIBXAOwGNNjY7RMBPAB3MwAsKmdhQDW6fFQAGACgCUoALwA+UADVJlOgBNQhLDUJ0JoSetDTS+PZgNtOPWYnvkAogA9MhCkwBK+wwAq3OQKoAA8qkrScooqqvLKasi0jMysuvRhAIIANKAA8gBcoADeANpiHMW4nsR0AOYAusUxiVkAvlGwxfmyxQAk+QBGAFYAshRcYfl57p7emH42gcEqJYiguv5swyPoTAB0lbjSsLIHelo0DOjR3gx5Igkqu-uYBxS4uMT1dNL3eRKoAqzVAsBBMXaskBUIA3Ih2sgGKwamDFKUNpQWs92IQaOgcpihtjYqBsJBYLBsAj4YhpHi-mcPsUhpSMBQ6LJYaBUPkRHSGadzsTQDUSA0uZtefzUP13DwmC5CIRYIQBfQhQcRazYOzOdzUAA5WA8PJDUDEYxiur1FBgOVuBWYJUqtWCpkMbmbb0+qVgY2m0AMAifUB0WBCOrsPjkVU-OoUaBg0ZvIA)\r\n\r\nExpected: \r\n\r\nonly errors on line 18 and 20 showing usage. This is the case with v56\r\n\r\nActual:\r\n\r\n Using version 68 the following errors are displayed in addition to 18 and 20. \r\n\"\"\"\r\n11:   a: () => true,\r\n               ^ Cannot return \"true\" because string [1] is incompatible with boolean [2].\r\nReferences:\r\n12:   b: () => 'foo'               ^ [1]\r\n11:   a: () => true,\r\n               ^ [2]\r\n12:   b: () => 'foo'               ^ Cannot return \"'foo'\" because boolean [1] is incompatible with string [2].\r\nReferences:\r\n11:   a: () => true,\r\n               ^ [1]\r\n12:   b: () => 'foo'               ^ [2]\r\n\r\n\"\"\"\r\n\r\nImpact:\r\n\r\nAnyone wanting to map an object type containing functions to a transformed set of functions will be affected. I discovered this while making types to transform from types for our API to backend types for our controllers, which are basically the same as the API types but with additional parameters.\r\n\r\n* [example from my use case](https://flow.org/try/#0PQKgBAAgZgNg9gdzCYAoVxhgIJgEZwCuAdgCZhRwBOYA5gKbH1UCWAxmAMrMBu792AA4swAFwCeg+qnoAPQdVFjJ9MAHFGzdtyp82A4WAC8YAN4BqANoBbeqIAWcUgDkAhrYBcYAM6jWxWgBdLwAKQVcqd28vV2JxAEpjAD4wAAUqOGsWb3oAHljxJIBfdEwuTNVCURYYFgllKW8xODFI4m9KKmsxe1VsVIBJChI2arhiMBZiURbvCocp2h7XJWsVtl6mgGs4V1QJKTAAJTtCKmIAFRVcgDEvG5Gx4hSTABIAYVcYGFzcgDUkiEQgA6UERWjRMAFRJGFJ-GFwgA0YBuSX2KhwVFohFs0yuUlu90eLHGLzAHy+P1y2EBIXBXmwCKhcSZ2GRqPRhwAsnZHKR8XkhCwvBomKw2Do9AYWMieQ4nF5fP5aGTXgBRGD0XGiAXU4Sy3lONGc1QXNodajWIUXODvcZ+ODfZjGMC5OV8oWA1xed1OIUI1BgMBhCJRBlYnGMHXXX2kT3Iwg5KheYg4vDMZEzLaMRV+RZMk6iM6XGOGuPCY1lBZNbI9VQHev2FZQnyLTVgWzy8hTFtse0ZJ00TrMnCDHyOQgwbvWQSa7UyeSKBp9YSxu3TAeaqi6oUizTiyX8IUGru55Wqz7fXJm2IWrrW239x1bk98nf6sCxpKVrDVyZNBx6wxBxm1cHxeH4AByJo4B4ZhKTAPsN2fZ1vAnKdJhnOcozEVwtkWSZphaVw2D7EglAQzs+RrCY6iafoBgXBQqCUBscGEdcHUHd9hXUfdtAg-RPRdV4AHk8AAKy5VxBD1GUwBvdpOitYQbU4zdmGNINtLAdBA1ABS1U4C5OGQLBAx03SqzaZSCMA5cmgQXoJkA8QwGIOAlB7WIwDgST6FGMAEGoLYmigKZ6FBYETQU+hfFjABGF06TPfNkjSDIshyXJU2sdMqDRNiLji0RYwAJmS713LTZgmXSTJsjyJVFmNIFXATJNkXCLpvDqzLGuBKg4sdOCQgS+IvApK9FLvFSWDUp9B2RYr4rLBKkniABuMAyjgLYwAAQlQNqOozMBuusXr0vqrLIqGuYYFGyDXEgibyUvH4ZuUh91JQqhlpK8qNu23atiO7SMCwPAqiC5y6zciJVAQSJBCkbsJh8vyJIC1jejc0gWg8pRgqoLYouioqSqFF1TAAHws8xREBstsFCKrmoCPqGuy3L8qSREGaZ1auwAIVCPAUxqqgudu3IOZVVBaZKSGwDkKRRnocg-xmIKQuO0wLKF0qWbZ1KAlO-7ztDS6ZYG+6RvoMb4mRMo7Unch0xbeWAH5fb9-3vcN5nRfFyW8rOxMzu6qJbZyQbhsex3nteoMyjIjDPbA3nmADwOigZDjFq3XUVtET14iAA)"},{"labels":["documentation"],"text":"https://flow.org/en/docs/types/utilities/#toc-call\r\n\r\n\"$Call<F>\" utility type should have second parameter: \"$Call<F, Args>\""},{"labels":["documentation"],"text":"Does anyone else find the links difficult to see in the docs? That is, difficult to differentiate from plain text\r\n\r\neg\r\n![image](https://user-images.githubusercontent.com/14139991/33528292-e9f760a8-d82b-11e7-9137-f174c0a1436a.png)\r\n\r\nThis could be my monitor calibration or my medium-bad color-blindness, but I have a lot of trouble seeing that's a link w/o mousing over it. \r\n\r\nWould there be any objections to adding something like an underline, or heavier font weight?\r\n"},{"labels":["Closed: invalid","documentation"],"text":"There is a code snippet in [Existential Type][1] documentation that claims that the last line should be failing.\r\n\r\n\"\"\"\r\n/* @flow */\r\n\r\nclass ParamStore<T> {\r\n  constructor(data: T) {}\r\n}\r\n\r\nfunction makeParamStore<T>(storeClass: Class<ParamStore<T>>, data: T): * {\r\n  return new storeClass(data);\r\n}\r\n(makeParamStore(ParamStore, 1): ParamStore<number>);\r\n(makeParamStore(ParamStore, 1): ParamStore<string>); // failed because of the second parameter\r\n\"\"\"\r\n\r\nHowever it's working ok in [flow.org/try][2]. (The definition of \"ParamStore\" was added from code snipped of [section above][3].\r\n\r\nflow.org/try version: 0.59.0\r\ndocumentation version: https://github.com/facebook/flow/blob/eb0fdfc195e71a5349087c2a98cefc9717f07695/website/en/docs/types/utilities.md#existential-type--\r\n\r\n[1]: https://flow.org/en/docs/types/utilities/#toc-existential-type\r\n[2]: https://flow.org/try/#0PQKgBAAgZgNg9gdzCYAoVBjGBDAzrsABWwCdsBbAZQBc4SBTAHgBUA+MAb1TDAzgDtc1EgFcMtEgAoAJtmrYAXGGYBKTgF9Um1FBH9xASwFhy2ANb1iZKhKZtJQuvQDCOfEtd5cjKxRpOWVlYAGjBZeSVVJXAuHgZqERJ+MH56JEcGT3wZOWwVAG4tVElTC18bJ0ly-wZQgEYVJWrbRn4RcgAjehJWAuLSy1I-WyqhitqwBqaxmqYhEgN+AHNe-LBgYDAobAMYemkwLoxsEVx6MDgoMGoAC3Ozvn4DgAcx+mpu9C+gA\r\n[3]: https://flow.org/en/docs/types/utilities/#toc-class"},{"labels":["documentation"],"text":"https://github.com/facebook/flow/pull/2631 added support for a \"--quiet\" option, but it is not included at https://flow.org/en/docs/cli/.\r\n\r\nIs https://github.com/facebook/flow/blob/master/website/en/docs/cli/index.md the correct file to edit to add it?  If so I'll make a quick PR."},{"labels":["documentation"],"text":"Flow's documentation on [creating library definitions](https://flow.org/en/docs/libdefs/creation/) does not mention the ability to provide the definition of a json file, which is apparently possible according to [this comment](https://github.com/facebook/flow/issues/620#issuecomment-164497699).\r\n\r\nI was hoping to find an example showing how one might provide an interface type definition for a json file containing an array of objects, such as below:\r\n\r\npositions.json:\r\n\"\"\"\r\n[\r\n    {\r\n        \"id\": \"1\",\r\n        \"title\": \"Councilmember\"\r\n   },\r\n  {\r\n       \"id\": \"2\",\r\n       \"title\": \"Mayor\"\r\n   }\r\n]\r\n\"\"\"\r\n\r\nIdeally, this page would discuss JSON files: https://flow.org/en/docs/libdefs/creation/\r\n"},{"labels":["documentation","linter"],"text":"The following code\r\n\r\n\"\"\"js\r\n'use strict';\r\n\r\n// @flow\r\n\r\nfunction sayHi(info: { name?: string }) {\r\n  return \"Hi ${info.name ? info.name : ''}!\";\r\n}\r\n\r\nsayHi({});\r\nsayHi({ name: 'foo' });\r\n\"\"\"\r\n\r\nwith the following configuration\r\n\r\n\"\"\"\r\n[ignore]\r\n\r\n[include]\r\n\r\n[libs]\r\n\r\n[lints]\r\nall=warn\r\n\r\n[options]\r\ninclude_warnings=true\r\n\"\"\"\r\n\r\ngives me the following warning with Flow v0.52.0:\r\n\r\n\"\"\"\r\n» flow\r\nWarning: index.js:6\r\n  6:   return \"Hi ${info.name ? info.name : ''}!\";\r\n                    ^^^^^^^^^ sketchy-null-string: Sketchy null check on string value. Perhaps you meant to check for null instead of for existence?\r\n    6:   return \"Hi ${info.name ? info.name : ''}!\";\r\n                      ^^^^^^^^^ Potentially null/undefined value.\r\n    6:   return \"Hi ${info.name ? info.name : ''}!\";\r\n                      ^^^^^^^^^ Potentially \"\" value.\r\n\r\n\r\nFound 1 warning\r\n\"\"\"\r\n\r\nAm I missing something? Flow seems to be confusing maybe type and optional property here doesn't it?"},{"labels":["documentation"],"text":"## Problem\r\n\r\nAfter seeing a code example using \"mixed\" in the Flow docs for [Function Types][functions docs], I wanted to look up what \"mixed\" did. I had heard of \"any\" before, but not \"mixed\".\r\n\r\nBut after reading through the documentation for [Mixed Types][mixed docs], I still wasn't clear on the difference between \"mixed\" and \"any\". I understood what I read, but I didn't know how it was different from \"any\", since I'm not an expert on \"any\".\r\n\r\nI checked the [documentation on Any Types][any docs] next, but though it mentions that there is a difference, it just points back to the documentation for \"mixed\" for details. Also, the page on \"any\" uses totally different examples and focuses on different edge cases from the page on \"mixed\", so I couldn't find the differences by comparing them.\r\n\r\nI had to turn to a third-party resource, [a Stack Overflow question](https://stackoverflow.com/q/30004233/578288), to get an explanation.\r\n\r\n## Solution\r\n\r\nI suggest that there be another section added at the bottom of the documentation for \"mixed\", after the section \"Anything goes in, Nothing comes out\". Like this:\r\n\r\n> ## \"mixed\" vs. \"any\"\r\n>\r\n> \"mixed\" and [\"any\"][any docs] are related, but different. Here are their differences: ...\r\n\r\nOne can edit this part of the documentation by [editing the file \"website/en/docs/types/mixed.md\"][edit link].\r\n\r\n\r\n[functions docs]: https://flow.org/en/docs/types/functions/\r\n[mixed docs]: https://flow.org/en/docs/types/mixed/\r\n[any docs]: https://flow.org/en/docs/types/any/\r\n[edit link]: https://github.com/facebook/flow/edit/master/website/en/docs/types/mixed.md"},{"labels":["documentation"],"text":"The \"+\"/\"-\" prefix notation is mentioned in the [redux docs](https://github.com/facebook/flow/blob/master/website/en/docs/frameworks/redux.md) and [this blog post](https://github.com/facebook/flow/blob/master/website/_posts/2016-10-04-Property-Variance.md) but nowhere in the docs on variance. (At least I wasn't able to find them.)"},{"labels":["documentation"],"text":"There are at least 3 ways to publish a typed module to npm:\r\n\r\n1. Transforming types into comments with [babel-plugin-transform-flow-comments](https://www.npmjs.com/package/babel-plugin-transform-flow-comments)\r\n\r\n2. For each \"file.js\" publish \"file.js.flow\", [flow-copy-source](https://github.com/AgentME/flow-copy-source) automates this\r\n\r\n3. Built-in \"gen-flow-files\" command to produce compact annotations file (seems kinda buggy currently)\r\n\r\nI did not find this information in the docs, maybe we should document this? I can send a pull request."},{"labels":["documentation",null],"text":"Right now it says: `The <script> tag loads a <div> in place, so it must be placed under <head>.`\r\nClearly, it should be `<body>` instead of `<head>`.\r\nInitially brought to attention at https://stackoverflow.com/questions/63821160/confusing-note-regarding-bokeh-autoload-scripts"},{"labels":[null,"documentation",null],"text":"Documentation section of developer docs: https://docs.bokeh.org/en/latest/docs/dev_guide/documentation.html\r\n\r\n* Rearrange [build the documentation section](https://docs.bokeh.org/en/latest/docs/dev_guide/documentation.html#build-the-documentation) -- Move information about environment variables before docs build command.\r\nWhile following the steps top-down, setting GOOGLE_API_KEY step can be missed. It looks like a common issue while building the docs, reordering might help to some extent.\r\n* Add Windows-specific build steps:\r\n  * Setting environment variables in Windows command prompt and powershell\r\n  * Use of `make.bat` in windows instead of `make`"},{"labels":[null,"documentation",null],"text":"The [Getting Set Up](https://docs.bokeh.org/en/latest/docs/dev_guide/setup.html) and [Testing](https://docs.bokeh.org/en/latest/docs/dev_guide/testing.html) sections of the developer docs have a TOC in the main content which seems redundant and can be removed. The docs have a right sidebar for this purpose.\r\n\r\nMoreover, having a TOC in the main content makes all section heading hyperlinks. This isn't an issue with our current sphinx theme, but it was super apparent when testing out a different theme.\r\n\r\nIt's just an inconsistency. Creating an issue because it can be a suitable GFI. :)"},{"labels":["documentation",null],"text":"#4407 was closed in the large layout PR work, but some of the features such as `width_policy` and `height_policy` never got documented fully, or examples added."},{"labels":[null,null,"documentation",null],"text":"\r\nref: https://docs.bokeh.org/en/latest/docs/user_guide/interaction/callbacks.html#openurl\r\n\r\nThe `http://www.colors.commutercreative.com` site used for the `OpenURL` callback in the example above seems to no longer exist. \r\n\r\nCould probably use e.g. `http://www.html-color-names.com/firebrick.php` instead."},{"labels":[null,"documentation",null],"text":"BEPs contain important information for (potential) contributors, especially [BEP 1](https://github.com/bokeh/bokeh/wiki/BEP-1:-Issues-and-PRs-management) and (the recently updated) [BEP 6](https://github.com/bokeh/bokeh/wiki/BEP-6:-Branching-and-Milestones). When reading through the developer docs for pr #10337, I noticed that only BEP 1 is linked in the Dev Guide.\r\n\r\n I'd suggest updating the [developer documentation landing page](https://docs.bokeh.org/en/latest/docs/dev_guide.html) to include a link to the general [Wiki landing page on GitHub](https://github.com/bokeh/bokeh/wiki) as well as a link to [BEP 6](https://github.com/bokeh/bokeh/wiki/BEP-6:-Branching-and-Milestones) (in addition to the existing link to BEP 1).\r\n\r\n I'd be happy to open a pull request with those additions."},{"labels":[null,"documentation",null,null],"text":"- [x] `DocumentReady` event (PR #10266) needs documentation and examples\r\n- [x] Dev guide updates to describe new requirements in https://github.com/bokeh/bokeh/pull/10338\r\n- [x] Better documentation for `Dropdown`\r\n- [x] user guide webgl example needs to use circle, not scatter\r\n- [x] release notes"},{"labels":["documentation",null],"text":"The chapter [\"Server Architecture\" in the Developer Docs](https://docs.bokeh.org/en/latest/docs/dev_guide/server.html#tornado-ioloop-and-async-code) still mentions the ``@gen.coroutine`` decorator for non-blocking code in Tornado. As pointed out by @bryevdv in a [comment to pull request #10337](https://github.com/bokeh/bokeh/pull/10337#discussion_r460549693), Bokeh now uses [native coroutines](https://www.tornadoweb.org/en/stable/guide/coroutines.html#native-vs-decorated-coroutines) (introduced in Python 3.5) instead of this decorator. \r\n\r\nThe documentation should be updated to reflect that change. "},{"labels":[null,"documentation",null],"text":"All references to `master` branch should be replaced with `branch-2.2`, or just call it the \"default\" branch (?)."},{"labels":[null,"documentation",null],"text":"Should point to https://medium.com/bokeh \r\n\r\nStarting with:\r\n* [x] https://bokeh.org\r\n* [x] https://demo.bokeh.org\r\n* [x] dash.png image in bokeh-notebooks\r\n* [x] `sphinx/source/docs/releases/1.3.0.rst`\r\n* [x] `bokeh/server/views/app_index.html`"},{"labels":["documentation",null],"text":"The gallery examples are not pruning the bundles down to the minimum necessary:\r\n\r\n<img width=\"865\" alt=\"Screen Shot 2020-06-13 at 4 34 45 PM\" src=\"https://user-images.githubusercontent.com/1078448/84581230-e9a62900-ad93-11ea-89df-fc3a5c803ad5.png\">\r\n"},{"labels":["documentation",null],"text":"Right now it seems that the only reason to require FontAwesome is to add a single icon to external links to the navbar. If that's the case, then we make users download 77kB just for a single icon."},{"labels":["documentation",null],"text":"When there are lots of plots on a docs page, specific anchors into the content, e.g.\r\n\r\nhttps://docs.bokeh.org/en/2.0.2/docs/user_guide/plotting.html#polygons-with-holes\r\n\r\nCan end up showing the wrong place after the plots are finally loaded. I think this can be ameliorated if the `bokeh-plot` sphinx extension can include a plot width/height up front somewhere in the DOM (at least in cases where the content is just a simple plot, so that a canvas width/height can be referred to). \r\n\r\nI suppose this is a problem in general but I think our docs pages with many plots are especially susceptible to it. \r\n\r\ncc @mattpap @p-himik for any thoughts. "},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nBokeh 2.0.2-76-ga417746c9\r\n\r\n#### Description of expected behavior and the observed behavior\r\nThe page at https://docs.bokeh.org/en/latest/docs/dev_guide/documentation.html mentions that it's possible to run `make serve` to serve the documentation locally. But running it results in:\r\n```\r\nException in thread Thread-2:\r\nTraceback (most recent call last):\r\n  File \"/home/p-himik/soft/miniconda3/envs/bokeh-dev/lib/python3.7/threading.py\", line 917, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/p-himik/soft/miniconda3/envs/bokeh-dev/lib/python3.7/threading.py\", line 865, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"docserver.py\", line 43, in open_browser\r\n    webbrowser.open(\"http://localhost:%d/en/latest/index.html\" % PORT, new=\"tab\")\r\n  File \"/home/p-himik/soft/miniconda3/envs/bokeh-dev/lib/python3.7/webbrowser.py\", line 78, in open\r\n    if browser.open(url, new, autoraise):\r\n  File \"/home/p-himik/soft/miniconda3/envs/bokeh-dev/lib/python3.7/webbrowser.py\", line 251, in open\r\n    \"expected 0, 1, or 2, got %s\" % new)\r\nwebbrowser.Error: Bad 'new' parameter to open(); expected 0, 1, or 2, got tab\r\n```\r\nNot sure where `\"tab\"` has come from, but it has been there forever."},{"labels":[null,"documentation",null],"text":"On Dev Guide -  Documentation section, it doesn't specify the need to setup GOOGLE_API_KEY previously. This step should be documented into the Docs. [Based on Discourse Discussion](https://discourse.bokeh.org/t/issues-building-sphinx-documentation/5497)"},{"labels":["documentation",null],"text":"Hello,\r\n\r\nThe [Users Guide documentation on Mapping Geo Data](https://docs.bokeh.org/en/latest/docs/user_guide/geo.html) seems to under-represent the Bokeh GIS mapping capability. Bokeh has at least 10 open source map tile providers but there is no mention of them individually in the Users Guide.\r\n\r\nA display of all map providers with their different styles seems appropriate and is surprisingly absent.\r\n\r\nAlso, Google Maps has recently increased the complexity in getting their mapping API working. Now it requires an API key and also a google registration that is not straightforward. This is a substantial barrier to open-source projects that rely on Bokeh for mapping.\r\n\r\nBokeh provides open-source equivalents, for example OpenStreetMaps and ESRI satellite image tile providers that make mapping with open-source maps and satellite imagery easily available.\r\n\r\nHow can the Users Guide page be updated to reflect the different tile providers and illustrate Bokeh's full open-source mapping capability?\r\n\r\nMarc\r\n\r\nReference:\r\n1. this feature request is an issue from [this Discourse conversation](https://discourse.bokeh.org/t/coordinate-conversions-between-lat-lon-and-web-mercator/5356)\r\n\r\n"},{"labels":[null,null,"documentation",null],"text":"When trying to adjust a margin the [documentation for the margin attribute](https://docs.bokeh.org/en/latest/docs/reference/models/layouts.html?highlight=margin#bokeh.models.layouts.Tabs.margin) didn't tell me everything I wanted to know. It took longer than I care to admit to figure out how it works and I think it'd help others if the documentation for margin explained:\r\n\r\n- the ints in the tuple start at the top and go clockwise: top, right, bottom, left\r\n- negative values can squeeze things together more tightly if desired"},{"labels":[null,"documentation",null],"text":"e.g. \r\n```\r\n./html/docs/user_guide/bokehjs.html:\r\n  392 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-2.0.2.min.js\"></script>\r\n  393 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.2.min.js\"></script>\r\n  394 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.2.min.js\"></script>\r\n  395 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.0.2.min.js\"></script>\r\n  396 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.2.min.js\"></script>\r\n  397 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.2.min.js\"></script>\r\n  413 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-2.0.2.min.js\"></script>\r\n  414 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.2.min.js\"></script>\r\n  415 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.2.min.js\"></script>\r\n  416 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.0.2.min.js\"></script>\r\n  417 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.2.min.js\"></script>\r\n  418 : <script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.2.min.js\"></script>\r\n```\r\n\r\nIdeally we might want to add some sort of check if possible that ensures we don't ever load BokehJS without including the SRI hashes. "},{"labels":[null,"documentation",null],"text":"The docstring accidentally states:\r\n> For the start_angle value, the cumulative sums will start with a zero value. For start_angle, no initial zero will be added (i.e. the sums will start with the first angle value, and include the last).\r\n\r\nThe second `start_angle` should be `end_angle`."},{"labels":["documentation",null],"text":"Currently the page https://docs.bokeh.org/en/latest/docs/user_guide/tools.html shows gif images of how to use the tools (which are great!). \r\n\r\nHowever, they don't include the code on how to use these tools in practice.\r\n\r\nIt took me an embarrassingly long time work workout how to use the PolyEditTool.\r\n\r\nIt would be great if the docs also included sample code on how to use the tools as well as the gif image.\r\n\r\nThese examples already exist in ```bokeh/sphinx/source/docs/user_guide/examples/tools_poly_draw.py```\r\nand \r\n```bokeh/sphinx/source/docs/user_guide/examples/tools_poly_edit.py```\r\n\r\nCould the code in these examples be linked directly to  https://docs.bokeh.org/en/latest/docs/user_guide/tools.html\r\n"},{"labels":["documentation",null],"text":"Consider this page, for instance:\r\n\r\nhttps://docs.bokeh.org/en/2.0.2/docs/reference/models/annotations.html\r\n\r\nThere is no way to just load that page and know what annotations are documented there. Search is great if you know what you are looking for, but it you need to find out what annotations are available to begin with that page is very unhelpful.  This is especially true now after adding inherited members to all models for completeness. \r\n\r\nIncluding subsection headers in between classes would probably automatically afford a sidebar TOC if it can be done in an automated way. "},{"labels":[null,"documentation",null,null],"text":"Full release can show up incorrectly as \"development version\" until a force reload due to browser caching of the `versions.json` file. Adding a random HTTP arg to the request may be one approach\r\n\r\ncc @p-himik for offering suggestion."},{"labels":[null,"documentation",null],"text":"There are a few places where we show example BokehJS script tags on some fixed version. These should be rendered with a Sphinx plugin that makes them version-correct for the current version of docs and also includes SRI hashes."},{"labels":[null,null,"documentation",null],"text":"For example, this page: https://docs.bokeh.org/en/latest/docs/user_guide/interaction/callbacks.html\r\n\r\nNotice how the `::before` pseudo-element covers the link at the bottom, making it unclickable but for a few pixels at the top.\r\n\r\n![image](https://user-images.githubusercontent.com/4410314/79045212-989e7b00-7c12-11ea-8b3f-9e93954fe209.png)\r\n"},{"labels":[null,"documentation",null],"text":"**Software version info**\r\nbokeh 2.0.0\r\nMozilla Firefox 74.0\r\nmacOS Catalina 10.15.3\r\n\r\n**Expected behavior:**\r\nValidation errors will have an output with correct spelling.\r\n\r\nExample one:\r\n\"FactorRange must specify a unique list of categorical factors for an axis\"\r\nExample two:\r\n\"CDSView filters are not compatible with glyphs with connected topology such as Line or Patch\"\r\n\r\n**Observed behavior:**\r\nValidation errors have an output with typos (see attached screenshot).\r\n\r\nExample one:\r\n\"FactorRange must **_specicy_** a unique list of categorical factors for an axis\"\r\nExample two:\r\n\"CDSView filters are not compatible with glyphs with connected topology **_suchs_** as Line **_and_** Patch\"\r\n\r\n**Complete, minimal, self-contained example code that reproduces the issue**\r\n\r\n**Example one:**\r\n```py\r\nfrom bokeh.io import output_notebook, show\r\nfrom bokeh.models import ColumnDataSource, FactorRange\r\nfrom bokeh.plotting import figure\r\n\r\noutput_notebook()\r\n\r\nfruits = ['Apples', 'Apples']\r\nyears = ['2015', '2016']\r\n\r\ndata = {'fruits' : fruits,\r\n        '2015'   : [2, 1],\r\n        '2016'   : [5, 3]}\r\n\r\nx = [ (fruit, year) for fruit in fruits for year in years ]\r\ncounts = sum(zip(data['2015'], data['2016']), ()) # like an hstack\r\n\r\nsource = ColumnDataSource(data=dict(x=x, counts=counts))\r\n\r\np = figure(x_range=FactorRange(*x), plot_height=250, title=\"Fruit Counts by Year\",\r\n           toolbar_location=None, tools=\"\")\r\n\r\np.vbar(x='x', top='counts', width=0.9, source=source)\r\n\r\nshow(p)\r\n\r\n```\r\n\r\n**Example two**\r\n```py\r\nfrom bokeh.layouts import row\r\nfrom bokeh.plotting import output_notebook, figure, show\r\nfrom bokeh.sampledata.autompg import autompg\r\nfrom bokeh.models import CDSView, GroupFilter\r\nfrom bokeh.models.sources import ColumnDataSource\r\noutput_notebook()\r\n\r\nautompg = autompg.assign(efficient=(autompg.mpg > 20).astype(str))\r\nautompg = autompg.groupby(['yr', 'efficient']).mpg.mean().reset_index()\r\nautompg = autompg.sort_values(['efficient', 'yr'])\r\nlist_p = []\r\nsource=ColumnDataSource(autompg)\r\nfor eff in ['True', 'False']:\r\n    filter_ = GroupFilter(column_name='efficient', group=eff)\r\n    view = CDSView(source=source, filters=[filter_])\r\n\r\n    list_p.append(figure(title=eff))\r\n    list_p[-1].line(x='yr', y='mpg', source=source, view=view)\r\n\r\nshow(row(list_p))\r\n```\r\n\r\n**Screenshots or screencasts of the bug in action**\r\nExample one:\r\n<img width=\"1052\" alt=\"Screen Shot 2020-04-01 at 11 12 20 PM\" src=\"https://user-images.githubusercontent.com/18173173/78207887-f42d7380-7470-11ea-853a-f7aa905f91d2.png\">\r\n\r\nExample two:\r\n<img width=\"1036\" alt=\"Screen Shot 2020-04-01 at 11 24 33 PM\" src=\"https://user-images.githubusercontent.com/18173173/78207888-f68fcd80-7470-11ea-9370-c048914aa6d8.png\">"},{"labels":[null,"documentation",null],"text":"In https://docs.bokeh.org/en/latest/docs/reference/transform.html theres a minor typo under the `cumsum` function :\r\n\r\n> **cumsum(field, include_zero=False)**\r\n>    &nbsp; &nbsp; Create a Create a DataSpec dict to generate a CumSum expression for a ColumnDataSource.\r\n\r\nThe `Create a` occurs twice."},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\nbokeh=2.0.0\r\npython=3.6.8\r\nOS=macOS 10.14.6\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nAs of Bokeh 2.0.0, calling the constructor of `ColumnDataSource` with a\r\n value for the `selected` argument yields a `RuntimeError: ColumnDataSource.selected is a readonly property`.\r\n\r\nI understand from the [data release notes](https://docs.bokeh.org/en/latest/docs/releases.html#columndatasource-properties) that the `ColumnDataSource.selected` property is read-only as of 2.0.0.  It is surprising however that a value cannot be passed while instantiating the object, because the [API docs still show](http://docs.bokeh.org/en/latest/docs/reference/models/sources.html?highlight=columndatasource#bokeh.models.sources.ColumnDataSource.selected) that a value for `selected` can be passed to the `ColumnDataSource` constructor.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```python\r\nfrom bokeh.models import ColumnDataSource, Selection\r\ncds = ColumnDataSource(data={'a': [1, 2, 3]},\r\n                       selected=Selection(indices=[2]))\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\n```\r\nIn [1]: from bokeh.models import ColumnDataSource, Selection \r\n   ...: cds = ColumnDataSource(data={'a': [1, 2, 3]}, \r\n   ...:                        selected=Selection(indices=[2]))                                                                            \r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-1-d22061c5d870> in <module>\r\n      1 from bokeh.models import ColumnDataSource, Selection\r\n      2 cds = ColumnDataSource(data={'a': [1, 2, 3]},\r\n----> 3                        selected=Selection(indices=[2]))\r\n\r\n~/bin/anaconda/lib/python3.6/site-packages/bokeh/models/sources.py in __init__(self, *args, **kw)\r\n    191             else:\r\n    192                 raise ValueError(\"expected a dict or pandas.DataFrame, got %s\" % raw_data)\r\n--> 193         super().__init__(**kw)\r\n    194         self.data.update(raw_data)\r\n    195 \r\n\r\n~/bin/anaconda/lib/python3.6/site-packages/bokeh/model.py in __init__(self, **kwargs)\r\n    232         kwargs.pop(\"id\", None)\r\n    233 \r\n--> 234         super().__init__(**kwargs)\r\n    235         default_theme.apply_to_model(self)\r\n    236 \r\n\r\n~/bin/anaconda/lib/python3.6/site-packages/bokeh/core/has_props.py in __init__(self, **properties)\r\n    244 \r\n    245         for name, value in properties.items():\r\n--> 246             setattr(self, name, value)\r\n    247 \r\n    248     def __setattr__(self, name, value):\r\n\r\n~/bin/anaconda/lib/python3.6/site-packages/bokeh/core/has_props.py in __setattr__(self, name, value)\r\n    271 \r\n    272         if name in props or (descriptor is not None and descriptor.fset is not None):\r\n--> 273             super().__setattr__(name, value)\r\n    274         else:\r\n    275             matches, text = difflib.get_close_matches(name.lower(), props), \"similar\"\r\n\r\n~/bin/anaconda/lib/python3.6/site-packages/bokeh/core/property/descriptors.py in __set__(self, obj, value, setter)\r\n    535 \r\n    536         if self.property._readonly:\r\n--> 537             raise RuntimeError(\"%s.%s is a readonly property\" % (obj.__class__.__name__, self.name))\r\n    538 \r\n    539         self._internal_set(obj, value, setter=setter)\r\n\r\nRuntimeError: ColumnDataSource.selected is a readonly property\r\n```"},{"labels":[null,"documentation",null],"text":"See [the developers guide setup instructions](sphinx/source/docs/dev_guide/setup.rst) where it says\r\nof the git precommit hook:\r\n\r\n```\r\n``pre-commit``\r\n\r\n    This git hook runs all the codebase tests before allowing a commit to\r\n    proceed. Note that all the standard testing dependencies must be installed\r\n    in order for this hook to function.\r\n\r\n    .. code-block:: sh\r\n\r\n        #!/bin/bash\r\n\r\n        py.test -m codebase\r\n        exit $?\r\n\r\n```\r\n\r\nThe instructions should say:\r\n\r\n```\r\n#!/bin/bash\r\n\r\npy.test tests/codebase\r\nexit $?\r\n```\r\n\r\nThere is also a tiny typo (turorial instead of tutorial) in the preceeding paragraph. "},{"labels":[null,"documentation",null],"text":"Reading the documentation I noticed that  BEP 2 is referenced in the [dev guide](https://docs.bokeh.org/en/latest/docs/dev_guide.html), however this proposal was [retired](https://github.com/bokeh/bokeh/wiki/BEP-2:-Release-Management) last year. \r\n\r\nThis issue was discussed also [here](https://discourse.bokeh.org/t/documentation-enhancement-proposal-2/4942)."},{"labels":["documentation",null],"text":"The Bokeh Documentation (and other properties) could benefit from the addition of metadata such a [OpenGraph](https://ogp.me/) and [Structured Data](https://developers.google.com/search/docs/guides/intro-structured-data). Adding these would afford rich previews on many common social media sites, forums, and Google search results. The task is to first add metadata manually to small sites such as [bokeh.org](https://bokeh.org) and then develop Sphinx extensions to automate adding relevant metadata throughout the entire docs site [docs.bokeh.org](https://docs.bokeh.org).\r\n"},{"labels":[null,"documentation",null],"text":"Release 2.0.0 has changed the guidance on [additional dependencies to export plots](http://docs.bokeh.org/en/2.0.0/docs/user_guide/export.html#additional-dependencies) as png, svg... It currently states that the extra dependencies can be installed via conda using:\r\n\r\n    conda install selenium geckodriver firefox\r\n\r\nHowever, of the 3 packages, only [selenium](https://anaconda.org/search?q=selenium) is available via anaconda channel, [geckodriver](https://anaconda.org/search?q=geckodriver) and [firefox](https://anaconda.org/search?q=firefox) are not available via anaconda main channel, they are available via conda-forge channel. Trying to run the command above results in `PackagesNotFoundError: The following packages are not available from current channels`.\r\n\r\nI would expect the command provided to work straight away. Would adding conda-forge as the channel be an acceptable solution for you? I can make a PR to edit this.\r\n"},{"labels":["documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nbokeh 1.4 python 3.7 google collaboratory\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nWhen rendered on a log scale with a width and height, ellipses should not be visually centered around their xy center. But bokeh renders them as such. Here's an example where an ellipse should touch at least some verticies of a polygon, but does not: \r\n\r\n![bokeh_log_ellipse](https://user-images.githubusercontent.com/479213/75138093-3c9d8880-569e-11ea-9312-a92138e25930.png)\r\n\r\n#### Bugdemo source code\r\nThe source is [here](https://colab.research.google.com/drive/10FSd_8EFBpt1hfINWuucajJgYP0K_GES)\r\n"},{"labels":[null,"documentation",null,null],"text":"This Issue is to request a tile provider demo to showcase all Bokeh tile providers.\r\n\r\nIn particular, it would be nice to compare the newly added OSM, WIKIMEDIA, and ESRI_IMAGERY tile providers to each other and the existing STAMEN and CARTODBPOSITRON tile providers.\r\n\r\nThis tile provider demonstration will allow Bokeh to provide open-source alternatives to Google Maps with Open Street Maps as the standard basemap with streets, buildings and other features along with the ESRI_IMAGERY for the satellite view of the same location.\r\n\r\n![bokeh_tile_demo_screenshot](https://user-images.githubusercontent.com/29280226/75051681-52dbf680-549c-11ea-816e-2f7b77d94ddd.jpg)\r\n"},{"labels":[null,"documentation",null],"text":"Currently trying to update the HoloViz stack to bokeh 2.0 compatibility and running into some undocumented deprecations:\r\n\r\n* `bokeh.io.create_webdriver` removed (see https://github.com/bokeh/bokeh/pull/9331#discussion_r376234181)\r\n* `bokeh.plotting.helpers` removed\r\n* `AbstractButton` clicks property removed\r\n\r\nI'll keep adding to these as I encounter these.\r\n\r\nReference: https://docs.bokeh.org/en/dev/docs/releases.html#api-removals"},{"labels":["documentation",null],"text":"The bokeh.plotting.Figure reference documentation mentions the following (bold mine):\r\n\r\n> In addition to all the **Figure** property attributes, the following options are also accepted:\r\n\r\nThis seems not really helpful to me to figure out which properties are actually accepted by Figure. As `Figure` is basically a Plot with some helper methods, replacing `Figure` by `Plot` seems to make more sense to me:\r\n\r\n> In addition to all the Plot property attributes, the following options are also accepted:\r\n\r\nPersonally I would also link Plot to make navigation as easy as possible for users."},{"labels":[null,"documentation",null],"text":"The [documentation](https://docs.bokeh.org/en/latest/docs/installation.html) does not mention that for JupyterLab, it is necessary to separately install an extension:\r\n\r\n    jupyter labextension install @bokeh/jupyter_bokeh\r\n\r\n#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\nPackages installed with conda 4.7.11:\r\n```\r\nbokeh                     1.4.0                    py37_0    conda-forge\r\npython                    3.7.6                h357f687_2    conda-forge\r\nnotebook                  6.0.3                    py37_0    conda-forge\r\njupyter_client            5.3.4                    py37_1    conda-forge\r\njupyter_core              4.6.1                    py37_0    conda-forge\r\njupyterlab                1.2.6                      py_0    conda-forge\r\njupyterlab_server         1.0.6                      py_0    conda-forge\r\nipywidgets                7.5.1                      py_0    conda-forge\r\n```\r\n\r\nDebian 10.2, Chrome 79.0.3945.130\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nI discovered that the extension has to be installed separately when trying to run `examples/howto/notebook_comms/Jupyter Interactors.ipynb`. Without it, the figure is shown but the sliders are not functional. After performing the installation, it works. The documentation says that `conda install bokeh` is all that is necessary."},{"labels":[null,"documentation",null],"text":"I've been reading and using bokeh docs for years and I was sick of reading the same typos over and over so I'm creating a PR to fix some of them."},{"labels":[null,"documentation",null],"text":"The [Handling Categorical Data](https://docs.bokeh.org/en/latest/docs/user_guide/categorical.html) section of the user guide has a broken link:\r\n\r\n<img width=\"1114\" alt=\"Screenshot 2019-12-14 at 18 18 05\" src=\"https://user-images.githubusercontent.com/1482434/70852849-16898a00-1e9e-11ea-914b-b4841258a5f2.png\">\r\n\r\nThe [Defining Key Concepts Glossary](https://docs.bokeh.org/en/latest/docs/user_guide/concepts.html#glossary) section also has incomplete link text (it should read \"Developers Guide.\"):\r\n\r\n<img width=\"1104\" alt=\"Screenshot 2019-12-14 at 18 20 53\" src=\"https://user-images.githubusercontent.com/1482434/70852885-81d35c00-1e9e-11ea-9361-0a6019de8cc8.png\">\r\n\r\n"},{"labels":["documentation",null],"text":"**Is your feature request related to a problem? Please describe.**\r\nWhile the documentation of the inline extension is long and detailed, pre-built extensions are only talked about shortly. \r\nEspecially, the correct setup for a pre-built extension is not explained.\r\n\r\n**Describe the solution you'd like**\r\nProvide setup instructions and/or a complete pre-built example for a extension, especially the usage in code.\r\n"},{"labels":[null,null,"documentation",null],"text":"Bokeh Gmaps in stores explicitly Google Maps API Key inside the cell of the Jupyter Notebook. \r\n\r\nWhen publishing the notebook, got warning email from google and thus needed to regenerate API key. \r\n\r\nSee: \r\nhttps://raw.githubusercontent.com/vitekzkytek/PythonDataIES/31808eeb9eb32eff64a677fe7610684dc7e2b719/09/09_IntroToGeoData.ipynb and search for: \"AIzaSyA1PafVW-WeNmBrbJvo3E4DTG6lfRlhGWU\" (the key is already invalidated). \r\n\r\nthe code in the cell does not reveal the key:\r\n`map_options = GMapOptions(lat=50.08, lng=14.43, map_type=\"roadmap\", zoom=14)`\r\n\r\n`p = gmap(GOOGLE_MAPS_API_KEY, map_options, title=\"Pubs in Prague\")`\r\n\r\nNot sure if there is a way how not to save the key in the JSON object, but maybe at least warning that gmap stores API key could be useful"},{"labels":[null,"documentation",null],"text":"The following changes can be made in the [developer documentation](https://docs.bokeh.org/en/latest/docs/dev_guide.html):\r\n\r\n* _Getting set up -> Preliminaries -> [Conda](https://docs.bokeh.org/en/latest/docs/dev_guide/setup.html#conda)_: Links to the [conda documentation](https://docs.conda.io/en/latest/) need to be updated.\r\n* Throughout the developer guide, `contact the developers` currently links to https://bokeh.org/, we can have it point to https://discourse.bokeh.org/c/development/.\r\n* _Getting set up -> [Cloning the repository](https://docs.bokeh.org/en/latest/docs/dev_guide/setup.html#cloning-the-repository)_ asks us to clone the main bokeh repo. We can briefly describe that active @bokeh/dev contributors should use the main repo whereas new/casual contributors must clone their personal fork instead (and why).\r\n\r\nCredits: @bryevdv \r\n"},{"labels":[null,"documentation",null],"text":"# Issue Type\r\n\r\n[x] Bug (Typo)\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\n# Steps to Replicate\r\n\r\n1. Examine sphinx/source/docs/user_guide/annotations.rst.\r\n2. Search for `ther`.\r\n\r\n# Expected Behaviour\r\n\r\n1. Should read as `the`.\r\n\r\n"},{"labels":[null,"documentation",null],"text":"> [Project Name] is a Sponsored Project of NumFOCUS, a 501(c)(3) nonprofit charity in the United States. NumFOCUS provides [Project Name] with fiscal, legal, and administrative support to help ensure the health and sustainability of the project. Visit numfocus.org for more information.\r\n> \r\n> Donations to [Project Name] are managed by NumFOCUS. For donors in the United States, your gift is tax-deductible to the extent provided by law. As with any donation, you should consult with your tax adviser about your particular tax situation.”"},{"labels":[null,"documentation",null],"text":"Twitter handle is now `@bokeh` Need to update docs source at a minimum but possibly re-upload old versions fixed up with a search and replace on the archives."},{"labels":[null,"documentation",null],"text":"Add lots of space, changes font size, for some reason (just this page)\r\n\r\nhttps://docs.bokeh.org/en/latest/docs/reference/palettes.html\r\n"},{"labels":["documentation",null],"text":"Users who make PNG exports at very high resolutions (e.g. for publication) run in to the issue that text font sizes are fixed and do not scale, leading to very tiny titles, labels, etc in the larger image. AFAIK units like `rem`, etc do not work on Canvas, but this should be verified. If not, it would be helpful to introduce our own unit that we manually scale according to canvas height. \r\n\r\nTangentially related to https://github.com/bokeh/bokeh/issues/6840\r\n\r\ncc @bokeh/dev for thoughts, input."},{"labels":[null,"documentation",null],"text":"Should show `legend_field`, etc. \r\n```\r\nOther Parameters:\r\n    alpha (float) : an alias to set all alpha keyword args at once\r\n    color (Color) : an alias to set all color keyword args at once\r\n    source (ColumnDataSource) : a user supplied data source\r\n    legend (str) : a legend tag for this glyph\r\n    x_range_name (str) : name an extra range to use for mapping x-coordinates\r\n    y_range_name (str) : name an extra range to use for mapping y-coordinates\r\n    level (Enum) : control the render level order for this glyph\r\n```\r\n"},{"labels":[null,null,"documentation",null],"text":"The docs describe how to use `bokeh serve --develop`, but they also claim that the feature is not implemented, which seems contradictory:\r\n\r\n![image](https://user-images.githubusercontent.com/1695496/68699270-52040200-0548-11ea-8452-963b62390753.png)\r\n\r\nIt does seem to work in practice, so should the text \"* DEVELOP MODE BELOW NOT YET IMPLEMENTED *\" just be removed?"},{"labels":[null,null,"documentation",null],"text":"All the app examples should get READMEs and should include animate gif screen capture of the app in operation for display on GH.\r\n"},{"labels":[null,"documentation",null],"text":"E.g. the `Slope` reference guide entry could link to the \"Adding Anotations\" User Guide section for a more complete discussion. "},{"labels":[null,"documentation",null],"text":"The Reference Guide page is nearly empty. The `bokeh.sampledata` module should automatically include relevant submodules in its main docsring, and all the submodule docstrings should be updated/completed to be useful, e.g. explain what the module contains, or show example data, or link/include examples that use the data. "},{"labels":[null,null,"documentation",null],"text":"Hello,\r\n\r\nI was looking for documentation on Tabs and I went to the page :\r\n\r\nhttps://docs.bokeh.org/en/latest/docs/reference/models/widgets.panels.html\r\nHowever it display a blank page :\r\n![image](https://user-images.githubusercontent.com/18531147/67140166-fcde1480-f257-11e9-9c5a-a0bd3bbe2ad7.png)\r\n\r\nThe last time the page was ot empty was on:\r\n\r\nhttps://docs.bokeh.org/en/1.0.4/docs/reference/models/widgets.panels.html\r\n\r\n"},{"labels":[null,"documentation",null],"text":"Should move to use `gtag` version\r\n\r\n```\r\n<!-- Global site tag (gtag.js) - Google Analytics -->\r\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-27761864-7\"></script>\r\n<script>\r\n  window.dataLayer = window.dataLayer || [];\r\n  function gtag(){dataLayer.push(arguments);}\r\n  gtag('js', new Date());\r\n\r\n  gtag('config', 'UA-27761864-7');\r\n</script>\r\n```\r\n\r\nShould go in `head`, apparently. See also:\r\n\r\nhttps://developers.google.com/analytics/devguides/collection/gtagjs/ip-anonymization\r\n\r\nFor info about ip anon for GPDR\r\n"},{"labels":[null,"documentation",null],"text":"There are a few typos in the user guide and the app example README.md, which are trivial to fix."},{"labels":["documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n- bokeh version: 1.3.4\r\n- python version: 3.7.4\r\n- notebook version: 6.0.1\r\n- JupyterLab version: 1.1.4\r\n- OS version: MacOS 10.14.6\r\n- Browser version: \r\n    * Google Chrome 77.0.3865.90 (Official Build) (64-bit)\r\n    * Safari 13.0.1 (14608.2.11.1.11)\r\n\r\n#### Description of expected behavior and the observed behavior\r\nHit testing of HoverTool does not work correctly with large aspect ratio and `radius_dimension='y'`.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```python\r\n# modified example in\r\n# https://bokeh.pydata.org/en/latest/docs/user_guide/tools.html#basic-tooltips\r\n\r\nfrom bokeh.plotting import figure, output_notebook, show, ColumnDataSource\r\nfrom bokeh.layouts import Row\r\nfrom bokeh import __version__ as bokeh_version\r\nimport sys\r\noutput_notebook()\r\n\r\nprint('python version:', sys.version_info)\r\nprint('bokeh version:', bokeh_version)\r\n\r\nsource = ColumnDataSource(data=dict(\r\n    x_large=[i * 1e+4 for i in range(5)],\r\n    x_small=[i * 1e-4 for i in range(5)],\r\n    y=[2, 5, 8, 2, 7],\r\n    desc=['A', 'b', 'C', 'd', 'E'],\r\n))\r\n\r\nTOOLTIPS = [(\"index\", \"$index\"), (\"(x,y)\", \"($x, $y)\"), (\"desc\", \"@desc\"),]\r\n\r\np_large = figure(plot_width=400, plot_height=400, tooltips=TOOLTIPS,\r\n           title=\"Too narrow hit?\",)\r\np_large.circle('x_large', 'y', radius=.5, source=source, radius_dimension='y')\r\n\r\np_small= figure(plot_width=400, plot_height=400, tooltips=TOOLTIPS,\r\n           title=\"seems to be ok\",)\r\np_small.circle('x_small', 'y', radius=.5, source=source, radius_dimension='y')\r\n\r\nshow(Row(p_large, p_small))\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\nNo error message produced.\r\n\r\n#### Screenshots or screencasts of the bug in action\r\nWhen X range is larger than Y range, hit area is to narrow ( in the X domain):\r\n![large_ng](https://user-images.githubusercontent.com/12782884/66710496-ce25f100-edb4-11e9-99fb-a4aa9b142b93.png)\r\n![large_ok](https://user-images.githubusercontent.com/12782884/66710497-d120e180-edb4-11e9-9dcb-45d51b3e80d1.png)\r\n\r\n\r\nSeems to be ok when X range is smaller:\r\n![small_ok](https://user-images.githubusercontent.com/12782884/66710481-6c658700-edb4-11e9-9f39-ed15f97ac846.png)\r\n"},{"labels":[null,"documentation",null],"text":"`modify_doc` is a wonky name that relates only to a fairly low level view of how apps work, and APIs that most users will never see directly. See [this SO comment for an example of confusion](https://stackoverflow.com/questions/58286323/cannot-get-a-bokeh-checkbox-group-to-update-graph/58289753?noredirect=1#comment102950492_58289753) that name causes. For user-facing examples, we should switch to a function name that's more suggestive of the semantics that are important to users, that the function *defines* the app, e.g. `create_app` or even just `app`\r\n"},{"labels":[null,"documentation",null],"text":"Bokeh 1.3.4\r\nPython 3.7.2\r\nMacOS and CentOS\r\nChrome 77.0.3865.90\r\n\r\nSummary: Populating data for a categorical plot from an AjaxDataSource fails. Root cause appears to be an attempt to convert data to synthetic coordinates before the data has been retrieved.\r\n\r\nExpected behavior: Categorical data can be retrieved with AjaxDataSource and then used as the source.\r\n\r\nObserved behavior: Browser error: \"Uncaught TypeError: Cannot read property 'length' of undefined\r\n    at FactorRange.synthetic (VM16 bokeh-1.3.4.js:22760)\".\r\nThis error occurs before the Ajax call finishes.\r\n\r\nExample: Adapted from https://github.com/bokeh/bokeh/blob/1.3.4/examples/howto/ajax_source.py. Switching the source to a static ColumnDataSource produces the expected plot. \r\n\r\n```\r\nimport numpy as np\r\nfrom flask import Flask, jsonify, make_response, request\r\n\r\nfrom bokeh.plotting import figure, show\r\nfrom bokeh.models import AjaxDataSource, CustomJS, ColumnDataSource\r\n\r\n# Bokeh related code\r\n\r\nadapter = CustomJS(code=\"\"\"\r\n    const result = {x: [], y: []}\r\n    const pts = cb_data.response.points\r\n    for (i=0; i<pts.length; i++) {\r\n        result.x.push(pts[i][0])\r\n        result.y.push(pts[i][1])\r\n    }\r\n    console.log(result)\r\n    return result\r\n\"\"\")\r\n\r\nsource = AjaxDataSource(data_url='http://localhost:5050/data', adapter=adapter)\r\n# source = ColumnDataSource(data=dict(x=[\"a\",\"b\"], y=[1,2]))\r\n\r\np = figure(x_range=[\"a\",\"b\"], plot_height=300, plot_width=800, background_fill_color=\"lightgrey\",\r\n           title=\"Streaming Noisy sin(x) via Ajax\")\r\np.circle('x', 'y', source=source)\r\n\r\n# Flask related code\r\n\r\napp = Flask(__name__)\r\n\r\ndef crossdomain(f):\r\n    def wrapped_function(*args, **kwargs):\r\n        resp = make_response(f(*args, **kwargs))\r\n        h = resp.headers\r\n        h['Access-Control-Allow-Origin'] = '*'\r\n        h['Access-Control-Allow-Methods'] = \"GET, OPTIONS, POST\"\r\n        h['Access-Control-Max-Age'] = str(21600)\r\n        requested_headers = request.headers.get('Access-Control-Request-Headers')\r\n        if requested_headers:\r\n            h['Access-Control-Allow-Headers'] = requested_headers\r\n        return resp\r\n    return wrapped_function\r\n\r\nx = [\"a\",\"b\"]\r\ny = [1,2]\r\n\r\n@app.route('/data', methods=['GET', 'OPTIONS', 'POST'])\r\n@crossdomain\r\ndef data():\r\n    return jsonify(points=list(zip(x,y)))\r\n\r\n# show and run\r\n\r\nshow(p)\r\napp.run(port=5050)\r\n\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\n```\r\nPython version      :  3.7.3 | packaged by conda-forge | (default, Jul  1 2019, 14:38:56)\r\nIPython version     :  7.8.0\r\nTornado version     :  5.1.1\r\nBokeh version       :  1.3.4\r\nBokehJS static path :  /Users/jsignell/hvplot/envs/dev/lib/python3.7/site-packages/bokeh/server/static\r\nnode.js version     :  v12.9.1\r\nnpm version         :  6.10.3\r\n```\r\n\r\n#### Description of expected behavior and the observed behavior\r\nGrid lines are rendered under image rather than on top as expected. This issue first came up in https://github.com/pyviz/hvplot/issues/314 where it was pointed out that matplotlib renders the gridlines on top of the image. I think that should probably be the default behavior for images, but overall gridline z ordering should be configurable.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```python\r\nimport numpy as np\r\nfrom bokeh.plotting import figure, output_file, show\r\noutput_file(\"gridlines.html\")\r\n\r\nN = 500\r\nx = np.linspace(0, 10, N)\r\ny = np.linspace(0, 10, N)\r\nxx, yy = np.meshgrid(x, y)\r\nd = np.sin(xx)*np.cos(yy)\r\n\r\np = figure(plot_width=400, plot_height=400)\r\np.image(image=[d], x=0, y=0, dw=10, dh=10, palette=\"Spectral11\")\r\nshow(p)\r\n```\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n<img width=\"408\" alt=\"Screen Shot 2019-09-24 at 11 29 35 AM\" src=\"https://user-images.githubusercontent.com/4806877/65526449-1ee5b080-debf-11e9-93d7-5bd66c826328.png\">\r\n"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\nThe current version of Bokeh.\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nIn [this README](https://github.com/bokeh/bokeh/blob/master/examples/app/clustering/README.md), there is\r\n```\r\n[`examples/app`]([`examples/app`](https://github.com/bokeh/bokeh/tree/master/examples/app))\r\n```\r\nwhich is incorrect.\r\nShould be replaced with\r\n```\r\n[`examples/app`](https://github.com/bokeh/bokeh/tree/master/examples/app)\r\n```\r\n"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\nBokeh: 1.3.4 (latest at the time of writing)\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nIn the example of the section\r\nhttps://bokeh.pydata.org/en/latest/docs/user_guide/tools.html#custom-tooltip\r\nan image should be displayed on hover over each circle.\r\nHowever, the five images seem to be broken, and the links (see below) also fail.\r\n\r\nhttps://bokeh.pydata.org/static/snake.jpg\r\nhttps://bokeh.pydata.org/static/snake2.png\r\nhttps://bokeh.pydata.org/static/snake3D.png\r\nhttps://bokeh.pydata.org/static/snake4_TheRevenge.png\r\nhttps://bokeh.pydata.org/static/snakebite.jpg\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n![cropped](https://user-images.githubusercontent.com/9023838/63419716-deb28e80-c437-11e9-83d2-cca98c290e4c.png)\r\n"},{"labels":[null,"documentation",null],"text":"**ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)**\r\n```\r\nPython version      :  3.7.2 (default, Mar 15 2019, 01:06:31) \r\nIPython version     :  (not installed)\r\nTornado version     :  6.0.3\r\nBokeh version       :  1.3.0\r\nBokehJS static path :  /usr/local/lib/python3.7/site-packages/bokeh/server/static\r\nnode.js version     :  v10.15.1\r\nnpm version         :  6.10.0\r\n```\r\nOS: Mac OS X Mojave 10.14.6\r\nBrowser: Google Chrome Version 76.0.3809.100 (Official Build) (64-bit)\r\n\r\n**Description of expected behavior and the observed behavior**\r\nExpected behavior: theme should be applied so `line_color` should be set to red\r\nObserved behavior: `line_color` is not applied (remains default)\r\n\r\n**Complete, minimal, self-contained example code that reproduces the issue**\r\n\r\nmain.py\r\n```py\r\nfrom bokeh.plotting import curdoc, figure\r\n\r\nplot = figure()\r\nplot.line(x = [1, 2], y = [1, 2])\r\n\r\ncurdoc().add_root(plot) \r\n```\r\ntheme.yaml\r\n```yaml\r\nattrs: \r\n    Line:\r\n        line_width: 10\r\n        line_color: \"#FF0000\"  \r\n```\r\n\r\n**Additional info**\r\n\r\nBoth files are in `test_yaml` directory. The app is run as follows:\r\n`bokeh serve --show yaml_test`\r\n\r\nNo JS console warnings or error are given.\r\n\r\nThe plot looks like:\r\n![Screenshot 2019-08-19 at 12 50 16](https://user-images.githubusercontent.com/10279903/63260205-98ff9580-c280-11e9-8933-3c7d869c6bb6.png)\r\n\r\n"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\n#### Description of expected behavior and the observed behavior\r\nhttps://bokeh.pydata.org/en/latest/index.html\r\nIn the footer, the 'Roadmap' link leads to\r\n'https://bokeh.pydata.org/en/latest/docs/https://bokeh.org/roadmap.html',\r\nwhich does not exist.\r\n\r\nExpected behavior: Display the Roadmap page.\r\nObserved behavior: 404 error.\r\n\r\nNow, the obvious issue here is the wrong URL, but https://bokeh.org/roadmap.html produces 404 as well.\r\n"},{"labels":[null,"documentation",null],"text":"Hi guys, \r\nI am currently using the sphinxextension to build the documentation of my project. The module bokeh-plot is particularly usefull. While working with bokeh plot I noticed the following Issue.\r\n\r\nIssue:\r\n------\r\n\r\nOn the hompage: https://bokeh.pydata.org/en/latest/docs/reference/sphinxext.html#module-bokeh.sphinxext.bokeh_plot \r\nThe two options for bokeh_plot are described:\r\n\r\n![grafik](https://user-images.githubusercontent.com/28698827/61533988-a978e200-aa2e-11e9-89e5-1f107d81eade.png)\r\n\r\nWhen using this options in an bokeh-plot directive this options can not be found\r\n(see Console Output)\r\n\r\nActually I already found the problem:\r\nIn the implementation of the Directory (`bokeh.sphinxext.bokeh_plot.py`) the names of the options are simply different:\r\n\r\n-----------------------------------------------------------------------------\r\n    class BokehPlotDirective(Directive):\r\n\r\n        has_content = True\r\n        optional_arguments = 2\r\n\r\n        option_spec = {\r\n            'source-position': lambda x: choice(x, ('below', 'above', 'none')),\r\n            'linenos': lambda x: True if flag(x) is None else False,\r\n            ...\r\n        }\r\n--------------------------------------------------------------------------\r\nExpected Behaviour/Solution:\r\n-------------------------------\r\n\r\nIn my opinion the documentation should be updated from:\r\n* source-positionenum(‘above’, ‘below’, ‘none’)\r\n* linenosflag\r\n\r\nto:\r\n* source-position(‘above’, ‘below’, ‘none’)\r\n* linenos\r\n\r\nLike in the source code.\r\n\r\nEnvironment:\r\n-------------\r\npython=3.6.8\r\nbokeh=1.2.0\r\nSphinx=2.1.2\r\n\r\nConsole Output:\r\n-----------------\r\nC:\\HGroot\\spam-visualizers\\GeoViewsion\\doc\\how_to.rst:112: WARNING: Error in \"bokeh-plot\" directive:\r\nunknown option: \"linenosflag\".\r\n\r\n.. bokeh-plot:: ../examples/minimum_map/main.py\r\n        :linenosflag:\r\n        :source-positionenum: above"},{"labels":[null,"documentation",null],"text":"Dev documentation still points to https://bokehplots.com/pages/contact.html.  bokehplots.com has out-dated information and is being deprecated.  On the gitter @bryevdv said he want's those links to point to bokeh.org instead."},{"labels":[null,"documentation",null],"text":"I've been talking with another bokeh user at Scipy 2019 and found we shared very similar frustrations when starting to work with bokeh selections. The problem is the [documentation page for selection tools](https://bokeh.pydata.org/en/latest/docs/user_guide/tools.html#boxselecttool\r\n) at bokeh.pydata.org does not include information on how you can get the indices/values after you have selected something.\r\n\r\n(It's not that there's no documentation on this, the problem is that it's split up & scattered around the place, plus is difficult to surface on google.)"},{"labels":[null,null,"documentation",null],"text":"### Missing `test` argument\r\n\r\nThe current [developement guide](https://bokeh.pydata.org/en/latest/docs/dev_guide/setup.html#conda-packages) is missing the `test` argument for windows setups. \r\n\r\nAs for OSX / Linux (bash / sh), it is: \r\n- ```conda install `python scripts/deps.py build run test```.\r\n\r\nAs for windows, the `test` argument is missing for the `deps.py`:\r\n- ```conda install $(python scripts/deps.py build run).split() | where {$_}```\r\n- ```for /F \"delims=\" %i in ('python scripts\\deps.py build run') do (conda install %i)```\r\n\r\nInstead, it should be:\r\n- ```conda install $(python scripts/deps.py build run test).split() | where {$_}```\r\n- ```for /F \"delims=\" %i in ('python scripts\\deps.py build run test') do (conda install %i)```\r\n\r\n### `pytest<5.0.0` fails\r\nIn addition, running ```for /F \"delims=\" %i in ('python scripts\\deps.py build run test') do (conda install %i)``` fails with error `System can't find given file.` which is due to `pytest<5.0.0`. Providing double quotes actually fixes the issue -> `conda install \"pytest<5.0.0\"`."},{"labels":[null,"documentation",null],"text":"There is a typo on the Mapping Geo Data page, link here:\r\nhttps://bokeh.pydata.org/en/latest/docs/user_guide/geo.html\r\n\r\nThe sentence currently reads: \"Please tell use your use cases through the mailing list or on github so that we can continue to build out these features to meet your needs.\"\r\n\r\nThe sentence should read: \"Please tell us your use cases through the mailing list or on github so that we can continue to build out these features to meet your needs.\"\r\n\r\nSo the first \"USE\" should be \"US\"\r\n"},{"labels":["documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nbokeh.version = 1.2.0\r\npython: 3.7.3\r\nOS: Windows 10\r\nbrowser: all\r\n\r\n#### Description of expected behavior and the observed behavior\r\nOne can assing a datasource to a multi_line plot and in that definition point to the name of the x, y and legend columns. If at the moment of defining the multi_line the datasource does not have these columns, e.g. if you do not specify data for the datasource, then when doing an update of the data, the x and y *are* updated, but the legend columns is not updated with the new data. As a result you will see \"labels\" in the legend.\r\n\r\nExpected: \r\n* legend in multi_line plot shows regardless of the legend column being in the datasource at definition time of the multi_line plot\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```\r\nfrom bokeh.plotting import curdoc, figure\r\nimport numpy as np\r\nfrom bokeh.models import ColumnDataSource\r\n\r\nsource = ColumnDataSource()\r\n\r\np = figure(width=600, height=300)\r\np.multi_line(xs='xs', ys='ys', legend='labels', source=source)\r\n\r\nsource.data = {'xs': [np.arange(5) * 1, np.arange(5) * 2],\r\n        'ys': [np.ones(5) * 3, np.ones(5) * 4],\r\n        'labels': ['one', 'two']}\r\n\r\ncurdoc().add_root(p)\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\nNo relevant console output\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n![image](https://user-images.githubusercontent.com/7702207/60446350-7a3a3680-9c21-11e9-8794-691157a7b513.png)\r\n"},{"labels":["documentation",null],"text":"I was looking for documentation about Themes in the \"Styling Visual Attributes\" page of the docs and was surprised we didn't have it there. We should...\r\n\r\nAdd mention of Themes to \"Styling Visual Attributes\" docs page"},{"labels":[null,"documentation",null],"text":"\r\n"},{"labels":[null,"documentation",null,null],"text":"It's not that difficult, but is important in order to prevent a Bokeh server from starting new sessions on any random connection. There is a small demo of the usage here:\r\n\r\nhttps://gist.github.com/bryevdv/481fc64c59620acb74c64bff0f4d47d0\r\n\r\nWhich should be expanded into user guide documentation. \r\n"},{"labels":["documentation",null],"text":"While onboarding as a contributor, I ran into various issues when attempting to run the examples tests. Specifically:\r\n* It wasn't explicit that I need to have Chrome installed locally\r\n* I need to have chromedriver installed as well\r\n* I need to start Chrome w/ a debugging port from the command line\r\n* I need to build the bokehjs examples\r\n* To update an example's baseline, I need to commit the changes to git "},{"labels":[null,"documentation",null],"text":"Currently the provided example generates a deprecation warning for importing the `CARTODBPOSITRON` tile provider from `bokeh.tile_providers`."},{"labels":[null,"documentation",null],"text":"Hi, I am a new staff member at NumFOCUS. We have updated our donation provider from Flipcause to Salsa. The new link is: \r\n\r\nhttps://numfocus.salsalabs.org/donate-to-bokeh/index.html\r\n\r\nPlease update your website accordingly. : )\r\n\r\nThanks, \r\n\r\nLisa Martin\r\nNumFOCUS"},{"labels":[null,"documentation",null],"text":"I was looking at some CoC stuff for another project and thought I would take a quick look at Bokeh's and realized that it's not featured prominently or at all on any of the standard bokeh landing pages.\r\n\r\nI was thinking a mention along with a sentence about being an open, diverse and inclusive community would be nice. Propose the following pages:\r\n* https://bokeh.pydata.org/en/latest/\r\n* https://bokeh.pydata.org/en/latest/docs/dev_guide.html\r\n* https://bokeh.pydata.org/en/latest/docs/contribute.html\r\n* https://bokeh.pydata.org/en/latest/docs/contact.html\r\n* https://bokeh.pydata.org/en/latest/docs/team.html\r\n* https://github.com/bokeh/bokeh"},{"labels":[null,"documentation",null],"text":"# READ AND FOLLOW THESE INSTRUCTIONS CAREFULLY\r\n\r\n*ISSUES THAT DO NOT CONTAIN NECESSARY INFORMATION MAY BE CLOSED, IMMEDIATELY*\r\n\r\nThe issue tracker is NOT the place for general support. For questions and\r\ntechnical assistance, come ask the [Bokeh mailing list](https://groups.google.com/a/continuum.io/forum/#!forum/bokeh) or join the chat on [Gitter](https://gitter.im/bokeh/bokeh). For feature requests, please provide a detailed description or proposal of the new capability or behavior.\r\n\r\nFor defects or deficiencies, please provide ALL OF THE FOLLOWING:\r\n\r\n#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nBokeh 1.0.2\r\n#### Description of expected behavior and the observed behavior\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```\r\n/Users/BenjaminLee/.virtualenvs/squiggle/lib/python3.6/site-packages/bokeh/models/plots.py:55: UserWarning:\r\nYou are attemptings to set `plot.legend.location` on a plot that has zero legends added, this will have no effect.\r\n\r\nBefore legend properties can be set, you must add a Legend explicitly, or call a glyph method with the 'legend' parameter set.\r\n```\r\n\r\nIn this case, `attemptings` is a misspelling of `attempting`.\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nBokeh at master\r\n#### Description of expected behavior and the observed behavior\r\nThere should be links to js live coding sites with the examples from the documentation for bokehjs.  From this page https://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\nI have created a pull request that fixes this.\r\n\r\n"},{"labels":[null,null,"documentation",null],"text":"The BokehJS example from the documentation doesn't work as expected.\r\nI used the code from this example https://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#minimal-complete-example\r\n\r\n#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nBokehJS 1.0.4  \r\nBokehJS 0.12.5\r\n\r\nI can reproduce in Firefox and Chrome\r\n\r\n#### Description of expected behavior and the observed behavior\r\nClicking on the \"Add Some Data\" button should cause the plot to update. \r\n\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\nThis seems to fail because ColumnDataSource.change doesn't exist as a property\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n[CodePen 0.12.5 Example](https://codepen.io/paddy_mullen/pen/ZPEBma)\r\n[CodePen 1.0.4 Example](https://codepen.io/paddy_mullen/pen/vPYgKO)\r\n"},{"labels":[null,"documentation",null,null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\npython 3.6\r\nbokeh 1.1.0dev3\r\nbokeh css/js 1.1.0dev3\r\njquery 3.1.0\r\nGoogle Chrome Version 72.0.3626.96 (Official Build) (64-bit)\r\nFireFox 65.0 (64-bit)\r\nHost OS: Ubuntu 18.04\r\n\r\n#### Description of expected behavior and the observed behavior\r\nLayout produces non-overlapping rows in a column.\r\nLayout of Div rows in a column, with an image Div, the next row overwrites the image (row above).\r\n\r\nNOTE: Sometimes the layout IS CORRECT.  Or can be seen to be correct.  For example, when I press the \"LOGIN\" button, (which has no action) and then hit refresh, the layout becomes correct.  If I then go to another URL and then back to the flask URL, the layout goes back to being incorrect.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n```\r\nfrom flask import Flask, send_from_directory\r\n\r\nimport bokeh\r\nfrom bokeh.layouts import layout, row\r\nfrom bokeh.models.layouts import Spacer\r\nfrom bokeh.models.widgets import Div\r\nfrom bokeh.models.widgets.buttons import Button\r\nfrom bokeh.embed import components\r\n\r\nfrom dominate.tags import *\r\nimport dominate\r\nfrom dominate.util import raw\r\n\r\napp = Flask(__name__)\r\nprint(bokeh.__version__)  # this prints 1.1.0dev3\r\n\r\n@app.route('/')\r\ndef index():\r\n    d = dominate.document(title=\"test\")\r\n    with d.head:\r\n        bokeh_version = '1.1.0dev3'\r\n        link(href=\"https://cdn.pydata.org/bokeh/dev/bokeh-{bokeh_version}.min.css\".format(\r\n            bokeh_version=bokeh_version), rel=\"stylesheet\", type=\"text/css\")\r\n        script(src=\"https://cdn.pydata.org/bokeh/dev/bokeh-{bokeh_version}.min.js\".format(bokeh_version=bokeh_version))\r\n        link(href=\"https://cdn.pydata.org/bokeh/dev/bokeh-widgets-{bokeh_version}.min.css\".format(\r\n            bokeh_version=bokeh_version), rel=\"stylesheet\", type=\"text/css\")\r\n        script(src=\"https://cdn.pydata.org/bokeh/dev/bokeh-widgets-{bokeh_version}.min.js\".format(bokeh_version=bokeh_version))\r\n        link(href=\"https://cdn.pydata.org/bokeh/dev/bokeh-tables-{bokeh_version}.min.css\".format(\r\n            bokeh_version=bokeh_version), rel=\"stylesheet\", type=\"text/css\")\r\n        script(src=\"https://cdn.pydata.org/bokeh/dev/bokeh-tables-{bokeh_version}.min.js\".format(bokeh_version=bokeh_version))\r\n\r\n        script(src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js\")\r\n        meta(charset=\"UTF-8\")\r\n\r\n    doc_layout = layout()\r\n    b_login = Button(label=\"LOGIN\", width=50)\r\n    doc_layout.children.append(row(Div(text=\"\"\"<h1>{}</h1>\"\"\".format(\"title\"), width=100), Spacer(width=100), b_login))\r\n    doc_layout.children.append(Div(text=\"\"\"<img src=\"/pywrapstatic/index.png\">\"\"\"))\r\n    doc_layout.children.append(Div(text=\"\"\"Version: {}\"\"\".format(\"1.0.1\"), width=200))\r\n    doc_layout.children.append(Div(text=\"message\", width=600))\r\n\r\n    _script, _div = components(doc_layout)\r\n    d.body += raw(_script)\r\n    d.body += raw(_div)\r\n    return \"{}\".format(d)\r\n\r\n@app.route('/pywrapstatic/<path:path>')\r\ndef common__serve_static(path):\r\n    return send_from_directory('.', path)\r\n\r\napp.run(host=\"0.0.0.0\", port=6800, debug=False)\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n![screenshot from 2019-02-09 15-17-43](https://user-images.githubusercontent.com/40646488/52525854-e53c9e00-2c7d-11e9-8b14-29ece281a09b.png)\r\n\r\n#### Screenshots or screencasts of the bug in action\r\nThe \"version\" and \"message\" text is expected to go below the image.\r\n![screenshot from 2019-02-09 15-07-55](https://user-images.githubusercontent.com/40646488/52525778-9f330a80-2c7c-11e9-8f53-c5d488439a7d.png)\r\n"},{"labels":[null,"documentation",null],"text":"https://bokeh.pydata.org/en/latest/docs/reference/models/sources.html\r\n\r\nIn the little example blurb for the patch method, it reads:\r\n\r\n```\r\nThe following example shows how to patch entire column elements. In this case,\r\n\r\n\r\nsource = ColumnDataSource(data=dict(foo=[10, 20, 30], bar=[100, 200, 300]))\r\n\r\npatches = {\r\n    'foo' : [ (slice(2), [11, 12]) ],\r\n    'bar' : [ (0, 101), (2, 301) ],\r\n}\r\n\r\nsource.patch(patches)\r\nAfter this operation, the value of the source.data will be:\r\n\r\ndict(foo=[11, 22, 30], bar=[101, 200, 301])\r\n\r\n```\r\n\r\n\r\nthe last line should read:\r\n\r\n```\r\ndict(foo=[11, 12, 30], bar=[101, 200, 301])\r\n```\r\n"},{"labels":[null,"documentation",null],"text":"Have been running through a fresh install and build and followed the dev instructions here: https://bokeh.pydata.org/en/latest/docs/dev_guide/setup.html\r\n\r\nTo install dependencies I ran:  \r\n    \r\n    conda install `python scripts/deps.py build run test` \r\n\r\nAfter doing this if you run `py.test -m unit` or `py.test -m \"unit and not selenium\"`, the tests will fail because phantom_js is not installed.\r\n\r\nWe should either update the documentation or the script to install phantom_js while it's a dependency."},{"labels":[null,"documentation",null],"text":"The callback_policy throttling options only apply to CustomJS callbacks, not python/server callbacks.\r\n\r\nSome comments will be added and warning. \r\n\r\nThis is expected behavior, discussed here: \r\nhttps://github.com/bokeh/bokeh/issues/6897, \r\nhttps://github.com/bokeh/bokeh/issues/4540\r\nhttps://github.com/bokeh/bokeh/pull/3958\r\n\r\n\r\n"},{"labels":[null,"documentation",null],"text":"There is a small typo \"range_rool\" in the range_tool.py example. I would like to use this issue to create my first pull request and see how the process works."},{"labels":[null,"documentation",null],"text":"The bokeh.pydata.org documentation's Developer Guide section links to the 1.0.1 version instead of 1.0.2.\r\n\r\nFrom https://bokeh.pydata.org/en/latest/docs/dev_guide.html on Safari:\r\n![screen shot 2018-11-29 at 9 21 30 pm](https://user-images.githubusercontent.com/19802403/49264663-2f530900-f41d-11e8-801e-9422e03b7f7d.png)\r\n\r\nManually typing in https://bokeh.pydata.org/en/1.0.2/docs/dev_guide.html does direct to the correct page."},{"labels":[null,"documentation",null],"text":"There are various typos scattered throughout the documentation."},{"labels":[null,"documentation",null],"text":"I am trying to implement interactive chart using BokehJS standalone JS version 1.0.0\r\n\r\nI am facing following issues - \r\n\r\n- Not able to find any example or official documentation regarding the same\r\n\r\n- How to bind JavaScript function directly instead  of using\r\n `Bokeh.CustomJS({args:{\"plot\":plot},code: \"\"})`\r\n\r\n\r\n\r\n\r\n\r\n"},{"labels":["documentation",null],"text":"I wanted to run the gapminder example from this repo. I made a git clone of the current master branch changed the gapminder directory and started the bokeh server. It seems like the `bokeh.sampledata.gapminder` could not be found. See log. I only get a white browser window and error messages in the console. Do you have any idea what i could try?\r\n\r\nI tried the current master branch: Commit 7093b5f8b5327dcc5f96c711e156fddba2d8b4e7\r\n\r\nMy bokeh version \r\n```\r\nmax@sam ~/g/b/e/a/gapminder (master)> bokeh --version\r\n0.13.0\r\n```\r\n```\r\nmax@sam ~/g/b/e/a/gapminder (master)> python3 --version\r\nPython 3.5.2\r\n```\r\n```\r\nmax@sam ~/g/b/e/a/gapminder (master)> uname -a\r\nLinux sam 4.15.0-38-generic #41~16.04.1-Ubuntu SMP Wed Oct 10 20:16:04 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n```\r\nmax@sam ~/g/b/e/a/gapminder (master)> firefox --version\r\nMozilla Firefox 63.0\r\n```\r\n\r\nError output was:\r\n```\r\nmax@sam ~/g/b/e/a/gapminder (master)> bokeh serve --show main.py \r\n/home/max/.local/lib/python3.5/site-packages/bokeh/command/util.py:91: UserWarning: \r\nIt looks like you might be running the main.py of a directory app directly.\r\nIf this is the case, to enable the features of directory style apps, you must\r\ncall \"bokeh serve\" on the directory instead. For example:\r\n\r\n    bokeh serve my_app_dir/\r\n\r\nIf this is not the case, renaming main.py will supress this warning.\r\n\r\n  warnings.warn(DIRSTYLE_MAIN_WARNING)\r\n2018-11-14 23:18:38,729 Starting Bokeh server version 0.13.0 (running on Tornado 5.1.1)\r\n2018-11-14 23:18:38,731 Bokeh app running at: http://localhost:5006/main\r\n2018-11-14 23:18:38,731 Starting Bokeh server with process id: 17874\r\n2018-11-14 23:18:39,023 Error running application handler <bokeh.application.handlers.script.ScriptHandler object at 0x7fc3fd72a518>: bokeh sample data directory does not exist, please execute bokeh.sampledata.download()\r\nFile \"sampledata.py\", line 113, in external_data_dir:\r\nraise RuntimeError('bokeh sample data directory does not exist, please execute bokeh.sampledata.download()') Traceback (most recent call last):\r\n  File \"/home/max/.local/lib/python3.5/site-packages/bokeh/application/handlers/code_runner.py\", line 163, in run\r\n    exec(self._code, module.__dict__)\r\n  File \"/home/max/git/bokeh/examples/app/gapminder/main.py\", line 14, in <module>\r\n    fertility_df, life_expectancy_df, population_df_size, regions_df, years, regions_list = process_data()\r\n  File \"/home/max/git/bokeh/examples/app/gapminder/data.py\", line 5, in process_data\r\n    from bokeh.sampledata.gapminder import fertility, life_expectancy, population, regions\r\n  File \"/home/max/.local/lib/python3.5/site-packages/bokeh/sampledata/gapminder.py\", line 62, in <module>\r\n    fertility       = external_csv('gapminder', 'gapminder_fertility.csv', index_col='Country', encoding='utf-8')\r\n  File \"/home/max/.local/lib/python3.5/site-packages/bokeh/util/sampledata.py\", line 91, in external_csv\r\n    return pd.read_csv(external_path(name), **kw)\r\n  File \"/home/max/.local/lib/python3.5/site-packages/bokeh/util/sampledata.py\", line 126, in external_path\r\n    data_dir = external_data_dir()\r\n  File \"/home/max/.local/lib/python3.5/site-packages/bokeh/util/sampledata.py\", line 113, in external_data_dir\r\n    raise RuntimeError('bokeh sample data directory does not exist, please execute bokeh.sampledata.download()')\r\nRuntimeError: bokeh sample data directory does not exist, please execute bokeh.sampledata.download()\r\n \r\n2018-11-14 23:18:39,033 200 GET /main (127.0.0.1) 65.75ms\r\n2018-11-14 23:18:39,234 404 GET /favicon.ico (127.0.0.1) 0.49ms\r\n2018-11-14 23:18:39,282 101 GET /main/ws?bokeh-protocol-version=1.0&bokeh-session-id=hdaE7bYUmPdSVsConlw2Lwo9rPcLOeOnps7w8klw3K7M (127.0.0.1) 0.65ms\r\n2018-11-14 23:18:39,282 WebSocket connection opened\r\n2018-11-14 23:18:39,283 ServerConnection created\r\n^C\r\nInterrupted, shutting down\r\n\r\n\r\n```"},{"labels":[null,null,"documentation",null],"text":"I am trying to reproduce an example from the [Bokeh docs](https://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#bokeh-charts-pie) that uses `gridplot`.\r\n\r\n```\r\nvar plt = Bokeh.Plotting;\r\n\r\nvar pie_data = {\r\n    labels: ['Work', 'Eat', 'Commute', 'Sport', 'Watch TV', 'Sleep'],\r\n    values: [8, 2, 2, 4, 0, 8],\r\n};\r\n\r\nvar p1 = Bokeh.Charts.pie(pie_data);\r\nvar p2 = Bokeh.Charts.pie(pie_data, {\r\n    inner_radius: 0.2,\r\n    start_angle: Math.PI / 2\r\n});\r\nvar p3 = Bokeh.Charts.pie(pie_data, {\r\n    inner_radius: 0.2,\r\n    start_angle: Math.PI / 6,\r\n    end_angle: 5 * Math.PI / 6\r\n});\r\nvar p4 = Bokeh.Charts.pie(pie_data, {\r\n    inner_radius: 0.2,\r\n    palette: \"Oranges9\",\r\n    slice_labels: \"percentages\"\r\n});\r\n\r\nplt.show(plt.gridplot([p1, p2, p3, p4]));\r\n``` \r\n\r\nHere is a [JSFiddle](https://jsfiddle.net/ujf98cqk/). `plt.show` with a single plot works, but shows a blank when using `plt.show(plt.gridplot([p1, p2, p3, p4]));`. Any ideas? I have been trying with `0.12.5` and `1.0.0`, but to no avail. "},{"labels":[null,"documentation",null],"text":" I think there is a typo in the documentation about Apache reverse proxy:\r\nhttps://bokeh.pydata.org/en/latest/docs/user_guide/server.html#apache\r\n\r\nThe loaded module should be:\r\n`a2enmod proxy_http`\r\ninstead of\r\n`a2enmod http_proxy`\r\n\r\n"},{"labels":[null,"documentation",null],"text":"\r\n**Version**: Bokeh 1.0.1\r\n\r\nDocumentation of `io.export.create_webdriver` has a formatting typo and a spelling error\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```python\r\n>>> from bokeh.io.export import create_webdriver\r\n>>> help(create_webdriver)\r\n\r\ncreate_webdriver()\r\n    Create a new webdriver.\r\n    \r\n    ..note ::\r\n        Here for compatiboility. Prefer methods on the webdriver_control\r\n        object.\r\n```\r\n"},{"labels":[null,"documentation",null],"text":"In the latest version of the docs, it appears [this example]( https://bokeh.pydata.org/en/latest/docs/user_guide/interaction/callbacks.html#customjs-for-selections ) is broken. This is also true of the example in the Bokeh 1.0.0 docs. Selecting points in the plot on the left does not result in points being shown in the right plot. Compare this to [the same plot using Bokeh 0.13.0]( https://bokeh.pydata.org/en/0.13.0/docs/user_guide/interaction/callbacks.html#customjs-for-selections ), which seems to work without issues."},{"labels":[null,"documentation",null],"text":"I found a tiny typo in the document about `GraphRenderer` while working on other PRs.\r\n\r\n**attr y_range_name**\r\nhttps://bokeh.pydata.org/en/latest/docs/reference/models/renderers.html#bokeh.models.renderers.GraphRenderer.y_range_name\r\n> A particular (named) y-range to use for computing screen locations when rendering graphs on the plot. If unset, use the default -range.\r\n\r\nIt seems that it is '\"y-range\", not \"-range”.\r\n\r\nI think that this line is to be modified.\r\nIf there is not problem, I will send a PR.\r\nhttps://github.com/bokeh/bokeh/blob/a01ae6ecb6726cb97ae1997e57d62f0cdf6adacc/bokeh/models/renderers.py#L205-L206\r\n"},{"labels":[null,"documentation",null],"text":"Add (or update) an example to demonstrate  converting node/edge attributes in `from_networkx`.\r\n\r\n**Related an issue/PR:**\r\n* Issue #8183\r\n* PR #8210\r\n\r\nI think that it is easier to understand that node / edge attributes are being converted in `from_networkx` by adding an example that displays node hover information at the end of this page.\r\n**Visualizing Network Graphs**\r\nhttps://bokeh.pydata.org/en/latest/docs/user_guide/graph.html\r\n\r\n# Draft\r\nThe example draft to be added is as follows.\r\nhttp://nbviewer.jupyter.org/github/komo-fr/networkx2bokeh_note/blob/master/notebooks/graph_example_hovering_node_attributes.ipynb\r\n\r\nIf there is not particularly big problem with this content, I will send a PR."},{"labels":[null,"documentation",null],"text":"Hi:\r\n\r\nI am newer in boker and I find some typo in the guide:\r\n[https://bokeh.pydata.org/en/latest/docs/user_guide/plotting.html](url)\r\n\r\nIn the Hex Tiles session's code, I think `output_file(\"hex_coords.py\")` should be `output_file(\"hex_coords.html\")`\r\n\r\nHope to fix this typo thx!"},{"labels":[null,null,"documentation",null],"text":"As described here: https://bokeh.pydata.org/en/latest/docs/user_guide/export.html#additional-dependencies exporting plots has additional dependencies.\r\n\r\nThese should also be mentioned in the Optional Dependencies section of Installation: https://bokeh.pydata.org/en/latest/docs/installation.html#optional-dependencies"},{"labels":[null,"documentation",null],"text":"There used to be a search bar in the documentation, which now appears to have been removed. For me, this makes the documentation site a lot less helpful.\r\n\r\n<img width=\"698\" alt=\"screen shot 2018-09-04 at 1 26 55 pm\" src=\"https://user-images.githubusercontent.com/8238804/45008562-b2dfa280-b046-11e8-9201-065817ed7f38.png\">\r\n<img width=\"702\" alt=\"screen shot 2018-09-04 at 1 27 06 pm\" src=\"https://user-images.githubusercontent.com/8238804/45008566-b4a96600-b046-11e8-9bcf-bbbaf8a41614.png\">\r\n\r\nIs this something that's coming back?"},{"labels":[null,"documentation",null],"text":"As part of the NumFocus small grant, we are funded to \"Expand the User guide section for using bokeh with notebooks and jupyterlab\" This work should include:\r\n\r\n* Expanding/adding an introductory section that briefly introduces/explains the notebook, links to relevant external resources for more information, and describes at a high level some of the things bokeh can do in a notebook\r\n\r\n* Refresh images on the page. Some of the images are quite old. There are some differences in how Bokeh reacts in some cases (e.g. `p.circle` no longer returns a `Figure`) and in any case it would be good to have all the images display a uniform same Jupyter UI\r\n\r\n* Improved the zeppelin section. At a minimum I think the large image can be removed, or else edited to not be so wide. Additionally a brief description of what zeppelin is with links would be helpful. \r\n\r\n* Add a section for embedding Boeh server apps in notebooks. Should link to the example notebook in the repo, but also outline the process in the docs section itself (basically a reiteration if what is in the example notebook)\r\n\r\n* Add a section for the issue described in https://github.com/bokeh/bokeh/issues/6107 (must call `ouptut_notebook` again after defining custom models) Should add docs to notebook section an to custom models section. \r\n\r\n* Expand the section with example links, move closer to the top. I.e. perhaps the list could contain a brief description of the notebook instead of just a bare link\r\n\r\n* Add in direct links to live Mybinder notebooks. We might want to add new notebooks to `bokeh/bokeh-notebooks` that demonstrate particular things or topics."},{"labels":[null,"documentation",null],"text":"In using Whisker to plot error bars on figures there is a lack of information associated with the ``dimension`` property - it is not clear how you should use it. \r\n\r\nThe correct method is to specify ``dimension=height`` for error bars aligned in the ``y``-direction and ``dimension=weight`` for error bars aligned in the ``x``-direction. \r\n\r\nThe docstrings should be updated for this property to help users on how to use it. "},{"labels":[null,"documentation",null],"text":"In https://github.com/bokeh/bokeh/pull/7686#issuecomment-403549738,\r\nit was suggested that I should update the docs concerning notebooks about how to use the new functionality to enable using the Bokeh server in a JupyterHub environment.\r\n\r\nThis issue tracks creating docs for this."},{"labels":[null,"documentation",null],"text":"For example, `sphinx/source/docs/user_guide/annotations.rst` \r\n\r\n```\r\nthat their``start`` and ``end`` attributes are themselves other |ArrowHead|\r\n```\r\n\r\nSpace before backticks."},{"labels":[null,"documentation",null],"text":"The documentation for `BoxSelectTool` says that to constrain selection to a single axis, you pass `width` or `height` as a string in a single-element list, but this is incorrect.  Passing just the string itself works.  Relevant docs section [here](http://bokeh.pydata.org/en/latest/docs/user_guide/tools.html#specifying-tools)\r\n\r\n```\r\n(venv) kevin@onion-run:~/iplot$ python\r\nPython 2.7.13 (default, Jan 19 2017, 14:48:08) \r\n[GCC 6.3.0 20170118] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import bokeh\r\n>>> print bokeh.__version__\r\n0.12.16\r\n>>> \r\n>>> from bokeh.models import BoxSelectTool\r\n>>> from bokeh.plotting import figure\r\n>>> \r\n>>> plot = figure(tools=\"pan,wheel_zoom,box_zoom,reset\")\r\n>>> plot.add_tools(BoxSelectTool(dimensions=[\"width\"]))\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/kevin/iplot/venv/local/lib/python2.7/site-packages/bokeh/model.py\", line 219, in __init__\r\n    super(Model, self).__init__(**kwargs)\r\n  File \"/home/kevin/iplot/venv/local/lib/python2.7/site-packages/bokeh/core/has_props.py\", line 236, in __init__\r\n    setattr(self, name, value)\r\n  File \"/home/kevin/iplot/venv/local/lib/python2.7/site-packages/bokeh/core/has_props.py\", line 263, in __setattr__\r\n    super(HasProps, self).__setattr__(name, value)\r\n  File \"/home/kevin/iplot/venv/local/lib/python2.7/site-packages/bokeh/core/property/descriptors.py\", line 503, in __set__\r\n    self._internal_set(obj, value, setter=setter)\r\n  File \"/home/kevin/iplot/venv/local/lib/python2.7/site-packages/bokeh/core/property/descriptors.py\", line 724, in _internal_set\r\n    value = self.property.prepare_value(obj, self.name, value)\r\n  File \"/home/kevin/iplot/venv/local/lib/python2.7/site-packages/bokeh/core/property/bases.py\", line 278, in prepare_value\r\n    raise e\r\nValueError: expected a value of type basestring, got ['width'] of type list\r\n>>> plot.add_tools(BoxSelectTool(dimensions=\"width\"))\r\n>>> \r\n\r\n```"},{"labels":[null,"documentation",null],"text":"Since 12.7, bokeh has included helpful functions for the creation of mappers that work to encode colors onto a column of data. \r\n\r\nThe old style was as follows:\r\n```\r\nmapper = LinearColorMapper(palette=['red','green','blue], high=40, low=0)\r\np.circle(x=1, y=1, color={'field':'y','transform':mapper})\r\n```\r\n\r\nThis required the user to both understand how to create an instance of the mapper and how to properly apply the `DataSpec` to modify the element. With the introduction of `factor_cmap`,`linear_cmap`, `log_cmap`. This gets a little easier. \r\n\r\nThe documentation on these features, though, is a little lacking. Although for categorical charts `factor_cmap` is covered extensively. `linear_cmap` appears only in examples.\r\n\r\nThis issue is created to facilitate  a documentation update to the \"Styling Visual Attributes\" page to use some of the content from the reference documentation and add an example as to how the mappers can be used. \r\n\r\n~~PR is forthcoming with the changes.~~ PR is posted. "},{"labels":[null,"documentation",null],"text":"In the `image_url` documentation, both the `h` and `w` parameters are documented as the `height` where the image will be located. For the `w` parameter should be the `width`."},{"labels":[null,"documentation",null],"text":"All the gallery examples have the code for ion range slider, surface3d, etc. Perhaps we will need to run every export for the gallery in a separate process to avoid this. Alternatively, is there an easy way to clear out any custom models that the sphinx extension could do between exports?\r\n\r\ncc @mattpap "},{"labels":[null,"documentation",null],"text":"After following the [dev guide setup instructions](http://bokeh.pydata.org/en/latest/docs/dev_guide/setup.html#devguide-setup) in a fresh conda environment using the current bokeh master branch, I'm getting file not found errors running the unit tests. \r\n\r\n<details><summary>Relevant Versions</summary>\r\n<p>\r\n\r\nmacOS 10.12.6\r\n\r\n```\r\nbokeh info\r\nPython version      :  3.6.5 |Anaconda, Inc.| (default, Apr 26 2018, 08:42:37) \r\nIPython version     :  6.4.0\r\nBokeh version       :  0.12.16rc1-dirty\r\nBokehJS static path :  /Users/Atom/Documents/floss/bokeh/bokeh/server/static\r\nnode.js version     :  v8.11.1\r\nnpm version         :  6.0.1\r\n\r\npytest --version\r\nThis is pytest version 3.5.1, imported from /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest.py\r\nsetuptools registered plugins:\r\n  pytest-xdist-1.22.2 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/xdist/plugin.py\r\n  pytest-xdist-1.22.2 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/xdist/looponfail.py\r\n  pytest-variables-1.7.1 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_variables/plugin.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/browserstack.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/chrome.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/crossbrowsertesting.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/edge.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/firefox.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/internet_explorer.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/phantomjs.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/remote.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/safari.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/saucelabs.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/pytest_selenium.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/safety.py\r\n  pytest-selenium-1.12.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_selenium/drivers/testingbot.py\r\n  pytest-metadata-1.7.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_metadata/plugin.py\r\n  pytest-html-1.17.0 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_html/plugin.py\r\n  pytest-forked-0.2 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_forked/__init__.py\r\n  pytest-cov-2.5.1 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_cov/plugin.py\r\n  pytest-base-url-1.4.1 at /Users/Atom/.miniconda/envs/bokeh/lib/python3.6/site-packages/pytest_base_url/plugin.py\r\n```\r\n</p>\r\n</details>\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```\r\npytest bokeh/sampledata/tests/test_airport_routes.py -x\r\n...\r\nFileNotFoundError: File b'/Users/Atom/.bokeh/data/airports.csv' does not exist\r\n```\r\n\r\nand indeed \r\n\r\n```\r\nls '/Users/Atom/.bokeh/data'              \r\nAAPL.csv                                    US_Counties.csv                             gapminder_regions.csv\r\nCGM.csv                                     WPP2012_SA_DB03_POPULATION_QUINQUENNIAL.csv movies.db\r\nFB.csv                                      airports.json                               unemployment09.csv\r\nGOOG.csv                                    gapminder_fertility.csv                     us_cities.json\r\nIBM.csv                                     gapminder_life_expectancy.csv               world_cities.csv\r\nMSFT.csv                                    gapminder_population.csv\r\n```\r\n\r\nthere's an `airports.json` but no `airports.csv`. It seems a `routes.csv` is also missing.\r\n\r\nLooking at the source I found https://github.com/bokeh/bokeh/blob/master/bokeh/util/sampledata.py#L128 is likely missing parentheses: `if not (exists(fn) and isfile(fn)):` and L129 `%e` should be replaced with `%s`. Then the resulting error is:\r\n\r\n```\r\npytest bokeh/sampledata/tests/test_airport_routes.py -x\r\n...\r\nRuntimeError: Could not locate external data file /Users/Atom/.bokeh/data/airports.csv. Please execute bokeh.sampledata.download()\r\n\r\npython -c 'import bokeh; bokeh.sampledata.download()'\r\nUsing data directory: /Users/Atom/.bokeh/data\r\n...\r\nDownloading: airports.csv (203190 bytes)\r\n    203190 [100.00%]\r\nDownloading: routes.csv (377280 bytes)\r\n    377280 [100.00%]\r\n\r\npytest bokeh/sampledata/tests/test_airport_routes.py -x\r\n============================================================= test session starts =============================================================\r\nplatform darwin -- Python 3.6.5, pytest-3.5.1, py-1.5.3, pluggy-0.6.0\r\nsensitiveurl: .*\r\nrootdir: /Users/Atom/Documents/floss/bokeh, inifile: setup.cfg\r\nplugins: xdist-1.22.2, variables-1.7.1, selenium-1.12.0, metadata-1.7.0, html-1.17.0, forked-0.2, cov-2.5.1, base-url-1.4.1\r\ncollected 5 items                                                                                                                             \r\n\r\nbokeh/sampledata/tests/test_airport_routes.py .....                                                                                     [100%]\r\n\r\n========================================================== 5 passed in 0.40 seconds ===========================================================\r\n```\r\n\r\nBut I have no idea why all the sampledata files *except* `airports.csv` and `routes.csv` downloaded in the first place."},{"labels":[null,"documentation",null],"text":"Currently the documentation on developing bokehjs is a bit lacking. Let's collect some things that could be written down for new devs:\r\n\r\n- Maybe some general guidance how to set up a quick sane TypeScript dev environment (Might be outside the scope, maybe some links to existing how-to's?)\r\n- How to build using 'gulp'\r\n- How to run standalone BokehJS tests/examples in TypeScript\r\n- How to use the build BokehJS in python tests/examples."},{"labels":[null,"documentation",null],"text":"#### Bokeh 0.12.15\r\n\r\n#### Update documentation\r\n\r\nUpdate docstrings in the snippet below (https://github.com/bokeh/bokeh/blob/master/bokeh/model.py#L404) to make it clear that handler is able to support multiple callback functions. Ex: `widget.on_change('value', callback1, callback2, ..., callback_n)`\r\n\r\n```\r\n    def on_change(self, attr, *callbacks):\r\n        ''' Add a callback on this object to trigger when ``attr`` changes.\r\n        Args:\r\n            attr (str) : an attribute name on this object\r\n            callback (callable) : a callback function to register\r\n        Returns:\r\n            None\r\n        '''\r\n\r\n```\r\n\r\n"},{"labels":[null,"documentation",null],"text":"When following the developers guide, at issuing the command \r\n\r\n``` sh\r\npython setup.py develop --build-js\r\n```\r\n\r\nThe error\r\n\r\n``` sh\r\nBuilding BokehJS... Failed.\r\n\r\nERROR: 'gulp build' returned the following\r\n\r\n---- on stdout:\r\n    npm >=6.0 <7.0 is required. Current version is 5.6.0.\r\n    \r\n\r\n---- on stderr:\r\n\r\n```\r\n\r\nappears. This is caused by commit 50fa7b4a65375323efe7971619b75d850ebe36b1, @mattpap. Potential fixes:\r\n* Drop `npm version 6.0 <= x` requirement\r\n* Drop `nodejs<9.0` requirement\r\n* Include conda channel which has `nodejs>=8.8,<9.0` AND `npm >=6.0 <7.0`\r\n* Include note to update npm in dev nodes `npm install -g npm`\r\n\r\nTested with `npm=6.0`\r\n"},{"labels":["documentation",null],"text":"Dear community,\r\n\r\nI'm finally and proudly diving into `bokeh`! Therefore, I'm going through the [Quickstart](https://bokeh.pydata.org/en/latest/docs/user_guide/quickstart.html#userguide-quickstart) and have spotted a few typos. I'll submit a PR with my proposed fixes."},{"labels":[null,"documentation",null],"text":"I'm trying to figure out how to create a fully interactive plots in Jupyter Notebook, with widgets, etc. I've spent several days going through the Bokeh documentation, trying to wrap my head around the paradigm. There seems to be three  ways of doing this:\r\n\r\n- JS callbacks\r\n- Bokeh server\r\n- Embed Bokeh application in Notebook\r\n\r\nI'm wondering why there's not a more straight-forward way of doing this, though. The plots created with `output_notebook` are interactive, so that means there's already an event loop there. Why can't that be used for widget callbacks written in Python?\r\n\r\nNo so much a feature request as trying to fill in what appear to be gaps in the documentation. Maybe the gaps are for historical reasons, e.g. Bokeh evolved with Notebook support as an afterthought. I'm willing to help improve the Bokeh documentation for Notebook, if I can get clearer idea of how this all works, and why you can't simply add widgets and callbacks in Notebook. \r\n\r\nThere doesn't seem to be a fully featured Python plotting library that integrates well with Notebook, but Bokeh is the best candidate I've found. But, at present, it takes quite a bit of time in the documentation just to get started. "},{"labels":[null,"documentation",null],"text":"The [documentation of the bokeh server](https://bokeh.pydata.org/en/latest/docs/user_guide/server.html) mentions the `--show` options to open automatically a browser tap with the application. This works as expected. However, the command line help of the `bokeh` command line does not mention this option:\r\n\r\n```\r\n$ bokeh --help\r\nusage: /home/ajw/.local/anaconda/bin/bokeh [-h] [-v]\r\n                                           {html,info,json,png,sampledata,secret,serve,static,svg}\r\n                                           ...\r\n\r\npositional arguments:\r\n  {html,info,json,png,sampledata,secret,serve,static,svg}\r\n                        Sub-commands\r\n    html                Create standalone HTML files for one or more\r\n                        applications\r\n    info                print information about Bokeh and Bokeh server\r\n                        configuration\r\n    json                Create JSON files for one or more applications\r\n    png                 Create standalone PNG files for one or more\r\n                        applications\r\n    sampledata          Download the bokeh sample data sets\r\n    secret              Create a Bokeh secret key for use with Bokeh server\r\n    serve               Run a Bokeh server hosting one or more applications\r\n    static              Serve bokehjs' static assets (JavaScript, CSS, images,\r\n                        fonts, etc.)\r\n    svg                 Create standalone SVG files for one or more\r\n                        applications\r\n\r\noptional arguments:\r\n  -h, --help            show this help message and exit\r\n  -v, --version         show program's version number and exit\r\n```\r\nI'm running bokeh 0.12.13 and Python 3.6, from a standard Anaconda installation.\r\n\r\n"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nbokeh 0.12.16dev\r\n\r\n#### Description of expected behavior and the observed behavior\r\nMissing docstring for `bokeh.io.exports` function `get_screenshot_as_png`."},{"labels":[null,"documentation",null,null],"text":"This example stutters in a strange way at start now, before settling into regular smooth animation. This seemed to happen between `0.12.14` and `0.12.15dev1` so it's possible (pure speculation) the selection work had some effect. \r\n\r\ncc @clairetang6 "},{"labels":[null,"documentation",null],"text":"Would it be possible to have a version of the release notes in the same style as e.g. the pandas package ? http://pandas.pydata.org/pandas-docs/version/0.21/release.html\r\n\r\nEverything in one page with one long scrollbar. This makes the navigation easier with ctrl+f, especially to find breaking changes and deprecated features.\r\n\r\nThe Releases page on the bokeh website is well structured, but hard to use when you don't know which version to look up.\r\n"},{"labels":[null,"documentation",null],"text":"The docs at https://bokeh.pydata.org/en/latest/docs/reference/palettes.html have a few typos.  PR to follow."},{"labels":[null,"documentation",null],"text":"# READ AND FOLLOW THESE INSTRUCTIONS CAREFULLY\r\n\r\n*ISSUES THAT DO NOT CONTAIN NECESSARY INFORMATION MAY BE CLOSED, IMMEDIATELY*\r\n\r\nThe issue tracker is NOT the place for general support. For questions and\r\ntechnical assistance, come ask the [Bokeh mailing list](https://groups.google.com/a/continuum.io/forum/#!forum/bokeh) or join the chat on [Gitter](https://gitter.im/bokeh/bokeh). For feature requests, please provide a detailed description or proposal of the new capability or behavior.\r\n\r\nFor defects or deficiencies, please provide ALL OF THE FOLLOWING:\r\n\r\n#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nThis issue is related to the README.md file contained in the master branch.\r\n\r\n#### Description of expected behavior and the observed behavior\r\nThe README.md file contains several typos and grammatical errors, and its information could be stated more concisely.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\nOpen the README.md file included with the master branch.\r\n\r\n```\r\n# code goes here between backticks\r\n# N/A\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\nN/A\r\n\r\n#### Screenshots or screencasts of the bug in action\r\nN/A: Please see the differences in the before/after versions of the README.md edits."},{"labels":[null,"documentation",null],"text":"# READ AND FOLLOW THESE INSTRUCTIONS CAREFULLY\r\n\r\n*ISSUES THAT DO NOT CONTAIN NECESSARY INFORMATION MAY BE CLOSED, IMMEDIATELY*\r\n\r\nThe issue tracker is NOT the place for general support. For questions and\r\ntechnical assistance, come ask the [Bokeh mailing list](https://groups.google.com/a/continuum.io/forum/#!forum/bokeh) or join the chat on [Gitter](https://gitter.im/bokeh/bokeh). For feature requests, please provide a detailed description or proposal of the new capability or behavior.\r\n\r\nFor defects or deficiencies, please provide ALL OF THE FOLLOWING:\r\n\r\n#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```\r\n# code goes here between backticks\r\n\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n"},{"labels":[null,null,"documentation",null],"text":"Because of #7514 , I had to run ``npm run prepare`` in order to generate a .package.json file (containing a hash of package.json) in order for gulp build to run.\r\n\r\nI would suggest two things:\r\n* Better message for when .package.json doesn't exist - currently it says ``package.json has changed. Run `npm install`.`` but suggesting running ``npm run prepare`` in this case would be clearer.\r\n* Document in the dev guide the need to run the ``npm run prepare`` command\r\n\r\nbokeh=0.12.14dev4"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n```\r\n$ python --version\r\nPython 3.6.3 :: Anaconda custom (64-bit)\r\n$ conda --version\r\nconda 4.4.10\r\n$ bokeh -v\r\n0.12.10\r\n```\r\nOS: `Windows 7`\r\nbrowser: `N/A`\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nInstalling `flexx` via conda on on Windows 7 and Python 3.6 fails.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```\r\n$ conda install flexx -c bokeh\r\n\r\nCondaVerificationError: The package for flexx located at C:\\APP\\Anaconda3\\pkgs\\f\r\nlexx-0.4.1-py36_0\r\nappears to be corrupted. The path 'lib/python3.6/site-packages/flexx_legacy/webr\r\nuntime/nodewebkit.py'\r\nspecified in the package manifest cannot be found.\r\n\r\nCondaVerificationError: The package for flexx located at C:\\APP\\Anaconda3\\pkgs\\f\r\nlexx-0.4.1-py36_0\r\nappears to be corrupted. The path 'lib/python3.6/site-packages/flexx_legacy/webr\r\nuntime/qtwebkit.py'\r\nspecified in the package manifest cannot be found.\r\n\r\n[...]\r\n\r\nCondaVerificationError: The package for flexx located at C:\\APP\\Anaconda3\\pkgs\\f\r\nlexx-0.4.1-py36_0\r\nappears to be corrupted. The path 'lib/python3.6/site-packages/flexx_legacy/webr\r\nuntime/selenium.py'\r\nspecified in the package manifest cannot be found.\r\n\r\nCondaVerificationError: The package for flexx located at C:\\APP\\Anaconda3\\pkgs\\f\r\nlexx-0.4.1-py36_0\r\nappears to be corrupted. The path 'lib/python3.6/site-packages/flexx_legacy/webr\r\nuntime/xul.py'\r\nspecified in the package manifest cannot be found.\r\n```\r\n\r\n#### What does work though\r\n\r\n - `conda install flexx -c conda-forge` on Windows 7 with Python 3.6\r\n - `conda install flexx -c bokeh` on Red Hat Enterprise Linux with Python 3.6\r\n\r\nboth install without any problems\r\n\r\n#### Related\r\n\r\nRedirected here from [conda-forge](https://github.com/conda-forge/bokeh-feedstock/issues/20#issuecomment-367335251).\r\nError seems similar to the ones in #7549 \r\n"},{"labels":[null,null,"documentation",null],"text":"I am trying to create a new Range1d object from within a CustomJS call, but I am getting the error `TypeError: Bokeh.Range1d is not a constructor`. I have tried `Bokeh.Range1d` which is what is shown in the documentation and I have also tried `Bokeh.Models.Range1d`. \r\n\r\nUpon further inspection it appears that these references are undefined. `Bokeh.Widgets` and `Bokeh.Tables` both contain all of the expected constructors but `Bokeh.Models` is empty except for properties like `bind`, `call`, `arguments`, etc.\r\n\r\nWhen I look in the sources panel of the browser terminal I see bokeh-gl.min.js, bokeh-tables.min. js,bokeh-widgets.min.js, and bokeh.min.js. This has me wondering if there is a bokeh-models.min.js\r\n\r\nThis has been tested on OSX 10.13.3, Firefox and Chrome, Python 3.5.4, and Bokeh 0.12.11 through 0.12.14\r\n\r\n"},{"labels":[null,"documentation",null,null],"text":"The new Selection model which represents data sources' selections and inspections was added in [PR 7261](https://github.com/bokeh/bokeh/pull/7261). This issue is for updating examples, adding documentation, and potentially adding examples.\r\n\r\nOne example that can be added is how to set a selection on a network graph plot and then apply a policy. This would, for example, allow someone to set a selection based on node indices and then have the linked edges highlighted through the NodesAndLinkedEdges policy. \r\n\r\n- [x] update all examples to use new `Selection` model\r\n- [ ] expand docs around the `Selection` model\r\n- [x] Add a migration section to release notes (programmatically updated selections will break)\r\n\r\n\r\n"},{"labels":["documentation",null],"text":"When using the bokeh sphinx extension to embed bokeh plots in sphinx RST based documentation there is no way to center the resulting plots in the page. Some sort of additional configuration argument to `source-position` like `vertical-alignment` or something would be much appreciated."},{"labels":[null,"documentation",null],"text":"When adding specified directories to the `bokeh_plot_pyfile_include_dirs` the sphinx sorting of the source docs does not properly sort based on the directories or python files containing bokeh.\r\n\r\n[This line](https://github.com/bokeh/bokeh/blob/master/bokeh/sphinxext/bokeh_plot.py#L268) seems to be catered specifically to the bokeh doc structure with the 'examples' directory. \r\n\r\nIdeally the sorting should put any directories specified in the sphinx configuration variable `bokeh_plot_pyfile_include_dirs` to be parsed first. I ran into the issue where not all of the python files containing bokeh code would be parsed before the `bokeh-plot` directive in a source doc RST was found which would result in a sphinx error when trying to build.\r\n\r\nI was able to get my structure working which has two bokeh source directories under my normal RST source directory so it is something like:\r\n\r\nTop level doc repo\r\n--> source\r\n|----> bokeh_dir_1\r\n|----> Rest\r\n|----> Of\r\n|----> RSTs\r\n|----> Z_bokeh_dir_2\r\n\r\nI swapped out the previously linked line with:\r\n\r\n```python\r\ndocnames.sort(key=lambda x: 0 if x.startswith(tuple(env.app.config.bokeh_plot_pyfile_include_dirs)) else 1)\r\n```\r\nThis sorting method probably needs improvement, I don't think it will work if the desired directories are in lower depths of directories. "},{"labels":[null,"documentation",null],"text":"Hello!\r\nI have an issue with export_png function.\r\n\r\nUsing Jupyter Notebook (v.5.0.0-8734a01), running on Python 3.6.2 |Anaconda custom (64-bit)|, Bokeh (v.0.12.13).\r\n\r\nWhen I run this code:\r\n```\r\n#Langevin vs. Nose-Hoover\r\np = figure(x_axis_label='Radius of compression, nm', y_axis_label='Pressure, atm', \r\n           plot_width=800, plot_height=600,\r\n           x_range = (9.6, 20.4), y_range = (-20, 520))\r\nplot = output_file('lan_nh.html', title=\"lan_nh\")\r\np.xaxis.axis_label_text_font_size = \"22pt\"\r\np.xaxis.major_label_text_font_size = \"18pt\"\r\np.yaxis.axis_label_text_font_size = \"22pt\"\r\np.yaxis.major_label_text_font_size = \"18pt\"\r\n\r\n\r\nfiles = ['VelocityVerlet_Langevin/dsDNA_4000bp_mM50/push/0.1/dsDNA_4000bp_mM50_pressure_push.dat', \r\n         '4000bp_concentration/dsDNA_4000bp_mM50/push_10k_steps/dsDNA_4000bp_mM50_pressure_push.dat',\r\n         '4000bp_concentration/dsDNA_4000bp_mM50/push_100k_steps/dsDNA_4000bp_mM50_pressure_push.dat']\r\nlabels = ['Langevin',\r\n          'Nose-Hoover 10 M steps',\r\n          'Nose-Hoover 100 M steps']\r\ncolors = inferno(len(labels)+1)\r\n\r\nfor fname,l,c in zip(files, labels, colors):\r\n    fname = path + fname\r\n    radius = [float(i.split('\\t')[1].strip()) for i in open(fname)]\r\n    pressure = [float(i.split('\\t')[2].strip())*1.6*9.87 for i in open(fname)]\r\n    p.line(radius, pressure, color = c, legend=l, line_width=2)\r\np.legend.label_text_font_size = \"18pt\"\r\nshow(p)\r\nexport_png(p, filename='/home/yagafarova/lan_nh.png')\r\n```\r\n\r\nI get this message:\r\n```\r\n{\"errorMessage\":\"'undefined' is not an object (evaluating 'window.Bokeh.documents')\",\"request\":{\"headers\":{\"Accept\":\"application/json\",\"Accept-Encoding\":\"identity\",\"Connection\":\"close\",\"Content-Length\":\"349\",\"Content-Type\":\"application/json;charset=UTF-8\",\"Host\":\"127.0.0.1:45104\",\"User-Agent\":\"Python-urllib/3.6\"},\"httpVersion\":\"1.1\",\"method\":\"POST\",\"post\":\"{\\\"script\\\": \\\"\\\\n// add private window prop to check that render is complete\\\\nwindow._bokeh_render_complete = false;\\\\nfunction done() {\\\\n  window._bokeh_render_complete = true;\\\\n}\\\\n\\\\nvar doc = window.Bokeh.documents[0];\\\\n\\\\nif (doc.is_idle)\\\\n  done();\\\\nelse\\\\n  doc.idle.connect(done);\\\\n\\\", \\\"args\\\": [], \\\"sessionId\\\": \\\"5992e420-0115-11e8-a323-57bffbd25446\\\"}\",\"url\":\"/execute\",\"urlParsed\":{\"anchor\":\"\",\"query\":\"\",\"file\":\"execute\",\"directory\":\"/\",\"path\":\"/execute\",\"relative\":\"/execute\",\"port\":\"\",\"host\":\"\",\"password\":\"\",\"user\":\"\",\"userInfo\":\"\",\"authority\":\"\",\"protocol\":\"\",\"source\":\"/execute\",\"queryKey\":{},\"chunks\":[\"execute\"]},\"urlOriginal\":\"/session/5992e420-0115-11e8-a323-57bffbd25446/execute\"}}\r\n```\r\n\r\nDoes anyone know, how to solve it?"},{"labels":["documentation",null],"text":"*Disclaimer*: I am new to Bokeh but I like it alot! Please consider that I am just doing something wrong ;)\r\n\r\nWhen using datetime objects within a hover then in my understanding it should be displayed using the current locale settings when using format modifier \"%c\".\r\n According to: https://bokeh.pydata.org/en/latest/docs/reference/models/formatters.html#bokeh.models.formatters.DatetimeTickFormatter.\r\n\r\nSo as I am in germany and locale is german, time should be displayed as for example \"21:20:37\" (no AM/PM). Instead it uses a US format (AM/PM):\r\n![image](https://user-images.githubusercontent.com/364469/34908289-77c13b76-f88d-11e7-87dd-bb60d958b9de.png)\r\n\r\nAs an example I modified the candlestick example to show a hover:\r\n```\r\nfrom math import pi\r\nfrom bokeh.models import HoverTool\r\n\r\nimport pandas as pd\r\n\r\nfrom bokeh.plotting import figure, show, output_file\r\nfrom bokeh.sampledata.stocks import MSFT\r\n\r\ndf = pd.DataFrame(MSFT)[:50]\r\ndf[\"date\"] = pd.to_datetime(df[\"date\"])\r\n\r\ninc = df.close > df.open\r\ndec = df.open > df.close\r\nw = 12*60*60*1000 # half day in ms\r\n\r\nTOOLS = \"pan,wheel_zoom,box_zoom,reset,save\"\r\n\r\np = figure(x_axis_type=\"datetime\", tools=TOOLS, plot_width=1000, title = \"MSFT Candlestick\")\r\np.xaxis.major_label_orientation = pi/4\r\np.grid.grid_line_alpha=0.3\r\n\r\nh = HoverTool(tooltips=[('Time', '@date{%c}')],\r\n              mode=\"vline\",\r\n              formatters={'date': 'datetime'}\r\n              )\r\np.tools.append(h)\r\n\r\np.segment(df.date, df.high, df.date, df.low, color=\"black\")\r\np.vbar('date', w, 'open', 'close', fill_color=\"#D5E1DD\", line_color=\"black\", source=df)\r\n\r\noutput_file(\"candlestick.html\", title=\"candlestick.py example\")\r\n\r\nshow(p)  # open a browser\r\n```\r\n\r\n*Environment:*\r\nWindows 10\r\nPython 3.6.3 Anaconda\r\nBokeh 0.12.13\r\nGoogle Chrome\r\n\r\nSo do I manually have to set the locale I want to use? In my understanding it should be auto detected? Thanks for your time and for Bokeh!\r\n\r\n"},{"labels":[null,"documentation",null],"text":"The example at the bottom of [this page](https://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#userguide-bokehjs) is not working in Firefox 57.0.3. The relevant JS Fiddle is [here](https://jsfiddle.net/bokeh/ck5udmxb/?utm_source=website&utm_medium=embed&utm_campaign=ck5udmxb). I've checked in Safari 11.0.2 and Chrome 63.0.3239.84 and it works correctly in both."},{"labels":[null,"documentation",null],"text":"The code example in section \"[Updating From Threads](http://bokeh.pydata.org/en/latest/docs/user_guide/server.html#updating-from-threads)\" in the bokeh server docs contain a couple of typos:\r\n\r\n- \"Bokeh session allback\"\r\n- \"[...] all threads see then same document.\"\r\n\r\nI'll submit a PR to fix these in a minute."},{"labels":["documentation",null],"text":"From the 0.12.6 release, the \r\n`source.trigger('change');`\r\nhas changed and has been replaced by `obj.change.emit(arg);`\r\nSee https://bokeh.pydata.org/en/latest/docs/releases/0.12.6.html#new-signaling-api\r\n\r\nCould you update the jsfiddle code of the documentation accordingly \r\nhttps://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html#minimal-complete-example\r\nto help users to understand this change ?\r\nI haven't been able to trigger the update of the plot (see https://jsfiddle.net/PBrockmann/0gf1pt04/) "},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\n`bokeh`: 0.12.11\r\n`python`: 3.6\r\nOS: macOS\r\nBrowser: Safari\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nWhen using components with stacked vbar or hbar, an error is thrown. In the notebook environment, I have no issues displaying the figure.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```\r\n# code goes here between backticks\r\nfrom bokeh.plotting import figure\r\nfrom bokeh.io import output_notebook, show\r\nfrom bokeh.embed import components\r\nfrom bokeh.models import ColumnDataSource\r\n\r\noutput_notebook()\r\n\r\ndata = {'class': ['a', 'b'],\r\n        '2015': [1, 2],\r\n        '2016': [2, 3],\r\n        '2017': [3, 5]}\r\n\r\nsource = ColumnDataSource(data)\r\n\r\nyears = ['2015', '2016', '2017']\r\np = figure(y_range=data['class'])\r\np.hbar_stack(stackers=years, y='class', source=source, height=0.5, color=['red', 'blue', 'green'])\r\ncomponents(p)\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/embed/standalone.py in _add_doc_to_models(doc, models)\r\n    322                 try:\r\n--> 323                     doc.add_root(model)\r\n    324                     models_to_dedoc.append(model)\r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/document/document.py in add_root(self, model, setter)\r\n    242         finally:\r\n--> 243             self._pop_all_models_freeze()\r\n    244         self._trigger_on_change(RootAddedEvent(self, model, setter))\r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/document/document.py in _pop_all_models_freeze(self)\r\n    922         if self._all_models_freeze_count == 0:\r\n--> 923             self._recompute_all_models()\r\n    924 \r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/document/document.py in _recompute_all_models(self)\r\n    945         for a in to_attach:\r\n--> 946             a._attach_document(self)\r\n    947         self._all_models = recomputed\r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/model.py in _attach_document(self, doc)\r\n    552         if self._document is not None and self._document is not doc:\r\n--> 553             raise RuntimeError(\"Models must be owned by only a single document, %r is already in a doc\" % (self))\r\n    554         doc.theme.apply_to_model(self)\r\n\r\nRuntimeError: Models must be owned by only a single document, ColumnDataSource(id='d7459854-95b5-4527-9108-e85dc7ee6693', ...) is already in a doc\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-23-9ba2b2821a0e> in <module>()\r\n      2 p = figure(y_range=data['class'])\r\n      3 p.hbar_stack(stackers=years, y='class', source=source, height=0.5, color=['red', 'blue', 'green'])\r\n----> 4 components(p)\r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/util/api.py in wrapper(*args, **kw)\r\n    188         @wraps(obj)\r\n    189         def wrapper(*args, **kw):\r\n--> 190             return obj(*args, **kw)\r\n    191 \r\n    192         wrapper.__bkversion__ = version\r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/embed/standalone.py in components(models, wrap_script, wrap_plot_info, theme)\r\n    209 \r\n    210     # 2) Append models to one document. Either pre-existing or new and render\r\n--> 211     with _ModelInDocument(models, apply_theme=theme):\r\n    212         (docs_json, render_items) = standalone_docs_json_and_render_items(models)\r\n    213 \r\n\r\n~/anaconda/envs/my_env/lib/python3.6/contextlib.py in __enter__(self)\r\n     79     def __enter__(self):\r\n     80         try:\r\n---> 81             return next(self.gen)\r\n     82         except StopIteration:\r\n     83             raise RuntimeError(\"generator didn't yield\") from None\r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/embed/standalone.py in _ModelInDocument(models, apply_theme)\r\n    304         doc.theme = apply_theme\r\n    305 \r\n--> 306     models_to_dedoc = _add_doc_to_models(doc, models)\r\n    307 \r\n    308     if settings.perform_document_validation():\r\n\r\n~/anaconda/envs/my_env/lib/python3.6/site-packages/bokeh/embed/standalone.py in _add_doc_to_models(doc, models)\r\n    329                            'single document). This may indicate a usage '\r\n    330                            'error.'.format(child, model))\r\n--> 331                     raise RuntimeError(msg)\r\n    332     return models_to_dedoc\r\n    333 \r\n\r\nRuntimeError: Sub-model (id='d7459854-95b5-4527-9108-e85dc7ee6693', ...) of the root model Figure(id='464f72aa-dbc1-4bc1-8fab-98089aed6744', ...) is already owned by another document (Models must be owned by only a single document). This may indicate a usage error.\r\n```\r\n#### Screenshots or screencasts of the bug in action\r\n\r\nNo screenshots necessary."},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nbokeh 0.12.11\r\n\r\n#### Description of expected behavior and the observed behavior\r\nAs a new user of Bokeh I tried adjusting the tools on my plot so I went over to the documentation. I landed on the [Configuring Plot Tools][1] page. In playing around with the code, it was not clear where the `BoxSelectTool` was being imported from.\r\n\r\nI thought I'd help make that clear.\r\n\r\n[1]: https://bokeh.pydata.org/en/latest/docs/user_guide/tools.html#userguide-tools-pandrag \"Configuring Plot Tools\""},{"labels":[null,"documentation",null],"text":"Hello,\r\n\r\nI just wanted to comment on the mutli_line behavior. Several parameters are NumberSpec's which seemed to be ignored silently and the default values used due to the structure of the column datasource required for multi_view. In addition, the unique column data source consisting of a list of lists prevents the filtering of the data set using CDSView. In addition, if I use a CDS I cannot use an iterable for the other parameters such as color (passing in a source and a list of colors throws and error below).\r\n\r\nA brief comment on my use case. I have two plots, one shows a scatter plot of averages. The other shows a plot of frequency vs time. I am using a hovertool JS callback to highlight the respective circle and line(s).  I had hoped to pass the multi_line CDS to the JS callback arg to change the alpha values.\r\n\r\nIn my prior code I used a for loop to plot out many lines. I had wanted to pass a nested dictionary of models to the JS callback but the JS call back expects models or strings only in a dictionary. I could go back and use a dictionary comprehension but that seems a bit messy.\r\n\r\n```\r\nplot.multi_line(xs='dates',ys='kde',\r\n                                color = '#c50000',\r\n                                line_alpha='alpha',\r\n                                line_width = 'linewidth',\r\n                                source =source)\r\n```\r\n\r\n```\r\n_process_sequence_literals(glyphclass, glyph_ca, source, is_user_source)\r\n  File \"C:\\WinPython-64bit-2.7.10.3\\python-2.7.10.amd64\r\n\\lib\\site-packages\\bokeh\\plotting\\helpers.py\", line 296, in _process_sequence_li\r\nterals\r\n    raise RuntimeError(_GLYPH_SOURCE_MSG)\r\nRuntimeError:\r\nSupplying a user-defined data source AND iterable values to glyph methods is\r\nnot possibe. Either:\r\n\r\nPass all data directly as literals:\r\n\r\n    p.circe(x=a_list, y=an_array, ...)\r\n\r\nOr, put all data in a ColumnDataSource and pass column names:\r\n\r\n    source = ColumnDataSource(data=dict(x=a_list, y=an_array))\r\n    p.circe(x='x', y='x', source=source, ...)\r\n```"},{"labels":[null,"documentation",null],"text":"Currently when click_policy is set to \"hide\" for the legend, clicking a legend item changes the alpha of the text and glyph (in the legend).\r\n\r\nIt can be really difficult to read the text of hidden renderers when you want to make them visible again.\r\n\r\n Would it be possible to keep the text font color/alpha unchanged and just have the glyph alpha reduced ? OR change the current alpha of hidden legend items to make the text easier to read."},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n\r\nBokeh 0.12.10\r\nZeppelin 0.7.0\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nFollowing instruction on zeppelin integration returns error.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\n```\r\nfrom bokeh.plotting import output_notebook, show, figure\r\noutput_notebook(notebook_type='zeppelin')\r\np = figure()\r\np.line([1, 2, 3, 4, 5], [6, 7, 2, 4, 5], line_width=2)\r\nshow(p)\r\n```\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/tmp/zeppelin_pyspark-7334199258025649501.py\", line 355, in <module>\r\n    exec(code, _zcUserQueryNameSpace)\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/util/api.py\", line 190, in wrapper\r\n    return obj(*args, **kw)\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/io/output.py\", line 114, in output_notebook\r\n    run_notebook_hook(notebook_type, 'load', resources, verbose, hide_banner, load_timeout)\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/util/api.py\", line 190, in wrapper\r\n    return obj(*args, **kw)\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/io/notebook.py\", line 286, in run_notebook_hook\r\n    raise RuntimeError(\"no display hook installed for notebook type %r\" % notebook_type)\r\nRuntimeError: no display hook installed for notebook type 'zeppelin'\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"/tmp/zeppelin_pyspark-7334199258025649501.py\", line 367, in <module>\r\n    raise Exception(traceback.format_exc())\r\nException: Traceback (most recent call last):\r\n  File \"/tmp/zeppelin_pyspark-7334199258025649501.py\", line 355, in <module>\r\n    exec(code, _zcUserQueryNameSpace)\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/util/api.py\", line 190, in wrapper\r\n    return obj(*args, **kw)\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/io/output.py\", line 114, in output_notebook\r\n    run_notebook_hook(notebook_type, 'load', resources, verbose, hide_banner, load_timeout)\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/util/api.py\", line 190, in wrapper\r\n    return obj(*args, **kw)\r\n  File \"/opt/miniconda3/envs/test/lib/python3.6/site-packages/bokeh/io/notebook.py\", line 286, in run_notebook_hook\r\n    raise RuntimeError(\"no display hook installed for notebook type %r\" % notebook_type)\r\nRuntimeError: no display hook installed for notebook type 'zeppelin'\r\n```\r\n\r\n"},{"labels":[null,"documentation",null],"text":"Hello,\r\n\r\nI am creating a LDA topic model in python and would like to then extend a LayoutDOM with the PyLDAvis vizualization (based on D3). I can get the html from the following commands.\r\n\r\n`pyLDAvis.display(vis_data)._repr_html_()`\r\n\r\nAfterwards I can strip the div tags in the html to give me only the JS.\r\n\r\n```\r\nvar ldavis_el1268810077104003697402329_data = {\"plot.opts\": {\"xlab\": \"PC1\", \"ylab\": \"PC2\"}, ...\r\n\r\nfunction LDAvis_load_lib(url, callback){\r\n  var s = document.createElement('script');\r\n  s.src = url;\r\n  s.async = true;\r\n  s.onreadystatechange = s.onload = callback;\r\n  s.onerror = function(){console.warn(\"failed to load library \" + url);};\r\n  document.getElementsByTagName(\"head\")[0].appendChild(s);\r\n}\r\n\r\nif(typeof(LDAvis) !== \"undefined\"){\r\n   // already loaded: just create the visualization\r\n   !function(LDAvis){\r\n       new LDAvis(\"#\" + \"ldavis_el1268810077104003697402329\", ldavis_el1268810077104003697402329_data);\r\n   }(LDAvis);\r\n}else if(typeof define === \"function\" && define.amd){\r\n   // require.js is available: use it to load d3/LDAvis\r\n   require.config({paths: {d3: \"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min\"}});\r\n   require([\"d3\"], function(d3){\r\n      window.d3 = d3;\r\n      LDAvis_load_lib(\"https://cdn.rawgit.com/bmabey/pyLDAvis/files/ldavis.v1.0.0.js\", function(){\r\n        new LDAvis(\"#\" + \"ldavis_el1268810077104003697402329\", ldavis_el1268810077104003697402329_data);\r\n      });\r\n    });\r\n}else{\r\n    // require.js not available: dynamically load d3 & LDAvis\r\n    LDAvis_load_lib(\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js\", function(){\r\n         LDAvis_load_lib(\"https://cdn.rawgit.com/bmabey/pyLDAvis/files/ldavis.v1.0.0.js\", function(){\r\n                 new LDAvis(\"#\" + \"ldavis_el1268810077104003697402329\", ldavis_el1268810077104003697402329_data);\r\n            })\r\n         });\r\n}\r\n```\r\n\r\nThis is my class to create the LayoutDOM with pyLDAvis JS code.\r\n```\r\nclass Custom_PyLDAvis(LayoutDOM): \r\n    start = '<script type=\"text/javascript\">\\n'\r\n    end   = '</script>' \r\n    __implementation__ = lda_viz_initial[lda_viz_initial.find(start)+len(start):lda_viz_initial.rfind(end)].replace('var ','')\r\n    __javascript__ =['https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js',\r\n                     \"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js\",\r\n                     \"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML\",\r\n                     \"https://cdn.rawgit.com/bmabey/pyLDAvis/files/ldavis.v1.0.0.js\",\r\n                     'https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js',\r\n                     ]\r\n    __css__ = [\"http://hojunhao.github.io/sgparliament/custom.css\",\r\n                \"https://cdn.rawgit.com/bmabey/pyLDAvis/files/ldavis.v1.0.0.css\"]\r\n\r\n         \r\nlda_viz = Custom_PyLDAvis()\r\n    \r\n\r\ntab3= Panel(child=lda_viz, title=\"Topic Model (LDA)\")\r\n```\r\nThe problem is that I get a CompilationError on the reserved word 'var' or 'function'.This is my first time extending Bokeh with JS libraries. The other solution would be to extract the LDA data only and use that for graphing in Bokeh only rather than extending with JS (D3 from PyLDAvis).\r\n"},{"labels":[null,"documentation",null],"text":"title of the release file contains `0.12.0`, not expected `0.12.10`"},{"labels":[null,null,"documentation",null],"text":"As follow-up to this [question](https://stackoverflow.com/questions/46935288/bokehjs-basic-example-error-cannot-read-property-linspace-of-undefined) on stackoverflow,\r\nI would like to suggest an update of section [https://bokeh.pydata.org/en/latest/docs/installation.html#bokehjs-standalone](https://bokeh.pydata.org/en/latest/docs/installation.html#bokehjs-standalone)\r\nto include [http://cdn.pydata.org/bokeh/release/bokeh-api-x.y.z.min.js](http://cdn.pydata.org/bokeh/release/bokeh-api-x.y.z.min.js)\r\n\r\nAlso, it would be nice to first list css files and then js, just in case the new user is in a hurry and does not notice that it is important that css should be listed before js in his html.\r\n\r\nIn any case, congratulations for all the effort put into Bokeh, this is a most needed library and I'm looking forward to the day v1.0 is released!\r\n\r\nCheers,\r\nA "},{"labels":[null,"documentation",null],"text":"\"Date\" should be \"data\" in\r\n\r\n>When the controls are manipulated, their new values are automatically synced in the Bokeh server. Callbacks are triggered that also update the date for the plot in the server. These changes are automatically synced back to the browser, and the plot updates.\r\n"},{"labels":[null,"documentation",null,null,null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\n - OS - Client is a Mac the server is a RHEL\r\n - Browser - Chrome 61.0.3163.100\r\n - Bokeh - 0.12.9\r\n - Python - 3.5\r\n - Jupyter notebook - 6.1.0\r\n\r\n#### Description of expected behavior and the observed behavior\r\n`notebook_url=\"*\"` does not seem to work. I was expecting that if I use * I would not need to specify the notebook_url at all, but giving * gives me a error in the chrome console.\r\n\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\nI'm running: https://github.com/bokeh/bokeh/blob/e701d301504a258ff447e8a17ddbb09637231fac/examples/howto/server_embed/notebook_embed.ipynb \r\n\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\nWhen running: `show(app)`, I get the following in JS console:\r\n```\r\nGET http://localhost:44602/autoload.js?bokeh-autoload-element=7694aee3-80ba-4db2-a3ec-3861ae2a5521&bokeh-app-path=/&bokeh-absolute-url=http://localhost:44602 net::ERR_CONNECTION_REFUSED\r\n```\r\nWhich is expected as default value is localhost, and I am hosting it on a web server.\r\n\r\nWhen running: `show(app, notebook_url=\"myip:myport\")` (with appropriate values for ip/port it works!\r\n\r\nWhen running: `show(app, notebook_url=\"*\")`, I get the following in JS console:\r\n```\r\nGET http://%2A:37016/autoload.js?bokeh-autoload-element=3a056287-4e60-407c-9134-74a9df5f14d5&bokeh-app-path=/&bokeh-absolute-url=http://*:37016 net::ERR_NAME_NOT_RESOLVED\r\n```\r\nWhich is not expected as the docs state:\r\n```\r\nIt is also possible to pass ``notebook_url=\"*\"`` to disable the\r\nstandard checks, so that applications will display regardless of\r\nthe current notebook location\r\n```\r\n"},{"labels":[null,"documentation",null,null],"text":"Originally posted on the mailing list (https://groups.google.com/a/continuum.io/forum/#!msg/bokeh/GR_qCar2-nA/P6ZLnvA0AQAJ) where it was suggested that I wait for the next dev build, and if this was not resolved to report it as a bug here. I'm a little late, but the issue still exists as of yesterday's 0.12.10 release.\r\n\r\nI'm working in Anaconda 5/Python 3.6.2 on a Windows 10 system with Bokeh \r\n0.12.10, looking at things in Firefox 55.0.3, 64-bit everything.\r\n\r\nExample code for a thing that produces the expected line from points (1,1) \r\nto (3,3):\r\n```\r\nfrom bokeh import plotting,models\r\n\r\ndata = {'x_vals':[1,2,3,4],\r\n        'y_vals':[1,2,3,4],\r\n        'group':['a','b','a','c']}\r\n\r\ndata_source = models.ColumnDataSource(data=data)\r\ncurrent_view = models.CDSView(source=data_source, filters=[models.\r\nIndexFilter([2,0])])\r\nplotting.output_file(\"test.html\")\r\n\r\nplot = plotting.figure(plot_width=400, plot_height=400)\r\nplot.line(x='x_vals',y='y_vals',source=data_source,view=current_view)\r\nplotting.show(plot)\r\n```\r\n\r\n![bokeh_success](https://user-images.githubusercontent.com/3916078/31747046-38206722-b430-11e7-81bc-86198485ae00.png)\r\n\r\nIf I change the order of the list I'm feeding to IndexFilter it instead \r\nproduces a plot with no line:\r\n```\r\nfrom bokeh import plotting,models\r\n\r\ndata = {'x_vals':[1,2,3,4],\r\n        'y_vals':[1,2,3,4],\r\n        'group':['a','b','a','c']}\r\n\r\ndata_source = models.ColumnDataSource(data=data)\r\ncurrent_view = models.CDSView(source=data_source, filters=[models.\r\nIndexFilter([0,2])])\r\nplotting.output_file(\"test.html\")\r\n\r\nplot = plotting.figure(plot_width=400, plot_height=400)\r\nplot.line(x='x_vals',y='y_vals',source=data_source,view=current_view)\r\nplotting.show(plot)\r\n```\r\n\r\n![bokeh_empty](https://user-images.githubusercontent.com/3916078/31747058-49dc1088-b430-11e7-84ae-9e24fd0e71ec.png)\r\n\r\nAttempting to use GroupFilter to select points (1,1) and (3,3) also \r\nproduces an empty plot:\r\n```\r\nfrom bokeh import plotting,models\r\n\r\ndata = {'x_vals':[1,2,3,4],\r\n        'y_vals':[1,2,3,4],\r\n        'group':['a','b','a','c']}\r\n\r\ndata_source = models.ColumnDataSource(data=data)\r\ncurrent_view = models.CDSView(source=data_source, filters=[models.\r\nGroupFilter(column_name='group',group='a')])\r\nplotting.output_file(\"test.html\")\r\n\r\nplot = plotting.figure(plot_width=400, plot_height=400)\r\nplot.line(x='x_vals',y='y_vals',source=data_source,view=current_view)\r\nplotting.show(plot)\r\n```\r\n\r\n![bokeh_empty](https://user-images.githubusercontent.com/3916078/31747058-49dc1088-b430-11e7-84ae-9e24fd0e71ec.png)\r\n\r\nI would expect all three bits of code to produce identical plots, with a line from (1,1) to (3,3)."},{"labels":[null,"documentation",null],"text":"### Description of expected behavior and the observed behavior\r\nIn the [\"User Guide\" > \"Plotting with Basic Glyphs\" > \"Setting ranges\"](https://bokeh.pydata.org/en/latest/docs/user_guide/plotting.html#setting-ranges), it says at the bottom of the section:\r\n\r\n> Ranges can also accept a min and max property that allow you to specify the edges of the plot that you do not want the user to be able to pan/zoom beyond.\r\n\r\n1. As someone new to Bokeh, this isn't super helpful.\r\n2. This doesn't seem entirely accurate, as I can't find a `min` or `max` property\r\n3. There is no example code.\r\n\r\n### Suggested fix\r\nI suggest something like the following, with added links to relevant documentation pages.\r\n\r\n> [Ranges](https://bokeh.pydata.org/en/latest/docs/reference/models/ranges.html) can also accept a `bounds` property that allow you to specify the edges of the plot that you do not want the user to be able to pan/zoom beyond. \r\n> \r\n> ```\r\n> # set a range using a Range1d\r\n>  p.y_range = Range1d(0, 15, bounds=(0, None))\r\n>  ```\r\n\r\nAs a suggestion, perhaps moving this code snip and explanation up and combining it with the previous example would make the most sense.\r\n\r\n### Two related notes\r\nI'm happy to open these as separate issues, but perhaps they can most easily be solved in the comments here.\r\n\r\n1. The [Developer Guide](https://bokeh.pydata.org/en/latest/docs/dev_guide/documentation.html#devguide-documentation) has some instructions for proposing issues and pull requests for what I assume is the [auto-generated documentation](https://bokeh.pydata.org/en/latest/docs/reference.html). However, I cannot find the [User Guide](https://bokeh.pydata.org/en/latest/docs/user_guide.html) in the repository, and thus don't know how to best propose changes to that documentation. Hence this Issue.\r\n\r\n2. There isn't a great explanation for the difference between `DataRange1d` and `Range1d` in the [auto-generated documentation](https://bokeh.pydata.org/en/latest/docs/reference/models/ranges.html). It'd be nice to have a sentence explaining the difference. (The answer *is* there, but it requires a bit of textual parsing, and flipping back and forth comparing the two. A simple contrasting sentence would be super helpful.)"},{"labels":[null,"documentation",null],"text":"A user noted this sample code:\r\n```\r\nimport sys\r\n\r\nimport bokeh.embed\r\nimport bokeh.plotting\r\nimport bokeh.resources\r\n\r\nfigure = bokeh.plotting.figure()\r\nfigure.text(0, 0, \"</script><script>alert('BAD')</script>\")\r\n\r\nsys.stdout.write(bokeh.embed.file_html(figure, bokeh.resources.CDN))\r\n```\r\n\r\nThis could be happen in two cases:\r\n\r\n*  A users does this to themself (not an issue, it is not possible to exploit oneself by definition)\r\n\r\n* A user accepts untrusted user input and passes it without first sanitizing it\r\n\r\nWRT the second scenario, it is worth reminding that like other web app frameworks and servers, Bokeh is explicitly purposed with transmitting unescaped HTML and JS code to browsers. This means, as with any other web development, that any untrusted user inputs should be scrubbed before using as outputs (e.g. in this case before passing to Bokeh).\r\n\r\nThat said, it is never appropriate for a `</script>` tag to be passed on, so this issue proposes to:\r\n\r\n* clarify and restrict and clearly document exactly which Bokeh functions are expected to pass HTML and JS unescaped, and remind users that that inputs to these functions should *always* be sanitized first if they are coming from untrusted sources.\r\n\r\n* automatically scrub any use of  a closing script tag `</script>` in any Bokeh output\r\n\r\ncc @bokeh/dev @pzwang @mattpap "},{"labels":[null,"documentation",null],"text":"#### Software\r\nAffects everything from v0.12.5 until latest.\r\n\r\n#### Description of expected behavior and the observed behavior\r\nAccording to the documentation https://bokeh.pydata.org/en/0.12.9/docs/user_guide/server.html#accessing-the-http-request I should be able to do,\r\n\r\n```\r\nargs = curdoc().session_context.request.cookies\r\n```\r\n\r\nThis option was however removed due to issue #5901 where `_RequestProxy` was introduced. Just spend a lot of head scratching getting `curdoc().session_context.request.headers` working.\r\n\r\nI suggest updating the docs to reflect that only arguments are allowed for requests."},{"labels":[null,"documentation",null],"text":"Hi, I banged my head a bit trying to use `components` to render tables and failing while `file_html` would work well.\r\nTurns out we now need to include: \r\n```html\r\n<link rel=\"stylesheet\" href=\"https://cdn.pydata.org/bokeh/release/bokeh-tables-0.12.9.min.css\" type=\"text/css\" />\r\n<script type=\"text/javascript\" src=\"https://cdn.pydata.org/bokeh/release/bokeh-tables-0.12.9.min.js\"></script>\r\n```\r\nin order for data tables to render properly and this is not mentioned in the embed sections of the User Guide or the Reference.\r\n\r\nHaving a look right now how the docs are built to see if I can provide help with a PR if that's not fixed already.\r\n\r\nEDIT: Going through the docs to prepare a PR, I read in the 0.12.7 release notes that the change should be transparent as Bokeh would load the `-tables` resources automatically when necessary. It wasn't the case for me. But maybe it wasn't meant for the `components` use case?\r\n\r\nI will provide a PR later today. Just waiting for a feedback on that last question to see whether this paragraph in the 0.12.7 release notes should be reworded if `components` is not covered by the automatic process."},{"labels":[null,"documentation",null],"text":"Current text for `ncols` parameter [formats](https://bokeh.pydata.org/en/latest/docs/reference/layouts.html#bokeh.layouts.gridplot) as   \r\n\r\n     Int (ncols) – Specify the number of columns you would like ...\r\n\r\nwhile something similar to  \r\n\r\n     plot_width (int, optional) – The width you would like all your plots to be\r\n\r\nis probably correct."},{"labels":[null,"documentation",null],"text":"Currently computes md5 hash of input filename. This results in the same names across deployed docs, which causes problems when the script is cached by CloudFlare, but the dom (with different target div id's) is not. "},{"labels":[null,"documentation",null],"text":"The docs incorrectly looking for `/en/0.12.7dev15/static/js/bokeh-gl.min.js` instead of `dev`\r\n\r\nping @bryevdv "},{"labels":[null,"documentation",null],"text":"The following code is missing a closing parenthesis in the [user guide](http://bokeh.pydata.org/en/latest/docs/user_guide/server.html).\r\n\r\n```\r\nfrom os.path import dirname, join\r\nfrom helpers import load_data\r\n\r\nload_data(join(dirname(__file__), 'data', 'things.csv') # <-- Missing Parenthesis\r\n```\r\n\r\nShould be:\r\n```\r\nfrom os.path import dirname, join\r\nfrom helpers import load_data\r\n\r\nload_data(join(dirname(__file__), 'data', 'things.csv'))\r\n```"},{"labels":[null,"documentation",null],"text":"The documentation implicitly assumes that all is done in the root env which already has `jinja2` and `pyyaml`. In the case of a clean conda env, these packages have to be installed manually."},{"labels":[null,"documentation",null,null],"text":"Some of the sliders in various example apps and example plots (including some in the documentation) need to be updated to work well with the new defaults. \r\n\r\nFor example, with the new default format of \"0,00\" in ohlc:\r\n![ohlc](https://user-images.githubusercontent.com/4241244/28508102-43d070d0-6fed-11e7-8c97-842644295756.gif)\r\nand gapminder:\r\n![image](https://user-images.githubusercontent.com/4241244/28508126-737f8154-6fed-11e7-99ff-b88d55dd610f.png)\r\n\r\nAnd with the new default step of 1, sliders.py should be updated to have specified smaller step. \r\n\r\nI also wonder if it might be possible to set the format based on other values, like the step if that's provided. "},{"labels":[null,"documentation",null],"text":"(bokeh 0.12.6, Python 3.6.1, OSX 10.11.4)\r\n\r\nAt present, the documentation for `bokeh.models.CrosshairTool` states that the attribute `dimensions` expects a list of the selected plotting dimensions (e.g., 'width' and/or 'height').  In the current version, however, this attribute expects a String of one of the enumerated values ('width','height','both') (this is reflected in the docstring of the code itself)."},{"labels":[null,"documentation",null],"text":"In the section \r\n\r\nhttp://bokeh.pydata.org/en/dev/docs/dev_guide/setup.html#building-and-installing \r\n\r\nof the docs, it says that a \r\n\r\n> A bokeh.pth path file \r\n\r\nis created by the `python setup.py develop` command. I don't think is correct anymore, instead there appears to be a `bokeh.egg-link` file instead.\r\n"},{"labels":[null,"documentation",null],"text":"\"TapTool\" is incorrectly called \"TapSelectTool\" in the reference documentation\r\n-------------------------------------------------------------------------------------------------------\r\n\r\nIn the Bokeh documentation, \"TapTool\" is described under the name \"TapSelectTool\".\r\n\r\nSee http://bokeh.pydata.org/en/latest/docs/user_guide/tools.html.\r\n\r\nAttempting to import \"TapSelectTool\" under bokeh 0.12.6 gives an Import Error. Importing and using \"TapTool\" works just fine.\r\n"},{"labels":[null,"documentation",null],"text":"Hello,\r\n\r\nThe  [gallery](http://bokeh.pydata.org/en/latest/docs/gallery.html) link to the [jitter example](http://bokeh.pydata.org/en/latest/docs/gallery/jitter.html) does not have consistent images for this example.\r\n\r\n![image](https://user-images.githubusercontent.com/22305345/27605175-d708a59c-5b49-11e7-9adc-2719f9f40a14.png)\r\n\r\n![image](https://user-images.githubusercontent.com/22305345/27605200-eca241ec-5b49-11e7-84ed-ede2ea0f9658.png)\r\n"},{"labels":[null,"documentation",null],"text":"Reference docs are missing bokeh.models.scales automodule\r\n\r\nbokeh 0.12.6"},{"labels":[null,"documentation",null,null,null],"text":"I can't use `webgl` mode in Jupyter notebook, and the here is the warning:\r\n\r\n```\r\nWebGL was requested and is supported, but bokeh-gl(.min).js is not available, falling back to 2D rendering.\r\n```\r\n\r\nthe source code:\r\n\r\n```\r\nfrom bokeh.io import output_notebook, show\r\nfrom bokeh.models import ColumnDataSource\r\nfrom bokeh.plotting import figure\r\noutput_notebook()\r\n\r\nfig = figure(output_backend=\"webgl\")\r\n\r\ncircle_source = ColumnDataSource(data={\"x\":[0], \"y\":[0], \"r\":[1], \"color\":[\"#000000\"]})\r\nfig.circle(x=\"x\", y=\"y\", radius=\"r\", fill_color=\"color\", line_width=0, line_color=None, source=circle_source)\r\nshow(fig)\r\n```"},{"labels":[null,"documentation",null],"text":"This may just be a documentation bug. The [docs for title](http://bokeh.pydata.org/en/latest/docs/user_guide/styling.html#title) suggest that all [text properties](http://bokeh.pydata.org/en/latest/docs/user_guide/styling.html#text-properties) are available on title. However `text_align` (and `text_baseline`) don't appear to be. Alignment is possible with `align`.\r\n\r\nSome repro info:\r\n```\r\nPython 2.7.13 (default, Jun  2 2017, 21:16:49)\r\n[GCC 4.2.1 Compatible Apple LLVM 5.1 (clang-503.0.40)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import bokeh\r\n>>> bokeh.__version__\r\nu'0.12.5'\r\n>>> import bokeh.plotting as plotting\r\n>>> p = plotting.figure()\r\n>>> dir(p.title)\r\n['__cached_all__overridden_defaults__', '__cached_all__properties__', '__class__', '__container_props__', '__dataspecs__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__new__', '__overridden_defaults__', '__properties__', '__properties_with_refs__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__view_model__', '__weakref__', '_attach_document', '_callbacks', '_clone', '_detach_document', '_document', '_event_callbacks', '_id', '_overridden_defaults', '_property_values', '_repr_html_', '_repr_pretty', '_to_json_like', '_trigger_event', '_unstable_default_values', '_unstable_themed_values', '_update_event_callbacks', 'align', 'apply_theme', 'background_fill_alpha', 'background_fill_color', 'border_line_alpha', 'border_line_cap', 'border_line_color', 'border_line_dash', 'border_line_dash_offset', 'border_line_join', 'border_line_width', 'dataspecs', 'dataspecs_with_props', 'document', 'equals', 'js_event_callbacks', 'js_on_change', 'js_on_event', 'js_property_callbacks', 'layout', 'level', 'lookup', 'name', 'offset', 'on_change', 'on_event', 'plot', 'pprint', 'pretty', 'properties', 'properties_containers', 'properties_with_refs', 'properties_with_values', 'query_properties_with_values', 'ref', 'references', 'remove_on_change', 'render_mode', 'select', 'select_one', 'set_from_json', 'set_select', 'subscribed_events', 'tags', 'text', 'text_alpha', 'text_color', 'text_font', 'text_font_size', 'text_font_style', 'themed_values', 'to_json', 'to_json_string', 'trigger', 'unapply_theme', 'update', 'update_from_json', 'visible']\r\n```"},{"labels":[null,"documentation",null],"text":"Bokeh - all versions.\r\nEnv: anaconda on win 64 python 3\r\nWhen building first time  - all is good.\r\nNext round gives following error:\r\nOutput:\r\n`Running Sphinx v1.4.8\r\nloading pickled environment... done\r\nbuilding [mo]: targets for 0 po files that are out of date\r\nbuilding [html]: targets for 0 source files that are out of date\r\nupdating environment: 30 added, 6 changed, 29 removed\r\nbk_script_f0df36cdd9f143e087b632c47702ab71:41: RuntimeWarning: divide by zero encountered in divide\r\nbk_script_f0df36cdd9f143e087b632c47702ab71:41: RuntimeWarning: divide by zero encountered in log\r\nbk_script_f0df36cdd9f143e087b632c47702ab71:41: RuntimeWarning: invalid value encountered in multiply\r\nbk_script_f0df36cdd9f143e087b632c47702ab71:42: RuntimeWarning: divide by zero encountered in log\r\nreading sources... [100%] index\r\nlooking for now-outdated files... none found\r\npickling environment... done\r\nchecking consistency... done\r\npreparing documents... done\r\nadding links to sitemap... [100%] http://bokeh.pydata.org/en/0.12.6dev6/docs/reference/models/markers.html\r\ncopying bokeh-plot files... [100%] bokeh-plot-ff7d4e4a58f23d8a18428273c04d26ea.js.jsternal-0.jssss0.js-0.js\r\n\r\nException occurred:\r\n  File \"C:\\Users\\Maxim\\Anaconda3\\envs\\docs-unified\\lib\\site-packages\\Sphinx-1.4.8-py2.7.egg\\sphinx\\environment.py\", line 1210, in get_toc_for\r\n    tocdepth = self.metadata[docname].get('tocdepth', 0)\r\nKeyError: u'docs\\\\gallery\\\\anscombe'\r\nThe full traceback has been saved in c:\\users\\maxim\\appdata\\local\\temp\\sphinx-err-7ognmc.log, if you want to report the issue to the developers.\r\nPlease also report this if it was a user error, so that a better error message can be provided next time.\r\nA bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!`\r\n\r\nAfter that \"pickled environment\" file is removed and next make html passes ok but it builds everything again.\r\n\r\n\r\n"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant packages)\r\nIE11 & Firefox\r\n\r\n#### Description of expected behavior and the observed behavior\r\nmenu selection should not disappear so fast\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\nI click on the 0.12.5 number looking to get 0.12.4 documentation and the older revision list disappears too fast before I can click on it\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n![image](https://cloud.githubusercontent.com/assets/22264476/25967252/6013c6f0-3642-11e7-9599-434d78195ea9.png)\r\n"},{"labels":[null,"documentation",null],"text":"Task: add missing `packaging` dependency to documentation requirements in documentation at: http://bokeh.pydata.org/en/latest/docs/dev_guide/documentation.html#devguide-documentation\r\n\r\nAlso, ``packaging`` is listed twice in the meta.yaml file. We should clean that up."},{"labels":[null,"documentation",null],"text":"I have a project where I'd like to use `bokeh.sphinxext.bokeh_plot` for the Sphinx docs and ran into this error:\r\n\r\nhttps://travis-ci.org/gammapy/gamma-cat/builds/225367662#L750\r\n```\r\nSphinx error:\r\nThe GOOGLE_API_KEY environment variable is not set. Set GOOGLE_API_KEY to a valid API key, or set BOKEH_DOCS_MISSING_API_KEY_OK=yes to build anyway (with broken GMaps)\r\nmake: *** [html] Error 1\r\n```\r\n\r\nYes, I can make it go away by setting:\r\n```\r\nexport BOKEH_DOCS_MISSING_API_KEY_OK=yes\r\n```\r\n\r\nBut it seems weird, to have to do something concerning GOOGLE_API_KEY if I'm not using GMaps.\r\n\r\nWouldn't it be better to change the setup so that people like me that don't use GMaps don't have to do anything to use Bokeh, and then people that do want to use GMaps have to set this up?"},{"labels":[null,"documentation",null],"text":"Missing docstring description of ``state`` arg in bokeh.io.save\r\n\r\nBokeh master"},{"labels":[null,"documentation",null],"text":"The [Developing with JavaScript](http://bokeh.pydata.org/en/latest/docs/user_guide/bokehjs.html) page is very helpful, but a few (important) things were not mentioned on this page:\r\n\r\n1. All *three* of bokeh-x.y.z.min.css bokeh-x.y.z.min.js and bokeh-api-x.y.z.min.js must be used and **in that order**.\r\n2. Rendering into an html element is supported by  `Bokeh.Plotting.show(object,html_object)`\r\n3. Changes to data sources can be propagated to graphs by calling `data_source.trigger(\"update\")`\r\n\r\nIs there a way for me to submit a full minimal html example to be included on that page?"},{"labels":[null,"documentation",null],"text":"For the [Interactive Legend guide](https://github.com/bokeh/bokeh/blob/d8fcffa1c472bf641517ef81698bb6d057cbd30f/sphinx/source/docs/user_guide/interaction/legends.rst#id7), in addition to the note about `muted_alpha`, it would be helpful to also demonstrate `muted_color`."},{"labels":[null,null,"documentation",null],"text":"When you run the newest bokeh version in python 2.7 with the parameters --OO\r\nthe ```__doc__``` variables will not be set. They become None. \r\n\"man python\"  -> ```--OO Discard docstrings in addition to the -O optimizations```\r\nThis is a problem when you want to run bokeh on a deployment server, since exceptions will be raised. \r\n\r\n\r\n```\r\n2017-04-18 16:51:23 ERROR    Error on request:\r\nTraceback (most recent call last):\r\n  File \"/data/projects/python/server-monitoring/env/lib/python2.7/site-packages/werkzeug/serving.py\", line 193, in run_wsgi\r\n    execute(self.server.app)\r\n  File \"/data/projects/python/server-monitoring/env/lib/python2.7/site-packages/werkzeug/serving.py\", line 181, in execute\r\n    application_iter = app(environ, start_response)\r\n  File \"/data/projects/python/server-monitoring/env/lib/python2.7/site-packages/werkzeug/wsgi.py\", line 599, in __call__\r\n    return self.app(environ, start_response)\r\n  File \"/data/projects/python/server-monitoring/env/lib/python2.7/site-packages/werkzeug/contrib/lint.py\", line 337, in __call__\r\n    app_iter = self.app(environ, checking_start_response)\r\n  File \"/data/projects/python/server-monitoring/serverMonitoring/Main.py\", line 40, in __call__\r\n    response, endpoint = self.dispatch_request(request)\r\n  File \"/data/projects/python/server-monitoring/serverMonitoring/Main.py\", line 31, in dispatch_request\r\n    func = getattr(importlib.import_module(module[0]), module[1])\r\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"/data/projects/python/server-monitoring/serverMonitoring/Handler/Delivery.py\", line 20, in <module>\r\n    from serverMonitoring.Handler.Dashboard.Widgets import ChartParameters, Chart\r\n  File \"/data/projects/python/server-monitoring/serverMonitoring/Handler/Dashboard/Widgets.py\", line 20, in <module>\r\n    from bokeh.embed import file_html\r\n  File \"/data/projects/python/server-monitoring/env/lib/python2.7/site-packages/bokeh/embed.py\", line 28, in <module>\r\n    from .core.json_encoder import serialize_json\r\n  File \"/data/projects/python/server-monitoring/env/lib/python2.7/site-packages/bokeh/core/json_encoder.py\", line 47, in <module>\r\n    from ..util.serialization import transform_series, transform_array\r\n  File \"/data/projects/python/server-monitoring/env/lib/python2.7/site-packages/bokeh/util/serialization.py\", line 39, in <module>\r\n    __doc__ = __doc__ % (\"\\n\".join(\"* ``np.\" + str(x) + \"``\" for x in BINARY_ARRAY_TYPES))\r\nTypeError: unsupported operand type(s) for %: 'NoneType' and 'str'\r\n```\r\n\r\nI suggest a simple if-clause whenever ```__doc__``` is accessed. \r\nUnfortunately this has to be fixed in various places. \r\n\r\n"},{"labels":[null,"documentation",null],"text":"I recently read http://bokeh.pydata.org/en/0.12.4/docs/user_guide/tools.html#hovertool looking for the `hline` or `vline` behavior.  I was thrown off by the first sentence:\r\n\r\n> The hover tool pops up a tooltip div whenever the cursor is over a glyph.\r\n\r\nReading down the page further to http://bokeh.pydata.org/en/0.12.4/docs/user_guide/tools.html#hover-tool my confusion was reinforced by:\r\n\r\n> The hover tool displays informational tooltips whenever the cursor is directly over a glyph.\r\n\r\nThe words \"_cursor is **directly** over_\" led me to believe that I wasn't remembering things correctly.  So, I bugged Brian in the gitter:\r\n![image](https://cloud.githubusercontent.com/assets/83846/24406911/2309f412-138f-11e7-9de2-1c720aae4b1b.png)\r\n\r\nA little tweaking of the HoverTool user-guide text would have kept me reading and eventually gotten me into the refguide where I would have seen `hline` and `vline`.\r\n\r\nThe limitations of `hline` and `vline` should be documented in the refguide as well.\r\n\r\nItems:\r\n- [ ] make link into refguide more prominently featured.  This may be as simple as having 'Reference' included in the link text.  When I saw the 'HoverTool' link, I didn't bother to click it because I thought it might just be a self reference to the user-guide.\r\n- [ ] allude to the possibility of `hline` and `vline` in user-guide without being a full repeat of all the detial in the refguide\r\n- [ ] clarify limitations of `hline` and `vline` in the refguide\r\n- [ ] document the use of '~' in TOOLTIPS as in hover_span.py example.  It seems needed for spanning hover modes.\r\n- [ ] update the 'Warning' block in [HoverTool Reference](http://bokeh.pydata.org/en/0.12.4/docs/reference/models/tools.html#bokeh.models.tools.HoverTool) to accurately reflect the glifs that are supported."},{"labels":[null,"documentation",null],"text":"\"sphinx/source/docs/user_guide/compat.rst\" should mention datashader, so that people are aware that it works well with Bokeh.  I'll submit a PR."},{"labels":[null,"documentation",null],"text":"See https://github.com/bokeh/bokeh/blob/584638b3e88c6ca5bd1d3461d72db159c86701e7/sphinx/source/docs/user_guide/embed.rst#L83. `Collections` were removed ages ago.\r\n"},{"labels":[null,"documentation",null],"text":"It seems there was a sentence, which was never finished here in the first paragraph as part of commit 57d9049c3de2368de21380a3157b435238df4d03:\r\nhttps://github.com/bokeh/bokeh/blob/master/sphinx/source/docs/user_guide/interaction/callbacks.rst"},{"labels":[null,"documentation",null,null],"text":"According to the [docs](http://bokeh.pydata.org/en/latest/docs/reference/sphinxext.html#module-bokeh.sphinxext.bokeh_plot) for sphinxext.bokeh_plot, there's a linenos option. However, this appears to be missing, as building\r\n```\r\n.. bokeh-plot::\r\n   :linenos:\r\n\r\n    from bokeh.plotting import figure, output_file, show\r\n\r\n    output_file(\"example.html\")\r\n\r\n    x = [1, 2, 3, 4, 5]\r\n    y = [6, 7, 6, 4, 5]\r\n\r\n    p = figure(title=\"example\", plot_width=300, plot_height=300)\r\n    p.line(x, y, line_width=2)\r\n    p.circle(x, y, size=10, fill_color=\"white\")\r\n\r\n    show(p)\r\n```\r\nresults in the following sphinx error: `ERROR: Error in \"bokeh-plot\" directive:\r\nunknown option: \"linenos\".`\r\n\r\nVersion Info:\r\n\r\nPython version : 3.6.0 | packaged by conda-forge | (default, Jan 14 2017, 03:13:00)\r\nIPython version : 5.1.0\r\nBokeh version : 0.12.4\r\nBokehJS static path : /Users/Atom/.anaconda/envs/py3/lib/python3.6/site-packages/bokeh/server/static\r\nnode.js version : v6.3.1\r\nnpm version : 3.10.3\r\njupyter --version : 4.2.1\r\njupyter notebook --version : 4.3.1\r\nos version : macOS 10.12.3\r\nbrowser verision: Google Chrome Version 56.0.2924.87 (64-bit)\r\nsphinx version: 1.5.3\r\n\r\nThis is a really awesome sphinx extension!"},{"labels":[null,"documentation",null],"text":"When using the sphinxext.bokeh_plot directive with the example from the [docs](http://bokeh.pydata.org/en/latest/docs/reference/sphinxext.html#module-bokeh.sphinxext.bokeh_plot), the sphinx build executes successfully (after following #5951). The js script is generated and copied into `SPHINX_DOCS_ROOT_PATH/build/html/scripts/bokeh-plot-index-inline-5.js`. \r\n\r\nHowever when the file `SPHINX_DOCS_ROOT_PATH/build/html/index.html` is opened locally in chrome, the plot doesn't render (although the code-block does), and the console gets the following error: \r\n`Failed to load resource: net::ERR_FILE_NOT_FOUND` with a link to `file:///scripts/bokeh-plot-index-inline-5.js`.\r\n\r\nWhen I edited line 122 of `PYTHON_LIB_PATH/bokeh/sphinxext/bokeh_plot.py` from `script_path = join(\"/scripts\", js_name)` to `script_path = join(\"scripts\", js_name)`, the plot appeared. I don't know a lot about web development, so I don't know if removing the `/` would break documentation hosted on a server.\r\n\r\nVersion Info:\r\n\r\nPython version      :  3.6.0 | packaged by conda-forge | (default, Jan 14 2017, 03:13:00) \r\nIPython version     :  5.1.0\r\nBokeh version       :  0.12.4\r\nBokehJS static path :  /Users/Atom/.anaconda/envs/py3/lib/python3.6/site-packages/bokeh/server/static\r\nnode.js version     :  v6.3.1\r\nnpm version         :  3.10.3\r\njupyter --version     :  4.2.1\r\njupyter notebook --version    : 4.3.1\r\nos version : macOS 10.12.3\r\nbrowser verision: Google Chrome Version 56.0.2924.87 (64-bit)\r\nsphinx version: 1.5.3\r\n\r\nThis is a really awesome sphinx extension!"},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant pacakges)\r\n\r\nThis was the result of `conda create -n minimal python=3.5 sphinx bokeh` today on OS X 10.11.6, replicated also on another mac running 10.11. Full result of `conda list` below in case it's helpful. Note also that @handwerkerd verified also not working with latext Sphinx 1.5.3.\r\n\r\n```\r\nalabaster                 0.7.10                   py35_0  \r\nbabel                     2.3.4                    py35_0  \r\nbokeh                     0.12.4                   py35_0  \r\ndocutils                  0.13.1                   py35_0  \r\nimagesize                 0.7.1                    py35_0  \r\njinja2                    2.9.5                    py35_0  \r\nmarkupsafe                0.23                     py35_2  \r\nmkl                       2017.0.1                      0  \r\nnumpy                     1.12.0                   py35_0  \r\nopenssl                   1.0.2k                        0  \r\npip                       9.0.1                    py35_1  \r\npygments                  2.2.0                    py35_0  \r\npython                    3.5.3                         0  \r\npython-dateutil           2.6.0                    py35_0  \r\npytz                      2016.10                  py35_0  \r\npyyaml                    3.12                     py35_0  \r\nreadline                  6.2                           2  \r\nrequests                  2.13.0                   py35_0  \r\nsetuptools                27.2.0                   py35_0  \r\nsix                       1.10.0                   py35_0  \r\nsnowballstemmer           1.2.1                    py35_0  \r\nsphinx                    1.5.1                    py35_0  \r\nsqlite                    3.13.0                        0  \r\ntk                        8.5.18                        0  \r\ntornado                   4.4.2                    py35_0  \r\nwheel                     0.29.0                   py35_0  \r\nxz                        5.2.2                         1  \r\nyaml                      0.1.6                         0  \r\nzlib                      1.2.8                         3  \r\n```\r\n\r\n#### Description of expected behavior and the observed behavior\r\n\r\nClone and build [this](https://github.com/davclark/simple-bokeh-sphinx) with `make html`. We should get a simple sphinx doc with a simple bokeh plot. As I note in the index.rst, I grabbed the bokeh plot code directly from the docs in `bokeh/sphinxext/bokeh_plot.py`.\r\n\r\n#### Complete, minimal, self-contained example code that reproduces the issue\r\n\r\nhttps://github.com/davclark/simple-bokeh-sphinx/tree/broken\r\n\r\n#### Stack traceback and/or browser JavaScript console output\r\n\r\nTrimmed error to console:\r\n\r\n```\r\nreading sources... [ 50%] conf                                                                        \r\nException occurred:\r\n  File \"/Users/clarkda/miniconda3/envs/minimal/lib/python3.5/site-packages/bokeh/sphinxext/bokeh_plot.py\", line 125, in _process_script\r\n    js, script = autoload_static(d.roots[0], resources, script_path)\r\nIndexError: list index out of range\r\nThe full traceback has been saved in /var/folders/longhashystring.log, if you want to report the issue to the developers.\r\n```\r\n\r\nI'll put `/var/folders/longhashystring.log` in a subsequent note.\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n\r\nNot relevant."},{"labels":[null,"documentation",null],"text":"In order to make life much simpler for other language bindings, publish a single plain-text JSON file that has default representation of every model in one place. \r\n\r\nAdditionally, it would be good to generate another file in some format that specifies the type for each model property as well. \r\n\r\ncc. @hafen"},{"labels":[null,"documentation",null],"text":"```\r\n# Sphinx version: 1.5.2\r\n# Python version: 3.5.3 (CPython)\r\n# Docutils version: 0.13.1 release\r\n# Jinja2 version: 2.9.5\r\n# Last messages:\r\n#   copying bokeh-plot files... [ 95%] bokeh-plot-f8b4b7f438d656782dafcac3d395149d.js\r\n#   copying bokeh-plot files... [ 96%] bokeh-plot-fa138cfbd93d5d9b3cb8698afabc04cb.js\r\n#   copying bokeh-plot files... [ 96%] bokeh-plot-fa2156d0bf67a2299cc88a41f85c175e.js\r\n#   copying bokeh-plot files... [ 97%] bokeh-plot-fa243db8565c61a322329ebaeec8f7c3.js\r\n#   copying bokeh-plot files... [ 97%] bokeh-plot-fbef5a55095a57bd7ec69880b9e491c1.js\r\n#   copying bokeh-plot files... [ 98%] bokeh-plot-fbffcff58bf2df95017e1a6470add3f2.js\r\n#   copying bokeh-plot files... [ 98%] bokeh-plot-fc686a29565cec5272ecc418812f2401.js\r\n#   copying bokeh-plot files... [ 99%] bokeh-plot-ff7d4e4a58f23d8a18428273c04d26ea.js\r\n#   copying bokeh-plot files... [100%] bokeh-plot-ff7edabe052448ba50e8fd7ac647ccaa.js\r\n#   \r\n# Loaded extensions:\r\n#   bokeh.sphinxext.bokeh_jinja (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_jinja.py\r\n#   bokeh.sphinxext.bokeh_palette (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_palette.py\r\n#   bokeh.sphinxext.bokeh_autodoc (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_autodoc.py\r\n#   sphinx.ext.napoleon (1.5.2) from /Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/napoleon/__init__.py\r\n#   sphinx.ext.autosummary (1.5.2) from /Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autosummary/__init__.py\r\n#   bokeh.sphinxext.bokeh_prop (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_prop.py\r\n#   bokeh.sphinxext.collapsible_code_block (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/collapsible_code_block.py\r\n#   bokeh.sphinxext.bokeh_model (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_model.py\r\n#   bokeh.sphinxext.bokeh_index_toctree (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_index_toctree.py\r\n#   bokeh.sphinxext.bokeh_enum (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_enum.py\r\n#   sphinx.ext.intersphinx (1.5.2) from /Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/intersphinx.py\r\n#   sphinx.ext.viewcode (1.5.2) from /Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/viewcode.py\r\n#   bokeh.sphinxext.bokeh_github (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_github.py\r\n#   alabaster (0.7.9) from /Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/alabaster/__init__.py\r\n#   bokeh.sphinxext.bokeh_palette_group (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_palette_group.py\r\n#   sphinx.ext.autodoc (1.5.2) from /Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autodoc.py\r\n#   bokeh.sphinxext.bokeh_plot (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_plot.py\r\n#   bokeh.sphinxext.bokeh_sitemap (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_sitemap.py\r\n#   bokeh.sphinxext.bokeh_gallery (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_gallery.py\r\n#   sphinx.ext.ifconfig (1.5.2) from /Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/ifconfig.py\r\n#   bokeh.sphinxext.bokeh_options (unknown version) from /Users/jsignell/GitHub/ContinuumIO/bokeh/bokeh/sphinxext/bokeh_options.py\r\nTraceback (most recent call last):\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/cmdline.py\", line 296, in main\r\n    app.build(opts.force_all, filenames)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/application.py\", line 333, in build\r\n    self.builder.build_update()\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/builders/__init__.py\", line 251, in build_update\r\n    'out of date' % len(to_build))\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/builders/__init__.py\", line 265, in build\r\n    self.doctreedir, self.app))\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/environment/__init__.py\", line 556, in update\r\n    self._read_serial(docnames, app)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/environment/__init__.py\", line 576, in _read_serial\r\n    self.read_doc(docname, app)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/environment/__init__.py\", line 684, in read_doc\r\n    pub.publish()\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/core.py\", line 217, in publish\r\n    self.settings)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/io.py\", line 55, in read\r\n    self.parse()\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/readers/__init__.py\", line 78, in parse\r\n    self.parser.parse(self.input, document)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/__init__.py\", line 185, in parse\r\n    self.statemachine.run(inputlines, document, inliner=self.inliner)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 170, in run\r\n    input_source=document['source'])\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/statemachine.py\", line 239, in run\r\n    context, state, transitions)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/statemachine.py\", line 460, in check_line\r\n    return method(match, context, next_state)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 2745, in underline\r\n    self.section(title, source, style, lineno - 1, messages)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 326, in section\r\n    self.new_subsection(title, lineno, messages)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 394, in new_subsection\r\n    node=section_node, match_titles=True)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 281, in nested_parse\r\n    node=node, match_titles=match_titles)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 195, in run\r\n    results = StateMachineWS.run(self, input_lines, input_offset)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/statemachine.py\", line 239, in run\r\n    context, state, transitions)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/statemachine.py\", line 460, in check_line\r\n    return method(match, context, next_state)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 2320, in explicit_markup\r\n    self.explicit_list(blank_finish)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 2350, in explicit_list\r\n    match_titles=self.state_machine.match_titles)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 318, in nested_list_parse\r\n    node=node, match_titles=match_titles)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 195, in run\r\n    results = StateMachineWS.run(self, input_lines, input_offset)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/statemachine.py\", line 239, in run\r\n    context, state, transitions)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/statemachine.py\", line 460, in check_line\r\n    return method(match, context, next_state)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 2623, in explicit_markup\r\n    nodelist, blank_finish = self.explicit_construct(match)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 2330, in explicit_construct\r\n    return method(self, expmatch)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 2073, in directive\r\n    directive_class, match, type_name, option_presets)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/docutils/parsers/rst/states.py\", line 2122, in run_directive\r\n    result = directive_instance.run()\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autodoc.py\", line 1659, in run\r\n    documenter.generate(more_content=self.content)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autodoc.py\", line 1004, in generate\r\n    self.document_members(all_members)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autodoc.py\", line 926, in document_members\r\n    check_module=members_check_module and not isattr)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autodoc.py\", line 1004, in generate\r\n    self.document_members(all_members)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autodoc.py\", line 885, in document_members\r\n    members_check_module, members = self.get_object_members(want_all)\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/ext/autodoc.py\", line 780, in get_object_members\r\n    if isenumclass(self.object):\r\n  File \"/Users/jsignell/conda/envs/bokeh-dev/lib/python3.5/site-packages/sphinx/util/inspect.py\", line 107, in isenumclass\r\n    return issubclass(x, enum.Enum)\r\nTypeError: issubclass() arg 1 must be a class"},{"labels":[null,"documentation",null],"text":"Received the following notice that GSS is being shut down. Need to find a suitable ad-free replacement. Bing?\r\n\r\n>Attn: Legal Department\r\nDear Google Site Search Customer,\r\nWe are writing to inform you that we are winding down sales and renewals of Google Site Search (GSS). Starting April 1st, 2017, new purchases and renewals of GSS will not be available.\r\nPlease note that this change will not have any impact on your current use of GSS. You will continue to receive customer and technical support through the duration of your license agreement.\r\nSearch has always been core to Google and we know that it’s essential to the way your customers find content and interact with your website. While Google Cloud will no longer support GSS, we’re continuing to invest in other technologies that make enterprise search a great experience for our customers. Recently, we introduced the general availability of Google Cloud Search, which searches across G Suite content, providing useful and actionable information and recommendations.\r\nWhat Happens Next?\r\nWhen your GSS subscription expires or the quota is exhausted, your subscription will automatically convert to Custom Search Engine (CSE). Custom Search Engine is an ads-supported product that provides similar capabilities to GSS, including the ability to build custom search engines for sites or pages, image search for your website, and customize the look and feel of search results. Please review the differences between GSS and CSE. If you do not wish to use Custom Search Engine, you have the ability to delete your engine on the CSE home page.\r\nIf your GSS subscription expires between April 1st and June 30th, 2017, we are providing a free 3-month extension to your current GSS license term with additional query volume (25 percent of the queries in your original purchase). We are providing the extension to allow more time for you to implement the necessary changes to your site. Please note that your use of GSS will be governed by our GSS Terms of Service and is subject to any updates to the product as appropriate.\r\nWe thank you for being our customer.  If you have questions about these changes, please contact us or your Authorized Reseller for more information.  We are excited about the future possibilities in search and are eager to bring new functionality to your business.\r\nRegards,\r\nGoogle Enterprise Search Team\r\nGoogle Inc. 1600 Amphitheatre Parkway, Mountain View, CA 94043\r\nYou have received this mandatory email service announcement to update you about important changes to your Google Cloud product or account."},{"labels":[null,"documentation",null],"text":"In the example for labels on the annotations page of the user guide, a comma in the parameter list is missing, resulting in a syntax error when copy-pasting it.\r\n\r\nSpecifically, line 171 of  [annotations.rst](https://github.com/bokeh/bokeh/blob/d90175c36d4e1473f7c13ce91eb47bd890f5a3eb/sphinx/source/docs/user_guide/annotations.rst)\r\n\r\n    Label(x=70, y=70, x_units='screen' text='Some Stuff', render_mode='css',\r\n\r\nshould be:\r\n\r\n    Label(x=70, y=70, x_units='screen', text='Some Stuff', render_mode='css',\r\n\r\nCan/ should I create a PR to fix this?"},{"labels":[null,"documentation",null],"text":"This is just a ticket so that I can open a PR with some revisions I'd like to suggest to the docs after reading through the User and Dev guide pages for Bokeh server."},{"labels":[null,"documentation",null],"text":"#### ALL software version info (bokeh, python, notebook, OS, browser, any other relevant pacakges)\r\nReleased docs for Bokeh v0.12.4 http://bokeh.pydata.org/en/0.12.4/docs/dev_guide/server.html#devguide-server\r\n\r\n#### Description of expected behavior and the observed behavior\r\nBroken link at the end of the first paragraph.\r\n\r\n#### Screenshots or screencasts of the bug in action\r\n![image](https://cloud.githubusercontent.com/assets/83846/23097266/175d9932-f5f5-11e6-8beb-6bac3e19edf2.png)\r\n\r\n#### Proposed fix\r\nThis is just a typo for a missing ':' in the ':ref:``'.  Just opening a ticket to follow the workflow for the PR I'm going to submit."},{"labels":[null,"documentation",null],"text":"The [BokehJS Standalone](http://bokeh.pydata.org/en/0.12.4/docs/installation.html#bokehjs-standalone) section is currently written as follows :\r\n\r\n> If you would like to use BokehJS as a standalone JavaScript library, there are two easy ways to get any published release.\r\n\r\nTo my understanding, only one way is described. What is the other way? Is it documented elsewhere? \r\n\r\nAlso, the BokehJS API is not mentioned anywhere in the documentation.\r\n"},{"labels":[null,null,"documentation",null],"text":"This issue was originally commented and resolved [here](http://stackoverflow.com/questions/41936031/bokeh-server-not-working-when-deployed-from-windows-server/41980870#41980870). One of the possible arguments to use is `--host='*'` to allow any host. The use of this argument appears somewhere in the documentation I do not find right now, anyway in Linux it works properly. But when used in Windows Command Prompt, not any host is allowed to connect as it is supposed to be. After making some tests with the sintaxis in Windows, the conclussion is that correct way to use arguments is `--host '*'` or `--host=*`. \r\nUsing `--host='*'` is literally interpreted in Windows, hence no wildcard is applied. This issue is probaly obvious for advanced users, but for beginners as me may be not so clear. Thanks to @bryevdv for the help.\r\n\r\n![bokeh2 1](https://cloud.githubusercontent.com/assets/20949300/22511196/27ec39ba-e895-11e6-9bb7-acc544614119.JPG)\r\n![bokeh4](https://cloud.githubusercontent.com/assets/20949300/22511197/2800feae-e895-11e6-86f6-0e64fdb2b3e2.JPG)\r\n\r\n"},{"labels":[null,"documentation",null],"text":"See the following code, clicking the button does not open 'http://www.cnn.com/'\r\n\r\nfrom bokeh.models.widgets import Button\r\nfrom bokeh.io import output_file, show, vform\r\nfrom bokeh.models import OpenURL, TapTool\r\n\r\noutput_file(\"button.html\")\r\nbutton = Button(label=\"Foo\", callback=OpenURL(url='http://www.cnn.com/'), type=\"success\")\r\nshow(vform(button))"},{"labels":[null,"documentation",null],"text":"Bokeh `0.12.4` fails to plot from numpy data sources when using python 3.3. \r\n\r\nThis is because PR #5544 introduced `base64.b64encode(array.data)` into bokeh/util/serialization.py, and `b64encode` is unable to handle `memoryview` (which is used by numpy). Python addressed this in http://bugs.python.org/issue17839 but that was only released in python 3.4. It's not an issue under python 2.7.\r\n\r\ne.g. the following code\r\n```\r\nfrom bokeh.plotting import figure, show\r\nimport numpy as np\r\nx = np.random.rand(5)\r\ny = np.random.rand(5)\r\np = figure()\r\np.line(x, y)\r\nshow(p)\r\n```\r\nwill cause the exception:\r\n```\r\n.../bokeh/bokeh/util/serialization.py in encode_base64_dict(array)\r\n    271     '''\r\n    272     return {\r\n--> 273         '__ndarray__'  : base64.b64encode(array.data).decode('utf-8'),\r\n    274         'shape'        : array.shape,\r\n    275         'dtype'        : array.dtype.name\r\nTypeError: expected bytes, not memoryview\r\n```\r\n\r\nI don't consider this to be an error with bokeh, but should be documented so that downstream distributions can use the correct version (e.g. [CentOS 6.8 SCL](http://mirror.centos.org/centos/6/sclo/x86_64/rh/) only supports python 3.3, but they have updated to use bokeh 0.12.4).\r\n"},{"labels":[null,"documentation",null],"text":"MPL compat does not work with MPL 2.0, and is unlikely to ever until or unless MEP 25 is implemented. The `0.12.5` release notes should make mention of this, and importing the MPL compat fiunctions should raise an error if MPL >= 2.0 is installed. "},{"labels":[null,"documentation",null],"text":"Ends up rendering like this\r\n\r\n<img width=\"680\" alt=\"screen shot 2017-01-13 at 10 38 03 am\" src=\"https://cloud.githubusercontent.com/assets/1796208/21937294/71c87792-d97c-11e6-929f-ebf03c695e8a.png\">\r\n\r\nGuessing bad use of bullets is causing some text to be bold and the whole thing to be unclear.\r\n\r\nWhile there the wording in this docstring could be a lot clearer."},{"labels":[null,"documentation",null],"text":"Tags: examples, chart\r\n\r\nThe README.md in examples/charts inaccurately describes the file structure for the charts example to be used with Jupyter notebooks.   trivial adjustment to readme suggested to point to location under \r\n/examples/howto/charts "},{"labels":[null,"documentation",null],"text":"The [user guide](http://bokeh.pydata.org/en/latest/docs/user_guide/concepts.html#output-methods) shows an example of `bokeh html foo.py`, however the `foo.py` seems to be missing two lines.\r\n\r\nThe full code should be:\r\n```python\r\nfrom bokeh.io import curdoc    #This is missing from userguide\r\nfrom bokeh.plotting import figure \r\n\r\np = figure() \r\np.line(x=[1, 2, 3], y=[4,6,2]) \r\n\r\ncurdoc().add_root(p)    #This is missing from userguide\r\n```"},{"labels":[null,null,"documentation",null],"text":"Currently all the modules in `bokeh.core` are generated on a single HTML page. Propose to re-organize the docs structure so that each module generates a separate page. "},{"labels":[null,"documentation",null],"text":"With more users writing extensions, it is now important to have better documentation about writing models, using properties, etc. The `properties.py` currently has a lot of very low level base classes, etc. that users should not really be concerned with. Propose to split off all the low level machinery into `property_bases.py` or similar, and leave `properties.py` only containing things that users might care about. Then to structure the documentation appropriately (e.g. splitting into spearete sections for basic properties and dataspecs)"},{"labels":[null,"documentation",null],"text":"Now that `DataSpecProperty` has become available to the users it needs some documentation. Googling what meant to pass a dictionary to a glyph function I arrived to this message by @bryevdv:\r\n\r\nhttps://groups.google.com/a/continuum.io/forum/#!topic/bokeh/bsmy0dPZYZU\r\n\r\nIts usage is certainly not difficult but perhaps it should be mentioned somewhere."},{"labels":[null,"documentation",null,null],"text":"Here I am sharing my experience of getting Bokeh server work behind the Apache server. Please visit [here](https://github.com/satyausc/BokehwIthApache) for the documentation. The **essential part** in the Apache end is enabling the modules corresponding to the web services and proxies, see [here](https://github.com/satyausc/BokehwIthApache#apache-end). \r\n\r\nPlease let me know if you have issues.  "},{"labels":[null,null,null,"documentation",null],"text":"When I browse to http://bokeh.pydata.org/en/latest/, all the central content is missing, as shown on the 1st message here:\r\n[https://groups.google.com/a/continuum.io/forum/#!topic/bokeh/_MfdWjKLnNU](url)\r\n\r\nThis behaviour has been confirmed. Apparently (as reported by \"Bryan van de Ven\"), the rendering is fine on Edge/Win10 and IE11/Win10.\r\n"},{"labels":[null,"documentation",null,null],"text":"When embeding Bokeh Server within other applications the standard bokeh script and command line interface may not be optimal.  However, scripts and command line are also the common case, and so rightfully dominate documentation.\r\n\r\nIt might be nice to have a small document detailing how to use Bokeh Server programmatically.  \r\n\r\nTo help myself with this I created this small minimal bokeh server example:\r\n\r\n```python\r\n# Create Tornado IOLoop\r\nfrom tornado.ioloop import IOLoop\r\nloop = IOLoop()\r\n\r\n\r\n# Construct Bokeh Plot and Column Data Source\r\nfrom bokeh.models import ColumnDataSource\r\nfrom bokeh.plotting import figure\r\n\r\nsource = ColumnDataSource({'x': [], 'y': []})\r\n\r\nplot = figure(title='my title')\r\nplot.circle(source=source, x='x', y='y')\r\n\r\n# Create simple Bokeh server application\r\nfrom bokeh.application.handlers import FunctionHandler\r\nfrom bokeh.application import Application\r\n\r\nimport random\r\ndef update():\r\n    source.stream({'x': [random.random()],\r\n                   'y': [random.random()]})\r\n\r\ndef modify_doc(doc):\r\n    doc.add_periodic_callback(update, 100)\r\n    doc.add_root(plot)\r\n\r\nhandler = FunctionHandler(modify_doc)\r\napp = Application(handler)\r\n\r\n\r\n# Construct and start Bokeh server around application\r\nfrom bokeh.server.server import Server\r\nserver = Server({'/': app}, io_loop=loop, port=5000)\r\nserver.start(start_loop=False)\r\n\r\n\r\n# Start everything\r\nloop.start()\r\n```\r\n\r\nIn particular I like that I get to specify and start the IOLoop myself. I like that the plot and data source are separate from the server. I like that I don't have to construct a script but can just use the FunctionHandler. I was very happy to find the FunctionHandler by the way. I suspect that I'll rewrite all of the dask web UI using this rather than using scripts."},{"labels":[null,null,"documentation",null],"text":"* Description of expected behavior and the observed behavior:\r\nUsing the box zoom tool on GMapPlot, expect it to change the current view to the range selected by zoom tool. However, the view does not change\r\n* Self-contained example code that generates the issue (if possible):\r\nThis is not self-contained (sorry), but here's how I use the tool\r\n```\r\n    plot = GMapPlot(x_range=DataRange1d(),\r\n                    y_range=DataRange1d(),\r\n                    map_options=map_options,\r\n                    title=\"Foo\",\r\n                    api_key=\"Bar\")\r\n    plot.map_options.map_type = \"hybrid\"\r\n    source = ColumnDataSource(\r\n        data=dict(\r\n            lon=foobar.lon,\r\n            lat=foobar.lat,\r\n        ))\r\n    circle = bokeh.models.Circle(x=\"lon\", y=\"lat\")\r\n    plot.add_glyph(source, circle)\r\n    zoom = bokeh.models.WheelZoomTool()\r\n    plot.add_tools(bokeh.models.PanTool(),\r\n                   zoom,\r\n                   bokeh.models.BoxZoomTool())\r\n    plot.toolbar.active_scroll = zoom\r\n    plot.title = \"FooBar\"\r\n```\r\n* Stack traceback and/or browser developer tools console output:\r\n`bokeh-0.12.3.min.js:7 [bokeh] setting log level to: 'info'`\r\n* Software version information output by `bokeh info` command:\r\n```\r\nPython version      :  2.7.12 (default, Jul  1 2016, 15:12:24) \r\nIPython version     :  5.0.0\r\nBokeh version       :  0.12.3\r\nBokehJS static path :  /home/peter/.local/lib/python2.7/site-packages/bokeh/server/static\r\n```\r\n"},{"labels":[null,"documentation",null],"text":"https://github.com/bokeh/bokeh/blob/master/bokeh/io.py#L572\r\n\r\nDocstring references invalid function call. \r\n\r\nis: push_notebook(handle)\r\nshould be: push_notebook(handle=handle)\r\n\r\ntag: docs"},{"labels":[null,null,null,"documentation",null],"text":"Came out of some observations and discussion in:\r\n\r\nhttps://groups.google.com/a/continuum.io/forum/?pli=1#!topic/bokeh/szlk3wwuTnk\r\n\r\nIt's possible to achieve this, PR incoming:\r\n\r\n<img width=\"752\" alt=\"screen shot 2016-11-07 at 11 21 05 am\" src=\"https://cloud.githubusercontent.com/assets/1078448/20067940/84fd218e-a4dc-11e6-91d1-ab69c02041d9.png\">\r\n"},{"labels":[null,"documentation",null],"text":"Enhancement request:\r\n\r\nThe \"help\" widget seems useful, except it takes the user to a developer-oriented documentation page with code examples.  If it were possible to have an end-user-centric page that would be a preferable destination.  Something that concisely described how to interact with a Bokeh plot and how the widgets work.  If it were possible to have a \"targeted\" page that only described the widgets on a particular plot that would be great."},{"labels":[null,"documentation",null],"text":"It is not in reference guide: http://bokeh.pydata.org/en/latest/docs/reference/plotting.html\n\nIt also does not appear as a list of options when you mis-guess an option (presumably because it's not an actual property).\n"},{"labels":[null,"documentation",null],"text":"The HBar and VBar glyphs are missing from the glyph section of the User Guide. They are in the Reference section.\n"},{"labels":[null,"documentation",null],"text":"In addition to the typo fixed by #5378, there are other typos in the comments of the examples for the [styling documentation](http://bokeh.pydata.org/en/latest/docs/user_guide/styling.html).  I am happy to go through and aggregate a list of the errors (documented here), then fix these.  These are the three I saw so far\r\n- [x] Background example says `# create a new plot with a title`\r\n- [x] Border example says `# create a new plot with a title`\r\n- [x] Outline example says `# create a new plot with a title`\r\n- [x] typos in `0.12.2` migration notes #5190\r\n- [x] docstring for `Histogram` should mention bin size (see: https://github.com/bokeh/bokeh/issues/3398) "},{"labels":[null,"documentation",null],"text":"The comment in [this example](http://bokeh.pydata.org/en/latest/docs/user_guide/styling.html#dimensions) says `# create a new plot with a title`.  I expect this example was copied from the one below is demonstrating how to add a title.  This comment should be changed to `# create a new plot with specific dimensions`.\n"},{"labels":[null,null,"documentation",null],"text":"The [developer guide](http://bokeh.pydata.org/en/latest/docs/dev_guide/setup.html#devguide-building-bokehjs) does not include `nbformat` in the developer dependencies but one of the tests, `bokeh/application/handlers/tests/test_notebook.py` requires this package.  It should also be added to `devdeps.py` test script.\n"},{"labels":[null,"documentation",null],"text":"In the current documentation for the legend Location, there sentence says, \"For legends in the to the central layout area, such as those created automatically...\" but should actually say \"For legends in the to the central layout area, such as those created automatically....\"  I am fixing this right now.\n\nAdditionally, for the location commands, why do 6 of them have the vertical followed by the horizontal alignment but 2 of them have the horizontal followed by the vertical?  This inconsistency seems like it would lead to confusion.\n"},{"labels":[null,"documentation",null],"text":"On Windows, when using `make.bat serve`, the server can't be stopped - pressing `<ENTER>` gives a syntax error:\n\n```\nPress <ENTER> to exit...\n\nTraceback (most recent call last):\n  File \"docserver.py\", line 70, in <module>\n    ui()\n  File \"docserver.py\", line 57, in ui\n    input(\"Press <ENTER> to exit...\\n\")\n  File \"<string>\", line 0\n```\n\nSuggestion is changing this to raw_input rather than input,\n"},{"labels":[null,null,"documentation",null],"text":"To make it easier for users to get the examples without have to git clone the entire large repo (or have to use git at all), zip files of the  `examples` directory have been manually added to, e.g:\r\n\r\nhttps://cdn.pydata.org/bokeh/examples/examples-0.12.2.zip\r\n\r\nfor versions `0.10.0` to `0.12.2` Now need to automate the generation and uploading of these files in `build_and_upload.sh`\r\n"},{"labels":[null,"documentation",null],"text":"The `Span` annotation [documentation](http://bokeh.pydata.org/en/latest/docs/reference/models/annotations.html#bokeh.models.annotations.Span) lists four possible values for argument `dimension`\n\n```\nattr dimension\n\n     property type: dimension:Enum(‘width’, ‘height’, ‘x’, ‘y’)\n\n     The direction of the span.\n```\n\nBut when I attempt to use `x` or `y` errors like this appear in the notebook:\n\n```\nJavascript error adding output!\nError: Dimension property 'dimension' given invalid value: x\nSee your browser Javascript console for more details.\n```\n\nAnd the console says things like:\n\n```\nError: Dimension property 'dimension' given invalid value: x\n  at e.V.n.validate (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:2:28698)\n  at e._init (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:2:28310)\n  at e.update (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:2:26502)\n  at e.attach_document (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:2:17044)\n  at t._recompute_all_models (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:3:21235)\n  at t._pop_all_models_freeze (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:3:20574)\n  at t.add_root (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:3:22140)\n  at Function.t.from_json (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:3:27716)\n  at Object.j [as embed_items] (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:4:1986)\n  at HTMLDocument.eval (<anonymous>:94:25)\n  at u (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:64:22570)\n  at Object.add [as done] (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:64:22872)\n  at st.fn.ready (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:64:24955)\n  at st.fn.init (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:64:20461)\n  at Object.st [as $] (https://cdn.pydata.org/bokeh/release/bokeh-0.12.2.min.js:54:12233)\n  at Array.inline_js (<anonymous>:90:15)\n  at run_inline_js (<anonymous>:105:23)\n  at eval (<anonymous>:126:9)\n  at eval (<anonymous>:45:67)\n  at Array.forEach (native)\n  at run_callbacks (<anonymous>:45:38)\n  at load_libs (<anonymous>:57:9)\n  at eval (<anonymous>:124:7)\n  at eval (<anonymous>:129:4)\n  at Function.globalEval (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:87:4231)\n  at x.domManip (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:88:21391)\n  at x.append (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:88:18985)\n  at OutputArea._safe_append (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:20237:26)\n  at OutputArea.append_display_data (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:20358:18)\n  at OutputArea.append_output (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:20143:18)\n  at OutputArea.handle_output (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:20057:14)\n  at output (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:21698:52)\n  at Kernel._handle_output_message (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:23316:13)\n  at i (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:87:5488)\n  at Kernel._handle_iopub_message (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:23343:20)\n  at Kernel._finish_ws_message (http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:23180:29)\n  at http://localhost:8888/static/notebook/js/main.min.js?v=dda91b55a04855a1c133b176c7a48905:23171:44\n```\n\nThis is using bokeh 0.12.2 with Anaconda 4.1.0 (Python 3.5) on Windows 7 with Chromium 53.0.2785.113 (64-bit)\n"},{"labels":[null,"documentation",null],"text":"The migration code (http://bokeh.pydata.org/en/latest/docs/releases/0.12.2.html) for the handles in jupyter generates errors when run:\n\ncode:\n\n```\nfrom bokeh.plotting import figure\nfrom bokeh.io import output_notebook, push_notebook, show\noutput_notebook()\nplot = figure()\nplot.circle([1,2,3], [4,6,5])\nhandle = show(plot, notebook_handle=True)\n# Update the plot title in the earlier cell\nplot.title = \"New Title\"\npush_notebook(handle)\n```\n\noutput:\n\n``` bash\n/Users/fabien/.pyenv/versions/3.5.2/lib/python3.5/site-packages/bokeh/core/properties.py:1941: UserWarning: Setting Plot property 'title' using a string was deprecated in 0.12.0,\n            and will be removed. The title is now an object on Plot (which holds all of it's\n            styling properties). Please use Plot.title.text instead.\n\n            SERVER USERS: If you were using plot.title to have the server update the plot title\n            in a callback, you MUST update to plot.title.text as the title object cannot currently\n            be replaced after intialization.\n\n  \"\"\")\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-4-a093edd965aa> in <module>()\n      7 # Update the plot title in the earlier cell\n      8 plot.title = \"New Title\"\n----> 9 push_notebook(handle)\n\n/Users/fabien/.pyenv/versions/3.5.2/lib/python3.5/site-packages/bokeh/io.py in push_notebook(document, state, handle)\n    590         return\n    591 \n--> 592     to_json = document.to_json()\n    593     if handle.doc is not document:\n    594         msg = dict(doc=to_json)\n\nAttributeError: '_CommsHandle' object has no attribute 'to_json'\n```\n\nThe last two lines should be changed to:\n\n```\nplot.title.text = \"New Title\"\npush_notebook(handle=handle)\n```\n"},{"labels":[null,"documentation",null],"text":"Here's the behavior:\n- go to http://bokeh.pydata.org\n  - it will redirect to http://bokeh.pydata.org/en/latest  -- at least it does for me, perhaps we have some kind of locale detection so that 'en' isn't what everyone gets?\n  - It may be important to note that when I got to http://bokeh.pydata.org/en/latest v0.12.1 was selected as the version in the dropdown 'navigation-menu'\n- enter a search in the 'search-bar' class 'input' at the top right of the page\n- you get taken to http://bokeh.pydata.org/en/latest/search.html?q= with your encoded query on the end\n- even though we're on a 'latest' URL and v0.12.2 is selected now in the 'navigation-menu' the pink background with firebrick text div warning us about viewing old docs is displayed\n\n![image](https://cloud.githubusercontent.com/assets/83846/18312625/4c22d75a-74d0-11e6-830d-8d0c7a72f31b.png)\n\nI think that I might have caught things during a release just at the right time to get really confusing results out of the search box. If the window when this behavior could be observed by users is small, I'm okay with this being marked wontfix and moving on.  However, I'm not positive that this was just unlucky timing and thought I should at least file an issue.  Perhaps there's a bug in whatever injects the pink div into the top of the page results?\n"},{"labels":[null,"documentation",null],"text":"@bryevdv  requested that I formally open this to spur discussion of improvements for documentation improvements  to [the datetime formatter docs](http://bokeh.pydata.org/en/latest/docs/reference/models/formatters.html#bokeh.models.formatters.DatetimeTickFormatter). \n\nThe documentation seems to imply that one can do dict(time_value =[\"format\"]) just for the specific value one wants to format. This worked <0.12.1 but is broken >0.12.1.. Per @bryevdv's clarification in Gitter, to set a specific date time format one can do something like:\n\n`my_formats = DEFAULT_DATETIME_FORMATS()\nmy_formats.update(days=[\"%a,   %b %d\"])\nDatetimeTickFormatter(formats=my_formats)`\n\nThis achieves the desired result.\n\nThe issue tracker isn't the place for general support. For questions and\ntechnical assistance, come ask the [Bokeh mailing list](https://groups.google.com/a/continuum.io/forum/#!forum/bokeh) or join the chat on [Gitter](https://gitter.im/bokeh/bokeh).\n\nFor defects or deficiencies, please provide:\n- Description of expected behavior and the observed behavior\n- Self-contained example code that generates the issue (if possible)\n- Stack traceback and/or browser developer tools console output\n- Software version information output by `bokeh info` command\n\nFor desired features, please provide:\n- Description of the desired feature\n"},{"labels":[null,"documentation",null],"text":"http://bokeh.pydata.org/en/latest/docs/reference/charts.html#chart-options links to http://bokeh.pydata.org/en/latest/docs/user_guide/charts.html#userguide-charts-defaults which seems to link back to the first link - it's actually a link to the page but it's not clear.\n"},{"labels":[null,"documentation",null],"text":"Documents need updating to reflect availability of CDN resources via HTTPS.\n"},{"labels":[null,null,"documentation",null],"text":"Just noticed palette as an option for image in a plotting example. It's not documented for `Image` glyph or for the plotting method `image`\n"},{"labels":[null,"documentation",null],"text":"I noticed this comment on #4958 from @rornor.\n\n> Right. Figure that accept sizing_mode, though it does not seem to be documented http://bokeh.pydata.org/en/latest/docs/reference/plotting.html#bokeh.plotting.figure.Figure\n> Probably it inherits this argument from elsewhere...\n\nIf you're trying to help yourself, going to the reference docs for a specific model I'm not sure you should have to go all the way up the class hierarchy to LayoutDOM manually to see that there's a sizing_mode option.\n\nThoughts @bryevdv?\n"},{"labels":[null,"documentation",null],"text":"When setting up a python environment for developing Bokeh, in addition to the dependencies listed in the [Getting Set Up page](http://bokeh.pydata.org/en/latest/docs/dev_guide/setup.html#devguide-setup), one must also install the base dependencies for Bokeh.  @birdsarah mentioned a simple method for getting these dependencies by installing then removing Bokeh: `conda install bokeh && conda remove bokeh`.  Either something like this should be added to the documentation, or the explicit dependencies should be listed in addition to the development specific ones.\n"},{"labels":[null,"documentation",null,null],"text":"## Expected behavior\n\nThe default value for a dropdown menu should be the first item in the menu, or otherwise specified. So when a new session is started and another widget - say a slider - is changed, the dropdown should return the default value if the user hasn't selected anything from it yet.\n## Problem \n\nHowever, my dropdowns all return None until the user selects something from the menu. This is happening whether or not I specify default_value for the dropdown.\n\nHere's an example. Updating the slider value causes dropdown to return None, until you pick something from it's menu\n\n```\nfrom bokeh.io import curdoc\nfrom bokeh.layouts import layout, widgetbox\nfrom bokeh.models.widgets import Dropdown, Slider\n\n#set up widgets\nslidy = Slider(title = 'slider', value = 1, start = 1, end = 3, step = 1)\nmenu = [('1', 'one'), ('2', 'two'), ('3', 'three')]\ndroppy = Dropdown(name = 'dropdown', menu = menu, default_value = 'one')\nw = widgetbox(slidy, droppy)\n\n#set up callbacks\ndef update_data(attrname, old, new):\n    number = slidy.value\n    name = droppy.value\n    print(number)\n    print(name)\n\nslidy.on_change('value', update_data)\ndroppy.on_change('value', update_data)\n\n#add to document\ncurdoc().add_root(w)\n```\n\nIs dropdown not working like expected, or am I missing something?\n\nEdit: running version 12.1\n"},{"labels":[null,"documentation",null],"text":"When compiling the documentation using the sphinx Makefile, a soft link is created in `sphinx/_build/html/` pointing to `../../../bokeh/server/static/` which is no longer a valid directory.  This was in the 12.0 version but has since been removed.  \n\nI expect the Makefile should be updated to point at the correct directory or the directory should be returned to this location.  \n"},{"labels":[null,"documentation",null],"text":"For the 0.12.1 site docs (and in master), the page titles for pages in the reference guide are literal HTML strings that contain the desired title + some tags.\n\n<img width=\"1221\" alt=\"screen shot 2016-07-28 at 5 47 47 pm\" src=\"https://cloud.githubusercontent.com/assets/2198981/17232123/9b63ce50-54eb-11e6-9300-9ec668f19909.png\">\n"},{"labels":[null,"documentation",null],"text":"For the 0.12.1 site documentation (and in current master), selecting a subsection of http://bokeh.pydata.org/en/latest/docs/user_guide/interaction.html, causes the site guide to render subsection twice:\n\n<img width=\"327\" alt=\"screen shot 2016-07-28 at 2 10 49 pm\" src=\"https://cloud.githubusercontent.com/assets/2198981/17226282/41d974f6-54ce-11e6-92b9-364210ef2679.png\">\n"},{"labels":[null,null,"documentation",null],"text":"currently every page is \"Bokeh Docs\"\n"},{"labels":[null,"documentation",null],"text":"# Tried to build the docs on Windows [Version 10.0.10586]. This is what I ran and what I got.\n\n```\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>set BOKEH_DOCS_CDN=local\n\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>../\n'..' is not recognized as an internal or external command,\noperable program or batch file.\n\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>cd ..\n\n(python3) C:\\Users\\Julia\\bokeh>python setup.py develop\n\nBokeh includes a JavaScript library (BokehJS) that has its own\nbuild process. How would you like to handle BokehJS:\n\n1) build and install fresh BokehJS\n2) install last built BokehJS from bokeh/bokehjs/build\n\nChoice? 2\n\nInstalling Bokeh for development:\n  - writing path 'C:\\Users\\Julia\\bokeh' to C:\\Programs\\Miniconda\\envs\\python3\\lib\\site-packages\\bokeh.pth\n  - using PREVIOUSLY built BokehJS from bokehjs/build\n\n\n(python3) C:\\Users\\Julia\\bokeh>\n(python3) C:\\Users\\Julia\\bokeh>cd sphinx\n\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>make clean all\n\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>make clean\n\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>make all\nRunning Sphinx v1.3.1\nmaking output directory...\nloading pickled environment... not yet created\nloading intersphinx inventory from https://docs.python.org/objects.inv...\nloading intersphinx inventory from http://pandas.pydata.org/pandas-docs/stable/objects.inv...\nloading intersphinx inventory from http://docs.scipy.org/doc/numpy/objects.inv...\nbuilding [mo]: targets for 0 po files that are out of date\nbuilding [html]: targets for 160 source files that are out of date\nupdating environment: 160 added, 0 changed, 0 removed\nWARNING: URL 'https://github.com/bokeh/bokeh/tree/master/examples/plotting/file/color_scatterplot.py' for :bokeh-tree: role could not be loaded\nWARNING: URL 'https://github.com/bokeh/bokeh/tree/master/examples/howto/notebook_comms/Jupyter Interactors.ipynb' for :bokeh-tree: role could not be loaded\nWARNING: URL 'https://github.com/bokeh/bokeh/tree/master/examples/howto/notebook_comms/Numba Image Example.ipynb' for :bokeh-tree: role could not be loaded\nreading sources... [100%] index\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\dev_guide\\testing.rst:45: ERROR: Unknown target name: \"custom markers\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\anscombe.rst:7: WARNING: duplicate label gallery_anscombe, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\anscombe.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\area_chart.rst:7: WARNING: duplicate label gallery_area_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\area_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\box_annotation.rst:7: WARNING: duplicate label gallery_box_annotation, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\box_annotation.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\boxplot.rst:7: WARNING: duplicate label gallery_boxplot, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\boxplot.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\boxplot_chart.rst:7: WARNING: duplicate label gallery_boxplot_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\boxplot_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\brewer.rst:7: WARNING: duplicate label gallery_brewer, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\brewer.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\burtin.rst:7: WARNING: duplicate label gallery_burtin, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\burtin.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\candlestick.rst:7: WARNING: duplicate label gallery_candlestick, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\candlestick.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\categorical.rst:7: WARNING: duplicate label gallery_categorical, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\categorical.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\chord_chart.rst:7: WARNING: duplicate label gallery_chord_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\chord_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\color_scatter.rst:7: WARNING: duplicate label gallery_color_scatter, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\color_scatter.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\color_sliders.rst:7: WARNING: duplicate label gallery_color_sliders, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\color_sliders.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\donut_chart.rst:7: WARNING: duplicate label gallery_donut_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\donut_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\dot.rst:7: WARNING: duplicate label gallery_dot, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\dot.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\dot_chart.rst:7: WARNING: duplicate label gallery_dot_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\dot_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\elements.rst:7: WARNING: duplicate label gallery_elements, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\elements.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\ggplot_density.rst:7: WARNING: duplicate label gallery_ggplot_density, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\ggplot_density.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\ggplot_line.rst:7: WARNING: duplicate label gallery_ggplot_line, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\ggplot_line.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\ggplot_step.rst:7: WARNING: duplicate label gallery_ggplot_step, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\ggplot_step.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\heatmap_chart.rst:7: WARNING: duplicate label gallery_heatmap_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\heatmap_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\histogram.rst:7: WARNING: duplicate label gallery_histogram, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\histogram.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\histograms_chart.rst:7: WARNING: duplicate label gallery_histograms_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\histograms_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\image.rst:7: WARNING: duplicate label gallery_image, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\image.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\image_rgba.rst:7: WARNING: duplicate label gallery_image_rgba, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\image_rgba.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\iris.rst:7: WARNING: duplicate label gallery_iris, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\iris.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\iris_scatter_chart.rst:7: WARNING: duplicate label gallery_iris_scatter_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\iris_scatter_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\iris_splom.rst:7: WARNING: duplicate label gallery_iris_splom, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\iris_splom.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\jitter.rst:7: WARNING: duplicate label gallery_jitter, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\jitter.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\legend.rst:7: WARNING: duplicate label gallery_legend, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\legend.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\les_mis.rst:7: WARNING: duplicate label gallery_les_mis, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\les_mis.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\line_chart.rst:7: WARNING: duplicate label gallery_line_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\line_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\logaxis.rst:7: WARNING: duplicate label gallery_logaxis, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\logaxis.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\lorenz.rst:7: WARNING: duplicate label gallery_lorenz, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\lorenz.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\markers.rst:7: WARNING: duplicate label gallery_markers, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\markers.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\palettes.rst:7: WARNING: duplicate label gallery_palettes, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\palettes.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\periodic.rst:7: WARNING: duplicate label gallery_periodic, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\periodic.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\quiver.rst:7: WARNING: duplicate label gallery_quiver, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\quiver.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\seaborn_sinerror.rst:7: WARNING: duplicate label gallery_seaborn_sinerror, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\seaborn_sinerror.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\seaborn_violin.rst:7: WARNING: duplicate label gallery_seaborn_violin, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\seaborn_violin.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\slider.rst:7: WARNING: duplicate label gallery_slider, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\slider.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\stacked_bar_chart.rst:7: WARNING: duplicate label gallery_stacked_bar_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\stacked_bar_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\step_chart.rst:7: WARNING: duplicate label gallery_step_chart, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\step_chart.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\stocks.rst:7: WARNING: duplicate label gallery_stocks, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\stocks.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\streamline.rst:7: WARNING: duplicate label gallery_streamline, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\streamline.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\texas.rst:7: WARNING: duplicate label gallery_texas, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\texas.rst\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\unemployment.rst:7: WARNING: duplicate label gallery_unemployment, other instance in C:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\gallery\\unemployment.rst\n<bokeh-prop>:1: ERROR: Unexpected indentation.\nC:\\Users\\Julia\\bokeh\\bokeh\\tile_providers.py:docstring of bokeh.tile_providers:3: ERROR: Unexpected indentation.\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:11: ERROR: Undefined substitution referenced: \"bokeh.plotting\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:21: ERROR: Undefined substitution referenced: \"Figure\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:26: ERROR: Undefined substitution referenced: \"Figure\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:255: ERROR: Undefined substitution referenced: \"Figure\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:261: ERROR: Undefined substitution referenced: \"bokeh.plotting\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:280: ERROR: Undefined substitution referenced: \"figure\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:295: ERROR: Undefined substitution referenced: \"bokeh.plotting\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:323: ERROR: Undefined substitution referenced: \"figure\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:323: ERROR: Undefined substitution referenced: \"bokeh.plotting\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:345: ERROR: Undefined substitution referenced: \"figure\".\nC:\\Users\\Julia\\bokeh\\sphinx\\source\\docs\\user_guide\\plotting.rst:357: ERROR: Undefined substitution referenced: \"Plot\".\nlooking for now-outdated files... none found\npickling environment... done\nchecking consistency... done\npreparing documents... done\n<string>:12: FutureWarning: sort(columns=....) is deprecated, use sort_values(by=.....)\nC:\\Users\\Julia\\bokeh\\bokeh\\core\\compat\\bokeh_renderer.py:246: UserWarning: Path drawing has performance issues, please use mpl PathCollection instead\n  warnings.warn(\"Path drawing has performance issues, please use mpl PathCollection instead\")\nC:\\Users\\Julia\\bokeh\\bokeh\\core\\compat\\mplexporter\\exporter.py:171: UserWarning: Legend element Line2D((2.9988,3.4986),(16.9932,3.4986)) not implemented\n  warnings.warn(\"Legend element %s not implemented\" % child)\nC:\\Users\\Julia\\bokeh\\bokeh\\core\\compat\\mplexporter\\exporter.py:176: UserWarning: Legend element <matplotlib.offsetbox.HPacker object at 0x0000024F0075D470> not implemented\n  warnings.warn(\"Legend element %s not implemented\" % child)\nC:\\Users\\Julia\\bokeh\\bokeh\\core\\compat\\mplexporter\\exporter.py:176: UserWarning: Legend element <matplotlib.offsetbox.HPacker object at 0x0000024F006162E8> not implemented\n  warnings.warn(\"Legend element %s not implemented\" % child)\n<string>:4: FutureWarning: sort(columns=....) is deprecated, use sort_values(by=.....)\n<string>:12: FutureWarning: sort(columns=....) is deprecated, use sort_values(by=.....)\nWARNING: dot command 'dot' cannot be run (needed for graphviz output), check the graphviz_dot setting\nC:\\Users\\Julia\\bokeh\\bokeh\\core\\compat\\bokeh_renderer.py:246: UserWarning: Path drawing has performance issues, please use mpl PathCollection instead\n  warnings.warn(\"Path drawing has performance issues, please use mpl PathCollection instead\")\nwriting output... [100%] index\ngenerating indices... genindex py-modindex\nwriting additional pages... search\ncopying images... [100%] _images/icons/Help.png\ncopying static files... done\ncopying extra files... done\ndumping search index in English (code: en) ... done\ndumping object inventory... done\nbuild succeeded, 64 warnings.\nGenerating sitemap.txt in C:\\Users\\Julia\\bokeh\\sphinx\\_build\\html/sitemap.txt\n\nBuild finished. The HTML pages are in _build/html.\n\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>make serve\n\nStarting Bokeh plot server on port 5009...\nVisit http://localhost:5009/en/latest/index.html to see plots\n\nPress <ENTER> to exit...\nWARNING:tornado.access:404 GET /en/latest/version.txt (::1) 108.07ms\nWARNING:tornado.access:404 GET /en/latest/version.txt (::1) 2.00ms\nWARNING:tornado.access:404 GET /en/latest/version.txt (::1) 1.00ms\nWARNING:tornado.access:404 GET /en/latest/version.txt (::1) 4.00ms\nWARNING:tornado.access:404 GET /en/latest/version.txt (::1) 1.00ms\n\nAsked Server to shut down.\nServer shut down.\n\n(python3) C:\\Users\\Julia\\bokeh\\sphinx>\n\nThe issue tracker isn't the place for general support. For questions and\ntechnical assistance, come ask the [Bokeh mailing list](https://groups.google.com/a/continuum.io/forum/#!forum/bokeh) or join the chat on [Gitter](https://gitter.im/bokeh/bokeh).\n```\n"},{"labels":[null,"documentation",null],"text":"The initial reference page is (mostly) empty right now. I suggest adding some links to common sections such as bokeh.models.widgets.buttons, bokeh.plotting, and bokeh.models.glyphs along with a quick description of what each is. This way new Bokeh users have a shortcut to their navigations and the navigation column on the left that makes sense once you figure it out remains.\n\nIn theory this would be similar to what was done with the old User Guide page.\n"},{"labels":["documentation",null],"text":"The User Guide is becoming very long at this point with many extensive entries. It would be helpful if those entries were broken down into sub-entries similar to how bokeh.models in broken down in the Reference.\n\nFor example:\nAdding Interactions (23 pages) could be broken down into Linking Plots (3 pages), Adding Widgets (8 pages), and CustomJS Callbacks (12 pages)\n\nBreaking down the sections like this should (in theory) make it easier for new users to find what they are looking for and not be overwhelmed. It also gives them the illusion of faster progression when they finish a page.\n"},{"labels":[null,"documentation",null],"text":"The Gmaps example under http://bokeh.pydata.org/en/latest/docs/user_guide/geo.html is down due to Google's API update. A warning or key should be added unless it is felt the gmaps example should be removed.\n\n<img width=\"747\" alt=\"screen shot 2016-07-08 at 3 54 34 pm\" src=\"https://cloud.githubusercontent.com/assets/19802403/16701270/499d1a58-4524-11e6-8b6c-06effdf91fb8.png\">\n"},{"labels":[null,"documentation",null],"text":"There is a bug in example code in this [sphinx document](https://github.com/bokeh/bokeh/blob/09e7bc882bfaa3431593b356e0e0ae2daf52b551/sphinx/source/docs/user_guide/server.rst).\n\n``` python\np = figure()\nr1 = p.line([0, 4*pi], [-1, 1], color=\"firebrick\")\nr2 = p.line(x, y, color=\"navy\", line_width=4)\n\nsession = push_session(curdoc())\n\n@cosine(w=0.03)\ndef update(step):\n    r2.data_source.data[\"y\"] = y * step\n    r2.glyph.line_alpha = 1 - 0.8 * abs(step)\n\ncurdoc().add_periodic_callback(update, 50)\nsession.show() # open the document in a browser\nsession.loop_until_closed() # run forever\n```\n\nCall to the `session.show()` function should have figure `p` for argument. This example is correct in examples directory [here](https://github.com/bokeh/bokeh/blob/master/examples/plotting/server/line_animate.py).\n\nI find this problem important because it took me some time to discover and solve the issue. Because the user_guide is starting point for many new bokeh users (like me) there are probably many more users affected.\n\nI created fix (well, it was just a letter missing) and I would like to create PR connected to this issue, according to [guidelines for contributing](https://github.com/bokeh/bokeh/blob/master/.github/CONTRIBUTING.md).\n\nHere's commit containing the fix: [Atlantic777/bokeh/commit/1225e51d9bb6b1...](https://github.com/Atlantic777/bokeh/commit/1225e51d9bb6b1e86cd7d48eeafcc5657f6edf6c)\n\nCan you help me with merging this correction? Thanks!\n"},{"labels":[null,"documentation",null],"text":"There is no reference to the `toolbar_sticky` option on either this page: http://bokeh.pydata.org/en/latest/docs/releases/0.12.0.html, or this page: http://bokeh.pydata.org/en/latest/docs/user_guide/layout.html.\n"},{"labels":[null,"documentation",null],"text":"Styling the head of an Arrow annotation is not trivial. It seems there is a page missing from the documentation (for this file: https://github.com/bokeh/bokeh/blob/master/bokeh/models/arrow_heads.py for the type of the `end` attribute of the Arrow class here: http://bokeh.pydata.org/en/dev/docs/reference/models/annotations.html). \n\nFurthermore, the example in the user guide (http://bokeh.pydata.org/en/dev/docs/user_guide/plotting.html#arrows) could show an example of an arrow head with a different color (not just a different shape), for instance:\n`p.add_layout(Arrow(end=VeeHead(line_color='blue'), x_start=0.5, y_start=0.7, x_end=0, y_end=0, line_color='red'))`\n"},{"labels":[null,"documentation",null],"text":"I was looking for all available colors in bokeh today when I came across the docs [here](http://bokeh.pydata.org/en/latest/docs/user_guide/styling.html#specifying-colors), where the following tries to go to w3schools.com; however, it is broken:\n\nSpecifically, this is broken:\n   any of the [147 named CSS colors](http://www.w3schools.com/cssref/css_colornames.asp), e.g 'green', 'indigo'\n\nI found the correct link to w3schools.com - it looks like they changed the link on their side.\n\nhttp://www.w3schools.com/colors/colors_names.asp\n"},{"labels":["documentation",null,null],"text":"I'm not sure how to use bokeh.layouts.GridSpec. It needs, at the least, a complete docstring. I haven't gotten round to a user_guide page for layouts, but when that happens, we could also add a note there too.\n\nping @mattpap \n"},{"labels":[null,"documentation",null],"text":"The innate dependency on JavaScript means that attempting to build other formats will not yield good results. Suggest:\n- [x] removing other formats from the makefile\n- [x] adding a note to the developer guide stating that only HTML output is supported\n"},{"labels":[null,"documentation",null],"text":"#4343 introduced a few deprecations, but didn't update the working examples in the docs.\n\nI'm opening this issue only as a heads up as haven't seen it mentioned in the PR, nor in any other open issues.\n\nExamples e.g.: in `./sphinx/source/docs/user_guide/layout.rst` and its references.\n"},{"labels":[null,"documentation",null],"text":"Edit the developer guide's documentation section for contributors. Add specific commands for setting up a documentation dev environment.\n"},{"labels":[null,"documentation",null],"text":"The README can be updated to improve usability, clarity, and discoverability of documentation.\n\nIt would be helpful to make the heading for the Interactive Gallery link to the Gallery docs.\n\nAlso, providing a brief install using conda would be helpful in README.\n"},{"labels":[null,"documentation",null],"text":"- Document off-canvas annotations\n- Note that off-canvas legends require (x, y)\n- Document layout & responsiveness\n- Changes for use of embed with box responsive (you need to make sure the parent has a size)\n- Document modes and modes that are currently less-functional than others.\n"},{"labels":[null,"documentation",null],"text":"Missing:\n- add user guide documentation for Title and LabelSet annotations\n- update Label annotation user guide docs\n"},{"labels":[null,"documentation",null],"text":"```\nFor desired features, please provide:\n* Description of the desired feature\n```\n\nBoth data sources are great alternatives to `ColumnDataSource` and can tremendously reduce the size of the page downloaded by the client and shift the logic from JavaScript to Python, e.g. when serving the data using a REST API.\n"},{"labels":[null,"documentation",null],"text":"http://bokeh.pydata.org/en/0.11.1/docs/user_guide/plotting.html#adding-annotations\n\nThe source examples:\n- https://github.com/bokeh/bokeh/blob/master/sphinx/source/docs/user_guide/source_examples/plotting_span.py\n- https://github.com/bokeh/bokeh/blob/master/sphinx/source/docs/user_guide/source_examples/plotting_box_annotation.py\n\nboth use \n\n```\np.renderers.extend([daylight_savings_start, daylight_savings_end])\n```\n\nwhere as https://github.com/bokeh/bokeh/blob/master/sphinx/source/docs/user_guide/source_examples/plotting_label.py \n\nuses the plot api \n\n```\np.add_layout(labels)\np.add_layout(citation)\n```\n\nI think we should encourage the use of p.add_layout, and update the user guide accordingly.\n"},{"labels":[null,"documentation",null,null],"text":"Reference mailing list discussion: https://groups.google.com/a/continuum.io/forum/?pli=1#!topic/bokeh/ztY-4EQhtjw\n\nHad success with this configuration block:\n\n```\n    <VirtualHost *:8080>\n        ServerName localhost\n\n        CustomLog \"/Users/bryan/Sites/logs/access_log\" combined\n        ErrorLog \"/Users/bryan/Sites/logs/error_log\"\n\n        ProxyPreserveHost On\n        ProxyPass /sliders/ws ws://127.0.0.1:5100/sliders/ws\n        ProxyPassReverse /sliders/ws ws://127.0.0.1:5100/sliders/ws\n\n        ProxyPass /sliders http://127.0.0.1:5100/sliders/\n        ProxyPassReverse /sliders http://127.0.0.1:5100/sliders/\n\n\n        <Directory />\n            Require all granted\n            Options -Indexes\n        </Directory>\n\n        Alias /static /Users/bryan/work/bokeh/bokeh/server/static\n        <Directory /Users/bryan/work/bokeh/bokeh/server/static>\n            # directives to effect the static directory\n            Options +Indexes\n        </Directory>\n\n    </VirtualHost>\n```\n\nThis should be generalized to advice suitable for as many apache use-cases as possible. \n\nNeeds Apache > 2.4 and [mod_proxy_wstunnel](https://httpd.apache.org/docs/2.4/mod/mod_proxy_wstunnel.html) at a minimum and possibly `mod_proxy_html` as well (should be tested whether things work without it)\n"},{"labels":[null,null,"documentation",null],"text":"As suggested [here](https://github.com/bokeh/bokeh/pull/4239#issuecomment-215233233) the JS warning banner for old/dev docs could try to redirect to users the same specific page, in the latest doc. But in cases where the specific page no longer exists, it would be better to have users land on something better than a default 404 page\n\nProposed to create a better designed and more informative 404 page for the docs site at http://bokeh.pydata.org \n\nPossible features:\n- incorporate Bokeh logo\n- provide link to current docs main page\n- include the GCSE search box\n"},{"labels":[null,"documentation",null],"text":"In order to make easier for the users the creation of Chord charts, the basic documentation has been enhanced as seen in  #4226.\n\nThis should let everyone to make chord charts from `pandas.Dataframe` as well as squared `numpy.array`.\n\nAn example can be found too in the docs as well as in the `examples` directory at the root of the repository.\n"},{"labels":[null,"documentation",null],"text":"The developer docs don't contain information on how to run the screenshot tests.\n"},{"labels":[null,null,"documentation",null],"text":"The readme notes that the bokeh sample data is required, but that doesn't seem to include the `movies.db` required by the movies sample app\n"},{"labels":[null,null,"documentation",null],"text":"This is not mentioned anywhere prominently in the docs. It is important for using `bokeh.embed.components` and other embedding functions, and has been raised as a question on the mailing list several times, e.g. in [\"Bokeh widgets without bokeh server\"](https://groups.google.com/a/continuum.io/d/msg/bokeh/EesgatXU_2E/4-_G5KU2GwAJ)\n"},{"labels":[null,"documentation",null],"text":"In the Sphynx docs, the Makefile provides a `serve` subcommand, but the `make.bat` does not. Normally I'd just view the HTML file directly, but because some resources are referenced using a double-slashes-prefix (e.g. `//bokehplots.com/...`) the docs don't really work when viewed that way.\n"},{"labels":[null,"documentation",null,null],"text":"- [ ] provide examples that open in CodePen pens\n- [ ] give guidance for interacting with models as it applies to JS callbacks\n\ndev part\n- [ ] explain how to maintain (install) external typings\n"},{"labels":[null,null,"documentation",null],"text":"An example here from Django:\n\nhttps://docs.djangoproject.com/en/1.7/ref/templates/builtins/\n\nWould suggest something even taller / brighter. Text similar to:\n\n```\nThis page refers to a past release of Bokeh. For the latest released docs, navigate HERE\n```\n"},{"labels":[null,"documentation",null],"text":"_Original title: bokeh serve: entry point with `if __name__ = '__main__':`_\n\nI work with a standard python installation (not anaconda) on Windows 10, bokeh is installed with pip.\n\nThe standard way to start the bokeh server with 'bokeh serve' is not working:\nThe script 'serve' is not executed. The line \n\n``` python\n#!C:\\Python34\\python.exe\n```\n\nis not recognized. Windows asks, which app should be used to open the file...\n\nThe following modification of the file 'serve' worked for me:\n\n``` python\n#!C:\\Python34\\python.exe\nif __name__ = '__main__:\n    import sys\n    from bokeh.command.bootstrap import mainmain(sys.argv)_\n```\n\nOn windows the script can now be invoked with:\n\n``` python\npython -m bokeh serve\n```\n\nOn Linux the standard way and the way described above should both work (though I can not test).\n\nAdditonally the server can be started from any python script, it is no longer necessary to start the server manually from a terminal:\n\n``` python\nimport subprocess\nimport time    # optionally, might be useful to give the server time to initialize\nargs = ['python', '-m', 'bokeh', 'serve']\np = subprocess.Popen(args) \n\n# optional delay for x seconds to give the server time to initialize\ntime.sleep(1)\n```\n\nI suggest \n1. to change the file 'serve' and use 'if **name** ...' as shown above. \n2. to add the additional way to start the server with 'python -m bokeh serve' to the documentation.\n"},{"labels":[null,"documentation",null],"text":"On Docs side when selecting Preview/Save Widget od plot preview is hidden behind text (probably wrong z-index).\nLink:\nhttp://bokeh.pydata.org/en/latest/docs/user_guide/quickstart.html\n"},{"labels":[null,null,"documentation",null],"text":"In http://bokeh.pydata.org/en/latest/docs/dev_guide.html#bokehjs there is this text:\n\n```\nHopefully, you will find all the information you need in the following pages. \n```\n\nHowever, there is no additional pages after the text, so it just looks like the docs are blank.  Rather, the sidebar on the left contains the index, and it's not obvious that this is where people should look.  So, either we should rephrase the text to say \"the sidebar on the left\", or somehow we duplicate the index in the text body itself.\n"},{"labels":[null,"documentation",null],"text":"I was trying to run unit tests locally as I am working on a PR and I ran into several issues that could be avoided by some changes to the documentation.\n\nAfter some trial and error, I figured out I needed:\n- The dependencies mentioned here:  http://bokeh.pydata.org/en/latest/docs/dev_guide/setup.html#dependencies  In hindsight this was pretty obvious, but we should add a link to this section from the page on testing.  http://bokeh.pydata.org/en/latest/docs/dev_guide/testing.html\n- phantomjs - Fixed by `apt-get install phantomjs`\n- perceptiondiff - Fixed by `apt-get install perceptiondiff`\n- Download the sampledata.\n- A few python modules.\n  - ggplot\n  - flexx\n  - icalendar\n  - mock\n  - These should be added to the list of packages required for testing, or we should just say `pip install -r requirements.txt`.\n\nLet me know if there are better ways to detail these instructions.\n\nthanks,\nDennis\n"},{"labels":[null,"documentation",null],"text":"This was already discussed on the Bokeh mailing list.\n\nPer @bryevdv, insert new documentation at about the following location:\n\nhttps://github.com/bokeh/bokeh/blame/master/sphinx/source/docs/user_guide/server.rst#L496\n"},{"labels":[null,"documentation",null],"text":"http://bokeh.pydata.org/en/latest/docs/user_guide/plotting.html says \"There are lots of marker types available in Bokeh, you can see details and example plots for all of them by clicking on entries in the list below:\" but the entries in the list are not links. The first, asterisk, should probably link to http://bokeh.pydata.org/en/latest/docs/reference/plotting.html#bokeh.plotting.figure.Figure.asterisk .\n"},{"labels":[null,"documentation",null],"text":"Bryan suggested that I make a PR to add information about HoloViews's new Bokeh interface to the Bokeh website, so I've created this issue to reference from the PR. \n"},{"labels":[null,"documentation",null,null],"text":"Under the top-level directory there are three directories that I think need tidying up:\n- tests/compat\n- tests/glyphs\n- tests/notebook\n\nAs far as I can tell the files under `tests/compat` and `tests/notebook` aren't used anywhere.\n\nThe files under `tests/glyphs` are all referenced by `__example__` property in `bokeh/models/glyphs.py` e.g. https://github.com/bokeh/bokeh/blob/master/bokeh/models/glyphs.py#L27\n\nBut I can't seem them referenced elsewhere. As such, `tests` doesn't seem like the right directory for them.\n\nProposals:\n1) Delete [`tests/compat`](https://github.com/bokeh/bokeh/tree/master/tests/compat) and [`tests/notebook`](https://github.com/bokeh/bokeh/tree/master/tests/notebook)\n2a) Move [`tests/glyphs`](https://github.com/bokeh/bokeh/tree/master/tests/glyphs) to `bokeh/models/__examples__`; or\n2b) Move  [`tests/glyphs`](https://github.com/bokeh/bokeh/tree/master/tests/glyphs) to `bokeh/models/tests/examples`; or\n2c) Move  [`tests/glyphs`](https://github.com/bokeh/bokeh/tree/master/tests/glyphs) to `bokeh/models/<???>` <suggestions welcome> \n"},{"labels":[null,"documentation",null],"text":"The [documentation on colors in Bokeh 0.11](http://bokeh.pydata.org/en/latest/docs/user_guide/styling.html#specifying-colors) indicate that hex RGBA strings of the format `'#FFAACC99'` are supported by Bokeh, but that does not seem to be the case. In [the code](https://github.com/bokeh/bokeh/blob/0dda30815796fd2a33cefb4893111908d7d9a640/bokeh/core/properties.py#L1378) hex strings are only supported if they have length 6 and you get this error if you try to use an RGBA hex string:\n\n```\nValueError: expected an element of either Enum('aliceblue', 'antiquewhite', 'aqua', 'aquamarine', 'azure', 'beige', 'bisque', 'black', 'blanchedalmond', 'blue', 'blueviolet', 'brown', 'burlywood', 'cadetblue', 'chartreuse', 'chocolate', 'coral', 'cornflowerblue', 'cornsilk', 'crimson', 'cyan', 'darkblue', 'darkcyan', 'darkgoldenrod', 'darkgray', 'darkgreen', 'darkgrey', 'darkkhaki', 'darkmagenta', 'darkolivegreen', 'darkorange', 'darkorchid', 'darkred', 'darksalmon', 'darkseagreen', 'darkslateblue', 'darkslategray', 'darkslategrey', 'darkturquoise', 'darkviolet', 'deeppink', 'deepskyblue', 'dimgray', 'dimgrey', 'dodgerblue', 'firebrick', 'floralwhite', 'forestgreen', 'fuchsia', 'gainsboro', 'ghostwhite', 'gold', 'goldenrod', 'gray', 'green', 'greenyellow', 'grey', 'honeydew', 'hotpink', 'indianred', 'indigo', 'ivory', 'khaki', 'lavender', 'lavenderblush', 'lawngreen', 'lemonchiffon', 'lightblue', 'lightcoral', 'lightcyan', 'lightgoldenrodyellow', 'lightgray', 'lightgreen', 'lightgrey', 'lightpink', 'lightsalmon', 'lightseagreen', 'lightskyblue', 'lightslategray', 'lightslategrey', 'lightsteelblue', 'lightyellow', 'lime', 'limegreen', 'linen', 'magenta', 'maroon', 'mediumaquamarine', 'mediumblue', 'mediumorchid', 'mediumpurple', 'mediumseagreen', 'mediumslateblue', 'mediumspringgreen', 'mediumturquoise', 'mediumvioletred', 'midnightblue', 'mintcream', 'mistyrose', 'moccasin', 'navajowhite', 'navy', 'oldlace', 'olive', 'olivedrab', 'orange', 'orangered', 'orchid', 'palegoldenrod', 'palegreen', 'paleturquoise', 'palevioletred', 'papayawhip', 'peachpuff', 'peru', 'pink', 'plum', 'powderblue', 'purple', 'red', 'rosybrown', 'royalblue', 'saddlebrown', 'salmon', 'sandybrown', 'seagreen', 'seashell', 'sienna', 'silver', 'skyblue', 'slateblue', 'slategray', 'slategrey', 'snow', 'springgreen', 'steelblue', 'tan', 'teal', 'thistle', 'tomato', 'turquoise', 'violet', 'wheat', 'white', 'whitesmoke', 'yellow', 'yellowgreen'), Regex('^#[0-9a-fA-F]{6}$'), Tuple(Byte(Int, 0, 255), Byte(Int, 0, 255), Byte(Int, 0, 255)) or Tuple(Byte(Int, 0, 255), Byte(Int, 0, 255), Byte(Int, 0, 255), Percent), got '#02FA9B89'\n```\n"},{"labels":[null,"documentation",null],"text":"The README.md in examples/app/weather references a `weather.py` file that doesn't exist, so I doubt it runs as explained.\n"},{"labels":[null,"documentation",null],"text":"Just ran into a couple of examples that had requirements that I didn't have installed and there weren't notes about the requirements in or near the file:\n1) xlwings & Microsoft Excel - for interactive excel \n2) xlrd - excel.ipynb\n"},{"labels":[null,"documentation",null],"text":"Comb through quickstart, fix any small errors or broken links, optimize for clarity.\n"},{"labels":[null,"documentation",null],"text":"Since we refactored layouts out of models/widgets/layouts.py to models/layouts.py, we didn't update the module location in the sphinx docs.\n"},{"labels":[null,"documentation",null],"text":"This server plot embedding example is out of date: http://bokeh.pydata.org/en/latest/docs/user_guide/embed.html#server-data\n"},{"labels":[null,"documentation",null],"text":"From sphinx/README.txt:\n\n> In `conf.py` the links that appear in the docs nav appear. On a new release, the \n> releases link should be changed to the latest release notes (we should find a way to automate this)\n\nFrom @bryevdv: There's a script that updates the versions to the new version for release, I'd suggest it could also note the previous version and insert it in conf.py where appropriate.\n"},{"labels":[null,"documentation",null],"text":"A blurb should be added to the \"Adding Widgets\" section of the docs (http://bokeh.pydata.org/en/latest/docs/user_guide/interaction.html#adding-widgets) that points people to the Server Guide part on applications, so they know what it looks like to actually write a non-JS callback function for various widgets.\n\nhttp://bokeh.pydata.org/en/latest/docs/user_guide/server.html#userguide-server-applications\n"},{"labels":[null,"documentation",null],"text":"I am developing a responsive web application for desktop and mobile. The responsive option helps to adjust the figure width according to the device but I want to control also the aspect ratio since the figure height tend to be too large.\n\nApparently the page_height/width parameters could be used for this purpose but it is not so clear.\n"},{"labels":[null,"documentation",null],"text":"Notebooks in the main repo examples dir should:\n- illustrate something in particular about Bokeh+Notebook, or\n- be discursive / tutorial-like \n\nNotebooks that simply duplicate existing script examples in a notebook are a burden to testing and maintenance and should be removed. \n"},{"labels":[null,"documentation",null],"text":"Hi I encountered the following issue while migrating from v0.10 to v0.11\n\nIn v0.10:\none could size a `Chart` or a `figure` with the parameters `width` and `height`.\n\nIn v0.11:\na `figure` will still size according to `width` and `height` and also according to `plot_width` and `plot_height`)\na Chart won't size anymore according to those, even though the documentation still mentions these attributes (http://bokeh.pydata.org/en/latest/docs/reference/charts.html#core-classes). It will size according to `plot_width` and `plot_height` (as mentioned here: http://bokeh.pydata.org/en/latest/docs/user_guide/styling.html#dimensions)\n\nQuestions:\n- Is it a doc issue? or height/width in Charts still serve a (different?) role\n- Should this be added to the migration guide?\n- Corollary question: what is the purpose of having two different set of parameters for what seems to be the same purpose?\n"},{"labels":[null,"documentation",null],"text":"http://bokeh.pydata.org/en/latest/docs/user_guide/interaction.html#customjs-with-a-python-function\n\nInitially we thought this wasn't building because of python2 building the docs, but when trying to build locally I am not able to get it to build either.\n\nI tried tweaking a couple of things which you can see in [this branch](https://github.com/bokeh/bokeh/compare/scratch_fix_flexx_example), but they didn't seem to improve.\n\nping @almarklein \n"},{"labels":[null,"documentation",null],"text":"Formatting of the pop-up tooltips provided by the hovertool needs better documentation.  For example, I found that (@y){int} causes the output to be displayed as an integer, but this is not addressed in the official documentation.  \n\nIt would also be nice to provide an complete listing of the known fields that can be called using '$' operator.\n\nThanks! \n"},{"labels":[null,"documentation",null],"text":"Move out the implementation machinery to the parts that some users might care about for UDF models is self-contained. \n"},{"labels":[null,"documentation",null],"text":"While trying to learn to use Bokeh in Python, I got confused by the charts API docs because some of the examples there produce errors and the function signatures don't match the docs. I'll take [bokeh.charts.Line](http://bokeh.pydata.org/en/latest/docs/reference/charts.html#bokeh.charts.Line) as an example:\n1. The example code produces an error in the documentation, which I also receive when testing it on my laptop. Wrapping the NumPy array in a Pandas DataFrame and specifying y='column name' works.\n2. The documentation describes a parameter `values`, but passing `values=...` to bokeh.charts.Line results in an exception:\n   \n   AttributeError: unexpected attribute 'values' to ChartOptions, possible attributes are filename,\n   height, id, legend, name, notebook, responsive, server, session, tags, title, title_text_font_size,\n   tools, width, xgrid, xlabel, xscale, ygrid, ylabel or yscale\n3. I never did get Line to work with NumPy arrays. Are they supposed to?\n"},{"labels":[null,"documentation",null],"text":"Docs site has had an overhaul #3389 (also #3403 and #3402). There will be some ToDos to get everyone happy with the new version. Lets collect them here:\n\nFunctional important\n- [x] Search is broken\n- [x] collapsible code block for the json prototypes is busted (e.g. http://bokeh.pydata.org/en/test/docs/reference/models/glyphs.html) - should be collapsed by default and then expand on click\n- [x] decide what to do with blank pages: releases, dev_guide\n\nFunctional could wait\n- [x] top left bokeh link should go back to bokehplots.com\n- [x] when bokehplots.com is finalized, copy over the new footer\n\nFunctional - needs clarification:\n- [ ] I think the refguide needs to be more expanded navigation too\n\nStyling important\n- [x] nested uls not rendering correctly - http://bokeh.pydata.org/en/test/docs/user_guide/tools.html\n- [x] there are several horizontal scrollbar over the site (where it should not be)\n- [x] narrower/lighter color bar for note/warning, less heavy weight in general / the Note is also awfully heavy. Maybe a narrower color bar and lighter bg grey (or none)\n- [x] Return Type should not wrap\n- [x] increase visibility of h2\n  Styling could wait (already a problem on bokeh.pydata.org)\n- [x] remove background text color for inline code /  inline \"code\" is way too heavy, I'm not sure I like a bg fill for the text at all (no background - plum foreground)\n- [x] method/attr/function descriptions indented or remarked \n- [x] not shown here, but I think in a page full of functions/methods, it is really hard to tell where one stops and the next starts. I'd almost like the entire description indented a bit underneath, e.g. \"autoload_server\"\n- [x] At a certain heading level, things begin to be right aligned, which to me is less readable.\n\nSmall tweaks:\n- [x] bad bullets on dev_guide/notes\n- [x] bad ref in dev_guide/bindings\n- [x] over formatting in dev_guide/bindings\n- [x] reference/models/tiles the urls look wierd and one is misspelt\n- [x ] reference/sphinxext.html bad bullets\n- [x] tweak envars\n- [x] remove hr in sphinxext\n\nMissing content problems:\n- [ ] \"to be addeds\" on dev_guide/notes\n- [ ] empty pages (or nearly empty):\n  - [ ] http://bokeh.pydata.org/en/dev/docs/user_guide/server.html\n  - [ ] http://bokeh.pydata.org/en/dev/docs/reference/client.html\n  - [ ] http://bokeh.pydata.org/en/dev/docs/reference/util.html \n  - [ ] http://bokeh.pydata.org/en/dev/docs/reference/tile_providers.html\n  - [ ] http://bokeh.pydata.org/en/dev/docs/reference/themes.html\n  - [ ] http://bokeh.pydata.org/en/dev/docs/reference/settings.html\n  - [ ] http://bokeh.pydata.org/en/dev/docs/reference/server.html\n  - [ ] http://bokeh.pydata.org/en/dev/docs/reference/mpl.html\n- [x] blank home pages (my suggestion is that the top link actually takes you to the first page of content - except for reference which I think should have a cover page explaining what the reference guide is for) :\n  - [x] docs/releases.html\n  - [x] docs/dev_guide.html\n  - [x] docs/reference.html\n- [ ] /user_guide/cli.html - remove mention of things not yet implemented!\n\nMisc:\n- [x] gallery has empty left menu\n- [x] gaps on home page images\n- [x] check return_type on bokeh docstring vs bokeh.charts.Area return_type\n- [ ] left collapse docs menu\n- [x] migration note and docstring about @mattpap's changes to resources\n- [x] user_guide/charts.html bad bullets\n\nBroken plots:\n- [x] user_guide/geo.html broken\n- [x] user_guide/interaction.html - CustomJS with a Python function example is broken - needs to be built with python 3\n\nQuestions:\n- [x] what do we want the drop down options to be\n- [ ] what do we want the search facets to be (can be changed after final deploy)\n- [ ] reference/core just has a bunch of stuff: \"Enumeration.....\" is that right?\n- [x] references/models/map_plots MapOptions missing JSON prototype\n\nCan wait:\n- [ ] search bar on search page to match\n- [ ] display searched for text in search bar\n- [ ] use responsive plots\n- [ ] userguide/tutorials is undewhelming (and wierd after learning more)\n\nOther:\n- [x] add a site verification so we can submit requests for indexing on release - otherwise we're waiting for google to catch up\n- [ ] can we have the first tab just be a search of latest? (we may just have to make our own tabs and multiple search engines for this)\n- [x] note I've taken /en/dev/ out of the search results\n- [x] migration note and docstring about @mattpap's changes to resources\n"},{"labels":[null,"documentation",null],"text":"I have a list of Pandas dataframes stored in dfs and I am plotting a grid (three columns) of histograms: \n\n```\nhists = [Histogram(dfs[colname], \n           title=colname, \n           bins=20, \n          ) for colname in dfs.columns]\nfor h in hists:\n    h.x_range = Range1d(-20, 20)\nncol = 3\nhists = [hists[i:i+ncol] for i in range(0,len(hists),ncol)]\np = gridplot(hists)\n```\n\nHowever, I've noticed that while the number of bins (20) are the same in all of the plots, the width and location of each bin is inconsistent from plot to plot. I believe this is because each plot has a different x_range and the bins are generated using some optimized method. Instead, I'd like to be able to specify the width and location of each bin, maybe in the form of a list of tuples or something:\n\nbins = [(-20, -15), (-15, -10), (-10, -5), (-5, 0), (0, 5), (5, 10), (10, 15), (15, 20)]  \n\nAlso, notice that I've set my x_range to (-20, 20) so I know my min/max are from all of the plots.\n"},{"labels":[null,"documentation",null],"text":"The new bokehplots.com has been designed by @SaraSchnadt, the documentation should:\n- share the header and footer to make it seem like a seamless experience\n- have a new top nav to reflect the tightened up doc structure (#3367)\n- share fonts, and look and feel, with bokehplots.com\n"},{"labels":[null,"documentation",null],"text":"For the new site, some of the static content that currently lives in the docs will be moving out into the new bokehplots.com site. This gives us the opportunity to clean up the top level of the docs which should make navigating to the right content easier.\n\nThe new top-level will have 6 items:\n- Home\n- User Guide \n- Gallery\n- Developer Guide\n- Reference Guide\n- Release notes\n\nPages that will be moved to the new non-versioned site:\n- FAQ\n- Contributing\n- Technical Vision\n- Roadmap\n\nQuickstart & Tutorials will move under User Guide\n\nInstallation will be split into two parts and moved into User Guide and Developer Guide, so that the installation information is focused depending on what you're trying to do.\n"},{"labels":[null,"documentation",null],"text":"In https://github.com/bokeh/bokeh/blob/master/sphinx/source/docs/user_guide/tools.rst#specifying-tools, the text states that: \n\n```\n\"To use shortcut names but also add tools with properties, one can also call the add_tools method:\"\n```\n\nThis is misleading, however, because `add_tools()` requires `Tool` instances, and does not accept a shorthand string.\n"},{"labels":[null,"documentation",null],"text":"At the top of the Figure class documentation it would be helpful to have a list of the methods supported by Figure. Currently a user has to scroll down the list to see all the methods. A simple find on this string \"method\" does not work. Ideally the list of methods would hyperlink to the corresponding entry farther down the page.\n"},{"labels":[null,"documentation",null],"text":"I was trying Bokeh for the first time and found a few typos when reading through the documentation. I did a second pass through the code and will submit a PR for all typos.\n"},{"labels":[null,"documentation",null],"text":"For example, the first search result here: https://www.google.com/search?q=bokeh+model currently points to http://bokeh.pydata.org/en/0.9.3/docs/reference/models.html instead of the latest version of the documentation.\n\nIf we inserted a canonical links to http://bokeh.pydata.org/en/latest/docs/reference/models.html in all versions of the documentation, Google would point to http://bokeh.pydata.org/en/latest/docs/reference/models.html whenever it would normally return a reference to the specific version of the documentation.  \n\nThis is extremely helpful if our URL structure is not changing but the interfaces/names of our functions/variables are.\n"},{"labels":[null,"documentation",null],"text":"I’m working off examples and I found a typo in the docs on this page: http://bokeh.pydata.org/en/0.10.0/docs/user_guide/embed.html#autoloading\n\n```\nfrom bokeh.plotting import figure, push\nfrom bokeh.embed import autoload_server\nfrom bokeh.session import Session\nfrom bokeh.document import Document\n\n# alternative to these lines, bokeh.io.output_server(...)\ndocument = Document()\nsession = Session()\nsession.use_doc('population_reveal')\nsession.load_document(document)\n\nplot = figure()\nplot.circle([1,2], [3,4])\n\ndocument.add(push)\npush(session, document)\n\nscript = autoload_server(plot, session)\n```\n\nThis code breaks because `document.add(push)` should instead be `document.add(plot)`\n"},{"labels":[null,"documentation",null],"text":"Here is my error [stacktrace](https://gist.github.com/stroykova/2905ca634b13fc494ba5)\n\nDocs [example](http://bokeh.pydata.org/en/0.10.0/docs/reference/charts.html#bokeh.charts.Bar) also has error.\n\nError\nUnable to generate Bokeh plot at /home/travis/build/bokeh/bokeh/sphinx/source/docs/reference/charts.rst:31:\n\nSeen error when installed 0.10.0 after 0.9.0, where it was fine.\n"},{"labels":[null,"documentation",null],"text":"Annotations are useful whatever API level you're using, I think they should have their own page instead of being under plotting: http://bokeh.pydata.org/en/dev/docs/user_guide/plotting.html#adding-annotations\n"},{"labels":[null,"documentation",null],"text":"The table of contents on the left on the Bokeh website user guide (for example here: http://bokeh.pydata.org/en/0.10.0/docs/user_guide/styling.html ) cannot be scrolled independently of content.  It only scrolls at the bottom, together with content.  So when the table of contents is larger than browser height it is not possible to navigate to headers at the bottom part of the table of contents.\n![toc-scrolling-trouble](https://cloud.githubusercontent.com/assets/3921196/10968204/fbff6006-83bf-11e5-8b9f-b37caba7b348.png)\n"},{"labels":[null,"documentation",null],"text":"futures (`conda install futures` or `pip install futures`) is needed by the new bokeh server, but isn't caught by `devdeps.py` and also not listed under the install dependencies in the docs (http://bokeh.pydata.org/en/latest/docs/installation.html#install-dependencies)\n\nNot sure where else people might look for the reference.\n"},{"labels":[null,"documentation",null],"text":"Hi,\nin the documentation,  file_html(..) is somehow wrong: it says \"variables to be used in the Jinja2 template. If used, the following variable names will be overwritten: title, js_resources, css_resources, plot_script, plot_div\". See: http://bokeh.pydata.org/en/0.10.0/docs/reference/resources_embedding.html\n\nI think _js_resources_ must be _bokeh_css_ and _css_resources_ must be _bokeh_js_, according to https://github.com/bokeh/bokeh/blob/master/bokeh/embed.py. Otherwise it won't work for me.\n\nThe parameters js_resources=None, css_resources=None are not explained in detail, only named in the method's signature.\n"},{"labels":[null,"documentation",null,null],"text":"Currently `make html` output is a mess, which hides new issues in the docs. Additionally, we either have to pay more attention to this kind of errors or make ci tests fail if `make html` failed.\n"},{"labels":[null,"documentation",null],"text":"If you'd like to create a figure with a non-default axis location (like a y axis on the right instead of the left), the location needs to be set when the axis is created.  \n\nSituations where this works:\n- When you create the figure\n- When you create a second axis for the figure\n\nIf you try to modify `plot.yaxis.location` or `plot.xaxis.location` after the figure/axis has been created, this is \"too late\".  This needs to be somewhere in the documentation, maybe in a tips and tricks section or gallery for an axis on the right example?\n"},{"labels":[null,"documentation",null],"text":"Opened issue in sphinx, [this issue](https://bitbucket.org/birkenfeld/sphinx-contrib/issues/82/napoleon-return-type-containing-colons-is) appears to be fixed only for numpy style. Will need to make sure this is fixed when sphinx is updated. Meta.yaml has >1.3.1 so it should happen automatically.\n\nDepends on sphinx-doc/sphinx/issues/2085\n\nSee screenshot below. Issue exists in the returns portion of the docstring:\n![image](https://cloud.githubusercontent.com/assets/452052/10461526/59055784-719f-11e5-9dde-110d1a2a3b4e.png)\n"},{"labels":[null,"documentation",null],"text":"- [x] ~~~The wording of LICENSE.txt should be improved to make it unambiguous that normal, expected use does not constitute source redistribution.~~~\n- [x] LICENSE.txt file should be included within the installed python lib of installed`conda` packages and `sdist` tarballs. \n- [x] The text of the LICENSE.txt should be embedded directly into BokehJS. \n- [x] Suggest a `bokeh.license()` function to print the text of the license in the console. \n- [x] When moving from `grunt` to `gulp` the inclusion of license headers in minified BokehJS was lost. This must be restored and maintained under test (suggest grep for one of the known headers as sufficient)\n"},{"labels":[null,"documentation",null],"text":"On the developer guide page at bokeh.pydata.org, the list of dependencies for testing is out of date (doesn't mention pytest)\n\nhttp://bokeh.pydata.org/en/latest/docs/dev_guide/building.html#dependencies\n"},{"labels":[null,"documentation",null],"text":"On this page\n\nhttp://bokeh.pydata.org/en/latest/docs/user_guide/embed.html\n\nThe example below can be seen:\n\n<img width=\"892\" alt=\"screen shot 2015-09-10 at 10 39 07 am\" src=\"https://cloud.githubusercontent.com/assets/1078448/9792899/431986f4-57a8-11e5-9578-e422105b9d67.png\">\n\nThe `<script>` tags need required closing `</script>` tags, or else the script load does not work. \n"},{"labels":[null,"documentation",null],"text":"Hi,\n\nI'm new to bokeh and tried to copy paste example with slider widget from bokeh webpage to Jupyter notebook and it was not working. The code on webpage tries to import CustomJS module but such name could not be imported:\n![image](https://cloud.githubusercontent.com/assets/9870222/9773118/c4994ace-5740-11e5-8641-a915837965d4.png)\n\nLuckily on this nbviewer page http://nbviewer.ipython.org/github/ContinuumIO/bokeh-notebooks/blob/master/tutorial/06%20-%20interactions.ipynb it is corrected and instead of importing CustomJS, it imports Callback. Then all is working fine.\n![image](https://cloud.githubusercontent.com/assets/9870222/9773178/217c9cd2-5741-11e5-9279-d0bc4c259e47.png)\n\nCan this be updated on bokeh webpage http://bokeh.pydata.org/en/latest/docs/user_guide/interaction.html#cutomjs-for-widgets ? Also there is a typo instead of CustomJS it says CutomJS.\n"},{"labels":[null,"documentation",null],"text":"My lab group has recently utilized Bokeh for building plots for a recent publication. We wish to cite it. How do you recommend we cite Bokeh?\n"},{"labels":["documentation",null],"text":"Currently one has to find grid plotting in the documentation, i think it would be nice to have a fast findable gallery example.\n"},{"labels":[null,"documentation",null],"text":"If you make the mistake of not closing a `<script>` tag preceding the bokeh embed, then the plots will not draw.  **This is NOT a bug**, but a helpful insight for the `FAQ` and `embed docs` for those you make this mistake.\n"},{"labels":[null,"documentation",null,null],"text":"Even if we don't record migration guide on the go (which we really should), we should at least go through `git log -p examples/{glyphs,plotting,...}` and document all relevant changes. This should be made into a well established procedure for further releases.\n"},{"labels":[null,"documentation",null],"text":"I believe in [_sphinx/source/conf.py_](https://github.com/bokeh/bokeh/blob/master/sphinx/source/conf.py#L34), `'sphinx.ext.napoleon'` should be `'sphinxcontrib.napoleon'` as per the [docs](http://bokeh.pydata.org/en/latest/docs/dev_guide/documentation.html#requirements)\n"},{"labels":[null,"documentation",null],"text":"ref: #2625 \n\nWould be good to activate image diff testing for all the source examples for the user's guide, and potentially enable overall test pass/failure for this subset as well. \n"},{"labels":[null,"documentation",null],"text":"I think that bokeh doesn't properly support lists of colors at the moment.\n\n```\nfrom bokeh.plotting import figure, show, output_file\n\noutput_file(\"broken.html\")\nxs = [1,2,3]\nys = [1,2,3]\ncol = [(255, 0, 0), (0, 255, 0), (0, 0, 255)]\n\np = figure(title = \"Broken\")\np.circle(xs, ys, radius=.25, color=col)\nshow(p)\n```\n\nWhen I run this code, I get 3 circles with no color. The documentation seems to suggest that colors can be passed in this way.\n\nbokeh.**version** is 0.9.2\n"},{"labels":[null,"documentation",null],"text":"This should include:\n- [ ] formatting options (just copy or link documentation from `NumeralTickFormatter`)\n- [ ] ability to reference complex field names using curly brackets, e.g. `@{My Field}`\n- [ ] support for HTML templating\n\nPerhaps formatting options should be moved to common location and just referenced from all other locations (there are at least three: tick formatter, hover tool and data table).\n"},{"labels":[null,"documentation",null],"text":"The ColumnDataSource from_df method is described in the docs as a class method, but it doesn't return a ColumnDataSource class but a dict \"suitable for creating a ColumnDataSource\". We should clarify the docs to express that it's a static method or actually have it return a class instance.\n"},{"labels":[null,"documentation",null],"text":"Docs here:\n\nhttp://bokeh.pydata.org/en/latest/docs/user_guide/embed.html#server-data\n\nmissing a call to `push()` at a minimum. Should probably provide more of a complete example akin to \n\nhttps://github.com/bokeh/bokeh/blob/master/examples/embed/animated.py\n"},{"labels":[null,"documentation",null,null],"text":"When I create a bunch of documents and go to http://localhost:5006/ , I am supposed to be able to click on a document to display the associated plots.  The method for doing so involves using bootstrap to expand the appropriate div.  However, when I click on the document, the plot loads but the enclosing div remains collapsed so it is invisible (using Chrome on Ubuntu).\n\nThis appears to have stopped working with a173f6aa38daab9c08545495a05ce732a0f2e78c, which factored bootstrap/jquery out of the header.  Reverting that change fixes the issue for me.\n"},{"labels":[null,"documentation",null],"text":"On the Learning More page ( _http://bokeh.pydata.org/en/latest/docs/user_guide/info.html_ ), scrolling down with lock the sidebar in a strange position.  At this point, scrolling is no longer possible.\n\n<img width=\"1055\" alt=\"screen shot 2015-07-13 at 12 07 08 pm\" src=\"https://cloud.githubusercontent.com/assets/1417520/8655633/187f29cc-2958-11e5-9311-1f3a9bc3f603.png\">\n"},{"labels":[null,"documentation",null],"text":"On the _/user_guide/interaction.html_ page of the Bokeh docs, the dropdown button example is hidden behind a code block.\n\n<img width=\"388\" alt=\"screen shot 2015-07-13 at 11 46 18 am\" src=\"https://cloud.githubusercontent.com/assets/1417520/8655237/7b78ecbe-2955-11e5-95b9-88b93a4be55a.png\">\n"},{"labels":[null,"documentation",null],"text":"Hovertool docs say:\n\n> Warning\n> Point hit testing is not currently available on all glyphs. Hover tool currently does not work with line or image type glyphs.\n\nI believe that line hover does now work, so this needs updating.\n"},{"labels":[null,"documentation",null],"text":"I am referring to http://bokeh.pydata.org/en/latest/docs/tutorials/basic.html\n\n``` python\np1 = figure(plot_width=300, plot_height=300)\np1.line(x1, y1, size=12, color=\"red\", alpha=0.5)\n\np2 = figure(plot_width=300, plot_height=300)\np2.line(x2, y2, size=12, color=\"blue\", line_dash=[2, 4])\n\np3 = figure(plot_width=300, plot_height=300)\np3.line(x3, y3, size=12, line_color=\"orange\", line_width=3)\n```\n\nHowever when I try and run it I receive an attribute error.\n\nC:\\Users\\sayth\\Repos\\Bokeh>python lines.py\nTraceback (most recent call last):\n  File \"lines.py\", line 24, in <module>\n    p1.line(x1, y1, size=12, color=\"red\", alpha=0.5)\n  File \"C:\\Users\\sayth\\Miniconda3\\lib\\site-packages\\bokeh_glyph_functions.py\", line 37, in func\n    glyph = _make_glyph(glyphclass, kwargs, glyph_ca)\n  File \"C:\\Users\\sayth\\Miniconda3\\lib\\site-packages\\bokeh\\plotting_helpers.py\", line 140, in _make_glyph\n    return glyphclass(**kws)\n  File \"C:\\Users\\sayth\\Miniconda3\\lib\\site-packages\\bokeh\\plot_object.py\", line 90, in __init__\n    super(PlotObject, self).**init**(**kwargs)\n  File \"C:\\Users\\sayth\\Miniconda3\\lib\\site-packages\\bokeh\\properties.py\", line 357, in **init**\n    setattr(self, name, value)\n  File \"C:\\Users\\sayth\\Miniconda3\\lib\\site-packages\\bokeh\\properties.py\", line 371, in **setattr**\n    (name, self.**class**.**name**, text, nice_join(matches)))\nAttributeError: unexpected attribute 'size' to Line, possible attributes are line_alpha, line_cap, line_color, line_dash, line_dash_offset, line_join, line_width, name, session, tags, visible, x or y\n\nHas there been an update since the tutorials have been put together?\n"},{"labels":[null,"documentation",null],"text":"Was reading through the quickstart page of the docs this morning and ran into an Internal Server Error right below the \"Bokeh Plot Server\" bit.  Here is a screenshot. Is there any other information that I can provide that would be helpful?\n\n![screenshot from 2015-07-09 12 25 50](https://cloud.githubusercontent.com/assets/6223243/8602121/11c12e5c-2636-11e5-9908-e7b89996c9fd.png)\n"},{"labels":[null,"documentation",null],"text":"I noticed myself struggling through the same issue when learning the `matplotlib` API - I simply couldn't map object name to figure element drawn, and didn't have a clear idea on what each object's attributes were either, and whether they are modifiable or not.\n\nWould it help to have some example illustrations with code that helps us unify this knowledge? I am thinking a simple line chart example, but now with the object name for the legend, and the attributes that are modifiable, drawn out clearly, something like that. I am happy to put one together as an illustrative example, if I could also get commitment on help from the devs on whether I've got the API right or wrong.\n"},{"labels":[null,"documentation",null],"text":"Was looking back through the examples and found a few that were broken.\n- [x] Shows traceback ( http://bokeh.pydata.org/en/latest/docs/tutorials/solutions/gallery/lines.html )\n- [x] No data appearing ( http://bokeh.pydata.org/en/latest/docs/tutorials/solutions/gallery/style.html )\n- [x]  Other Interfaces in the user guide ( http://bokeh.pydata.org/en/latest/docs/user_guide/concepts.html#other-interfaces )\n"},{"labels":[null,"documentation",null],"text":"Steps to reproduce:\n- Create an IPython notebook and display a plot with output_notebook()\n- Rerun all cells in the notebook\n\nNow the call to output_notebook will display: “Warning: BokehJS previously loaded” with a red background spanning the entire page. This warning is also visible in exported notebooks.\n\nCalling output_notebook should be idempotent in notebooks. The message “BokehJS successfully loaded.” should also be removed as it adds no useful information (that is what output_notebook does).\n"},{"labels":[null,"documentation",null],"text":"Callback triggers everywhere you click on the canvas.\n\nSee [demo here](http://nbviewer.ipython.org/gist/colinfang/aa7b6f69784fa1df623d)\n\nLooking at code https://github.com/bokeh/bokeh/blob/master/bokehjs/src/coffee/tool/gestures/tap_tool.coffee#L26, it seems as long as there is a click, the registered renderers would trigger the callback, NO MATTER WHERE the click is.\n\nThis behaviour is a bit counter-intuitive. Either we need a bit more documentation, or we change the behaviour that only a click on the registed glyph itself would trigger a callback.\n"},{"labels":[null,"documentation",null],"text":"Was with @brevdev working on a plot and had a notion that the TextInput callback happened onchange (i.e. everytime you enter a character) actually it works when you press enter or leave a cell.\n\nWhere should we put this kind of documentation? It's not going to be auto-generated.\n"},{"labels":[null,"documentation",null],"text":"There are two notebooks examples in that use the glyphs interface:\nhttps://github.com/bokeh/bokeh/tree/master/examples/glyphs\n\nIn those, it seems that you need the following to output to the notebook:\n\n``` python\nfrom bokeh.util.notebook import load_notebook\nload_notebook()\n\nfrom bokeh.util.notebook import publish_display_data\nfrom bokeh.embed import notebook_div\ndata = {'text/html': notebook_div(plot)}\npublish_display_data(data)\n\n# or\n\nfrom IPython.core.display import HTML\nfrom bokeh.embed import notebook_div\nHTML(notebook_div(plot))\n```\n\nThe docs http://bokeh.pydata.org/en/latest/docs/user_guide/embed.html#ipython-notebook mention the `notebook_div()`, but not the other bokeh.utils that are required to render the plot properly in the notebook.\n"},{"labels":[null,"documentation",null],"text":"Adding text [1](http://bokeh.pydata.org/en/latest/docs/reference/bokehjs.html#text) to a plot is an important functionality and it is hard to find it in the references. Google search for me was also futile. It can help beginners if it is added to the user guide.\n"},{"labels":[null,null,"documentation",null],"text":"Chromium version: Version 43.0.2357.81 Ubuntu 15.04 (64-bit)\nChrome version: Version 43.0.2357.125 (64-bit)\n\nJSconsole: Nothing weird\nBokeh version: 0.9.0\n\nVideo of the behavior: https://www.flowdock.com/app/continuum/bokeh/threads/KCV-YFso9Pcy7KQju9dEmRYJ5VA\n\nOnly pan a wheel zoom works... any or the other does not seems to be selected...\n\nI guess the first step is somebody else to try it with the same browser versions...\n\n@bryevdv @birdsarah @fpliger \n"},{"labels":[null,"documentation",null],"text":"Hi,\n\nIt would be great it the mailing list would be mirrored on Gmane as the google interface is not so great, and probably can't be subscribed via NNTP (I don't know how at least).\n\nIt's best if an administrator who makes the request, I guess.  \n\nThe link to register is: http://gmane.org/subscribe.php\nMailing list software should be set to google.  The gmane address should be something like \n`gmane.comp.python.bokeh`, I guess.\n\nThanks,\nRasmus\n"},{"labels":[null,"documentation",null,null],"text":"The animated line and animated glyph (server examples) in the gallery are static (not animating). I assume it's related to a problem with the bokeh server that updates the plots.\n\nanimated line:\nhttp://bokeh.pydata.org/en/latest/docs/server_gallery/aw_animate.html\n\nanimated glyph:\nhttp://bokeh.pydata.org/en/latest/docs/server_gallery/aw_animate.html\n"},{"labels":[null,"documentation",null],"text":"The categorical heatmap gallery example at \n\nhttp://bokeh.pydata.org/en/latest/docs/gallery/cat_heatmap_chart.html\n\nis broken and gives the error: \n\nUnable to generate Bokeh plot at cat_heatmap_chart.rst:12:\n[Errno 2] No such file or directory: ‘/Users/bryan/work/bokeh/examples/charts/cat_heatmap.py’\n\nBuilding the sphinx docs locally, I get the same error and see that the correct path for the cat_heatmap.py should be:\n\n.../bokeh/examples/charts/file/cat_heatmap.py’\n"},{"labels":[null,"documentation",null],"text":"We have tight quotas on our home directory to make sure that we keep regulated data in regulated partitions. Therefore, sampledata downloading to a hidden directory off of a home directory is sneaky and hard to troubleshoot when the data downloads fail. Perhaps installing data to a location relative to the conda environment or virtualenv would solve the problem\n"},{"labels":[null,null,"documentation",null],"text":"#1107 installation and instructions work ok on unix and not windows or mac. Should be reviewed and updated\n"},{"labels":[null,null,"documentation",null],"text":"There is currently no way to style the box or poly overlays that various selection tools use. \n"},{"labels":[null,"documentation",null],"text":"In **Safari**, on any page of the docs that requires scrolling down, the sidebartoc will overlap text (and sit behind images and code boxes) if you decrease the font size at all.\n\n![sidebartoc](https://cloud.githubusercontent.com/assets/1417520/7279903/dc37be6a-e8e4-11e4-94d5-fa3414d902f4.png)\n\nThis happens even when you maximize the browser window.\n"},{"labels":[null,"documentation",null],"text":"At least on my browser (Firefox 37.0.1) some of the images in the docs are enormous and obscure the other content (such as menus) on the page. e.g. http://bokeh.pydata.org/en/latest/docs/user_guide/examples.html#applets\n\n![screen shot 2015-04-14 at 11 44 11](https://cloud.githubusercontent.com/assets/371774/7140829/9c6edb82-e29b-11e4-9189-41ebf72997e3.png)\n"},{"labels":[null,"documentation",null,null],"text":"I was trying to find info on the Bokeh server, and I noticed that the documentation appears to be missing several sections (i.e. headings are there, but no text):\n\nhttp://bokeh.pydata.org/en/latest/docs/user_guide/server.html\nhttps://github.com/bokeh/bokeh/blob/71c3d1753aceb57fcd6a0a3cd97abafc0c6bfc3f/sphinx/source/docs/user_guide/server.rst\n\nFor example, the `Streaming Data`, `Large Data`, `Widgets and Dashboards` and `Development Options` sections are all completely empty (of content).\n\nFrom what I can tell, the Bokeh server has been in Bokeh for a while, so I'm not sure if this is an intentional omission, or if the documentation is simply not complete yet?\n"},{"labels":[null,"documentation",null],"text":"From the answer to this SO question: http://stackoverflow.com/questions/29462117/supplemental-javascript-for-bokeh-plot, I realized that it would be useful to add the links for loading Bokeh from CDN in the embedding - components section.\n"},{"labels":[null,"documentation",null],"text":"(plan to do this, just noting for now)\n\nIn each documentation for a select tool, where there is already:\n\n\"Selections can be comprised of multiple regions, even those\nmade by different selection tools. Hold down the <<shift>> key\nwhile making a selection to append the new selection to any\nprevious seletion that might exist.\"\ne.g. https://github.com/bokeh/bokeh/blob/master/bokeh/models/tools.py#L150\n\nAdd a note that you can customize the display of the selected and unselected glyphs by passing selection_glyph and nonselection_glyph parameter to add_glyph method.\n"},{"labels":[null,"documentation",null],"text":"From comments from Kerry:\n- next / prev nav at bottom\n- remove marketing talk in Interfaces\n- navigation for glossary\n- better intro to glossary\n- link for BokehJS\n"},{"labels":[null,"documentation",null,null],"text":"With the increasing interest and number of questions we could probably make our users life easier (and save a lot of time) by keeping the docs FAQ section updated with the most recent and relevant questions that pop up on m.l., SO, GH, etc..  This is also easier to change questions later and change answers later as things get fixed in future versions.\n\nThere's the risk that some of the questions are duplications of what [we think] is already _well covered_ in the docs but my personal opinion is that sometime people prefer FAQs structure and in this case I see no big harm.\n"},{"labels":[null,"documentation",null],"text":"From #1967 it's clear that documentation can be much improved (and not only about the categories argument).\n"},{"labels":[null,"documentation",null],"text":"Hi, I was trying to share some docs today and realized that I was really struggling with the visual hierarch on the autogenerated docs. I had a quick mess around and came up with the below, with just a few tweaks. I don't have lots of time at the moment, but am happy to do something quick, or to put proper effort into it at a later date.\n\nLet me know.\n\n![side-by-side](https://cloud.githubusercontent.com/assets/1796208/6416974/1cd1df92-be5f-11e4-9b8f-7f387b949920.png)\n- [current](https://cloud.githubusercontent.com/assets/1796208/6416907/9a992c2e-be5e-11e4-8c74-0f11b54d0deb.png)\n- [after tweaks](https://cloud.githubusercontent.com/assets/1796208/6416911/9f5e0f68-be5e-11e4-89ff-667704ef00b1.png)\n"},{"labels":[null,"documentation",null],"text":"The [documentation](http://bokeh.pydata.org/en/latest/docs/user_guide/objects.html#click-tap-tools) says there is a 'tap_select' tool to select a single data point. However, trying to use that tool throws an error that it does not exist. Digging through the code, it looks like there is a tool call 'tap' ([here](https://github.com/bokeh/bokeh/blob/master/bokeh/plotting_helpers.py)), which appears to do the same thing. \n\nThe documentation should be fixed (I would, but I don't know how to do automatic documentation).\n"},{"labels":[null,"documentation",null,null],"text":"Trying to build it gives this error:\n\n``` shell\n(py34devel)[damian@damian-S400CA][sphinx](hotfix/tutorial)$ make clean tutorial\nrm -rf _build/*\nsphinx-build -b html -d _build/doctrees   tutorial_source _build/html\nMaking output directory...\nRunning Sphinx v1.2.3\nloading pickled environment... failed: [Errno 2] No such file or directory: '/media/datos/Desarrollos/bokeh/sphinx/_build/doctrees/environment.pickle'\nbuilding [html]: targets for 7 source files that are out of date\nupdating environment: 7 added, 0 changed, 0 removed\nreading sources... [100%] topical                                                                                                                                       \n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/more_info.rst:4: WARNING: toctree glob pattern 'solutions/gallery/*' didn't match any documents\nlooking for now-outdated files... none found\npickling environment... done\nchecking consistency... done\npreparing documents... done\nwriting output... [100%] topical                                                                                                                                        \n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/advanced.rst:21: WARNING: unknown document: solutions/gallery/les_mis\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/advanced.rst:32: WARNING: unknown document: solutions/gallery/periodic\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/basic.rst:14: WARNING: unknown document: solutions/gallery/lines\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/basic.rst:27: WARNING: unknown document: solutions/gallery/scatter\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/basic.rst:40: WARNING: unknown document: solutions/gallery/image\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/basic.rst:53: WARNING: unknown document: solutions/gallery/style\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/basic.rst:66: WARNING: unknown document: solutions/gallery/brushing\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/basic.rst:79: WARNING: unknown document: solutions/gallery/hover\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/quick_install.rst:7: WARNING: undefined label: installation (if the link has no caption the label must precede a section header)\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/topical.rst:17: WARNING: unknown document: solutions/gallery/stocks\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/topical.rst:38: WARNING: unknown document: solutions/gallery/histogram\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/topical.rst:51: WARNING: unknown document: solutions/gallery/boxplot\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/topical.rst:67: WARNING: unknown document: solutions/gallery/unemployment\n/media/datos/Desarrollos/bokeh/sphinx/tutorial_source/topical.rst:84: WARNING: unknown document: solutions/gallery/olympics\nwriting additional files... genindex search\ncopying images... [100%] _images/thumbs/olympics_t.png                                                                                                                  \ncopying static files... WARNING: favicon file '../_static/bokeh_white_32.ico' does not exist\ndone\ncopying extra files... done\ndumping search index... done\ndumping object inventory... done\nbuild succeeded, 16 warnings.\n\nBuild finished. The HTML pages are in _build/html.\ncp -r _build/tutorial_gallery _build/html/tutorial/solutions/gallery\ncp: no se puede efectuar `stat' sobre «_build/tutorial_gallery»: No existe el archivo o el directorio\nmake: *** [tutorial] Error 1\n```\n\nping @bryevdv\n"},{"labels":[null,"documentation",null],"text":"(very small, plan to submit a PR, just running low on time today).\n\nPalette is available as an argument to all charts, this isn't well highlighted on http://bokeh.pydata.org/en/latest/docs/user_guide/charts.html\n"},{"labels":[null,"documentation",null],"text":"http://bokeh.pydata.org/en/latest/docs/user_guide/charts.html\n\n![bokeh-docs-chart-responsive](https://cloud.githubusercontent.com/assets/1796208/6142352/a91d0f4c-b169-11e4-9451-9999f026bec5.png)\n\nHappens to me between ~ 1000-1200px & ~600-845px wide \n(Firefox on Ubuntu.)\n\n(I'm pretty sure a clearfix on .section would sort most of the problem)\n"},{"labels":[null,"documentation",null],"text":"The developer's guide has become unweildy. \n"},{"labels":[null,"documentation",null],"text":"New design is a big improvements and potentially a magnet for users contribution IF well documented enough so users know how the pattern works and how to create new charts. \n"},{"labels":[null,"documentation",null],"text":"documenting new tag\n"},{"labels":[null,"documentation",null],"text":"Again, this is a newly forked repo. This error comes up when trying to run `make all`. Thanks!\n\nPython 2.7.5\ndocutils (0.12)\nSphinx (1.2.3)\nsphinx-bootstrap-theme (0.4.5)\nsphinxcontrib-httpdomain (1.3.0)\nsphinxcontrib-napoleon (0.2.9)\nseaborn (0.5.1)\n\nL:\\dev\\bokeh\\sphinx>make all\nMaking output directory...\nRunning Sphinx v1.2.3\n\nExtension error:\nCould not import extension bokeh.sphinxext.bokeh_autodoc (exception: No module n\named sphinxext.bokeh_autodoc)\n"},{"labels":[null,"documentation",null],"text":"@bokeh/core After #1690 it will be possible to generate extremely thorough and useful reference documentation automatically. All model classes should have docstrings and all attributes should get a `help` argument. \n"},{"labels":[null,"documentation",null],"text":"Use new `:bokeh-plot:` directive. This depends on #1690 being merged first (some fixes are included in that PR)\n"},{"labels":[null,null,"documentation",null],"text":"On many Reference Guide pages*, the < ul class=\"simple\" > on these pages overlaps the \"fork me on github\" banner.\n\n![screen shot 2015-01-21 at 11 40 38 am](https://cloud.githubusercontent.com/assets/1417520/5841426/771d1742-a162-11e4-9471-f36481bcdaa3.png)\n\nThis is because there is no < h1 > tag above the < ul > to offset it, the way there is on most other pages.\n\n![screen shot 2015-01-21 at 11 44 01 am](https://cloud.githubusercontent.com/assets/1417520/5841533/35ddd61c-a163-11e4-95dd-5eaa4efa6969.png)\n\n*http://bokeh.pydata.org/en/dev/docs/reference/properties.html\nhttp://bokeh.pydata.org/en/dev/docs/reference/plot_objects.html\nhttp://bokeh.pydata.org/en/dev/docs/reference/models.html\nhttp://bokeh.pydata.org/en/dev/docs/reference/compat.html\nhttp://bokeh.pydata.org/en/dev/docs/reference/rest_api.html\n"},{"labels":[null,"documentation",null],"text":"Currently it's hardly visible that there is ongoing effort making bokeh available to other programming environments than JS/Python.\n"},{"labels":[null,"documentation",null],"text":"If you check the X-axis of the timeseries tutorial charts, you'll see that the dates are represented as numbers, which looks buggy. See here:\n\nhttp://bokeh.pydata.org/en/latest/tutorial/solutions/gallery/stocks.html\n\nAlso, it's usually a good idea to label axis to make charts readable.\n\nFinally, in my opinion it'd be nice to have in these charts a custom date format. I think it'd help users visiting this tutorial to see how dates can be customized.\n"},{"labels":[null,"documentation",null],"text":"http://bokeh.pydata.org/en/latest/docs/user_guide/objects.html#axes\n\n> location: where along the cross-dimension to locate this axis: \"min\", \"max\", \"left\", \"right\", \"top\", \"bottom\" or a floating point value\n\nI am unable to set an axis location that is not one of the four values from the Location enum - anything else (including 'min', 'max', or floating point values) yields:\n\n> ValueError: expected an element of either Auto or Enum('above', 'below', 'left', 'right')\n\nIs the documentation wrong? If not, how would one go about offsetting an axis?\n"},{"labels":[null,"documentation",null],"text":"The following text can be found at http://bokeh.pydata.org/en/latest/docs/user_guide/objects.html#id3 :\n- title — a title to display above the plot. - “title” is also the prefix for a set of Text Properties, so you can set the font for the title with the parameter `text_font`.\n\nThat `text_font` should be `title_text_font`\n"},{"labels":[null,"documentation",null],"text":"Write a script that can be used during the release process (eventually included in automated release process)\n\nReference: https://developer.github.com/v3/repos/releases/\n\nGoals:\n- **don't** have GH auto-generated source tarball assets\n- **do** have sdist tarballs\n- make release description (`body`) mirror the spinx doc release notes \n\nping @lexicalunit \n"},{"labels":[null,"documentation",null],"text":"Right now it uses whatever the last checked in release version is. At a minimum, set to \"dev\"\n"},{"labels":[null,"documentation",null],"text":"Right now it is not easy to create a standalone tutorial to distribute at conferences, etc. \n\nNeeds to:\n- include exercises and solutions\n- include notebooks versions\n- include extra assets (notebooks, etc)\n"},{"labels":[null,"documentation",null],"text":"Currently generate `reference/models.rst` by hand with `json_ref.py` script. Should create a sphinx plungin that exposes an `autoprops` directive that can automatically document properties on Bokeh models. \n\nReference: http://sphinx-doc.org/extdev/tutorial.html\n\nNote, included in this is:\n- ability to have per-property documentation\n- ~~ability to condense line, fill, and text properties~~\n- improve JSON prototype output\n\nEDIT: punting on summarization of line props, etc. for now\n"},{"labels":[null,"documentation",null],"text":"Docs build process needs several improvements:\n- [x] sphinx `plot` extension directive to inline plots and code (#1694)\n- [x] ~~galleries re-org / re-write~~ (#1689)\n- [x] proper makefile dependencies (#1305)\n- [x] sphinx `autoprops` extension to document Bokeh models (#1690)\n- [x] correct (or at least better) version for deployed \"dev\" docs (#1692)\n- [x] ~~split docs into separate repository?~~ (#1410)\n- [x] ~~standalone tutorial build~~ (#1691)\n\n@bokeh/dev anything to add to this list? Note this issue only concerns docs **build** issues, and not docs content. \n"},{"labels":[null,"documentation",null],"text":"I found it difficult to learn how to embed. The embedding example was helpful, but overly complicated. I wrote this much simpler code that I think will be helpful for new users:\n\nhttps://gist.github.com/cloudformdesign/0cff67b169b49cc8ae39\n\nIf you have any suggestions feel free to give them so that both I and others can learn. Thanks!\n"},{"labels":[null,"documentation",null],"text":"Update docs build and deploy scripts to accommodate new URL layout:\n\n```\nhttp://bokeh.pydata.org/en/0.6.1\n                       /en/0.7.0\n                       /en/dev\n```\n\nAdditionally `/en/latest` is a symlink to the latest released docs version and `/` redirects to `/en/latest/`\n\nOther miscellaneous improvements:\n- use CDN resources for gallery, remove `bokehjs_static` ugliness \n- make tutorial and main gallery builds more similar\n- remove absolute paths \n"},{"labels":[null,"documentation",null],"text":"The release notes are a bit spare, they could be fleshed out more, with more information than just a bullet list. Might consider a separate page for every release that basically contains what would go in a blog post. \n"},{"labels":[null,"documentation",null],"text":"I suggest to clearly state relations between bokeh and [ggplot](https://github.com/yhat/ggplot) from yhat in the official documentation on http://bokeh.pydata.org/, because at the moment it is not transparent for new users.\n\nWhen searching for \"ggplot for python\", together with links to [ggplot](https://github.com/yhat/ggplot) I have found many references to bokeh as an another library implementing \"grammar of graphics\". Unfortunately documentation does not cover ggplot at all and this section of [wiki](https://github.com/bokeh/bokeh/wiki/Notes-ggplot) is even more confusing.\n\nFurther googling brought up this rather old [pyvideo](http://www.pyvideo.org/video/1224/bokeh-an-extensible-implementation-of-the-gramma) where the initial implementation in bokeh was shown. Googling for `bokeh ggplot` gives a reference to issue #12 (\"ggplot example using ipython notebook?\") among the top 5 results (other 4 are not constructive). However obviously \n`from bokeh.chaco_gg.functional import *`\nand \n`from bokeh.functional import *` \nboth fail with `ImportError`.\nExamples on master (e.g. [bokeh/examples/compat/ggplot/density.py](https://github.com/bokeh/bokeh/blob/00f8c57fb2008a300f40770cec96a0647dc6d0d2/examples/compat/ggplot/density.py)) are again confusing, as they are importing from yhat/ggplot and not from bokeh without any explanations. \n\nFor me it took a while to find (by checking all mentioning of ggplot in issues/PRs) a pull request #545 (\"Remove old ggplot support\") where it is stated that the internal implementation is discontinued. In release notes ggplot is mentioned only in v0.1 (\"Beginnings of the ggplot-style interface that wraps the low-level interface\"), but discontinuation is never highlighted.\n\nSo I suggest to state this clearly in docs and refer new users to [yhat/ggplot](https://github.com/yhat/ggplot) directly - it would really help all of newcomers.\n"},{"labels":[null,"documentation",null],"text":"This will help language binding implementors.\n- [x] provide hooks to easily dump models with **all** properties (not just changed ones) (#1580)\n- [x] remove unused cruft attributes (#1583)\n- [x] write script to integrate all models and their JSON into dev docs (#1581)\n"},{"labels":[null,"documentation",null],"text":"The documentation for `plotting.figure()` should be updated in order to reflect the new behavior of version 0.7 (the newly created figure is now returned, instead of `None`).\n\nIdeally, the web documentation should also be updated quickly, as it currently contradicts the examples on the web, but at the same time is consistent with bokeh < 0.7, which is confusing for users of either version.\n"},{"labels":[null,"documentation",null],"text":"From Mailing List:\n\n```\nthe last few charts in the gallery (at http://bokeh.pydata.org/docs/gallery.html) \nare wrong/out of sync: the details when you click on them do not correspond to \nthe thumbnail.\n```\n\nafter 0.7 release\n"},{"labels":[null,"documentation",null],"text":"Need:\n- more notebook examples\n- vine videos for new examples \n- section in the user guide\n- section in the tutorial\n"},{"labels":[null,"documentation",null],"text":"New charts implementation (Area, Bar, BoxPlot, CategoricalHeatMap, Donut, Dot, Histogram, Line, Scatter, Step, TimeSeries) should be well document asap..\n"},{"labels":[null,null,"documentation",null],"text":"I think we should have set conventions for associating issues and their PRs. Propose to update BEP 1 with:\n\n```\nissues: fixes #1234, [fixes # 2345, ...]\n```\n\nOr, if this is a standalone PR with no associated issue:\n\n```\nissues: none\n```\n\nThis should be the first line of any PR. \n"},{"labels":[null,null,"documentation",null,null],"text":"Unfortunately I went against my own better judgment when including the docs directly in the Bokeh repo. Especially now that there is the umbrella Bokeh GH org, I think that the docs should be moved to their own repository. There are a few reasons for this. The docs will only grow larger and larger, bloating the main repo even more. Other language binding authors may wish to contribute docs for their bindings, which would be awkward since the main repo is python and BokehJS. It's getting to the point where we will need to have tagged branches for tracking revisions to the docs for specific released versions, and would rather not clutter main repo with all this. Docs build could be more easily tested independently, reducing main Bokeh test weight. \n\n@pzwang @hhuuggoo @mattpap @damianavila thoughts?\n"},{"labels":[null,"documentation",null],"text":"Unless I'm missing something, it looks like `bokeh.plotting.xaxis()` (and `.yaxis()`) return a list of axes instead of a single axis.  If that is the case, the functions should probably be renamed to be plural instead of singular: `xaxis -> xaxes` and `yaxis -> yaxes`.\n\nAdditionally, if this comes to pass, it would be nice to have as a convenience function an `xaxis()` method that simply does:\n\n``` python\ndef xaxis():\n    ' convenience function to return the first x-axis from the current plot's x-axes list '\n    return xaxes()[0]\n```\n"},{"labels":[null,"documentation",null],"text":"Improve documentation to address users feedback that \"it is difficult to get started with Bokeh\" and \"documentation is confusing and it is hard to get started with widgets and plots\".\n\nThe discussion with full details can be found here: https://groups.google.com/a/continuum.io/forum/?hl=en#!topic/bokeh/lCUW1h6r4-Q\n"},{"labels":[null,"documentation",null],"text":"`bokeh.embed.components(plot_object, resources)` second parameter resources is not optional, contrary to what is stated in the documentation: http://bokeh.pydata.org/docs/reference/resources_embedding.html#bokeh.embed.components\n\n```\n  File \"/Users/some_user/GitHub/some_repo/webinterface/webinterface.py\", line 393, in generate_report\n      script, div = components(test_line)\nTypeError: components() takes exactly 2 arguments (1 given)\n```\n\nBut even if I submit a resource ( `bokeh.resources.CDN` for example), it is not used anywhere and I have to add bokehjs manually. Doing the same with `bokeh.embed.autoload_static` works fine.\n\nMinor detail:\nThere is no documentation of the parameters for `bokeh.embed.autoload_server`and `bokeh.embed.autoload_static`.\n"},{"labels":[null,"documentation",null],"text":"When setting `plot_width` or `plot_height` without `min_border` in `Plot()`, with either the width or height smaller than 80px, and the corresponding axis is categorical, BokehJS exits with \"Error: unsatisfiable constraint\" on browser console. For example:\n\n```\nimport numpy as np\nfrom bokeh.plotting import *\nfrom bokeh.objects import *\n\nfrom bokeh.browserlib import view\nfrom bokeh.document import Document\nfrom bokeh.embed import file_html\nfrom bokeh.resources import INLINE\n\nfactors = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"]\nx0 = [0,0,0,0,0,0,0,0]\nx =  [50, 40, 65, 10, 25, 37, 80, 60]\n\nplot = Plot(\n    x_range=Range1d(start=0, end=100), y_range=FactorRange(factors=factors),\n    title=\"\", plot_width=80, plot_height=80,\n    #min_border=2, border_symmetry=None,\n)\n\nsegment(x0, factors, x, factors, plot=plot,\n        line_width=2, line_color=\"green\", title=\"Dot Plot\")\ncircle(x, factors, size=15, fill_color=\"orange\", line_color=\"green\", line_width=3,\n       Name=\"categorical     example\")\n\ndoc = Document()\ndoc.add(plot)\n\nfilename = \"test.html\"\nwith open(filename, \"w\") as f:\n    f.write(file_html(doc, INLINE, \"Test\"))\nprint(\"Wrote %s\" % filename)\nview(filename)\n```\n\nIf the x-axis (y-axis) has a label, then the plot height (width) needs to be proportionally larger to avoid the error.\n\nIn the case where `min_border` is /not/ set explicitly, it would be more intuitive for BokehJS to use a flexible `min_border` rather than a fixed (40px?) value. Or at least the default min_border should be clearly documented.\n"},{"labels":[null,"documentation",null],"text":" Working Links to bokehjs 0.6 are missing. Both the website http://bokeh.pydata.org/docs/installation.html  (linking to the files bokeh-0.5.js, bokeh-0.5.css, ...) and the npm package (https://www.npmjs.org/package/bokehjs with v.0.5.2) do not link to the newest version of bokehjs or are not working at all. The correct URLs are http://cdn.pydata.org/bokeh-0.6.0.min.js, http://cdn.pydata.org/bokeh-0.6.0.js and so on.\n\nI tried to embed `bokeh.embed.components()` and had to look in the source code of the HTML generated by `bokeh.embed.file_html()` to find the correct links to the files.\n"},{"labels":[null,"documentation",null],"text":"One thing that jumped out at my when following the otherwise-excellent Bokeh tutorial is that almost none (perhaps exactly none -- I did not find any) of the plots included axis labels. New users will want to know how to do this, and more importantly, its bad practice not to label axes, even when the plots include informative titles.\n"},{"labels":[null,"documentation",null],"text":"I got curious and looked at the source code of plotting.py in 0.6.0. Below are the docstrings of xaxis() and axis(), respectively:\n\n```\ndef xaxis():\n    \"\"\" Get the current axis objects\n    ...\n    \"\"\"\n\ndef axis():\n    \"\"\" Get the current `x` axis object(s)\n    ...\n    \"\"\"\n```\n\nThe first sentences of these two functions should be swapped?\n"}]