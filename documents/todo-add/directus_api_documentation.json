[{"labels":["documentation",null],"text":"Hi, i'm currently using Directus v7.  It's the first time I use hooks. There is a way to have different hooks for each project. Because if in my projects I have some collections with the same name. I can't understand how to distinguish them.\r\n\r\nExample of my hook:\r\n\r\n`return [\r\n  'actions' => [\r\n    'item.update.courses' => function (array $data) {\r\n       //code\r\n    }\r\n  ]\r\n];\r\n`\r\n\r\nExpected:\r\n\r\n`return [\r\n  'actions' => [\r\n    'project1.item.update.courses' => function (array $data) {\r\n       //code\r\n    },\r\n    'project2.item.update.courses' => function (array $data) {\r\n       //alternative code \r\n    }\r\n  ]\r\n];\r\n`\r\n"},{"labels":[null,"documentation",null],"text":"<!--\r\nFor security issues, please email support@directus.io directly.\r\n\r\n1. Do not delete this template or the issue will be closed\r\n2. Ensure you're using the latest version of Directus\r\n3. Post to the correct repo:\r\n    App:  https://github.com/directus/app/issues\r\n    API:  https://github.com/directus/api/issues (YOU ARE HERE)\r\n    Docs: https://github.com/directus/docs/issues\r\n-->\r\n\r\n# Bug Report\r\n\r\nWhen having nested data with junction tables, too many hooks are fired. In my case I have an expensive sync operation (I use directus to manage some non-user content which is synced to another database upon editing (caches are cleared and data is re-fetched)). \r\n\r\n## Steps to Reproduce\r\n\r\n1. Create a nested hierarchy of collections as described below\r\n2. Create some items \r\n3. Add an \"item.update\" hook\r\n4. Update one in the lower hierachy\r\n5. Watch the hooks being triggered in 4.\r\n\r\n## Expected vs actual Behavior\r\n\r\nThink of this data structure:\r\n\r\n```\r\nuniversity\r\n  - course\r\n    - course_teachers (Junction)\r\n      - teacher\r\n```\r\n\r\nWhen I update the teacher by adding a course to the list of taught courses the following hooks are called: \r\n\r\n```\r\nuniversity #update for just one university for the teacher ( thats ok)\r\n  - course  # update for all courses related to teacher (\"too much\", just the one added would logically change)\r\n    - course_teachers (Junction) # update for entry (thats ok)\r\n      - teacher -- update for #id AND all other teachers of that course (\"too much\", just the one edited changes effectively)\r\n```\r\n\r\nAdditionally, all fields for the given item are passed along which is weird because they're not updated themselves. \r\nThe problem in my case is that this causes a lot of calls to my middleware and saving one teacher when changing one of his courses causes 60 or 70 requests taking 10 seconds and more to save the item. \r\n\r\nThis arises the following questions: \r\n\r\n1. Is the described behavior intended?\r\n2. Is there a way to know what initially caused the change ? If hooks are isolated from each other there is probably none.\r\n3. Is there a place where all changes that happened can be viewed together so one could know in advance which hooks would be triggered?\r\n \r\n\r\n## Technical Details\r\n\r\n- Device: Macbook Pro\r\n- OS: Mac OSX 10.14.6\r\n- Web Server: Apache \r\n- PHP Version: 7.1\r\n- Database: MysQL 5.7\r\n- Install Method: git clone master\r\n"},{"labels":[null,"documentation",null],"text":"When using S3 storage adapter, I've noticed thumbnail URL's are at API, acting as a proxy to S3, like `/thumbnail/_/200/200/crop/good/xx.png` but full size image URL's are actual S3 URL's. \r\n\r\nIs this a misconfiguration on our side or is it intentionally like this (for performance etc)?\r\n\r\nThanks"},{"labels":[null,"documentation"],"text":"<!--\r\nFor security issues, please email support@directus.io directly.\r\n\r\n1. Do not delete this template or the issue will be closed\r\n2. Ensure you're using the latest version of Directus\r\n3. Post to the correct repo:\r\n    App:  https://github.com/directus/app/issues\r\n    API:  https://github.com/directus/api/issues (YOU ARE HERE)\r\n    Docs: https://github.com/directus/docs/issues\r\n-->\r\n\r\n# Bug Report\r\nUsing hooks within the API php file is no longer working.\r\n\r\n## Steps to Reproduce\r\n\r\n`'item.create.devices:before' => function (\\Directus\\Hook\\Payload $payload) {\r\n                    $payload->set('name','test');\r\n                    return $payload`\r\n\r\n1. Go to Devices collection.\r\n2. Click on + to add a new device item.\r\n3. Create the item with no value for the name field.\r\n4. Item is created successfully without error but the name is not set to 'test' it remains empty.\r\n\r\n## Expected Behavior\r\nhttps://docs.directus.io/extensions/hooks.html#creating-hooks\r\n\r\nitem.create hook should allow me to set the name to test by altering the payload.\r\n## Actual Behavior\r\nNo value is set for the name text field.\r\n## Other Context & Screenshots\r\n\r\n<!-- Any other relevant information, screenshots, or schema files to help explain your problem -->\r\n\r\n## Technical Details\r\n\r\n- Device: Desktop\r\n- OS: Windows 10\r\n- Install Method: cloned master branch of directus\r\n- Version: Spouting Whale â€” (190807A)\r\n"},{"labels":["documentation",null,null,null],"text":"<!--\r\n1. Do not delete this template or the issue will be closed\r\n2. Ensure you're using the latest version of Directus\r\n3. Post to the correct repo:\r\n    App:  https://github.com/directus/app/issues\r\n    API:  https://github.com/directus/api/issues (YOU ARE HERE)\r\n    Docs: https://github.com/directus/docs/issues\r\n-->\r\n\r\n# Feature Request\r\nCreate API Functional Tests\r\n\r\n## What problem does this feature solve?\r\nKnowing that the API is working as expected; more thoroughly testing the API after updates/fixes... and before releasing.\r\n\r\n## How do you think this should be implemented?\r\nTBD. @shealavington has been working on this for a while, but we need to align on exactly _how_ these tests will be structured. Here is what Shea wrote:\r\n\r\n> I've got [some tests for the Items endpoint running](https://github.com/directus/api-tests/tree/poc/wolfulus/tests). There's a few changes I'd like to make _(Such as outputting successful tests to the console)_, but I guess the first iteration is almost ready to be master-merged. Though on that note, I'm currently testing the 'Demo' directly, therefore some fail _(deletions)_ as it doesn't spawn a new instance every time haha.\r\n\r\n* *'Items' Tests:*\r\n  * *Create*: Create a single item & Create multiple items in one payload.\r\n  * *Read*: Get item, Get multiple items, Get all items _(by default should max out at 200 items)_\r\n  * *Update*: Update item, Update multiple items with the same data, Update multiple items with different data.\r\n  * *Delete*: Delete item, delete multiple items.\r\n* *Server:* Ping should Pong\r\n* *Project:* Expected keys should exist when authed, and shouldn't when not authed.\r\n\r\n# Status\r\n\r\n## Authentication\r\n\r\n* [ ] Tokens\r\n* [ ] Get Auth Token\r\n* [ ] Refresh Auth Token\r\n* [ ] Password Reset Request\r\n* [ ] Password Reset\r\n* [ ] SSO\r\n\r\n## Query Parameters\r\n\r\n* [ ] Metadata\r\n* [ ] Fields\r\n* [ ] Limit\r\n* [ ] Offset\r\n* [ ] Single\r\n* [ ] Sorting\r\n* [ ] Status\r\n* [ ] Filtering\r\n* [ ] Language\r\n* [ ] Search Query\r\n* [ ] Groups\r\n* [ ] Skip Activity Logging\r\n* [ ] Activity Comment\r\n\r\n## Items\r\n\r\n* [X] Get Item\r\n* [X] Get Multiple Items\r\n* [X] Get All Items\r\n* [X] Create Item\r\n* [X] Create Items\r\n* [X] Update Item\r\n* [X] Update Items\r\n* [X] Delete Item\r\n* [X] Delete Items\r\n* [ ] Get Item Revision\r\n* [ ] Get Item Revisions\r\n* [ ] Revert Item\r\n* [ ] Revert Items?\r\n\r\n## System\r\n\r\n* [ ] Activity\r\n* [ ] Collections\r\n* [ ] Collection Presets\r\n* [ ] Fields\r\n* [ ] Files\r\n* [ ] Folders\r\n* [ ] Permissions\r\n* [ ] Relations\r\n* [ ] Revisions\r\n* [ ] Roles\r\n* [ ] Settings\r\n* [ ] Users\r\n\r\n## Utilities\r\n\r\n* [ ] Hash String\r\n* [ ] Match Hashed String\r\n* [ ] Generate Random String\r\n\r\n## Mail\r\n\r\n* [ ] Send Email\r\n\r\n## Extensions\r\n\r\n* [ ] Get Extensions\r\n* [ ] Get Interface\r\n* [ ] Get Page\r\n* [ ] Get Custom Endpoint\r\n\r\n## Server\r\n\r\n* [ ] Information\r\n* [x] Ping\r\n\r\n## Projects\r\n\r\n* [ ] Information\r\n* [ ] Update\r\n* [ ] Create Project\r\n* [ ] Projects Auth Config\r\n* [ ] Projects CORS Config\r\n* [ ] Projects Cache Config\r\n* [ ] Projects Storage Config\r\n* [ ] Projects Mail Config\r\n* [ ] Projects Rate Limit Config\r\n\r\n## Field Types\r\n\r\n* [ ] Webhooks\r\n\r\n## Directus Objects\r\n\r\n* [ ] Activity Object\r\n* [ ] Activity Seen Object\r\n* [ ] Collection Object\r\n* [ ] Collection Preset Object\r\n* [ ] Field Object\r\n* [ ] File Object\r\n* [ ] Folder Object\r\n* [ ] Permission Object\r\n* [ ] Relation Object\r\n* [ ] Revision Object\r\n* [ ] Role Object\r\n* [ ] Setting Object\r\n* [ ] User Object\r\n* [ ] User Role Object\r\n\r\n## SCIM\r\n\r\n* [ ] Overview\r\n* [ ] Create SCIM User\r\n* [ ] Get SCIM Users\r\n* [ ] Get SCIM User\r\n* [ ] Update SCIM User\r\n* [ ] Create SCIM Group\r\n* [ ] Get SCIM Groups\r\n* [ ] Get SCIM Group\r\n* [ ] Update SCIM Group\r\n* [ ] Delete SCIM Group"},{"labels":["documentation",null,null],"text":"Hi guys,\r\n\r\nI saw this issue #2336.\r\n\r\nI'm working on a custom interface that can automatically populate the field with a mapped collection field based on it's creator's role.\r\n\r\nFor example:\r\n\r\n**Posts**\r\n - Title\r\n - Slug\r\n - Site URL Custom Interface (goes here)\r\n\r\n**Sites**\r\n - Name\r\n - URL\r\n - User Role Core Interface\r\n\r\n\r\nI want to auto-populate that interface every time a user creates a post.\r\n\r\nRight now, I'm trying to get the current logged-in user role thru the users/ me endpoint so I can mapped to the user role of the **Sites** collection but it doesn't allow me even the users collection were already public. Please help\r\n\r\nI get this error:\r\n\r\n`{\r\n    \"error\": {\r\n        \"code\": 203,\r\n        \"message\": \"Item with id \\\"0\\\" not found\",\r\n        \"class\": \"Directus\\\\Database\\\\Exception\\\\ItemNotFoundException\",\r\n        \"file\": \"/c/projects/sample/src/core/Directus/Database/TableGateway/RelationalTableGateway.php\",\r\n        \"line\": 1060\r\n    }\r\n}`\r\n\r\n"},{"labels":["documentation",null],"text":"Hi,\r\nI'm creating an extension class which will be called from Directus hook. Some code logic is omitted for simplicity.\r\n`public/extensions/custom/hooks/presentations/AfterCreatePresentation.php `\r\n```php\r\n<?php\r\n\r\nnamespace Directus\\Custom\\Hooks\\Presentations;\r\n\r\nuse Directus\\Application\\Application;\r\nuse Directus\\Mail\\Message;\r\nuse function Directus\\send_mail_with_layout;\r\nuse Directus\\Services\\UsersService;\r\n\r\nclass AfterCreatePresentation\r\n{\r\n    protected $container = null;\r\n\r\n    public function __invoke($data = null)\r\n    {\r\n        $this->container = Application::getInstance()->getContainer();\r\n        $userService = new UsersService($this->container);\r\n        $users = $userService->findAll();\r\n\r\n        foreach ($users['data'] as $user) {\r\n            if ($user['email_notifications'] == true){\r\n                send_mail_with_layout(\r\n                  ...\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the hook is registered in `config/api.php` as:\r\n```php\r\n...\r\n    'hooks' => [\r\n        'actions' => [\r\n            'item.create.presentations' => new \\Directus\\Custom\\Hooks\\Presentations\\AfterCreatePresentation()\r\n        ],\r\n        'filters' => [],\r\n    ],\r\n...\r\n```\r\nHowever the following error is being thrown:\r\n```\r\n2018/12/20 14:32:07 [error] 10498#10498: *123657 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Uncaught Error: Class 'Directus\\Custom\\Hooks\\Presentations\\AfterCreatePresentation' not found in /var/www/api.elisiondesign.cz/config/api.php:114\r\nStack trace:\r\n#0 /var/www/api.elisiondesign.cz/src/web.php(43): require()\r\n#1 /var/www/api.elisiondesign.cz/public/index.php(3): require('/var/www/api.el...')\r\n#2 {main}\r\n  thrown in /var/www/api.elisiondesign.cz/config/api.php on line 114\" while reading response header from upstream, client: 89.102.32.192, server: api.elisiondesign.cz, request: \"GET /server/ping HTTP/1.1\", upstream: \"fastcgi://unix:/run/php/php7.0-fpm.sock:\", host: \"api.elisiondesign.cz\", referrer: \"https://app.elisiondesign.cz/\"\r\n```\r\n**It works perfectly on my system `MacOS`**, but when deployed to production (`Ubuntu`) it throws the error.  I was tying to figure out some differences between the system and the most important is that Ubuntu is **case-sensitive** system, while MacOs is not. This would explain the not found problem.  So I've tried to put the file in the folders named with uppercase `/Custom/Hooks/Presentations` to help the autoloader find the class in the namespace, but with no effect. \r\n\r\n**NOTE:** The example hook for 'products' throws the same error when enabled.\r\n\r\n- OS: [Ubuntu 16.04]\r\n- Web Server: [nginx/1.14.1 ]\r\n- PHP Version: [ 7.0.32]\r\n- Database: [ MySQL 5.7.24]\r\n- API [2.0.12]\r\n"},{"labels":["documentation"],"text":"<!--\r\n1. Do not delete this template or the issue will be closed\r\n2. Ensure you're using the latest version of Directus\r\n3. Post to the correct repo:\r\n    App:  https://github.com/directus/app/issues\r\n    API:  https://github.com/directus/api/issues (YOU ARE HERE)\r\n    Docs: https://github.com/directus/docs/issues\r\n-->\r\n\r\n# Bug Report\r\n\r\nI've configured a translated Article structure and I wish to fetch a translated article; the `lang` param added to the curl call does not seem to work as expected\r\n\r\n## Steps to Reproduce\r\n\r\n0. Configure a fixed access token for user admin\r\n[garanteasy-directus.sql.gz](https://github.com/directus/api/files/2600810/garanteasy-directus.sql.gz)\r\n\r\n1. Configure a multilingual collection and populate it\r\n2. Call from terminal: \r\n\r\n* `curl -H 'Authorization: Bearer changeme' http://localhost:8083/_/items/article/1`\r\n* `curl -H 'Authorization: Bearer changeme' http://localhost:8083/_/items/article/1?lang=it`\r\n* `curl -H 'Authorization: Bearer changeme' http://localhost:8083/_/items/article/1?lang=1`\r\n* `curl -H 'Authorization: Bearer changeme' http://localhost:8083/_/items/article/1?lang=*`\r\n\r\n3. Call from browser:\r\n\r\n* http://localhost:8083/_/items/article/1?access_token=changeme\r\n* http://localhost:8083/_/items/article/1?lang=it&access_token=changeme\r\n* http://localhost:8083/_/items/article/1?lang=1&access_token=changeme\r\n* http://localhost:8083/_/items/article/1?lang=*&access_token=changeme\r\n\r\n4. See error: all the above call lead to the seme result: and article WITHOUT the translation\r\n\r\n    {\"data\":{\"id\":1,\"status\":\"published\",\"author\":\"lrkwz\",\"created_on\":\"2018-11-17 16:01:09\",\"updated_on\":\"2018-11-20 16:54:19\",\"slug\":\"prova\"}}\r\n\r\n## Expected Behavior\r\n\r\nThe translated title and body.\r\n\r\n## Actual Behavior\r\n\r\nOnly the `article` data is transferred without the `article_tranlsations`.\r\n\r\n## Other Context & Screenshots\r\n\r\nSome how related to #590 \r\n\r\nAttached a db dump to ease tests\r\n\r\n## Technical Details\r\n\r\n- Device: desktop\r\n- OS: [eg: MacOS 10.13.6, Windows 10.1803]\r\n- Web Server: nginx\r\n- PHP Version: \r\n- Database:mariadb 10.2\r\n- Install Method: docker api:2.0.8 app:7.0.8\r\n"},{"labels":["documentation",null],"text":"<!--\r\n1. Do not delete this template or the issue will be closed\r\n2. Ensure you're using the latest version of Directus\r\n3. Post to the correct repo:\r\n    App:  https://github.com/directus/app/issues\r\n    API:  https://github.com/directus/api/issues (YOU ARE HERE)\r\n    Docs: https://github.com/directus/docs/issues\r\n-->\r\n\r\n# Custom storage adapter\r\n\r\n## Save files to own CDN.\r\n\r\n## Directus\\Filesystem\\FilesystemFactory::createCustomAdapter(), Directus\\Filesystem\\Files::write(), Directus\\Filesystem\\Filesystem::write()\r\n\r\n## Would you be willing to work on this? Yes, of course.\r\n\r\nHello, I am working on the PR for a custom adapter. This is not a big deal. But my question is. Is there a chance to change fileName? Problem is that my CDN saves files with MD5 like cdn.example.com/img/90ceffdf71bfddb7865908dc1b2a156b.jpg but Directus all the time works with fileName from the user and can not be changed after uploading to the CND. \r\n\r\nOnly chance how to do this is in Directus\\Filesystem\\Files::saveData() make a switcher a to another custom method and create a filter hook. But this is pretty ugly.\r\n\r\nMy suggestion is. Directus\\Filesystem\\Files::write() should returns data from write() from the adapter. The same for Directus\\Filesystem\\Filesystem::write(). There is some magic in Directus\\Filesystem\\Filesystem::write(). I call write() on the adapter and it returns an array but response is true.\r\n\r\nIf I change from\r\n```\r\ntry {\r\n    if (!$this->getAdapter()->write($location, $data)) {\r\n        $throwException();\r\n    }\r\n} catch (\\Exception $e) {\r\n    $throwException();\r\n}\r\n```\r\nto\r\n\r\n```\r\ntry {\r\n    $result = $this->getAdapter()->write($location, $data);\r\n    if (!$result) {\r\n        $throwException();\r\n    }\r\n    return $result;\r\n} catch (\\Exception $e) {\r\n    $throwException();\r\n}\r\n```\r\n$result is only true or false. Even if write() returns an array.\r\n\r\nAnd then is a little problem with thumbnails in Directus\\heplres\\file.php but this is one small condition."},{"labels":["documentation"],"text":"<!--\r\n1. Do not delete this template or the issue will be closed\r\n2. Ensure you're using the latest version of Directus\r\n3. Post to the correct repo:\r\n    App:  https://github.com/directus/app/issues\r\n    API:  https://github.com/directus/api/issues (YOU ARE HERE)\r\n    Docs: https://github.com/directus/docs/issues\r\n-->\r\n\r\n# Bug Report\r\n\r\n## Steps to Reproduce\r\n\r\n1. Go to 'https://api....com/uploads/_/originals/Chrysanthemum.jpg'\r\n2. Ok, the full image is returned\r\n3. Go to 'https://api....com/uploads/_/thumbnails/200/200/crop/good/Chrysanthemum.jpg'\r\n4. Get Json error 8 ; \"API Environment Configuration Not Found: uploads\"\r\n5. Vi config/api.php and try to change \r\n6. Try to change :  'thumb_root' => 'public/uploads/_/thumbnails',\r\n    to  'thumb_root' => 'https://api....com/uploads/_/thumbnails', \r\n    (note: my subdomain is pointing to public directory and I have 'root' => 'uploads/_/originals' and 'root_url' => '/uploads/_/originals')\r\n7. Still get same error when going to 'https://api....com/uploads/_/thumbnails/200/200/crop/good/Chrysanthemum.jpg'\r\n\r\n## Expected Behavior\r\nGet the thumnail of the image 200*200 pixels...\r\n\r\n## Actual Behavior\r\nGet json error\r\n\r\n## Other Context & Screenshots\r\n<!-- Any other relevant information, screenshots, or schema files to help explain your problem -->\r\nMutualized server 1and 1...\r\nI tryed to add thumbnails settings in database like in issue https://github.com/directus/api/issues/469, but it doesn't change\r\nNote: Also when I insert an image in my files, thumbnails throw error (404 not found in console)\r\n\r\n## Technical Details\r\n\r\n- Device: [eg: Firefox]\r\n- OS: [eg: Linux]\r\n- Web Server: [eg: Apache or nginx ?]\r\n- PHP Version: [eg: 7.1.0]\r\n- Database: [eg: MySQL 5.6]\r\n- Install Method: [eg: cloned `master` branch from api 2.0.2  and app 7.0.2 separately]\r\n"},{"labels":["documentation"],"text":"<!--\r\n1. Do not delete this template or the issue will be closed\r\n2. Ensure you're using the latest version of Directus\r\n3. Post to the correct repo:\r\n    App:  https://github.com/directus/app/issues\r\n    API:  https://github.com/directus/api/issues (YOU ARE HERE)\r\n    Docs: https://github.com/directus/docs/issues\r\n-->\r\n\r\n# Bug Report\r\n\r\n## Steps to Reproduce\r\n\r\n1. edit api.php to use s3 as file storage\r\n2. try to upload a file as item in collection.\r\n\r\n## Expected Behavior\r\nUpload success\r\n\r\n## Actual Behavior\r\nError occur\r\n\r\n## Other Context & Screenshots\r\n[error.2018-10-31.log](https://github.com/directus/api/files/2535200/error.2018-10-31.log)\r\n\r\n<!-- Any other relevant information, screenshots, or schema files to help explain your problem -->\r\n\r\n## Technical Details\r\n\r\nApache Version | 2.4.35\r\nPHP Version | 5.6.38\r\nMySQL Version | 5.7.24\r\nArchitecture | x86_64\r\nOperating System | linux\r\n\r\n\r\n"},{"labels":["documentation",null],"text":"Check all CLI modules and delete what's not in used anymore and what needs to be fixed."},{"labels":["documentation",null],"text":"We absolutely need a way to update the schema for hotfixes and releases. We have migrations for instance create, but as far as I know we don't have a way to do this for changes to existing instances.\r\n\r\nWe should also have a clean way to manage schema changes, ideally changing things in ONE place and then having all the other files updated through a build script of sorts.\r\n\r\nFinally, would we want to use the new [GitHub actions](https://github.com/features/actions) to automate any of this? Not sure if its useful... or if we're just using [phinx](http://docs.phinx.org/en/latest/migrations.html)."},{"labels":[null,"documentation",null],"text":"Our options should be:\r\n\r\n`uuid` (replaces the old hash)\r\n`original` (appends `*-n` as needed)\r\n`id` (padded with `0`)\r\n\r\nDo ya'll agree with using `uuid` as a file naming default? We _could_ use `original`, but I think `id` is the default right now... and we definitely shouldn't use that one."},{"labels":["documentation",null],"text":"Right now thumbnails are stored in the API root, for example:\r\n\r\n`api/[env]/100/100/crop/best/whatever.jpg`\r\n\r\nBut original files for ALL environments are stored in the public `storage` folder:\r\n\r\n`api/public/storage/uploads/whatever.jpg`\r\n\r\nAll env files need to be separated, so I propose this:\r\n\r\n`api/public/storage/[env]/originals/whatever.jpg`\r\n`api/public/storage/[env]/thumbnails/100/100/crop/best/whatever.jpg`\r\n\r\n@WellingGuzman @rijkvanzanten ... thoughts?\r\n\r\n"},{"labels":["documentation"],"text":"This is the general ticket for the API Documentation (Wiki) that will thoroughly explain anything and everything a new developer would need to know about the Directus API. Let's keep this open and add new \"Todo\" checkboxes as we think of them.\r\n\r\n* [ ] API Overview\r\n* [ ] Files/Folders Explanation (eg: where to find things)"},{"labels":["documentation"],"text":""},{"labels":["documentation",null],"text":"This is the new default, which also shows the new option names:\r\n\r\n```json\r\n{\r\n   \"published\":{\r\n      \"name\":\"Published\",\r\n      \"text_color\":\"#FFFFFF\",\r\n      \"background_color\":\"#039BE5\",\r\n      \"listing_subdued\":false,\r\n      \"listing_badge\":false,\r\n      \"soft_delete\":false,\r\n      \"published\":true\r\n   },\r\n   \"under-review\":{\r\n      \"name\":\"Under Review\",\r\n      \"text_color\":\"#FFFFFF\",\r\n      \"background_color\":\"#FF9800\",\r\n      \"listing_subdued\":true,\r\n      \"listing_badge\":true,\r\n      \"soft_delete\":false,\r\n      \"published\":false\r\n   },\r\n   \"draft\":{\r\n      \"name\":\"Draft\",\r\n      \"text_color\":\"#78909C\",\r\n      \"background_color\":\"#CFD8DC\",\r\n      \"listing_subdued\":true,\r\n      \"listing_badge\":true,\r\n      \"soft_delete\":false,\r\n      \"published\":false\r\n   },\r\n   \"deleted\":{\r\n      \"name\":\"Deleted\",\r\n      \"text_color\":\"#FFFFFF\",\r\n      \"background_color\":\"#F44336\",\r\n      \"listing_subdued\":true,\r\n      \"listing_badge\":true,\r\n      \"soft_delete\":true,\r\n      \"published\":false\r\n   }\r\n}\r\n```"},{"labels":["documentation",null,null],"text":"`/auth/reset-request` throws a 404.."},{"labels":["documentation",null,null],"text":"We talked about different ways of performing batch-operations. Lets make sure we're all on the same page and that it's currently implemented like follows:\r\n\r\n## GET\r\nThe endpoint to fetch a single item should accept the CSV style primary key too, which would serve as a replacement for the now deprecated `id` parameter:\r\n\r\n```\r\nGET /items/<collection>/<pk> (one item)\r\nGET /items/<collection>/<pk>,<pk> (multiple items by primary key)\r\n```\r\n\r\n## POST\r\nSeeing you don't POST by ID, posting multiple items is done by sending an _array_ instead of an _object_ to the regular POST endpoint:\r\n\r\n```\r\nPOST /items/<collection>\r\n```\r\n\r\nOne item (regular):\r\n```json\r\n{\r\n  \"title\": \"Project\",\r\n  \"category\": \"Design\"\r\n}\r\n```\r\n\r\nMultiple items (batch):\r\n```json\r\n[\r\n  {\r\n    \"title\": \"Project\",\r\n    \"category\": \"Design\"\r\n  },\r\n  {\r\n    \"title\": \"Another project\",\r\n    \"category\": \"Development\"\r\n  }\r\n]\r\n```\r\n\r\n## PATCH / PUT \r\n```\r\nPATCH /items/<collection>/<pk>,<pk>\r\nPUT /items/<collection>/<pk>,<pk>\r\n```\r\nThis sets the fields for each of the provided primary keys to _the same_ value.\r\n\r\nAlso, as per the discussion in #77, updating items should/could be possible by PATCHing or PUTing to `/items/<collection>` by providing filters through the query string:\r\n\r\n```\r\nPUT /items/<collection>?filter[name][eq]=rijk\r\nPATCH /items/<collection>?filter[name][eq]=rijk\r\n```\r\n\r\nThis leaves us with 1 problem; how to update multiple items to _different values_. Usecase: updating multiple items to different `sort` values while dragging and dropping on listings.\r\n\r\nI propose we use a similar syntax to POST, where we send an array of items _with the primary key field included_:\r\n\r\n```json\r\n[\r\n  {\r\n    \"id\": 5,\r\n    \"title\": \"New title\"\r\n  },\r\n  {\r\n    \"id\": 16,\r\n    \"title\": \"Another new title\"\r\n  }\r\n]\r\n```\r\n\r\n## DELETE\r\n```\r\nDELETE /items/<collection>/<pk> (delete single item)\r\nDELETE /items/<collection>/<pk>,<pk> (delete multiple items)\r\n```"},{"labels":["documentation"],"text":"* LOGIN\r\n  * LOGIN\r\n* ENTRY\r\n  * CREATE\r\n  * UPDATE\r\n  * DELETE ?\r\n* ???"},{"labels":["documentation",null],"text":"Allow user to customize the Directus default email templates.\r\n\r\nUsers has requested a way to replace the current emails template with their own.\r\n\r\nAdding a new directory in `/customs` will allow them to create a template with the same name, having the custom template priority over the default one."},{"labels":["documentation"],"text":"Allow users to add hooks from extensions and customs"},{"labels":["documentation"],"text":"Allow users to add customs extensions and endpoints"}]