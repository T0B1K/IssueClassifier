[{"classified_as": "api", "text": "The method name is a typo, and should probably be deprecated in favor of the correct spelling."}, {"classified_as": "api", "text": "Duplicate of #1223\n"}, {"classified_as": "api", "text": "I just recently updated to TNS 2.2.1 from 2.1.x (iOS). My app was using nested observables to function, and in the recent update of TNS, #2457, fixed so you don't need nested observables. However, this is now breaking my app workflow because when navigating to a view that has nested observables, will do nothing. Nothing as in not navigating to that view.\n\nWhat I need to do is recode everything so there are no nested observables. I am okay with this, but I need to know why such a big change breaks due to an update? I mean, shouldn't the nested observable just be ignored and be served as just a normal value (non-observable)?\n"}, {"classified_as": "api", "text": "If a spec is invalid (for example, reference an external file that does not exist), we end up rendering the spec but we produce error in the console and some of the functionality of the UI doesn't work (expanding operations).\r\n\r\nWe need to figure out a better way to handle these cases."}, {"classified_as": "bug", "text": "I'm creating two `ApiPromise` instances, one use to connect Kusama network and the other use to connect Polkadot network. When I use the two instances to call `paymentInfo` for estimate tx fee at the same time, then get error below:\r\n\r\n`RPC-CORE: queryInfo(extrinsic: Bytes, at?: BlockHash): RuntimeDispatchInfo:: 2: Unable to query dispatch info.: Error decoding field Call :: Authorship.0`\r\n\r\nmy code:\r\n\r\n    const kusamaApi = new ApiPromise({ provider: kusamaProvider });\r\n    await kusamaApi.isReady;\r\n    const polkadotApi = new ApiPromise({ provider: polkadotProvider });\r\n    await polkadotApi.isReady;\r\n\r\n    const transfer = await kusamaApi.tx.balances.transfer(\"Efc2jfxwUVUrjCSs4t3o6QJU3R8xqtHpwDvhD2f1oKactFX\", 1)\r\n        .paymentInfo(\"Efc2jfxwUVUrjCSs4t3o6QJU3R8xqtHpwDvhD2f1oKactFX\");\r\n\r\n    const transfer2 = await polkadotApi.tx.balances.transfer(\"136HWkbAAtk2YcPX41813HsTB58YrUdFT47fTqk4668c4Fkv\", 1)\r\n        // this call will get error\r\n        .paymentInfo(\"136HWkbAAtk2YcPX41813HsTB58YrUdFT47fTqk4668c4Fkv\");\r\n"}, {"classified_as": "bug", "text": "v 2.16 updated from master on 01/06/2020.\r\n\r\nExisting Gift records are not displayed.\r\n\r\nThe following error message is displayed when attempting to add a new 'gift' record.\r\n\r\nWhoops! Something went wrong.\r\nKey path \"file:///var/www/monica/storage/oauth-public.key\" does not exist or is not readable\r\n\r\n"}, {"classified_as": "bug", "text": "If we create a new instance of the `Method` class, it is understood based on discussion with @amaurymartiny that the current functionality of the `args` getter is ok, and the FIXME as shown [here](https://github.com/polkadot-js/api/blob/master/packages/types/src/Method.ts#L170) is no longer required.\r\n\r\nFor example, when you go to http://localhost:3000/#/extrinsics and click Submit Transaction, and you want to obtain the recipientId (dest) and amount (value) from the prop `this.props.value.extrinsic` that passed down to polkadot-js/apps/packages/ui-signer/src/Extrinsic.tsx, then \r\n\r\n```\r\nconst methodInstance = new Method(extrinsic, extrinsic.meta);\r\n\r\n// WRONG - do not use `.raw`. \r\n// See https://github.com/polkadot-js/apps/pull/389#discussion_r230735365\r\n// const recipientId = methodInstance.args[0].raw.toString();\r\n// const amount = methodInstance.args[1].raw.toString();\r\n\r\n// WRONG - suggested in the FIXME, but not preferred approach\r\n// const recipientId = methodInstance.args.get('dest').toString();\r\n// const amount = methodInstance.args.get('value').toString();\r\n\r\n// RIGHT\r\nconst recipientId = methodInstance.get('args').get('dest').toString();\r\nconst amount = methodInstance.get('args').get('value').toString();  // or .toBn().toString()\r\n```\r\n\r\nProposed action is to remove the following [FIXME](https://github.com/polkadot-js/api/blob/master/packages/types/src/Method.ts#L170)\r\n```\r\nget args (): Array<Base> {\r\n    // FIXME This should return a Struct instead of an Array\r\n    return [...(this.get('args') as Struct).values()];\r\n  }\r\n```\r\n\r\n"}, {"classified_as": "bug", "text": "... Alternatively, just use the testing keyring, i.e. https://polkadot.js.org/api/examples/promise/06_make_transfer/ would become\r\n\r\n```js\r\nconst { ApiPromise } = require('@polkadot/api');\r\nconst testKeyring = require('@polkadot/keyring/testingPairs').default;\r\n\r\nasync function main () {\r\n  const api = await ApiPromise.create();\r\n  const keyring = testingKeyring();\r\n\r\n  // all dev keys are on this test keyring as `.bob`, `.alice`, `.eve`, etc\r\n  await api.balances\r\n    .transfer(keyring.bob.address(), 12345)\r\n    .signAndSend(keyring.alice);\r\n}\r\n```\r\n\r\ncc @mattrutherford"}, {"classified_as": "api", "text": "The documentation specifies correctly that the css type-selectors are case in-sensitive; but does not say anything about the properties case sensistivity.   Since, in the browser I can do \ndiv { baCKgrouND-colOr: blUe; }  and it works; you would naturally assume that in NativeScript you could do the same thing...   Nope; apparently the property names are case sensitive and must be all lower case.  So why don't we have the css parser automatically lowercase the property name so that Button { Background-Color: Blue; } then works properly as expected!\n\nNow to fix this we have a couple of choices:\n1. css\\reworkcss.js on line 232 we can append a .toLowerCase() to the place the property is assigned and returned.\n2. In Style-scope, I can update the createSelectorsFromSyntaxTree function and add the toLowerCase() in their.\n3. I haven't traced this down, but where ever it goes to set the style property when the rule matches; make it case automatically lowercase the property before it assigns it.\n\nThe quickest fix is to do it in reworkcss; but that means you have your own non-stock reworkcss.js file.   I hate when that happens in my projects...\nSo I am leaning toward 2 -- so that way the fix is in the code you control -- I can do the style-scope change fairly easily and that routine should actually be more performant when I'm done.  :grinning: \n\nThoughts?\n"}, {"classified_as": "bug", "text": "<img width=\"565\" alt=\"polkadot-js api type definitions promise- and reactive-based apis around substrate rpc calls 2018-10-12 21-56-10\" src=\"https://user-images.githubusercontent.com/1424473/46891310-bcd89a80-ce69-11e8-947f-2e17cd34715c.png\">\r\n"}, {"classified_as": "api", "text": "See #1855. \n"}, {"classified_as": "bug", "text": "Refs: https://github.com/microsoft/vscode/issues/96279\r\n\r\n![image](https://user-images.githubusercontent.com/900690/80489190-c0eedf00-895f-11ea-8177-01be4c24f4b4.png)\r\n\r\nI got this by clicking on the \"Open File\" quick action from the Git changes view."}, {"classified_as": "bug", "text": "Only one matplotlibrc file is loaded instead of loading them in order of decreasing scope. So when I added a matplotlibrc file in my home directory it unexpectedly changed the backend that was being set in `INSTALL/matplotlib/mpl-data/matplotlibrc` because that file was no longer being loaded. I expected matplotlib to load the global (install) config and then apply my config on top of that.\n"}, {"classified_as": "api", "text": "Since #6336 there's an issue where metadata gets doubled if a recalculation is deemed necessary. The reason is that we will have loaded the existing metadata, then do a recalc by adding all files without clearing it first."}, {"classified_as": "bug", "text": "Hello,\n\nI'm trying to parse a file with the extension 'xls' which is not an Excel file but it's clearly an html file (open with a text editor it's clearly html code).\n\nOne of my columns uses the italian convention of using the comma instead of the dot before decimals: 5,5 instead of 5.5. I was hoping to parse it at least as string and replace commas with dots and convert the string to a float.\n\nThe problem is that the commas are completely ignored and instead of getting 5,5 or 7,04, I'm getting 55 and 704.\n\nIs this known? Any idea on how to solve it?\n"}, {"classified_as": "bug", "text": "For 0.14 or later, after #4039 is merged this becomes a todo item for the future.\n"}, {"classified_as": "bug", "text": "When trying to query all the nominators from a `linked_map`:\r\n\r\n```\r\nlet result = await api.query.staking.nominators();\r\nconsole.log(JSON.stringify(result));\r\n```\r\n\r\nI get the error:\r\n\r\n```\r\nTypeError: Cannot read property 'next' of undefined\r\n    at SwitchMapSubscriber.project (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/@polkadot/api/base/Decorate.js:289:19)\r\n    at SwitchMapSubscriber._next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/operators/switchMap.js:49:27)\r\n    at SwitchMapSubscriber.Subscriber.next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/Subscriber.js:66:18)\r\n    at ReplaySubject.Subject.next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/Subject.js:60:25)\r\n    at ReplaySubject.nextInfiniteTimeWindow (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/ReplaySubject.js:48:31)\r\n    at ConnectableSubscriber.Subscriber._next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/Subscriber.js:89:26)\r\n    at ConnectableSubscriber.Subscriber.next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/Subscriber.js:66:18)\r\n    at DistinctUntilChangedSubscriber._next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/operators/distinctUntilChanged.js:69:30)\r\n    at DistinctUntilChangedSubscriber.Subscriber.next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/Subscriber.js:66:18)\r\n    at CatchSubscriber.Subscriber._next (/Users/shawntabrizi/Documents/GitHub/substrate-one-million-remarks/node_modules/rxjs/internal/Subscriber.js:89:26)\r\n```\r\n\r\nBut calling `validators()` work just fine :)"}, {"classified_as": "api", "text": "We have not migrated and are still using a combination of development and production databases on Parse. We have an array of pointers column on our _User class. It used to be that calling Parse.addUnique(\"students\", StudentObj); would save a reference pointer to the students but now the server seems to be populating the array with the full objects of each \"student\" _User class.\n\nAdditionally, this is causing a series of problems because calling \"include\" on _User for the students array of pointers is now simply returning an assorted array with some rows only having an ObjectID and some having a full (but out of date) object. What happened to the proper reference pointer logic?\n"}, {"classified_as": "api", "text": "rel/details: https://github.com/playproject-io/datdot-substrate/issues/18\r\n\r\nWhen we make the same extrinsic call using multiple accounts (calling signAndSend on the same extrinsic using multiple pairs) practically simultaneously, the callback object appears to return the same events for every call - when each call should in reality return unique events.\r\n\r\nHere is the exact code where this occurs:\r\n\r\nhttps://github.com/joshua-mir/datdot-service/blob/e5ee50b3b5080c9cafaae71cae9deff2e6ec249b/index.js#L175-L228\r\n\r\nI have confirmed that we see every expected event separately in the UI - so this appears to be an issue specific to events in callbacks."}, {"classified_as": "bug", "text": "Hello,\r\n\r\nIn the example below based on the twin axes example, if a user mis-spells the y_range_name there is no check on the python side for a y_range that matches that name existing at glyph creation or document creation (`show(p)`). Rather an error is reported in JS of `Cannot read property 'v_synthetic' of undefined`.\r\n\r\n\r\nOn Bokeh 0.12.10, Python 2.7, Win64, Chrome (Version 62.0.3202.94 (Official Build) (64-bit)).\r\n\r\n```\r\nfrom numpy import pi, arange, sin, linspace\r\n\r\nfrom bokeh.plotting import output_file, figure, show\r\nfrom bokeh.models import LinearAxis, Range1d\r\n\r\nx = arange(-2*pi, 2*pi, 0.1)\r\ny = sin(x)\r\ny2 = linspace(0, 100, len(y))\r\n\r\noutput_file(\"twin_axis.html\")\r\n\r\np = figure(x_range=(-6.5, 6.5), y_range=(-1.1, 1.1))\r\n\r\np.circle(x, y, color=\"red\")\r\n\r\np.extra_y_ranges = {\"foo\": Range1d(start=0, end=100)}\r\np.circle(x, y2, color=\"blue\", y_range_name=\"oof\")\r\np.add_layout(LinearAxis(y_range_name=\"foo\"), 'left')\r\n\r\nshow(p)\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/22305345/34007950-b2f1d86e-e0d1-11e7-97e4-25d039212421.png)\r\n\r\n```\r\nUncaught TypeError: Cannot read property 'v_synthetic' of undefined\r\n    at e.r.GlyphView.r.set_data (bokeh-0.12.10.min.js:27)\r\n    at e.r.GlyphRendererView.e.set_data (bokeh-0.12.10.min.js:31)\r\n    at e.r.GlyphRendererView.e.initialize (bokeh-0.12.10.min.js:31)\r\n    at e.t (bokeh-0.12.10.min.js:22)\r\n    at e [as constructor] (bokeh-0.12.10.min.js:1)\r\n    at e [as constructor] (bokeh-0.12.10.min.js:31)\r\n    at new e (bokeh-0.12.10.min.js:31)\r\n    at Object.r.build_views (bokeh-0.12.10.min.js:1)\r\n    at e.r.PlotCanvasView.e.build_levels (bokeh-0.12.10.min.js:30)\r\n    at e.r.PlotCanvasView.e.initialize (bokeh-0.12.10.min.js:30)\r\n```"}, {"classified_as": "bug", "text": "\r\n**TypeScript Version:**  3.6.0-dev.20190724\r\n\r\n**Search Terms:**\r\nCompiler API, createWatchCompilerHost, watch Diagnostic\r\n\r\n**Code**\r\n\r\n```ts\r\nconst host = ts.createWatchCompilerHost(\r\n    'C://path/to/my/tsconfig.json',\r\n    {},\r\n    ts.sys,\r\n    ts.createEmitAndSemanticDiagnosticsBuilderProgram,\r\n    () => {},\r\n    handleWatchStatusChanged,\r\n);\r\n\r\nfunction handleWatchStatusChanged( diagnostic: Diagnostic )\r\n{\r\n    switch ( diagnostic.code )\r\n    {\r\n        case 6031:    // Initial build\r\n        case 6032:    // Incremental build\r\n            console.log( 'Building...' );\r\n        case 6193:    // 1 Error\r\n            console.log( 'Build Failure. There was 1 error while building.' );\r\n        case 6194:    // 0 errors or 2+ errors\r\n            console.log( 'Maybe success?' );\r\n}\r\n```\r\n\r\n**Expected behavior:**\r\nThe watch status changed `diagnostic.code` would differentiate between a successful build and a build with errors.\r\n\r\n**Actual behavior:**\r\nCurrently `diagnostic.code` can differentiate between:\r\n- There was one single error with the build.\r\n- There were either no errors or more than one error.\r\n\r\nIt looks like [this code](https://github.com/microsoft/TypeScript/blob/1bd631e593c1f3cf3ec0bd8ccba27d67094a158a/src/compiler/watch.ts#L95) in `watch.ts` is where the explict `errorCount === 1` check happens.\r\n"}, {"classified_as": "api", "text": "This is a regression:\r\n\r\nconst api = await ApiPromise.create();\r\nconst fees = await api.derive.balance.fees(); // fees has type any\r\n\r\n\r\nLooking a bit in detail, it might be related to the refactor of interfaces to types/src/interface.\r\n\r\nSo yarn build generates the the .d.ts files, and having a look at api/build/base/Decorate.d.ts, it says for the derive:\r\n\r\n\r\n        balances: {\r\n            all: import(\"../types\").MethodResult<ApiType, (address: string | import(\"../../../types/src/interfaces\").AccountId | import(\"../../../types/src/interfaces\").AccountIndex | import(\"../../../types/src/interfaces\").Address) => Observable<import(\"../../../api-derive/src/types\").DerivedBalances>>;\r\n            votingBalance: import(\"../types\").MethodResult<ApiType, (address: string | import(\"../../../types/src/interfaces\").AccountId | import(\"../../../types/src/interfaces\").AccountIndex | import(\"../../../types/src/interfaces\").Address) => Observable<import(\"../../../api-derive/src/types\").DerivedBalances>>;\r\n            fees: import(\"../types\").MethodResult<ApiType, () => Observable<import(\"../../../api-derive/src/types\").DerivedFees>>;\r\n            votingBalances: import(\"../types\").MethodResult<ApiType, (addresses?: (string | import(\"../../../types/src/interfaces\").AccountId | import(\"../../../types/src/interfaces\").AccountIndex | import(\"../../../types/src/interfaces\").Address)[] | undefined) => Observable<import(\"../../../api-derive/src/types\").DerivedBalances[]>>;\r\n            votingBalancesNominatorsFor: import(\"../types\").MethodResult<ApiType, (address: string | import(\"../../../types/src/interfaces\").AccountId | import(\"../../../types/src/interfaces\").AccountIndex | import(\"../../../types/src/interfaces\").Address) => Observable<import(\"../../../api-derive/src/types\").DerivedBalances[]>>;\r\n        };\r\n\r\n\r\nAnd ../../../types/src/interfaces doesn't exists once we're out out @polkadot/api.\r\n\r\nSo the idea is to force that yarn build to use @polkadot/types there. I don't have a strong clue how to do that, but will have a look next week.\r\n\r\nNote: checkTypes.manual.ts works perfectly well."}, {"classified_as": "api", "text": "When I tested the contract rpc call method, the main code is as follows:\r\n\r\nimport { Abi, PromiseContract as ApiContract } from '@polkadot/api-contract';\r\nimport { ContractCallOutcome } from '@polkadot/api-contract/types';\r\nimport { ApiPromise } from '@polkadot/api';\r\nimport { stringToU8a,hexToU8a,hexToString,u8aToHex } from'@polkadot/util';\r\nimport * as get_method_test from \"../contract_test.json\";\r\n\r\nconst abi_str = (<any>get_method_test);\r\nconst abi = getAbiObj(abi_str);\r\n\r\nnew ApiPromise().isReady.then((api) => {\r\n \r\n    const contractApi = new ApiContract(api, abi, \"5EUE4FAE9wGyxhKdFkhNsm9T8x55VRACzzpPpMDyWEE6h1is\");\r\n    const {fn,def} = contractApi.getMessage(\"get_original_nonce\");\r\n    let data = fn();\r\n    console.log(\"message data:\"+u8aToHex(data)); \r\n    const contract_method = contractApi.call('rpc',def.name,0,500000);\r\n     contract_method.send(\"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY\").then(\r\n        (outcome:ContractCallOutcome):void =>{\r\n            console.log(\"isSuccess:\"+outcome.isSuccess+\",value:\"+outcome.output.toString());\r\n        }\r\n    );\r\n});\r\n\r\nAn error message appears when I run:\r\n\r\n(node:26072) UnhandledPromiseRejectionWarning: ReferenceError: name is not defined\r\n    at PromiseContract.getMessage (/home/jeremy/work/demo/typescript/substrate-ts-api-test/node_modules/@polkadot/api-contract/base/util.js:38:100)\r\n    at /home/jeremy/work/demo/typescript/substrate-ts-api-test/src/index.ts:13:11\r\n\r\nAccording to the prompt, I find the corresponding file and modify the field corresponding to the line 31,38: After the name is changed to def.name, the program can run normally.But seeing that your [apps](https://polkadot.js.org/apps/#/explorer) is working fine, I don't know if I am calling the wrong way.\r\nI use @polkadot/api-contract,@polkadot/api version is 0.96.0-beta.34,test using [ABI](https://github.com/polkadot-js/api/files/3818526/contract_test.txt)\r\n"}, {"classified_as": "bug", "text": "\r\nPseudo code:\r\n```js\r\nlet unsub: Function | undefined;\r\n\r\napi.query.balances.balanceOf\r\n  .multi(addresses)\r\n  .then((_usub) => unsub = _unsub);\r\n```\r\n\r\nHere `_usub` is of type `Codec[]` and is not assignable to type `Function`.\r\n\r\nIn case it can be any usefull, an example implementation can be found [here](https://github.com/Tbaut/basic-substrate-ui-template/blob/one-account/src/Balances.tsx#L27)."}, {"classified_as": "api", "text": "By giving subdirs ending in slash, which is no longer accepted. We should accept that again."}, {"classified_as": "bug", "text": "\r\n## Context\r\nI have tried almost all possible solutions provided in this thread https://github.com/spree/spree/issues/9605 but its not working . Still getting invalid_grant while creating token from postman as well as from app. From postman it never works. from app it works sometimes and sometimes not.   \r\n\r\nThis is the setup i gave. \r\n![Screenshot from 2019-11-12 12-17-45](https://user-images.githubusercontent.com/10785334/68648693-0866e780-0547-11ea-9bde-ddb7ec0eb7a5.png)\r\n\r\n\r\n## Expected Behavior\r\nShould return token as per documentation\r\n\r\n"}, {"classified_as": "api", "text": "> nodeJs console.log(api); : \r\n\r\napi:---- ApiPromise {\r\n  _eventemitter: EventEmitter { _events: { error: [EE] }, _eventsCount: 1 },\r\n  _extrinsics:\r\n   { timestamp: { set: [Function] },\r\n     consensus:\r\n      { reportMisbehavior: [Function],\r\n        noteOffline: [Function],\r\n        remark: [Function],\r\n        setHeapPages: [Function],\r\n        setCode: [Function],\r\n        setStorage: [Function] },\r\n     balances: { transfer: [Function], setBalance: [Function] },\r\n     session:\r\n      { setKey: [Function],\r\n        setLength: [Function],\r\n        forceNewSession: [Function] },\r\n     staking:\r\n      { stake: [Function],\r\n        unstake: [Function],\r\n        nominate: [Function],\r\n        unnominate: [Function],\r\n        registerPreferences: [Function],\r\n        setSessionsPerEra: [Function],\r\n        setBondingDuration: [Function],\r\n        setValidatorCount: [Function],\r\n        forceNewEra: [Function],\r\n        setOfflineSlashGrace: [Function] },\r\n     democracy:\r\n      { propose: [Function],\r\n        second: [Function],\r\n        vote: [Function],\r\n        startReferendum: [Function],\r\n        cancelReferendum: [Function],\r\n        cancelQueued: [Function] },\r\n     council:\r\n      { setApprovals: [Function],\r\n        reapInactiveVoter: [Function],\r\n        retractVoter: [Function],\r\n        submitCandidacy: [Function],\r\n        presentWinner: [Function],\r\n        setDesiredSeats: [Function],\r\n        removeMember: [Function],\r\n        setPresentationDuration: [Function],\r\n        setTermDuration: [Function] },\r\n     councilVoting:\r\n      { propose: [Function],\r\n        vote: [Function],\r\n        veto: [Function],\r\n        setCooloffPeriod: [Function],\r\n        setVotingPeriod: [Function] },\r\n     councilMotions: { propose: [Function], vote: [Function] },\r\n     grandpa: { reportMisbehavior: [Function] },\r\n     treasury:\r\n      { proposeSpend: [Function],\r\n        setPot: [Function],\r\n        configure: [Function],\r\n        rejectProposal: [Function],\r\n        approveProposal: [Function] },\r\n     contract: { call: [Function], create: [Function] },\r\n     upgradeKey: { upgrade: [Function], setKey: [Function] },\r\n     sudo: { sudo: [Function], setKey: [Function] } },\r\n  _genesisHash:\r\n ... ...\r\n\r\n**It's complete.**\r\n------\r\n\r\n> But the RN console.log(api); :\r\n\r\n\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS: 'api:-------', { _eventemitter: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:    { _events: { error: { fn: [Function], context: [Circular], once: true } },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:      _eventsCount: 1 },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:   _extrinsics: {},\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:   _genesisHash: {},\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:   _query: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:    { substrate: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:       { code: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:          { [Function: decorated]\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:            at: [Function],\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:            meta: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:             { documentation: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                [ { '0': 'W',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '1': 'a',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '2': 's',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '3': 'm',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '4': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '5': 'c',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '6': 'o',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '7': 'd',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '8': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '9': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '10': 'o',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '11': 'f',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '12': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '13': 't',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '14': 'h',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '15': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '16': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '17': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '18': 'u',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '19': 'n',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '20': 't',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '21': 'i',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '22': 'm',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '23': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '24': '.' },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                  _Type: [Function: Text] ],\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:               modifier: { raw: 0, _enum: [ 'None', 'Default', 'Required' ] },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:               type: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                { raw: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                   { '0': 'B',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                     '1': 'y',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                     '2': 't',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                     '3': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                     '4': 's',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                     _originalLength: 6 },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                  _def: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                   { Type: [Function: Type],\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                     'StorageFunctionType$Map': [Function: StorageFunctionType$Map] },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                  _index: 0,\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                  _indexes: [ 0, 1 ] },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:               toJSON: [Function: toJSON] },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:            method: 'code',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:            section: 'substrate',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:            toJSON: [Function] },\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:         heapPages: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:          { [Function: decorated]\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:            at: [Function],\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:            meta: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:             { documentation: \r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                [ { '0': 'N',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '1': 'u',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '2': 'm',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '3': 'b',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '4': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '5': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '6': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '7': 'o',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '8': 'f',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '9': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '10': 'w',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '11': 'a',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '12': 's',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '13': 'm',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '14': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '15': 'l',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '16': 'i',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '17': 'n',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '18': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '19': 'a',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '20': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '21': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '22': 'm',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '23': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '24': 'm',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '25': 'o',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '26': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '27': 'y',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '28': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '29': 'p',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '30': 'a',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '31': 'g',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '32': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '33': 's',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '34': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '35': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '36': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '37': 'q',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '38': 'u',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '39': 'i',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '40': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '41': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '42': 'd',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '43': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '44': 'f',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '45': 'o',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '46': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '47': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '48': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '49': 'x',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '50': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '51': 'c',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '52': 'u',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '53': 't',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '54': 'i',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '55': 'o',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '56': 'n',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '57': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '58': 'o',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '59': 'f',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '60': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '61': 't',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '62': 'h',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '63': 'e',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '64': ' ',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '65': 'r',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '66': 'u',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '67': 'n',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '68': 't',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '69': 'i',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '70': 'm',\r\n01-01 16:48:57.505  3704  3735 I ReactNativeJS:                    '7\r\n\r\nIt\u2018s incomplete, so.. such as api.query.xxxx,  api.extrinsics, api.tx, and more, can't to be working.\r\n![_ _20181222002106](https://user-images.githubusercontent.com/34789555/50574587-4626ba00-0e26-11e9-855f-62d8bf4c0569.png)\r\n\r\n"}, {"classified_as": "api", "text": "In the example given: \n\n\n// if you have an apiKey you would like to pre-populate on the page for demonstration purposes...\n  /*\n    var apiKey = \"myApiKeyXXXX123456789\";\n    $('#input_apiKey').val(apiKey);\n    addApiKeyAuthorization();\n  */\n\n\nYou need to delete addApiKeyAuthorization(); from this in the dist/index.html file. This took me an hour to learn this should only be called in onComplete:....\n"}, {"classified_as": "api", "text": "i.e. versionString becomes versionText. We need the same logic we apply in boxing (that checks for a valid start, before replace).\r\n\r\nFix this -\r\n\r\nhttps://github.com/polkadot-js/api/pull/1951/files#diff-16721fcfbabb6adf34be1260e3ca19c3R65-R70"}, {"classified_as": "api", "text": "when call extrinsic, api will hang there and no errors will be thrown when sender has no enough balance. there used to throw invalid extrinsic when the same situation"}, {"classified_as": "api", "text": "See https://github.com/polkadot-js/apps/pull/774#issuecomment-468997208 after https://github.com/polkadot-js/api/pull/739"}, {"classified_as": "bug", "text": "Hello,\r\n\r\nIn the example below based on the twin axes example, if a user mis-spells the y_range_name there is no check on the python side for a y_range that matches that name existing at glyph creation or document creation (`show(p)`). Rather an error is reported in JS of `Cannot read property 'v_synthetic' of undefined`.\r\n\r\n\r\nOn Bokeh 0.12.10, Python 2.7, Win64, Chrome (Version 62.0.3202.94 (Official Build) (64-bit)).\r\n\r\n```\r\nfrom numpy import pi, arange, sin, linspace\r\n\r\nfrom bokeh.plotting import output_file, figure, show\r\nfrom bokeh.models import LinearAxis, Range1d\r\n\r\nx = arange(-2*pi, 2*pi, 0.1)\r\ny = sin(x)\r\ny2 = linspace(0, 100, len(y))\r\n\r\noutput_file(\"twin_axis.html\")\r\n\r\np = figure(x_range=(-6.5, 6.5), y_range=(-1.1, 1.1))\r\n\r\np.circle(x, y, color=\"red\")\r\n\r\np.extra_y_ranges = {\"foo\": Range1d(start=0, end=100)}\r\np.circle(x, y2, color=\"blue\", y_range_name=\"oof\")\r\np.add_layout(LinearAxis(y_range_name=\"foo\"), 'left')\r\n\r\nshow(p)\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/22305345/34007950-b2f1d86e-e0d1-11e7-97e4-25d039212421.png)\r\n\r\n```\r\nUncaught TypeError: Cannot read property 'v_synthetic' of undefined\r\n    at e.r.GlyphView.r.set_data (bokeh-0.12.10.min.js:27)\r\n    at e.r.GlyphRendererView.e.set_data (bokeh-0.12.10.min.js:31)\r\n    at e.r.GlyphRendererView.e.initialize (bokeh-0.12.10.min.js:31)\r\n    at e.t (bokeh-0.12.10.min.js:22)\r\n    at e [as constructor] (bokeh-0.12.10.min.js:1)\r\n    at e [as constructor] (bokeh-0.12.10.min.js:31)\r\n    at new e (bokeh-0.12.10.min.js:31)\r\n    at Object.r.build_views (bokeh-0.12.10.min.js:1)\r\n    at e.r.PlotCanvasView.e.build_levels (bokeh-0.12.10.min.js:30)\r\n    at e.r.PlotCanvasView.e.initialize (bokeh-0.12.10.min.js:30)\r\n```"}, {"classified_as": "api", "text": "Should look at mtime of when the file was archived, not mtime of the file.\r\nTo be honest, we should probably swap the two to start with, for easier search by users."}, {"classified_as": "bug", "text": "confirmed broken:\r\n~~subscribeNewHead~~ Doesn't seem to appear broken anymore\r\n~~account.id lookups~~ Fixed by https://github.com/polkadot-js/api/pull/831/\r\n\r\n"}, {"classified_as": "bug", "text": "along with the others in `src/common/utils/`"}, {"classified_as": "bug", "text": "Right now on head (24031f50d6610dc9f695398893d3e6459957ee6e) if you run \n\n```\nmake generated_code\n```\n\nit will end up having a modified pkg/generated/openapi/zz_generated.openapi.go file. This happened because some type has been changed and this file should have been generated before commit, and verification should have failed but they didn't.\n"}, {"classified_as": "bug", "text": "**Please describe the problem you are having in as much detail as possible:**\r\nFirst, according the documentations\r\nThis methods:\r\nhttps://discord.js.org/#/docs/main/stable/class/Guild?scrollTo=createChannel\r\nif the bridge to this api endpoint:\r\nhttps://discordapp.com/developers/docs/resources/guild#create-guild-channel\r\n\r\nI would like to specified an parent_id when I create the channel because if I use this:\r\n```js\r\nlastVoiceChannel.clone(name).then(channel => {\r\n    channel.setParent(parent_id);\r\n});\r\n```\r\nthe clients see the channel at the top of the discord server and just after that the channel move to his final location.\r\nWhen I tried to delete the channel from the api request the new channel dont appear as a child of the category so my script don't work.\r\nBut if I create the channel with:\r\n```js\r\nrequest({\r\n    method: 'POST',\r\n    uri: 'https://discordapp.com/api/v6/guilds/discord_server_id/channels',\r\n    headers: {\r\n        'Authorization': \"Bot bot_token\",\r\n        'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n        name: 'channel_name',\r\n        type: 2,\r\n        parent_id: \"parent_id\"\r\n    })\r\n},\r\nfunction (error, response, body) {\r\n    if (error) {\r\n        return console.error('command failed:', error);\r\n    }\r\n    console.log('Server responded with:', body);\r\n});\r\n```\r\nThis works perfectly\r\n\r\nNote: there is also other options like bitrate, user_limit_nsfw\r\n\r\n**Further details:**\r\n- discord.js version: 11.3.0\r\n- node.js version: v8.9.4\r\n- Operating system: Ubuntu\r\n- Priority this issue should have \u2013 please be realistic and elaborate if possible:\r\n\r\n<!--\r\nIf either of these applies to you, please check the respective checkbox: [ ] becomes [x].\r\nYou don't have to modify the text to suit your particular situation, if you want to\r\nelaborate please do so in the description.\r\nWhile it's not a requirement to test your issue on the master branch, it would make fixing\r\nthe problem a lot easier for us, so please do it if possible.\r\n-->\r\n- [ ] I found this issue while running code on a __user account__\r\n- [ ] I have also tested the issue on latest master, commit hash:\r\n"}, {"classified_as": "api", "text": "We need a length - progress here https://github.com/polkadot-js/api/blob/master/packages/api-derive/src/staking/info.ts#L54"}, {"classified_as": "bug", "text": "tx signing is broken after update :("}, {"classified_as": "bug", "text": "<!--  Do Not Delete This! bug_report_template  -->\r\n<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->\r\n<!-- Please search existing issues to avoid creating duplicates. -->\r\n<!-- Also please test using the latest insiders build to make sure your issue has not already been fixed: https://code.visualstudio.com/insiders/ -->\r\n\r\n<!-- Use Help > Report Issue to prefill these. -->\r\n- VSCode Version: 1.45.0-insiders (repros with non-insiders too)\r\n- OS Version: Windows\r\n\r\nSteps to Reproduce:\r\n\r\n1. Install the C/C++ extension (may repro with other extensions). Our extension uses\r\n\r\n```typescript\r\n    class SchemaProvider {\r\n        provideTextDocumentContent(uri) { // When the bug occurs this doesn't get called by VS Code\r\n            return __awaiter(this, void 0, void 0, function* () {\r\n\t\t// ...\r\n                return // file contents\r\n            });\r\n        }\r\n    }\r\n// This register always gets called by our extension\r\n    vscode.workspace.registerTextDocumentContentProvider('cpptools-schema', new SchemaProvider());\r\n```\r\n2. Create a blank test.cpp file (to activate our C/C++ extension).\r\n3. Use the C/C++: Edit Configuration (JSON) command to create a new c_cpp_properties.json.\r\n4. Keep using reload window until the bug randomly repros (repro probability is high for me, it doesn't repro when debugging our extension). Other members of our team and some of our extension users have also hit this, but some people do not repro it.\r\n\r\nBug: See the screenshot. It fails to load the schema. It gets fixed after clicking the retry button in the status bar that appears.\r\n\r\n![image](https://user-images.githubusercontent.com/19859882/79806171-a2b03000-831c-11ea-8c2b-903ab20bb8ff.png)\r\n\r\nOriginally reported at https://github.com/microsoft/vscode-cpptools/issues/4841 .\r\n\r\n<!-- Launch with `code --disable-extensions` to check. -->\r\nDoes this issue occur when all extensions are disabled?: Requires our C/C++ extension but we don't believe it's our bug.\r\n\r\n"}, {"classified_as": "bug", "text": "While sending, status from extrinsic submission -\r\n\r\n<img width=\"495\" alt=\"Polkadot:Substrate Portal 2019-03-16 17-48-45\" src=\"https://user-images.githubusercontent.com/1424473/54478564-d9f80780-4813-11e9-99ca-7ffde3d32b86.png\">\r\n"}, {"classified_as": "api", "text": "Commit 4599d5841353fdf8096191c30a592fedc844efce an incomplete/incorrect fix.\r\n\r\nIn IdManager.h, id_traits has its static variables assigned inline, right where they are declared.  This is incorrect unless the inline keyword is used.  I'm not a C++ expert but the current code may violate the One Definition Rule.  Without the inline keyword, the linkage works strangely, which is the source of the undefined reference error on debug builds.\r\n\r\nOne solution besides inline would be out-of line declarations of the static variables, but this is tricky because of the void_t.  Once implemented, this solution causes gcc to complain about the use of non-contexpr variables in the static_assert, so it does not work.\r\n\r\nThe best solution IMO is to replace the const keyword with constexpr for base, step, count, and invalid in both specializations of id_traits.  This makes the static_assert in the second class template valid, and it also fixes the undefined reference error.\r\n\r\nRegardless, a new local variable in the destructor of sys_vm_t is not a good fix."}, {"classified_as": "api", "text": "(I did not actually verify if this is a real issue)\r\n\r\nhttps://github.com/polkadot-js/api/pull/798#discussion_r271116857\r\n\r\n> DoubleMapType only exists in v3 so this should fail if trying to convert a metadata includes double to v2.\r\nOne way to solve this (without refactor everything to make it upgrade instead of downgrade), is duplicate DoubleMapType in v2 like how I retrofit is_linked in v1\r\n\r\n"}, {"classified_as": "api", "text": "**Original bug ID:** 7698\n**Reporter:** jfehrle\n**Assigned to:** @Octachron\n**Status:** assigned (set by @Octachron on 2018-01-02T13:58:02Z)\n**Resolution:** open\n**Priority:** normal\n**Severity:** minor\n**Version:** 4.06.0\n**Category:** documentation\n**Monitored by:** @nojb @Yakobowski\n\n## Bug description\n\nI found \"The OCaml system release 4.06\" was not so easy to read and understand.  This will tend to slow down and discourage people who want to learn and use OCaml.  I will be looking at some OCaml books, but so far I haven't found one that looks to be what I want.  Something that's as readable as \"The C Programming Language\" would be fabulous.\r\n\r\nThese comments are for the first 2 1/2 chapters.  I'd be happy to a) read revisions and b) submit comments on the other chapters if someone undertakes improving the document.\n\n## Additional information\n\nOCaml Comments:\r\n\r\nPage 13:\r\n\r\n\u201cA good familiarity with programming in conventional languages (say, Pascal or C) is assumed, but no prior exposure to functional languages is assumed.\u201d\r\n\r\nThe text assumes a number of details that would be unfamiliar to a C programmer.  No need to mention Pascal any more, it is little used.  You might refer to Java or C++, which could be useful for comparison in Chapter 3.\r\n\r\n\r\n\u201c1.1 Basics\u201d\r\n\r\nI\u2019d like a very high-level overview of OCaml in just a few pages before seeing any examples.  This is to get context and so I have an idea what to expect in the document before providing a full discussion of a topic.  Some repetition is helpful to the reader. From my OCaml beginner\u2019s perspective, some of the interesting points to get out early would be:\r\n-\tThe extensive type system\r\n-\tType inference (but you can specify explicitly when necessary in some places?)\r\n-\tThe use of type variables\r\n-\tCreating variant types that are unions of other types\r\n-\tThe fact that the type checking is totally rigorous and that there are no automatic conversions\r\n-\tThat type information is not available at runtime (unlike Reflection in Java, for example).\r\n-\tData types (primitive, arrays, lists, tuples, records, classes/objects, ?)\r\n-\tPatterns\r\n-\tSupport for functional, imperative and object-oriented paradigms\r\n-\tModules for managing large projects\r\n-\tDifferences between the top level and compiled programs (e.g. for modules)  (Note that the top level is good for experimentation but probably not as useful for large multi-file projects such as Coq)\r\n\r\nWhat is the relation to ML?  Would any of the ML documentation be helpful in learning OCaml?\r\n\r\nAlso, it would great to include some motivational examples of things that you do easily in OCaml that are harder to do in C++/Java.\r\n\r\nExplain ;; would generally not be used in programs complied from source files rather than typed into the top level.\r\n\r\nExplain that \u201cfloat -> float\u201d or \u201cint -> int -> int\u201d is a function signature.  This notation would be completely unknown to C/Java developers.  Also say a little about where this notation came from (mathematical logic) and why it is preferred over more common notation such as \u201cf(int, int) -> int\u201d or \u201cint f(int, int)\u201d.\r\n\r\nPage 14:\r\n\r\n\u201cGeneral mechanisms for defining your own data structures are also provided.\u201d\r\n\r\nHow about saying \u201cThere are also general mechanisms for defining your own data structures.  These are records and classes, which will be covered shortly.\u201d?\r\n\r\n\u201cList patterns have the exact same shape as list expressions.\u201d\r\n\r\nUnless \u201cshape\u201d is a technical term, I think \u201cform\u201d is probably a much word choice.\r\n\r\n\u201cand\u201d in code example \u2013 would be helpful to say what this means rather than let the reader guess.  Why use the \u201cand\u201d instead of 2 top-level let\u2019s?  Also, somewhere say something about indentation conventions.  This seems like it may be the convention, but it is unfamiliar to C/Java developers:\r\n\r\nlet x = \u2026 in\r\nlet y = \u2026 in\r\nlast_expression\r\n\r\nPage 15:\r\n\r\n\u201cmodify in-place a list\u201d -> \u201cmodify a list in place\u201d  (English syntax)\r\n\r\n\u201csin\u2019\u201d \u2013 mention what characters are allowed in identifiers.  Apostrophe is not allowed in C or Java.\r\n\r\nPage 16:\r\n\r\n\u201cto expand directly\u201d -> \u201cto directly expand\u201d\r\n\r\nPage 17:\r\n\r\nMention \u201cwith\u201d is a keyword.\r\n\r\n\u201call possible shapes\u201d -> \u201call possible forms\u201d\r\n\r\nIn \u201cFloat of float\u201d, the \u201cof\u201d is a keyword, just syntactic sugar?  And the \u201cint\u201d or \u201cfloat\u201d could be any type, such as an array of int tuples?\r\n\r\n \u201cConstructor names are capitalized\u201d \u2013 would be good to naming conventions a short section so it can be found later and indexed.\r\n\r\n\u201cmatch (n1, n2)\u201d \u2013 this is matching on a tuple, right?  Maybe worth noting.  Can you match on simple types (booleans, ints)?  Anything else?\r\n\r\nPage 18:\r\n\r\n\u201c\u2019a\u201d - Mention the convention that a symbol starting with an apostrophe is a type variable.\r\n\r\n\u201ctwo subtrees containing also\u201d -> \u201ctwo subtrees also containing\u201d\r\n\r\nPage 19:\r\n\r\n\u201cArrays are given in extension between [| and |] brackets, \u2026\u201d \u2013 the first part of the sentence lets you give the values of the array elements, while Array.make is much less flexible.  \u201cgiven in extension\u201d is not standard English.  Maybe split into 2 sentences.  \u201cArrays containing values can be provided as a series of semicolon-separated values betwees [| and |] brackets.\u201d\r\n\r\n\u201c\u2026 references, which are mutable indirection cells (or one-element arrays)\u201d  seems inconsistent with the statement on page 20: \u201c\u2026 references: they are implemented as a single-field mutable record, as follows:\u201d\r\n\r\nPage 20:\r\n\r\n\u201clet ( ! ) = \u2026\u201d  Would you explain the syntax of \u201c( ! )\u201d?  You couldn\u2019t do this in C/Java.  Probably in C++.\r\n\r\nJust curious:  Is there a way to explicitly specify the type of a functions\u2019 arguments?  Or is it always inferred?\r\n\r\n\u201cWithout user-provided type annotations, this is not allowed, as polymorphism is only introduced on a global level.\u201d  This sentence is hard to understand; the negative \u201cwithout\u201d and \u201cnot allowed\u201d are a little confusing.  Maybe say something like \u201cDoing this requires user-provided type annotation, since polymorphism is only introduced automatically for global (top-level?) definitions.\u201d?\r\n\r\n\u201cmutable id: \u2019a. \u2018a -> \u2018a\u201d  The period is just to mark the end of the type of id?\r\n\r\nPage 21:\r\n\r\n\u201cExceptions can also be used as a general-purpose non-local control structure.\u201d  At least within the Java community, I think many people would disagree with this.  It can easily be abused.  Exceptions should be for truly exceptional conditions (errors), not as a general-purpose control structure.\r\n\r\n\u201cThe with part is actually a regular pattern-matching on the exception value.\u201d  \u201cregular\u201d makes me think of regular expressions.  I think you mean it does the usual/normal pattern matching.  Maybe \r\nsay \u201cThe with part does pattern matching on the exception value.\u201d?\r\n\r\n\u201cthen raising again the exception\u201d -> \u201cthen raising the exception again\u201d\r\n\r\nPage 22:\r\n\r\n\u201cexpression * expression\u201d \u2013 I don\u2019t fully understand the syntax.  Is this defining a tuple?  Why is the \u201c*\u201d needed?  Of course, it is not multiplication, but a little odd to see in an expression evaluator when the comments use \u201c*\u201d to mean multiplication, slightly confusing, maybe worth a short comment.\r\n\r\nPage 27:\r\n\r\nWhen I hear the term \u201cstructure,\u201d it makes me think of data structures.  In C, \u201cstruct\u201d is a keyword used to define their equivalent to records.\r\n\r\nThe simpler use of modules is to manage a large body of code and its name spaces.  Functors more complex and are fairly similar to parameterized classes in Java.  I would introduce these two uses in that order.  Key points on managing a large body of code:\r\n-\tEach module has its own namespace\r\n-\tBy default, each source file defines a separate module matching the file name.\r\n-\tUse PrioQueue.empty to refer to an item in module PrioQueue.  (How do you distinguish between the modules from 2 source files dir1/foo.ml and dir2/foo.ml?)\r\n-\tUse open to include another module\u2019s definitions in the current name space.  (What happens if the name is used in 2 imports?  Or used in an import but also defined in the current module?)\r\n-\t\u201clet open xxx in\u201d construct\r\n-\tCreating multiple modules in one source file?  (Is it possible and is it a good practice?  Seem like it would simpler to stick to using the file name as the module name.)\r\n-\tCan module definitions be nested?  If that\u2019s useful.\r\n-\tThe relationship between .mli files and modules (section 2.5 with some editing to avoid introducing signatures)\r\n\r\nI wouldn\u2019t mention signatures or show them in examples until after the above points are covered.\r\n\r\nPage 31:\r\n\r\n\u201cFunctors are \u2018functions\u2019 from structures to structures\u201d  They are not general functions at all, are they?  As far as I can tell, they only allow substitution for specific parameters.  So the first sentence is misleading and would best be removed.  The paragraph could begin with \u201cFunctors let you create parameterized signatures and then provide the parameter(s) to get a specific implementation.  For instance \u2026\u201d\r\n\r\nThe example is so long it\u2019s a bit hard to follow.  Maybe it could be done in two parts: first, a skeleton of the high-level structure with a few comments, such as:\r\n\r\n\tmodule type ORDERED_TYPE =  sig \u2026\r\n\tmodule Set = \r\n\t\tfunctor (Elt: ORDERED_TYPE) ->  struct \u2026\r\n\tmodule OrderedString = struct \u2026\t(* matching the signature of ORDERED_TYPE *)\r\n\tmodule StringSet = Set(OrderedString);;\r\n\r\nThen show the details of ORDERED_TYPE, Set and OrderedString.\r\n\r\nPage 33:\r\n\r\nFor the first example, it would help to describe what\u2019s been changed or highlight the differences more thoroughly.  That saves the reader from having to do a diff in their heads between the two pages.  If the differences could be in boldface, that would be great.\r\n\r\nAlso, I notice the signature for \u2018add\u2019 is slightly different between this example and the earlier one.  Maybe worth mentioning/explaining?\r\n\r\nThe rest of section 2.4 is too much detail at this point.  Plus it\u2019s a bit of work to pick out the differences compared to the earlier examples.  The lengthy discussion and example makes me think it\u2019s complicated.\r\n\r\nPage 37:\r\n\r\nTo me, this section seems to be showing how powerful the type system is and how you can get all kinds of different behavior for subclassing, self, etc.  It\u2019s too much.  I would suggest taking examples from Java and C++ classes/objects and showing how to create equivalent constructs in OCaml\u2014more of a cookbook approach.  It seems to me there are a huge number of things you can do with the type system, of which only a few are really useful.  If you\u2019re writing a program with classes and objects, you probably want them all to have similar behavior with regards to subclassing, self, etc. just for your own sanity.\r\n\r\nPage 39:\r\n\r\nThe first example (with \u201cnew point;;\u201d and \u201cnew point 7;;\u201d) is confusing.  In the latter, \u201cnew point\u201d is done first, then the resulting function is called with an argument of 7?  Then seems to go against the grain of OCaml expressions and is worthy of explanation.  \u201cnew\u201d is a keyword, right?\r\n\r\nPage 40:\r\n\r\n\u201clet minmax x y =\u201d\r\n\r\nThis is contrived example.  No one would write this in real life.  Would be better to have a realistic example.  Also using more lines for the example with better indentation would help readability.\r\n\r\n\r\nPage 41:\r\n\r\n\u201ccan send messages to self\u201d  This is confusing.  I think what\u2019s meant is that it\u2019s possible to refer to methods and variables that are part of the object.  I\u2019m vaguely aware of an object metaphor based on messages, but it seems to me OCaml does not actually create messages.\r\n\r\nPage 42:\r\n\r\n\u201cVirtual methods\u201d  Could mention that these are called abstract methods in Java.  C++ has virtual methods but I think the concept is slightly different.\r\n\r\nI\u2019ll stop here.  Enough for now.\r\n\r\n\r\nScoping?\r\nFlow of control (and loops, etc.)\n"}, {"classified_as": "bug", "text": "When i try to cancel/refund a transaction by making a Delete Http Request at https://www.vivapayments.com/api/transactions/(transactionId)?Amount=(amount)&sourceCode=(sourceCode) with their respective parameters,  i get the following error \"\"non reversible transaction\"\r\n\r\nVivaMerchantID = \"d64b2507-d74b-4eab-95ca-3bd0a34202a6\"\r\n![vivaWallet response](https://user-images.githubusercontent.com/59752679/72260106-bf9cdf00-361a-11ea-88fb-4a9a975c6e97.png)\r\n"}, {"classified_as": "bug", "text": "Doing the query on the UI for a single value, I would expect the default to come back, however, everything is returned -\r\n\r\n![image](https://user-images.githubusercontent.com/1424473/61746018-14157f00-ad9b-11e9-8879-10465c3eb483.png)\r\n\r\nNeed to confirm with e2e test -\r\n\r\n- when no params are passed - return the full list\r\n- when a param is passed - return a single entry"}, {"classified_as": "bug", "text": "Just noticed an edge-case where trying to send an extrinsic before the first block is finalized causes the following error:\r\n```\r\nAPI/DECORATOR: Error: FATAL: Unable to initialize the API: Cannot read property 'type' of undefined\r\n    at EventEmitter.<anonymous> (.../node_modules/@polkadot/api/Base.js:499:23)\r\n    at processTicksAndRejections (internal/process/task_queues.js:85:5)\r\n```\r\nDue to: https://github.com/polkadot-js/api/blob/73a0596fd9d12782c1d943de95948a11b2ba78e9/packages/api/src/Base.ts#L548"}, {"classified_as": "bug", "text": "At the moment `read_hdf` is implemented such way that it opens HDFStore connection immediately when it is called. If the file does not exist, then it creates an HDF file and then throws `KeyError`. There are two side effects:\n- You can not distinguish situation when the file does not exist from situation when the key does not exist in the file\n- If you have a typo in the filename, empty file is created -> polluting directory \n\nI suggest to check if the file exist before and throw `IOError` if it does not.\n"}, {"classified_as": "api", "text": "With https://crrev.com/683391, chrome no longer throws exceptions when not executing inline script tags due to CSP.\r\n\r\nWe can fix this with probing runtime first - checking if inline scripts have any power. Alternatively, we might want to check current page CSP policy."}, {"classified_as": "bug", "text": "Hi! I'm using ApiPromise with websocket provider as singleton like this:\r\n\r\n```\r\nlet wsProvider;\r\nlet client;\r\n\r\nfunction createClientInstance() {\r\n  wsProvider = new WsProvider('wss://rpc.polkadot.io');\r\n\r\n  client = new ApiPromise({ provider: wsProvider });\r\n}\r\n\r\nasync function buildDotClient() {\r\n  try {\r\n    if (!wsProvider) {\r\n      createClientInstance();\r\n    }\r\n\r\n    await client.isReady;\r\n\r\n    return client;\r\n  } catch (e) {\r\n    throw new Error('service_unavailable');\r\n  }\r\n}\r\n```\r\n\r\nAnd then use client in some script inside interval. But from time to time I get such errors:\r\n`API-WS: disconnected from wss://rpc.polkadot.io code: '1006' reason: 'Connection dropped by remote peer.'`\r\n`API-WS: disconnected from wss://rpc.polkadot.io code: '1006' reason: 'connection failed'`\r\n\r\nAnd after throwing such error from ApiPromise, script gets stuck. It's even impossible to catch for following restart.\r\nI even tried to add event emitter listenings, but still the same:\r\n```\r\n    client.on('disconnected', () => {\r\n      createClientInstance();\r\n    });\r\n\r\n    client.on('error', () => {\r\n      createClientInstance();\r\n    });\r\n```\r\n\r\nMaybe it is possible to restart connection manually?\r\n\r\nPackage version:\r\n\"@polkadot/api\": \"^1.30.1\""}, {"classified_as": "api", "text": "For api-observable, I try  unsubscribe bestNumber, but it not send chain_unsubscribeNewHead request"}, {"classified_as": "api", "text": "I have a simple storage map from T::AccountId => Option<()> acting like a boolean.\r\n\r\nI set the storage of user to () indicating that boolean (isSome) should be true.\r\n\r\nThe Polkadot JS API seems to return value.isSome === false."}, {"classified_as": "bug", "text": "### Bug report\r\n\r\nEDIT:\r\nI figured out it's due to the standard set as the option 'linscalex'.\r\nGood addition would be force entry of linscalex when using symlog or throw a flag that linscalex is applied.\r\n/EDIT\r\n\r\nsetting xscale to symlog produces a different graph than setting it to log\r\n\r\n\r\n\r\n\r\n<!--A minimum code snippet required to reproduce the bug.\r\nPlease make sure to minimize the number of dependencies required, and provide\r\nany necessary plotted data.\r\nAvoid using threads, as Matplotlib is (explicitly) not thread-safe.-->\r\n\r\n```python\r\n\r\ndef func(a):\r\n    return a**2*np.exp(a)\r\nalpha=np.linspace(1,10,1000)\r\nplt.plot(alpha,1e5*func(a=alpha))\r\naxes=plt.gca()\r\naxes.set_yscale('log')\r\naxes.set_xscale('symlog')\r\nplt.xlim(1,10)\r\nplt.title('symlog')\r\nplt.show()\r\n\r\nplt.plot(alpha,1e5*func(a=alpha))\r\naxes=plt.gca()\r\naxes.set_yscale('log')\r\naxes.set_xscale('log')\r\nplt.xlim(1,10)\r\nplt.title('log')\r\n\r\nplt.show()\r\n\r\n\r\n```\r\n\r\n**Actual outcome**\r\n![symlog](https://user-images.githubusercontent.com/52042769/59918214-55291500-9424-11e9-9f31-2c5e47494655.png)\r\n\r\n![log](https://user-images.githubusercontent.com/52042769/59918235-63773100-9424-11e9-86c6-cc6912d8a207.png)\r\n\r\n\r\n\r\n\r\n\r\n**Expected outcome**\r\n\r\nI expect this to show what I see when I plot 'log'. \r\n\r\n\r\n**Matplotlib version**\r\n<!--Please specify your platform and versions of the relevant libraries you are using:-->\r\n  * Operating system: MAC OS X, reproduced on Ubuntu 16.04, too\r\n  * Matplotlib version: 3.1.0\r\n  * Python version: 3.7\r\n  * Jupyter version (if applicable): 5.6.8\r\n\r\n\r\n\r\n\r\n"}, {"classified_as": "bug", "text": "Seeing this (very sporadically) in the UI and it only happens once -\r\n\r\n```\r\n2018-12-10 14:36:35        RPC-CORE: subscribeStorage (keys: Vec<StorageKey>): StorageChangeSet:: Unable to decode event for index 0x0000\r\n```\r\n\r\nIt can only mean the Events are not initialised before the new block comes in."}, {"classified_as": "bug", "text": "### Goal:\r\n\r\nUpdate `signAsync` to make the second argument optional, and default to `{}`\r\n\r\n### Background:\r\n\r\nCurrently this code will crash:\r\n\r\n`const signed = await api.system.remark().signAsync(pair, options);` when `options` is `undefined`, it gives this error\r\n\r\n```\r\n(node:78914) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'nonce' of undefined\r\n    at Submittable.value (/Users/xiliangchen/projects/playground/node_modules/@polkadot/api/submittable/createClass.js:59:42)\r\n    at Submittable.value (/Users/xiliangchen/projects/playground/node_modules/@polkadot/api/submittable/createClass.js:129:99)\r\n    at /Users/xiliangchen/projects/playground/node_modules/@polkadot/api/submittable/createClass.js:251:110\r\n    at /Users/xiliangchen/projects/playground/node_modules/@polkadot/api/promise/Api.js:78:14\r\n    at Submittable.signAsync (/Users/xiliangchen/projects/playground/node_modules/@polkadot/api/submittable/createClass.js:251:170)\r\n    at /Users/xiliangchen/projects/playground/index.ts:28:33\r\n    at step (/Users/xiliangchen/projects/playground/index.ts:33:23)\r\n    at Object.next (/Users/xiliangchen/projects/playground/index.ts:14:53)\r\n    at /Users/xiliangchen/projects/playground/index.ts:8:71\r\n    at new Promise (<anonymous>)\r\n```\r\n\r\n### Actions:\r\n\r\nMake second argument optional\r\n\r\nhttps://github.com/polkadot-js/api/blob/e77050b9f59a0b772d1d0b8c5c1da488a7c36810/packages/api/src/submittable/createClass.ts#L72\r\n\r\nUpdate interface\r\n\r\nhttps://github.com/polkadot-js/api/blob/e77050b9f59a0b772d1d0b8c5c1da488a7c36810/packages/api/src/submittable/types.ts#L55\r\n\r\nProvide appropriate unit tests.\r\n\r\n----\r\n\r\n@jacogr please tag this if you are happy about this.\r\n\r\nTags:\r\n`bounty-awaiting-approval`\r\n`bounty-XS`"}, {"classified_as": "bug", "text": "![image](https://user-images.githubusercontent.com/1424473/50007931-d8b80400-ffb2-11e8-9ce0-2ec103de2a1b.png)\r\n"}, {"classified_as": "bug", "text": "![image](https://user-images.githubusercontent.com/7029338/81252517-3b171600-907a-11ea-9059-3454b7784cac.png)\r\nhttps://github.com/polkadot-js/api/blob/master/packages/api/src/base/Init.ts#L130-L145\r\nBecause of these lines of code, metadata is requested twice, causing unnecessary performance problems.\r\nThere's a simple fix:\r\n![image](https://user-images.githubusercontent.com/7029338/81252742-ca242e00-907a-11ea-820b-b933e24b41bf.png)\r\nAdd `skip(1)`. Skip the first time and avoid repeated initialization."}, {"classified_as": "api", "text": "when using btreemap in decl_storage:\r\n\r\n\r\ndecl_storage! {\r\n    trait Store for Module<T: Trait> as Storage {\r\n    ...\r\n    Book get(get_book): map T::AssetId => BTreeMap<T::Balance, Vec<T::Hash>>;\r\n    ...\r\n    }\r\n}\r\n\r\n\r\n\r\npolkadot-js has an error like ### **\"API/DECORATOR: Error: FATAL: Unable to initialize the API: Unhandled: Unable to create and validate type from BTreeMap<Balance,Vec<Hash>>\"**\r\nIt seems that we need to add an case for btreemap in @polkadot/metadata/Metadata/util/validateTypes.js"}, {"classified_as": "api", "text": "Needs further investigation. Appears that Memory.ReadString() is getting super weird values sometimes, but I don't think that function is the culprit, but rather the values it is being supplied by the elf calling it via sys_tty_write.\n"}, {"classified_as": "bug", "text": "For 0.14 or later, after #4039 is merged this becomes a todo item for the future.\n"}, {"classified_as": "api", "text": "https://github.com/polkadot-js/api/blob/master/packages/types/src/Text.ts#L45\r\njavascript\r\n  get encodedLength (): number {\r\n    return this.length + Compact.encodeU8a(this.length).length;\r\n  }\r\n\r\n  /**\r\n   * @description The length of the value\r\n   */\r\n  get length (): number {\r\n    // only included here since we ignore inherited docs\r\n    return super.length;\r\n  }\r\n\r\nFor example:\r\njavascript\r\nnew Text('\u4e2d\u6587').length // 2\r\nnew Text('\u4e2d\u6587').encodedLength // 3\r\nnew Text('\u4e2d\u6587').toHex() // 0x18e4b8ade69687\r\n\r\nso it's encodedLength should be 7 ? but got 3.\r\n\r\nIt is work well for some change like the following:\r\njavascript\r\n  get encodedLength() {\r\n    const length = stringToU8a(this.toString()).length;\r\n    return length + Compact.encodeU8a(length).length;\r\n  }\r\n"}, {"classified_as": "bug", "text": "<!--\r\nIf you need help with discord.js installation or usage, please go to the discord.js Discord server instead:\r\n  https://discord.gg/bRCvFy9\r\nThis issue tracker is only for bug reports and enhancement suggestions. You won't receive any basic help here.\r\n-->\r\n\r\n**Please describe the problem you are having in as much detail as possible:**\r\n\r\nWhen a message has an embed that includes a mention, the mention does not appear in that message's MessageMentions anywhere.\r\n\r\nHere's an example of an embed with a mention:\r\n![Example Mention](https://i.imgur.com/CD9s2jI.png)\r\n\r\n**Include a reproducible code sample here, if possible:**\r\n```js\r\nchannel.fetchMessage('406700231691075585')\r\n  .then(message => {\r\n    console.log(message.mentions.members.size);\r\n  }).catch(console.error);\r\n});\r\n```\r\nResults in '0' being printed out.\r\n\r\n**Further details:**\r\n\r\n- discord.js version: v11.3.0\r\n- node.js version: v8.9.1\r\n- Operating system: Windown 10\r\n- Priority this issue should have \u2013 please be realistic and elaborate if possible: low\r\n\r\n<!--\r\nIf either of these applies to you, please check the respective checkbox: [ ] becomes [x].\r\nYou don't have to modify the text to suit your particular situation, if you want to\r\nelaborate please do so in the description.\r\nWhile it's not a requirement to test your issue on the master branch, it would make fixing\r\nthe problem a lot easier for us, so please do it if possible.\r\n-->\r\n- [ ] I found this issue while running code on a __user account__\r\n- [ ] I have also tested the issue on latest master, commit hash:\r\n"}, {"classified_as": "bug", "text": "**Bug description**\r\nCurrent API documentation in swaggerhub has two errors.\r\n\r\n**Expected behavior**\r\nThere should be no errors reported by swaggerhub.\r\n\r\n**Steps to reproduce the issue:**\r\n1. Go to [latest API documenation on swaggerhub](https://app.swaggerhub.com/apis/deviantony/Portainer/1.22.2/\r\n)\r\n2. See 2 errors\r\n```\r\n486 Parameters cannot have both a \"in: body\" and \"in: formData\", as \"formData\" _will_ be the body\r\n1597 Parameters cannot have both a \"in: body\" and \"in: formData\", as \"formData\" _will_ be the body\r\n```"}, {"classified_as": "bug", "text": "As found in https://github.com/polkadot-js/extension/issues/73"}, {"classified_as": "bug", "text": "<!--\r\nIf you need help with discord.js installation or usage, please go to the discord.js Discord server instead:\r\n  https://discord.gg/bRCvFy9\r\nThis issue tracker is only for bug reports and enhancement suggestions.\r\nYou won't receive any basic help here.\r\n-->\r\n\r\n**Please describe the problem you are having in as much detail as possible:** The message generated when you add a webhook of a follow a channel has type undefined and system = false.\r\n\r\n\r\n**Include a reproducible code sample here, if possible:**\r\n```js\r\nmessage.channel.fetchMessage(\"here goes the id of the message\")\r\n```\r\n\r\n**Further details:**\r\n- discord.js version: 11.5.1\r\n- Node.js version: 8.15.1\r\n- Operating system: Linux based\r\n- Priority this issue should have \u2013 please be realistic and elaborate if possible: 5/10\r\n\r\n<!--\r\nIf this applies to you, please check the respective checkbox: [ ] becomes [x].\r\nYou don't have to modify the text to suit your particular situation \u2013 if you want to\r\nelaborate, please do so in the description.\r\nWhile it's not a requirement to test your issue on the master branch, it would make fixing\r\nthe problem a lot easier for us, so please do so if possible.\r\n-->\r\n\r\n- [ ] I have also tested the issue on latest master, commit hash:\r\n"}, {"classified_as": "bug", "text": "Hi @matthewrgourd! I have a problem with this customer, Latin travel money Transfer SAU.\r\n\r\nI attach you screenshot about the issue.\r\n\r\nThanks in advance\r\n![latin travel problem](https://user-images.githubusercontent.com/56823712/81917801-f2a9ac00-95d5-11ea-9f08-7602df6c0135.jpeg)\r\n"}, {"classified_as": "api", "text": "http://stackoverflow.com/questions/6442774/is-uilabels-backgroundcolor-not-animatable\n"}, {"classified_as": "api", "text": "- Related to https://github.com/polkadot-js/apps/issues/432\r\n- Investigated by @gavofyork - reported that the encoding is broken, large values set 16 or 17 bytes total, instead of the 8 it should fit into\r\n- Encoding here https://github.com/polkadot-js/common/blob/master/packages/util/src/compact/fromU8a.ts#L38\r\n- Large value encoded as 030080c6a47e8d03000000000000000000 (should only be +-8 bytes total) "}, {"classified_as": "bug", "text": "I removed the following test from `@polkadot/api/test/e2e/promise-queries.spec.ts` in https://github.com/polkadot-js/api/pull/1066, because the test used `existentialDeposit` to test the storage with a well-known value. However, `existentialDeposit` has since been moved to `consts`. The test needs to be rewritten to use another storage.\r\n\r\n```js\r\ndescribe('with plain type', () => {\r\n    const EXISTENTIAL_DEPOSIT = 500;\r\n    it('queries correct value', async () => {\r\n      const existentialDeposit = await api.query.balances.existentialDeposit() as Balance;\r\n\r\n      expect(existentialDeposit.toNumber()).toEqual(EXISTENTIAL_DEPOSIT);\r\n    });\r\n\r\n    it('queries correct value at a specified block', async () => {\r\n      const header = await api.rpc.chain.getHeader() as Header;\r\n      const existentialDepositAt = await api.query.balances.existentialDeposit.at(header.hash) as Balance;\r\n\r\n      expect(existentialDepositAt.toNumber()).toEqual(EXISTENTIAL_DEPOSIT);\r\n    });\r\n\r\n    it('subscribes to query and get correct result', (done) => {\r\n      return api.query.balances.existentialDeposit((existentialDeposit: Balance) => {\r\n        expect(existentialDeposit.toNumber()).toEqual(EXISTENTIAL_DEPOSIT);\r\n        done();\r\n      });\r\n    });\r\n\r\n    it('queries correct hash', async () => {\r\n      const hash = await api.query.balances.existentialDeposit.hash();\r\n\r\n      expect(hash).toBeDefined();\r\n    });\r\n\r\n    it('gets correct key', async () => {\r\n      const key = api.query.balances.existentialDeposit.key();\r\n      const existentialDepositData = await api.rpc.state.getStorage(key) as Option<any>;\r\n      const existentialDepositRPC = new Balance(existentialDepositData.unwrapOr(undefined));\r\n\r\n      expect(existentialDepositRPC.toNumber()).toEqual(EXISTENTIAL_DEPOSIT);\r\n    });\r\n\r\n    it('queries correct size', async () => {\r\n      const size = await api.query.balances.existentialDeposit.size();\r\n\r\n      expect(size.toNumber()).not.toEqual(0);\r\n    });\r\n  });\r\n```"}, {"classified_as": "api", "text": "When trying to call api.tx.system.setCode() with a large code example (eb 262146 or 131072 bytes),  the transaction starts is return Finalized, but the extrinsic fails:\r\n {\"ApplyExtrinsic\":2} : system.ExtrinsicFailed []\r\n\r\nThis happens both wrapped in an democracy proposal or called directly via sudo.\r\n<img width=\"1391\" alt=\"Screenshot 2019-07-24 at 11 10 05\" src=\"https://user-images.githubusercontent.com/125398/61781915-773bfb80-ae05-11e9-96f5-a31089d13857.png\">\r\n\r\nThe behaviour can be reproduced by uploading this file (262146 bytes) https://github.com/polkadot-js/api/blob/b1b4530bf13ab6ef2480e42ac0b71bde14a0e707/packages/api/test/mock-data/randomAsHexRaw in the PolkadotJS UI https://polkadot.js.org/apps/#/democracy/propose\r\n\r\nor by running this test https://github.com/polkadot-js/api/blob/b1b4530bf13ab6ef2480e42ac0b71bde14a0e707/packages/api/test/e2e/api/promise-tx.spec.ts#L112\r\n\r\nBoth the UI and the e2e tests are working fine with smaller code examples."}, {"classified_as": "bug", "text": "I don't test it, but I think there is a security hole with the these 2 features\r\nThe config is stored on portainer app, but the only security added in #1237 and #1239 was client side, by not showing options in UI\r\nA malicious user could call api directly and by pass the configuration\r\n\r\nTell me if i'm wrong !"}, {"classified_as": "bug", "text": "#### Environment\r\n\r\n- __Package version(s)__: 3.14.1\r\n- __Browser and OS versions__: OSX/FF65\r\n\r\n#### Steps to reproduce\r\n\r\n1. On Overlay docs page, open an overlay with `usePortal={false}`, `hasBackdrop={true}` and `canOutsideCloseClick={true}`\r\n2. Click anywhere on the page outside of the overlay's container (overlay does not close)\r\n3. Click anywhere inside the overlay's backdrop (overlay will close)\r\n\r\n#### Actual behavior\r\n\r\nAn outside click somewhere on the document while an overlay is open does not close it.\r\n\r\n#### Expected behavior\r\n\r\nWhen an overlay is open with `canOutsideClick={true}`, any click outside of the overlay content should close it.\r\n\r\n#### Possible solution\r\n\r\nProvided that this is not the desired behavior and by design, inline (non-portal) overlays should always bind a mousedown listener to document, regardless of whether or not they have a backdrop.\r\n"}, {"classified_as": "bug", "text": "This is a follow-up from https://github.com/microsoft/TypeScript/issues/36265#issuecomment-613971669\r\n\r\n[CPU-20200415T102048.875Z.cpuprofile.txt](https://github.com/microsoft/vscode/files/4480816/CPU-20200415T102048.875Z.cpuprofile.txt)\r\n\r\n<img width=\"509\" alt=\"Screenshot 2020-04-15 at 13 10 55\" src=\"https://user-images.githubusercontent.com/1794099/79330977-ba517800-7f1a-11ea-9d5b-96390ff925d5.png\">\r\n\r\n\r\nWe see that TypeScript completions 15ms on ts-server and then 41ms in the extension host. That's party because of the extension and because of the integration, mostly validation and conversion of items. "}, {"classified_as": "bug", "text": "Secure EcmaScript proposal: https://github.com/tc39/proposal-ses\r\n\r\n### Steps to reproduce:\r\nOnly way we know how  to reproduce is to run build on:\r\nhttps://github.com/NodeFactoryIo/metamask-snap-polkadot/tree/feature/connect-to-node\r\n\r\n### Error:\r\n```\r\nBuild success: 'build/index.js' bundled as 'dist/bundle.js'!\r\nSnap evaluation error: possible import expression rejected around line 8527\r\n```\r\n\r\nCode:\r\n![image](https://user-images.githubusercontent.com/8836210/76956534-83387880-6914-11ea-9f72-fb356d8d61c8.png)\r\nWhich makes no sense as that line contains comment so it might be due to snap evaluation code."}, {"classified_as": "bug", "text": "Hi, I found the provider will keep re-connecting even if the [disconnect()](https://github.com/polkadot-js/api/blob/0b66f27a8c1ad28f15d6549d4a751f246398f91c/packages/api/src/Base.ts#L289) is called"}, {"classified_as": "api", "text": "Issue as title, \r\nTried to call api.derive.staking.intentionsBalances(), and got rejected.\r\nThe func works with Alexander (Polkadot, hosted by Parity) Node, \r\nAnd doesnt get the balance when with Dried Danta (Substrate, hosted by Parity).\r\n\r\nGot the err as below when tried to call the api:\r\n\r\n\r\nPromise\u00a0{<pending>}__proto__: Promisecatch: \u0192 catch()constructor: \u0192 Promise()finally: \u0192 finally()then: \u0192 then()Symbol(Symbol.toStringTag): \"Promise\"__proto__: Object[[PromiseStatus]]: \"rejected\"[[PromiseValue]]: TypeError: api.query.balances.freeBalance is not a function\r\n    at SwitchMapSubscriber.pipe [as project]\r\n\r\n@polkadot/api-derive/balances/votingBalance.js:33 Uncaught (in promise) TypeError: api.query.balances.freeBalance is not a function\r\n    at SwitchMapSubscriber.pipe [as project] (.../node_modules/@polkadot/api-derive/balances/votingBalance.js:33)\r\n    at SwitchMapSubscriber._next (switchMap.ts:106)\r\n    at SwitchMapSubscriber.Subscriber.next (Subscriber.ts:99)\r\n    at RefCountSubscriber.Subscriber._next (Subscriber.ts:139)\r\n    at RefCountSubscriber.Subscriber.next (Subscriber.ts:99)\r\n    at ReplaySubject.Subject.next (Subject.ts:70)\r\n    at ReplaySubject.nextInfiniteTimeWindow (ReplaySubject.ts:46)\r\n    at ConnectableSubscriber.Subscriber._next (Subscriber.ts:139)\r\n    at ConnectableSubscriber.Subscriber.next (Subscriber.ts:99)\r\n    at DistinctUntilChangedSubscriber._next (distinctUntilChanged.ts:121)\r\n\r\n"}, {"classified_as": "bug", "text": "On a recent v2.0 Substrate node\r\n\r\nThe test \"derive e2e \u203a retrieves all staking info (for controller)\" fails with the following:\r\n```bash\r\n    TypeError: Cannot read property 'creator' of undefined\r\n\r\n      560 |           // the input is a QueryableStorageEntry, convert to StorageEntry\r\n      561 |           Array.isArray(arg)\r\n    > 562 |             ? [arg[0].creator, ...arg.slice(1)]\r\n          |                       ^\r\n      563 |             : [arg.creator] as any\r\n      564 |         );\r\n      565 | \r\n\r\n      at creator (packages/api/src/Base.ts:562:23)\r\n          at Array.map (<anonymous>)\r\n      at Object.map [as queryMulti] (packages/api/src/Base.ts:559:30)\r\n      at queryMulti (packages/api-derive/src/staking/info.ts:125:9)\r\n      at SwitchMapSubscriber.withControllerLedger [as project] (packages/api-derive/src/staking/info.ts:167:17)\r\n      at SwitchMapSubscriber.Object.<anonymous>.SwitchMapSubscriber._next (node_modules/rxjs/src/internal/operators/switchMap.ts:123:21)\r\n      at SwitchMapSubscriber.Object.<anonymous>.Subscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:99:12)\r\n      at RefCountSubscriber.Object.<anonymous>.Subscriber._next (node_modules/rxjs/src/internal/Subscriber.ts:139:22)\r\n      at RefCountSubscriber.Object.<anonymous>.Subscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:99:12)\r\n      at ReplaySubject.Object.<anonymous>.Subject.next (node_modules/rxjs/src/internal/Subject.ts:70:17)\r\n      at ReplaySubject.Object.<anonymous>.ReplaySubject.nextInfiniteTimeWindow (node_modules/rxjs/src/internal/ReplaySubject.ts:46:15)\r\n      at ConnectableSubscriber.Object.<anonymous>.Subscriber._next (node_modules/rxjs/src/internal/Subscriber.ts:139:22)\r\n      at ConnectableSubscriber.Object.<anonymous>.Subscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:99:12)\r\n      at Object.next [as callback] (packages/rpc-core/src/index.ts:183:22)\r\n      at WsProvider.callback [as onSocketMessageSubscribe] (packages/rpc-provider/src/ws/Provider.ts:352:15)\r\n      at WsProvider.onSocketMessageSubscribe [as onSocketMessageResult] (packages/rpc-provider/src/ws/Provider.ts:323:16)\r\n      at WebSocket.onSocketMessageResult (packages/rpc-provider/src/ws/Provider.ts:292:14)\r\n      at WebSocket.<anonymous> (node_modules/jsdom/lib/jsdom/living/helpers/create-event-accessor.js:33:32)\r\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:193:27)\r\n      at WebSocketImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:119:9)\r\n      at WebSocketImpl._onMessageReceived (node_modules/jsdom/lib/jsdom/living/websockets/WebSocket-impl.js:208:10)\r\n      at Receiver.receiverOnMessage (node_modules/ws/lib/websocket.js:720:20)\r\n      at Receiver.dataMessage (node_modules/ws/lib/receiver.js:414:14)\r\n      at Receiver.getData (node_modules/ws/lib/receiver.js:346:17)\r\n      at Receiver.startLoop (node_modules/ws/lib/receiver.js:133:22)\r\n      at Receiver._write (node_modules/ws/lib/receiver.js:69:10)\r\n      at Socket.socketOnData (node_modules/ws/lib/websocket.js:795:35)\r\n```\r\n\r\nlinked to https://github.com/polkadot-js/apps/issues/1386"}, {"classified_as": "api", "text": "When using custom extrinsic, got an error 1010: Invalid Transaction (-20).\r\n\r\nAfter some debugging, it is because of Submittable extends original Extrinsic not the customized impl, then in Extrinsic.ts:55 where it should pass the if check it fails. (value is a Submittable)\r\n"}, {"classified_as": "bug", "text": "<!-- Please try to reproduce the issue with `typescript@next`. It may have already been fixed. -->\r\n**TypeScript Version:**  3.3.0-dev.20181214\r\n\r\n<!-- Search terms you tried before logging this (so others can find this issue more easily) -->\r\n**Search Terms:**\r\n- tsserver\r\n- navtree\r\n\r\n**Problem**\r\nFor https://github.com/Microsoft/vscode/issues/22981, we'd like a way to differentiate function delcarations from function expressions. Consider a file:\r\n\r\n```ts\r\nfunction foo(f) { }\r\n\r\nfoo(function bar() { })\r\n\r\nconst car = function dar(f) { }\r\n```\r\n\r\nVS Code uses the `navtree` to get possible code lens locations. We would only like to show references code lenses on `function foo` and perhaps on `const car =`, not on the expression `foo(function bar() {})`.\r\n\r\nUsing the `navtree` request against the TS Server, we cannot tell function declarations like `foo` from function expressions like `bar` :\r\n\r\n```\r\n {\r\n            \"text\": \"bar\",\r\n            \"kind\": \"function\",\r\n            \"kindModifiers\": \"\",\r\n            \"spans\": [\r\n                {\r\n                    \"start\": {\r\n                        \"line\": 3,\r\n                        \"offset\": 5\r\n                    },\r\n                    \"end\": {\r\n                        \"line\": 3,\r\n                        \"offset\": 23\r\n                    }\r\n                }\r\n            ],\r\n            \"nameSpan\": {\r\n                \"start\": {\r\n                    \"line\": 3,\r\n                    \"offset\": 14\r\n                },\r\n                \"end\": {\r\n                    \"line\": 3,\r\n                    \"offset\": 17\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"text\": \"dar\",\r\n            \"kind\": \"function\",\r\n            \"kindModifiers\": \"\",\r\n            \"spans\": [\r\n                {\r\n                    \"start\": {\r\n                        \"line\": 5,\r\n                        \"offset\": 13\r\n                    },\r\n                    \"end\": {\r\n                        \"line\": 5,\r\n                        \"offset\": 32\r\n                    }\r\n                }\r\n            ],\r\n            \"nameSpan\": {\r\n                \"start\": {\r\n                    \"line\": 5,\r\n                    \"offset\": 22\r\n                },\r\n                \"end\": {\r\n                    \"line\": 5,\r\n                    \"offset\": 25\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"text\": \"foo\",\r\n            \"kind\": \"function\",\r\n            \"kindModifiers\": \"\",\r\n            \"spans\": [\r\n                {\r\n                    \"start\": {\r\n                        \"line\": 1,\r\n                        \"offset\": 1\r\n                    },\r\n                    \"end\": {\r\n                        \"line\": 1,\r\n                        \"offset\": 20\r\n                    }\r\n                }\r\n            ],\r\n            \"nameSpan\": {\r\n                \"start\": {\r\n                    \"line\": 1,\r\n                    \"offset\": 10\r\n                },\r\n                \"end\": {\r\n                    \"line\": 1,\r\n                    \"offset\": 13\r\n                }\r\n            }\r\n        }\r\n    ]\r\n```\r\n\r\n**Proposal**\r\nDifferentiate:\r\n\r\n```js\r\nfunction foo(f) { }\r\n```\r\n\r\nby using a kindModifier of `\"definition\"` or a similar name (or do the inverse and mark `function bar() { }` with a kindModifier of `\"expression\"`)\r\n\r\nAlso, we correctly differentiate `car` using ` \"kind\": \"const\"` in the case of:\r\n\r\n```js\r\nconst car = function(f) { }\r\n```\r\n\r\nHowever only `dar` is returned for for:\r\n\r\n```js\r\nconst car = function dar(f) { }\r\n```\r\n"}, {"classified_as": "api", "text": "Currently the icon for statistics <span class=\"fas fa-chart-bar\"></span> is missing.\r\nIt seems that [v5-compat.css](https://github.com/ForkAwesome/Fork-Awesome/tree/master/css) from Fork Awesome is not a 100% replacement for Font Awesome\r\n"}, {"classified_as": "api", "text": "The:\n\n\napplication.android.off(application.AndroidApplication.activiryResultEvent, onResult);\n\n\nThrows:\n\n\nTypeError: Cannot read property 'split' of undefined'.\n\n\nA protection against undefined with meaningful error message would be handy.\n"}, {"classified_as": "api", "text": "The links in https://github.com/polkadot-js/api/blob/master/packages/api/README.md are broken, referencing a substrate folder that does not exist. Maybe should point to api/docs? Unsure otherwise I would've fixed it."}]